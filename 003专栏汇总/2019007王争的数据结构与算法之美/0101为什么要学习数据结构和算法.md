# 0101. 为什么要学习数据结构和算法？
> 2018-09-21 王争

你是不是觉得数据结构和算法，跟操作系统、计算机网络一样，是脱离实际工作的知识？可能除了面试，这辈子也用不着？

尽管计算机相关专业的同学在大学都学过这门课程，甚至很多培训机构也会培训这方面的知识，但是据我了解，很多程序员对数据结构和算法依旧一窍不通。还有一些人也只听说过数组、链表、快排这些最最基本的数据结构和算法，稍微复杂一点的就完全没概念。

当然，也有很多人说，自己实际工作中根本用不到数据结构和算法。所以，就算不懂这块知识，只要 Java API、开发框架用得熟练，照样可以把代码写得「飞」起来。事实真的是这样吗？

今天我们就来详细聊一聊，为什么要学习数据结构和算法。

## 01. 想要通关大厂面试，千万别让数据结构和算法拖了后腿

很多大公司，比如 BAT、Google、Facebook，面试的时候都喜欢考算法、让人现场写代码。有些人虽然技术不错，但每次去面试都会「跪」在算法上，很是可惜。那你有没有想过，为什么这些大公司都喜欢考算法呢？

校招的时候，参加面试的学生通常没有实际项目经验，公司只能考察他们的基础知识是否牢固。社招就更不用说了，越是厉害的公司，越是注重考察数据结构与算法这类基础知识。相比短期能力，他们更看中你的长期潜力。

你可能要说了，我不懂数据结构与算法，照样找到了好工作啊。那我是不是就不用学数据结构和算法呢？当然不是，你别忘了，我们学任何知识都是为了「用」的，是为了解决实际工作问题的，学习数据结构和算法自然也不例外。

## 业务开发工程师，你真的愿意做一辈子 CRUD boy 吗？

如果你是一名业务开发工程师，你可能要说，我整天就是做数据库 CRUD「增删改查」，哪里用得到数据结构和算法啊？

是的，对于大部分业务开发来说，我们平时可能更多的是利用已经封装好的现成的接口、类库来堆砌、翻译业务逻辑，很少需要自己实现数据结构和算法。但是，不需要自己实现，并不代表什么都不需要了解。

如果不知道这些类库背后的原理，不懂得时间、空间复杂度分析，你如何能用好、用对它们？存储某个业务数据的时候，你如何知道应该用 ArrayList，还是 Linked List 呢？调用了某个函数之后，你又该如何评估代码的性能和资源的消耗呢？

作为业务开发，我们会用到各种框架、中间件和底层系统，比如 Spring、RPC 框架、消息中间件、Redis 等等。在这些基础框架中，一般都揉和了很多基础数据结构和算法的设计思想。

比如，我们常用的 Key-Value 数据库 Redis 中，里面的有序集合是用什么数据结构来实现的呢？为什么要用跳表来实现呢？为什么不用二叉树呢？

如果你能弄明白这些底层原理，你就能更好地使用它们。即便出现问题，也很容易就能定位。因此，掌握数据结构和算法，不管对于阅读框架源码，还是理解其背后的设计思想，都是非常有用的。

在平时的工作中，数据结构和算法的应用到处可见。我来举一个你非常熟悉的例子：如何实时地统计业务接口的 99% 响应时间？

你可能最先想到，每次查询时，从小到大排序所有的响应时间，如果总共有 1200 个数据，那第 1188 个数据就是 99% 的响应时间。很显然，每次用这个方法查询的话都要排序，效率是非常低的。但是，如果你知道「堆」这个数据结构，用两个堆可以非常高效地解决这个问题。

## 基础架构研发工程师，写出达到开源水平的框架才是你的目标！

现在互联网上的技术文章、架构分享、开源项目满天飞，照猫画虎做一套基础框架并不难。我就拿 RPC 框架举例。

不同的公司、不同的人做出的 RPC 框架，架构设计思路都差不多，最后实现的功能也都差不多。但是有的人做出来的框架，Bug 很多、性能一般、扩展性也不好，只能在自己公司仅有的几个项目里面用一下。而有的人做的框架可以开源到 GitHub 上给很多人用，甚至被 Apache 收录。为什么会有这么大的差距呢？

我觉得，高手之间的竞争其实就在细节。这些细节包括：你用的算法是不是够优化，数据存取的效率是不是够高，内存是不是够节省等等。这些累积起来，决定了一个框架是不是优秀。所以，如果你还不懂数据结构和算法，没听说过大 O 复杂度分析，不知道怎么分析代码的时间复杂度和空间复杂度，那肯定说不过去了，赶紧来补一补吧！

## 对编程还有追求？不想被行业淘汰？那就不要只会写凑合能用的代码！

何为编程能力强？是代码的可读性好、健壮？还是扩展性好？我觉得没法列，也列不全。但是，在我看来，性能好坏起码是其中一个非常重要的评判标准。但是，如果你连代码的时间复杂度、空间复杂度都不知道怎么分析，怎么写出高性能的代码呢？

你可能会说，我在小公司工作，用户量很少，需要处理的数据量也很少，开发中不需要考虑那么多性能的问题，完成功能就可以，用什么数据结构和算法，差别根本不大。但是你真的想「十年如一日」地做一样的工作吗？

经常有人说，程序员 35 岁之后很容易陷入瓶颈，被行业淘汰，我觉得原因其实就在此。有的人写代码的时候，从来都不考虑非功能性的需求，只是完成功能，凑合能用就好；做事情的时候，也从来没有长远规划，只把眼前事情做好就满足了。

我曾经面试过很多大龄候选人，简历能写十几页，经历的项目有几十个，但是细看下来，每个项目都是重复地堆砌业务逻辑而已，完全没有难度递进，看不出有能力提升。久而久之，十年的积累可能跟一年的积累没有任何区别。这样的人，怎么不会被行业淘汰呢？

如果你在一家成熟的公司，或者 BAT 这样的大公司，面对的是千万级甚至亿级的用户，开发的是 TB、PB 级别数据的处理系统。性能几乎是开发过程中时刻都要考虑的问题。一个简单的 ArrayList、Linked List 的选择问题，就可能会产生成千上万倍的性能差别。这个时候，数据结构和算法的意义就完全凸显出来了。

其实，我觉得，数据结构和算法这个东西，如果你不去学，可能真的这辈子都用不到，也感受不到它的好。但是一旦掌握，你就会常常被它的强大威力所折服。之前你可能需要费很大劲儿来优化的代码，需要花很多心思来设计的架构，用了数据结构和算法之后，很容易就可以解决了。

## 内容小结

我们学习数据结构和算法，并不是为了死记硬背几个知识点。我们的目的是建立时间复杂度、空间复杂度意识，写出高质量的代码，能够设计基础架构，提升编程技能，训练逻辑思维，积攒人生经验，以此获得工作回报，实现你的价值，完善你的人生。

所以，不管你是业务开发工程师，还是基础架构工程师；不管你是初入职场的初级工程师，还是工作多年的资深架构师，又或者是想转人工智能、区块链这些热门领域的程序员，数据结构与算法作为计算机的基础知识、核心知识，都是必须要掌握的。

掌握了数据结构与算法，你看待问题的深度，解决问题的角度就会完全不一样。因为这样的你，就像是站在巨人的肩膀上，拿着生存利器行走世界。数据结构与算法，会为你的编程之路，甚至人生之路打开一扇通往新世界的大门。

## 课后思考

你为什么要学习数据结构和算法呢？在过去的软件开发中，数据结构和算法在哪些地方帮到了你？

## 留言精选

### 01

为什么学习数据结构和算法？我认为有 3 点比较重要。

1、直接好处是能够有写出性能更优的代码。

2、算法，是一种解决问题的思路和方法，有机会应用到生活和事业的其他方面。

3、长期来看，大脑思考能力是个人最重要的核心竞争力，而算法是为数不多的能够有效训练大脑思考能力的途径之一。

2018-09-21

### 02

老师，就像你说的，工作中其实好多都和业务挂钩，基本上都是针对业务做增删改查，很难把所学的算法应用起来，我平时也时不时学习算法，但总感觉学了就忘，忘了又学，如此反复，老师，这种到底是没了解算法的原理导致不会灵活应用，还是写的少导致的，感觉学习算法很少能应用起来。

作者回复：

1. 客观的讲，有些项目确实涉及的数据结构和算法少一些，你可以再看下我文章里写的。

2. 你提到学了又忘，我觉得一方面你是没有掌握学习的方法，学习的重点，走马观花的看肯定比较容易忘；我们 02 节会具体讲。
3. 不会灵活应用？那估计还是没有好的教材教你如何应用，还有可能就是确实还没掌握太牢，只是懂点皮毛，很浅，灵活应用是一个比较的境界，需要一段时间的沉淀学习。
4. 学习算法并不是为了记住几个排序、二分查找、二叉树遍历，他还能锻炼你的逻辑思维、性能意识，而且，如果你写代码能力还有欠缺，你还可以通过把学到的数据结构和算法都实现一遍，这是一种很好很好的锻炼编程能力的方法。所以不要过度追求一定要在项目里手写快排、手写二叉树才能算是用上。

2018-09-21

### 03

老师好！看到专栏第一眼就果断订阅了。我是一个菜鸟程序员，半年的工作经验让我感受到数据结构和算法太重要了！讲一个自己亲身经历的例子。

入职不久，就遇到一个需求，需要建立一个 3G「30 亿」条键值对映射，已供后续检索。听上去很简单的问题，用 python 的字典就可以解决。但在实现的过程中，很快就遇到了问题：字典是基于 hash 的，对于每条键值对要多消耗 50 个字节的内存维持这种结构「即便使用 redis 也需要这个内存花销」，再加上键值存储消耗的内存，我大约需要 3G×70=210G 内存，超过服务器内存了。后来，想到了可以根据键排序后线性存储，使用二分查找，解决了这个问题，大约消耗的内存也就 3G×10=30G 左右。看似简单的问题，当规模大到一定程度，不借助算法和数据结构，就无法解决了。

作者回复：

哈哈，你要是看到我讲的散列那一篇你就知道了，像 java 里的 hashmap 是比较耗内存的，你用到的解决方案是一种用时间复杂度换空间复杂度的思路，我们专栏也会讲的，不过你现在的解决办法还可以更高效。利用 hash 函数，我们专栏也会讲到，还有二分是 logn 的时间复杂度是非常高效的一种时间复杂度，2 的 64 次方个有序数据二分查找也顶多循环 64 次，有没有觉得 logn 这个复杂度很奇妙。

2018-09-21

### 04



> wistbean | 2018-09-21

其实问题的所在就是现在有很多现成的框架，器又大活又好，拿来就用，还不用太担心性能的问题。就好像那些建楼的工程师不需要懂砖瓦的构成，也能盖楼。司机不需要懂汽车引擎的原理，也能当顺风车司机载美女兜风。

遇到不会的上 Google，懒了就上 GitHub 找框架。所以写了这么多年代码，一直是个菜鸟。

或许是时候修炼自己的内功了。一直 CURD 有意思么？把设计模式，网络原理，数据结构和算法捡起来，或许就没那么容易菜鸟了。怼人也更加自信了。跳槽也不用畏畏缩缩的了。

为了不当菜鸟，我和我的小伙伴们就加入了哇！

> 邵峰 | 2018-09-21

记得以前看金庸小说，一个人练降龙十八掌，一个人练全真教内功，刚开始练内功的被吊打，十年后练内功的依然被吊打，但是 20 年后，降龙十八掌就怎么也打不过练内功的了，算法和数据结构就是内功，降龙十八掌我觉得就是各种框架，再怎么熟悉框架，也不如了解它内部的算法和数据结构。



> SelfImpr李 | 2018-09-21

三年小开发来说一波：上周生产系统上遇到了 Java 的内存溢出情况「可以买彩票了，OOM 事件一直在我们的书上」，经过分析 dump 文件，发现 Java 的类和 Java 的动态语言生成的对象没有及时释放，我尽全力就修改了代码上，该释放释放；再过了一个星期分析 dump 文件，发现少了很多，但是还有一些遗留着，我想是时候需要《数据结构和算法》来帮我了！

PS：之前也看过红壳得《算法导论》，看了一周，然后又用来垫显示器了，来来回回几次，最终还是垫显示器了。

作者回复：

oom 这种问题看似很遥远，实际上我还真遇到过很多次，多数是从数据库捞数据时，一不小心捞了太多的数据到内存就oom了。而且这种情况用 mat 等工具也无法分析，因为这种 oom 是一过性的 heap dump 的时候可能数据已经不可达，而 mat 这些工具只能分析可达对象。

> 阿康 | 2018-09-21

老师，我是一名iOS开发，怎么听完你这篇文章还是觉得算法对于我开发来说不是那么重要，后面我有点怕自己听不懂，而且动手写，我该如何下笔，感觉自己很迷茫……

作者回复：

1. 假设我们现在要做这样一个功能，我们希望在 app 上存储一个多级地址列表，用户可以一层一层的选择地址列表中的地址，来设置自己的所在的省份、市、区，如果这个地址列表不是经常变动的，我们希望保存在 app 端，这样就不需要每次操作地址列表都要跟后台交互，如果让你存储这个多级地址列表，你会怎么存储呢？

2. 如果地址列表也并不是一直都不变的，如果地址列表改变了，我们又不希望发新版，那如何更新 app 上的地址列表呢？如果地址列表比较大，我们不希望 app 重新全量的从服务器再拉一次，那又如何来做呢？
3. 我会用一种语言来实现，你可以翻译成object c。

> Pardo | 2018-09-21

大学的时候没意识，工作之后才发现，不熟悉数据结构和算法，写出的代码虽然能用，但完全经不起推敲。随着项目复杂度的提高，没有算法护体，代码基本上会是一塌糊涂，迷失在细节调整和障碍修复中不能自拔。


> grandcool | 2018-09-21

没理解统计业务接口 99% 响应时间啥意思。

作者回复：

举一个例子，你写了一个接口，每天有成千上万的访问，你如何知道这个接口够不够快？响应时间是 1s 还是 5s？如何统计度量？用平均值？显然不是太适合？那用什么值来统计度量呢？你可以自己搜索研究下。

小行家

3
为什么学习数据结构与算法？
1.作为一名程序员，我觉得这个是基本功，就好比建房子一样，地基一定要牢固
2.现在有如此多的开源项目，人们往往开发中只是照搬，调试，集成，然后很少会去注意性能和优化方面，慢慢的也就成了CRUD boy
3.算法提供的是一种思想，这个思想真的可以让你超神，让你对待问题有着独特的见解，我觉得这个才是最重要的。不再是原来的，没有思考
4.数据结构作为cs的基本专业，并且贯穿整个cs学习生涯，在cs方面的研究还是有很大的实用价值。
数据结构与算法的意义？
1.在本科开发中，曾经就自己写了一个类似于目录搜索的算法，就是简单的for循环，性能极其低下，改为二叉树后，性能大大提升
2.目前读研，接触机器学习理论和深度学习，原有的算法和数据结构的学习中，你所掌握的思想，确实会有很大的意义。
最后，我认为，学习最重要的是你能够自己成长，这个才是最棒的。


嘻哈

场景：给文章加锚链，最多匹配5个词语，优先匹配最长的词，文章根据后台配置的词和链接，将匹配到的词动态用a标签包含，并跳转到匹配词的链接上。
分析：如果循环关键词匹配，考虑如果词无限多的话，那么一次匹配太浪费资源，不利于匹配词的扩展。因此考虑下文的结构，并启动加载到内存中，同时将匹配词的结果放到redis缓存（1个小时）,功能已上线，关键字2w,系统平稳，CPU表示毫无压力。

将每个词拆成单个字，如"你好吗"数据结构是
{
"depth": 0, 
"matcherMap": {
"你": {
"depth": 0, 
"matcherMap": {
"你好": {
"depth": 1, 
"matcherMap": {
"你好吗": {
"result": "xxx", 
"depth": 2, 
"matcherMap": { }, 
"keyword": "你好吗"
}
}
}
}
}
}
}
每一层对象都放到HashMap中，然后拿整篇文章逐个字从hashMap中匹配对象，此时每次截取的步长为1，如果单个字获能取到对象，将步长加1，继续匹配，通过查result判断是否查找到结果存到到缓存中，下次遇到自己拿出匹配的结果，直接替换即可。
问题：
1.我的这种方式是否可行，有什么推荐的算法，有那些需要优化的地方
2.如果关键词是海量的，每次启动加载肯定特别慢，遇到这种场景我是否考虑将这些数据外置，如放到redis的Map中，还是可以有其他方式？
2018-09-21

作者回复
1. 你需要不要考虑分词呢？从你的描述感觉不需要。
2. 从实战的角度来说，2w的关键词，是可以直接放到内存中的，并不多，即便每个关键词用的你结构存储1KB的话，那也用不了20MB
3. 如果有太多关键词，内存都放不下，这种情况不大可能吧，你想想一个按照我们上面的假设推理，8GB内存可以放下800万的关键词，会有那么多吗？
4. 如果真的要放不下，我建议通过hash分片存储，多机器并行匹配说的很粗略，不知道你能听懂吗？
5. 还有，对于你的算法，从实战的角度，没有问题，但是还有一些解决思路：trie树、多模式串匹配等，这个要具体看你的关键词的特点。
6. 你要自己做些benchmark，然后再benchmark的基础上做优化，否则，再换个解决思路，你也不知道是不是更好了


NoN

2
我个人觉得学习数据结构不说其他，真的非常锻炼一个人的思维能力，大学时候参加过学校的ACM集训队，学了一年多算法(上一届获过奖大牛学长带，基本属于纯自学)，我们班加上我有五个人，给我的感觉就是，凡是参加过集训的，学习能力都要比班里边其他人强，也是那时被算法吸引，由于是自学，有时候一个问题想不明白就得困扰很长时间，清晰记得当初被动态规划折磨的日子，这次看到这个课程，就选择了，希望能跟着老师系统学习一下这门课！
2018-09-21

五岳寻仙

2
还想请教老师一个问题，对于前面提到的30亿键值对的问题，之所以倾向于线性存储，是因为这样的话可以直接把数据加载到共享内存中，多个程序都可以通过一个指针使用，省去了每次读数据到内存中的时间。
老师提到的散列，是不是需要基于链表，这样数据之间靠指针连接。这种结构可以持续放在共享内存中吗？
2018-09-21
 作者回复
你用什么结构存储的这30亿条数据呢？二分查找需要顺序表结构存储的 30亿条数据占内存30g 需要连续的30g的内存空间 对内存要求是很高的。如果我现在数据量增大了 变成60亿条 120亿条 显然你的这个办法就不work了 你再想想该怎么办

2018-09-21


Geek_97db92

2
我是大三的一名学生，现在在自学大数据和JAVA。其实老师说的很好，我更希望老师在讲解这些知识的时候，可以教我们一些学习方法，有时候觉得自己的学习方法不行，效率低下，有时看书一句话都读不懂，很无奈，希望老师授人以鱼不如授人以渔!
2018-09-21



太空土豆

2
我做了三年工程，教了10年数据结构，每次上课前都会有如坐针毡的感觉。怎样讲解基本结构与算法基本能挥洒自如，怎样与工程结合应用更好结合还在探索之中。看了你的课程列表，我想应该正是我需要的。谢谢你分享你的积累。
2018-09-21
 作者回复
嗯嗯 感谢你的认可 我跟大学老师讲数据结构和算法的不同点就是我有大量的软件开发的实战经验 而大学老师往往连编程都不怎么会 当然这里没有鄙视的意思 术业有专攻而已

2018-09-21



Harlon

1
为什么学习算法?
1.秋招结束，刷了两个月的算法，成功拿到百度offer，由此可见算法真的很重要。
2.看了此课程的目录，从没有见过其他课程会这样深入的讲解数据结构和算法，兴趣好奇心使然。
2018-09-22

明昱充

1
子曰: 闻之我也野,视之我也饶,行之我也明。
2018-09-21

Chenkai

1
一点感想，为啥AppStore食物链顶端的App跟一些山寨App看起来功能很接近，但是一个很受欢迎，一个很快被卸载。可能就在这些细节上，算法上专业一些，设计上专业一些，交互上专业一些，所有这些加起来就有了质的区别。比如照片处理的，photoshop有的功能其他软件也全都有，但是效率和效果上都打打折，就被用户淘汰了。
2018-09-21

五岳寻仙

1
同感同感，我也是经历了这次工作理解了老师提到的：1. 时间空间可以互换；2. logn很神奇；
30亿，很大的数据量了，但对于logn的复杂度，也不过是32次而已，对计算机来讲，是小意思！
2018-09-21

小宽

1
我在大学是汉语言文学专业的，自学编程，由于缺乏正确指导，因此忽略了数据结构和算法这个内功。虽然后来也有学习，但只是粗略。数据结构和算法在工作中确实用上了，我需要设计一个用户关系链系统，因此趁请假回学校的这段期间，恶补图的知识。
在我的理解里，数据结构和算法是一个软件的根基，如果想要深入了解一个软件(如MySQL)的底层，它是不可或缺的。
一个开发者如果不懂数据结构和算法，或是一知半解，那就会一直游离在表层，浮于表面。
我想成为技术大牛，所以，我来提升内功了。
2018-09-21

熏墨染

1
我竟然把所有留言看完了(˶‾᷄⁻̫‾᷅˵)
王老师这篇开篇文很好，吊起了我想学好数据结构和算法的欲望。C++开发快3年了，但一直是个CRUD girl，最近决定考个第二专业（交大计算机），通过考试的学习顺便把这些基础知识夯实，但我知道算法和数据结构这一块不容易掌握，毕竟我自己之前也来来回回折腾过几次，所以这个课程来得很及时。
我也立个flag：每次更新后都要留言！
2018-09-21
 作者回复
赞flag

2018-09-21


demo

1
双非，不是CS专业的本科生，学校里边学的太少了。自己虽然有坚持刷leetcode，但是好多都是先看人家的思路才可以写出来的。自己一个自学，压力大，效率低吧.希望通过这个课程开阔自己的视野。
之后不管考研还是找工作，数据结构都是重中之重。所以 我一定要好好学。
2018-09-21

astronaut

1
最近在做算法题，最简单的顺序表找中位数 想破脑袋也想不出来怎么降低时间复杂度，然后一看解析，原来是这样，我怎么想不到呢，每次都有这样的感觉，总有挫败感。
2018-09-21

喜欢吃鱼

1
学长好，我是软院研一的学弟，之前是学数据结构和算法就是单纯为了学而学，清楚的知道能提高编程能力，也能实现基本的数据结构和算法，但是对于数据结构的实际应用知之甚少，所以期待这次能开拓视野，学到不一样的东西。😂😂😂😂
2018-09-21
 作者回复
会结合实际软件开发讲 不会纯理论

2018-09-21


Alan

1
在大学的ACM实验室学了两年数据结构和算法，尽管最后再省赛有所收获，但是由于没有导师指导，很多复杂的数据结构、算法都还停留在一知半解甚至还只是听说过的阶段，本人今年刚毕业，还是因为有一定数据结构和算法的基础，才能够入职一家还不错的公司工作，看到大佬推荐的这个课程，瞅了瞅目录果断入坑~希望能够趁这次机会，能够再次提升自己的能力。相信学完能够打开新世界大门吧~
2018-09-21
 作者回复
我讲的会跟你acm里学的或者刷题有比较大区别的

2018-09-21


qpm

1
大学里守恩师指点，沉下心写了半年的数据结构学习。现在毕业两年了，这部分的经历让我在工作中收益匪浅。数据结构是生活的抽象，算法是工作的流程，两者的原理就是数学，学习数据结构和算法，重要的一点是懂得抽象需求以契合到这些算法工具上，高效地解决问题。
数据结构，计算机网络，操作系统三者的融通非常重要，可以为我们技术人员观察计算机科学工程提供不可缺少的视觉。
在工作中引用过不少算法工具去高效地解决问题，不过还需要继续补充这方面的知识，立个flag，在这个专栏里留言覆盖四分之三的文章。
2018-09-21
 作者回复
你这个flag很好 我02也讲到立flag的学习法 到时候再聊

2018-09-21


夏洛克的救赎

1
精度问题举例：实现超出JS整数存储范围的两个大整数(含负数)相加 。

补充说明：js计算超过2的53次方的数字计算精度都会有问题
2018-09-21
 作者回复
这块我有经验 因为我是做金融开发的 精度尤为重要 我之前还写了一篇文章 专门说金融系统中精度问题如何解决 我想办法贴出来 你稍等几天

2018-09-21


曾涤先生

1
做游戏的，小公司，我还是菜鸟，但是看着公司的项目，写代码我看着都觉得寒颤的慌😞
2018-09-21

王虹凯

1
想通过学习，看到开源的优秀框架好在哪里！
公司积累的框架可改进的地方在哪里！
不断的完善自己的知识体系！
晚一点从程序员这个圈子离开！
2018-09-21
 作者回复
改进 优化 框架 系统 那是对程序员非常高的挑战 基础不牢根本玩不转

2018-09-21