[How to resolve the C:\fakepath?](https://stackoverflow.com/questions/4851595/how-to-resolve-the-c-fakepath)

This is my upload button.This is the text field where I have to show the full path of the file.This is the JavaScript which solve my problem. But in the alert value gives me and Mozilla gives me:But I want the local fully qualified file path. How to resolve this issue?If this is due to browser security issue then what should be the alternate way to do this?

2011-01-31 13:48:47Z

This is my upload button.This is the text field where I have to show the full path of the file.This is the JavaScript which solve my problem. But in the alert value gives me and Mozilla gives me:But I want the local fully qualified file path. How to resolve this issue?If this is due to browser security issue then what should be the alternate way to do this?Some browsers have a security feature that prevents JavaScript from knowing your file's local full path. It makes sense - as a client, you don't want the server to know your local machine's filesystem. It would be nice if all browsers did this.Use instead of I use the object FileReader on the input onchange event for your input file type! This example uses the readAsDataURL function and for that reason you should have an  tag. The FileReader object also has readAsBinaryString to get the binary data, which can later be used to create the same file on your serverExample:If you go to Internet Explorer, Tools, Internet Option, Security, Custom, find the "Include local directory path When uploading files to a server" (it is quite a ways down) and click on "Enable" . This will workI am happy that browsers care to save us from intrusive scripts and the like. I am not happy with IE putting something into the browser that makes a simple style-fix look like a hack-attack!I've used a < span > to represent the file-input so that I could apply appropriate styling to the < div > instead of the < input > (once again, because of IE). Now due to this IE want's to show the User a path with a value that's just guaranteed to put them on guard and in the very least apprehensive (if not totally scare them off?!)... MORE IE-CRAP!Anyhow, thanks to to those who posted the explanation here: IE Browser Security: Appending "fakepath" to file path in input[type="file"], I've put together a minor fixer-upper...The code below does two things - it fixes a lte IE8 bug where the onChange event doesn't fire until the upload field's onBlur and it updates an element with a cleaned filepath that won't scare the User.I came accross the same problem. In IE8 it could be worked-around by creating a hidden input after the file input control. The fill this with the value of it's previous sibling. In IE9 this has been fixed aswell.My reason in wanting to get to know the full path was to create an javascript image preview before uploading. Now I have to upload the file to create a preview of the selected image.If you really need to send the full path of the uploded file, then you'd probably have to use something like a signed java applet as there isn't any way to get this information if the browser doesn't send it.seems you can't find the full path in you localhost by js, but you can hide the fakepath to just show the file name. Use jQuery to get the file input's selected filename without the pathUse file readers:Hy  there , in my case i am using asp.net development environment, so i was want to upload those data in asynchronus ajax request , in [webMethod] you can not catch the file uploader since it is not static element , 

so i had to make a turnover for such solution by fixing the path , than convert the wanted image into bytes to save it in DB . Here is my javascript function , 

hope it helps you: here only for testing : Complementing Sardesh Sharma's answer use:For full path.

Load and execution sequence of a web page?

Zhu Tao

[Load and execution sequence of a web page?](https://stackoverflow.com/questions/1795438/load-and-execution-sequence-of-a-web-page)

I have done some web based projects, but I don't think too much about the load and execution sequence of an ordinary web page. But now I need to know detail. It's hard to find answers from Google or SO, so I created this question.A sample page is like this:So here are my questions:I have the following understanding:Or is it like this:The browser parses the html (DOM) and gets the external resources in an array or stack-like structure. After the html is loaded, the browser starts to load the external resources in the structure in parallel and execute, until all resources are loaded. Then the DOM will be changed corresponding to the user's behaviors depending on the JS.Can anyone give a detailed explanation about what happens when you've got the response of a html page? Does this vary in different browsers? Any reference about this question?Thanks.EDIT:I did an experiment in Firefox with Firebug. And it shows as the following image:

2009-11-25 08:26:32Z

I have done some web based projects, but I don't think too much about the load and execution sequence of an ordinary web page. But now I need to know detail. It's hard to find answers from Google or SO, so I created this question.A sample page is like this:So here are my questions:I have the following understanding:Or is it like this:The browser parses the html (DOM) and gets the external resources in an array or stack-like structure. After the html is loaded, the browser starts to load the external resources in the structure in parallel and execute, until all resources are loaded. Then the DOM will be changed corresponding to the user's behaviors depending on the JS.Can anyone give a detailed explanation about what happens when you've got the response of a html page? Does this vary in different browsers? Any reference about this question?Thanks.EDIT:I did an experiment in Firefox with Firebug. And it shows as the following image:

According to your sample,roughly the execution flow is about as follows:Note that the download may be asynchronous and non-blocking due to behaviours of the browser. For example, in Firefox there is this setting which limits the number of simultaneous requests per domain.Also depending on whether the component has already been cached or not, the component may not be requested again in a near-future request. If the component has been cached, the component will be loaded from the cache instead of the actual URL.When the parsing is ended and document is ready and loaded, the events onload is fired. Thus when onload is fired, the $("#img").attr("src","kkk.png"); is run. So:The $(document).ready() event is actually the event fired when all page components are loaded and ready. Read more about it: http://docs.jquery.com/Tutorials:Introducing_$(document).ready()By default, and from my current understanding, browser usually runs each page on 3 ways: HTML parser, Javascript/DOM, and CSS. The HTML parser is responsible for parsing and interpreting the markup language and thus must be able to make calls to the other 2 components. For example when the parser comes across this line:The parser will make 3 calls, two to Javascript and one to CSS. Firstly, the parser will create this element and register it in the DOM namespace, together with all the attributes related to this element. Secondly, the parser will call to bind the onclick event to this particular element. Lastly, it will make another call to the CSS thread to apply the CSS style to this particular element.The execution is top down and single threaded. Javascript may look multi-threaded, but the fact is that Javascript is single threaded. This is why when loading external javascript file, the parsing of the main HTML page is suspended. However, the CSS files can be download simultaneously because CSS rules are always being applied - meaning to say elements are always repainted with the freshest CSS rules defined - thus making it unblocking.An element will only be available in the DOM after it has been parsed. Thus when working with a specific element, the script is always placed after, or within the window onload event.Script like this will cause error (on jQuery):Because when the script is parsed, #mydiv element is still not defined. Instead this would work:OR1) HTML is downloaded.2) HTML is parsed progressively.  When a request for an asset is reached the browser will attempt to download the asset.  A default configuration for most HTTP servers and most browsers is to process only two requests in parallel.  IE can be reconfigured to downloaded an unlimited number of assets in parallel.  Steve Souders has been able to download over 100 requests in parallel on IE.  The exception is that script requests block parallel asset requests in IE.  This is why it is highly suggested to put all JavaScript in external JavaScript files and put the request just prior to the closing body tag in the HTML.3) Once the HTML is parsed the DOM is rendered.  CSS is rendered in parallel to the rendering of the DOM in nearly all user agents.  As a result it is strongly recommended to put all CSS code into external CSS files that are requested as high as possible in the <head></head> section of the document.  Otherwise the page is rendered up to the occurance of the CSS request position in the DOM and then rendering starts over from the top.4) Only after the DOM is completely rendered and requests for all assets in the page are either resolved or time out does JavaScript execute from the onload event.  IE7, and I am not sure about IE8, does not time out assets quickly if an HTTP response is not received from the asset request.  This means an asset requested by JavaScript inline to the page, that is JavaScript written into HTML  tags that is not contained in a function, can prevent the execution of the onload event for hours.  This problem can be triggered if such inline code exists in the page and fails to execute due to a namespace collision that causes a code crash.Of the above steps the one that is most CPU intensive is the parsing of the DOM/CSS.  If you want your page to be processed faster then write efficient CSS by eliminating redundent instructions and consolidating CSS instructions into the fewest possible element referrences.  Reducing the number of nodes in your DOM tree will also produce faster rendering.Keep in mind that each asset you request from your HTML or even from your CSS/JavaScript assets is requested with a separate HTTP header.  This consumes bandwidth and requires processing per request.  If you want to make your page load as fast as possible then reduce the number of HTTP requests and reduce the size of your HTML.  You are not doing your user experience any favors by averaging page weight at 180k from HTML alone.  Many developers subscribe to some fallacy that a user makes up their mind about the quality of content on the page in 6 nanoseconds and then purges the DNS query from his server and burns his computer if displeased, so instead they provide the most beautiful possible page at 250k of HTML.  Keep your HTML short and sweet so that a user can load your pages faster.  Nothing improves the user experience like a fast and responsive web page.Open your page in Firefox and get the HTTPFox addon. It will tell you all that you need.Found this on archivist.incuito:http://archivist.incutio.com/viewlist/css-discuss/76444If you're asking this because you want to speed up your web site, check out Yahoo's page on Best Practices for Speeding Up Your Web Site. It has a lot of best practices for speeding up your web site.AFAIK, the browser (at least Firefox) requests every resource as soon as it parses it. If it encounters an img tag it will request that image as soon as the img tag has been parsed. And that can be even before it has received the totality of the HTML document... that is it could still be downloading the HTML document when that happens.For Firefox, there are browser queues that apply, depending on how they are set in about:config. For example it will not attempt to download more then 8 files at once from the same server... the additional requests will be queued. I think there are per-domain limits, per proxy limits, and other stuff, which are documented on the Mozilla website and can be set in about:config. I read somewhere that IE has no such limits.The jQuery ready event is fired as soon as the main HTML document has been downloaded and it's DOM parsed. Then the load event is fired once all linked resources (CSS, images, etc.) have been downloaded and parsed as well. It is made clear in the jQuery documentation.If you want to control the order in which all that is loaded, I believe the most reliable way to do it is through JavaScript.Dynatrace AJAX Edition shows you the exact sequence of page loading, parsing and execution.The chosen answer looks like does not apply to modern browsers, at least on Firefox 52. What I observed is that the requests of loading resources like css, javascript are issued before HTML parser reaches the element, for example 

What I found that the start time of requests to load css and javascript resources were not being blocked. Looks like Firefox has a HTML scan, and identify key resources(img resource is not included) before starting to parse the HTML.

What does the construct x = x || y mean?

opHASnoNAME

[What does the construct x = x || y mean?](https://stackoverflow.com/questions/2802055/what-does-the-construct-x-x-y-mean)

I am debugging some JavaScript, and can't explain what this || does?Can someone give me an hint, why this guy is using var title = title || 'ERROR'? I sometimes see it without a var declaration as well.

2010-05-10 10:58:19Z

I am debugging some JavaScript, and can't explain what this || does?Can someone give me an hint, why this guy is using var title = title || 'ERROR'? I sometimes see it without a var declaration as well.It means the title argument is optional. So if you call the method with no arguments it will use a default value of "Error".It's shorthand for writing:This kind of shorthand trick with boolean expressions is common in Perl too. With the expression:it evaluates to true if either a or b is true. So if a is true you don't need to check b at all. This is called short-circuit boolean evaluation so:basically checks if title evaluates to false. If it does, it "returns" "Error", otherwise it returns title.The double pipe operator (||) is the logical OR operator . In most languages it works the following way:So basically it works like this function:If you still don't understand, look at this table:In other words, it's only false when both values are false.JavaScript is a bit different, because it's a loosely typed language. In this case it means that you can use || operator with values that are not booleans. Though it makes no sense, you can use this operator with for example a function and an object:If values are not boolean, JavaScript makes implicit conversion to boolean. It means that if the value is falsey (e.g. 0, "", null, undefined (see also All falsey values in JavaScript)), it will be treated as false; otherwise it's treated as true.So the above example should give true, because empty function is truthy. Well, it doesn't. It returns the empty function. That's because JavaScript's || operator doesn't work as I wrote at the beginning. It works the following way:Surprised? Actually, it's "compatible" with the traditional || operator. It could be written as following function:If you pass a truthy value as x, it returns x, that is, a truthy value. So if you use it later in if clause:you get "Either x or y is truthy.".If x was falsey, eitherXorY would be y. In this case you would get the "Either x or y is truthy." if y was truthy; otherwise you'd get "Neither x nor y is truthy".Now, when you know how || operator works, you can probably make out by yourself what does x = x || y mean. If x is truthy, x is assigned to x, so actually nothing happens; otherwise y is assigned to x. It is commonly used to define default parameters in functions. However, it is often considered a bad programming practice, because it prevents you from passing a falsey value (which is not necessarily undefined or null) as a parameter. Consider following example:It looks valid at the first sight. However, what would happen if you passed false as flagA parameter (since it's boolean, i.e. can be true or false)? It would become true. In this example, there is no way to set flagA to false.It would be a better idea to explicitly check whether flagA is undefined, like that:Though it's longer, it always works and it's easier to understand.You can also use the ES6 syntax for default function parameters, but note that it doesn't work in older browsers (like IE). If you want to support these browsers, you should transpile your code with Babel.See also Logical Operators on MDN.If title is not set, use 'ERROR' as default value.More generic:Reads: Set foobar to foo or default.

You could even chain this up many times:Explaining this a little more...The || operator is the logical-or operator.  The result is true if the first part is true and it is true if the second part is true and it is true if both parts are true.  For clarity, here it is in a table:Now notice something here?  If X is true, the result is always true.  So if we know that X is true we don't have to check Y at all.  Many languages thus implement "short circuit" evaluators for logical-or (and logical-and coming from the other direction).  They check the first element and if that's true they don't bother checking the second at all.  The result (in logical terms) is the same, but in terms of execution there's potentially a huge difference if the second element is expensive to calculate.So what does this have to do with your example?Let's look at that.  The title element is passed in to your function.  In JavaScript if you don't pass in a parameter, it defaults to a null value.  Also in JavaScript if your variable is a null value it is considered to be false by the logical operators.  So if this function is called with a title given, it is a non-false value and thus assigned to the local variable.  If, however, it is not given a value, it is a null value and thus false.  The logical-or operator then evaluates the second expression and returns 'Error' instead.  So now the local variable is given the value 'Error'.This works because of the implementation of logical expressions in JavaScript.  It doesn't return a proper boolean value (true or false) but instead returns the value it was given under some rules as to what's considered equivalent to true and what's considered equivalent to false.  Look up your JavaScript reference to learn what JavaScript considers to be true or false in boolean contexts.Double pipe stands for logical "OR". This is not really the case when the "parameter not set", since strictly in the javascript if you have code like this:Then calls are not equivalent. Double pipe (||) will cast the first argument to boolean and if resulting boolean is true - do the assignment otherwise it will assign the right part.This matters if you check for unset parameter. Let's say, we have a function setSalary that has one optional parameter. If user does not supply the parameter then the default value of 10 should be used.if you do the check like this:This will give unexpected result on call like It will still set the 10 following the flow described above.Basically it checks if the value before the || evaluates to true, if yes, it takes this value, if not, it takes the value after the ||.Values for which it will take the value after the || (as far as i remember):Whilst Cletus' answer is correct, I feel more detail should be added in regards to "evaluates to false" in JavaScript. Is not just checking if title/msg has been provided, but also if either of them are falsy. i.e. one of the following:So in the lineIf title is truthy (i.e., not falsy, so title = "titleMessage" etc.) then the Boolean OR (||) operator has found one 'true' value, which means it evaluates to true, so it short-circuits and returns the true value (title).If title is falsy (i.e. one of the list above), then the Boolean OR (||) operator has found a 'false' value, and now needs to evaluate the other part of the operator, 'Error', which evaluates to true, and is hence returned.It would also seem (after some quick firebug console experimentation) if both sides of the operator evaluate to false, it returns the second 'falsy' operator.i.e.returns undefined, this is probably to allow you to use the behavior asked about in this question when trying to default title/message to "". i.e. after runningfoo would be set to ""double pipe operatoris this example usefull?can also beTo add some explanation to all said before me, I should give you some examples to understand logical concepts.It means if the left side evaluated as a true statement it will be finished and the left side will be returned and assigned to the variable. in other cases the right side will be returned and assigned.And operator have the opposite structure like below.Quote: "What does the construct x = x || y mean?"Assigning a default value.This means providing a default value of y to x,

in case x is still waiting for its value but hasn't received it yet or was deliberately omitted in order to fall back to a default.|| is the boolean OR operator. As in javascript, undefined, null, 0, false are considered as falsy values.It simply meansAnd I have to add one more thing: This bit of shorthand is an abomination. It misuses an accidental interpreter optimization (not bothering with the second operation if the first is truthy) to control an assignment. That use has nothing to do with the purpose of the operator. I do not believe it should ever be used.I prefer the ternary operator for initialization, eg, This uses a one-line conditional operation for its correct purpose. It still plays unsightly games with truthiness but, that's Javascript for you.

Passing data between controllers in Angular JS?

kishanio

[Passing data between controllers in Angular JS?](https://stackoverflow.com/questions/20181323/passing-data-between-controllers-in-angular-js)

I have a basic controller that displays my products,In my view I'm displaying this products in a listWhat I'm trying to do is when someone click on the product name, i have another view named cart where this product is added.So my doubt here is, how do pass this clicked products from first controller to second? i assumed that cart should be a controller too.I handle click event using directive. Also i feel i should be using service to achieve above functionality just can't figure how? because cart will be predefined number of products added could be 5/10 depending on which page user is. So i would like to keep this generic.Update: I created a service to broadcast and in the second controller i receive it. Now the query is how do i update dom? Since my list to drop product is pretty hardcoded.

2013-11-24 21:35:12Z

I have a basic controller that displays my products,In my view I'm displaying this products in a listWhat I'm trying to do is when someone click on the product name, i have another view named cart where this product is added.So my doubt here is, how do pass this clicked products from first controller to second? i assumed that cart should be a controller too.I handle click event using directive. Also i feel i should be using service to achieve above functionality just can't figure how? because cart will be predefined number of products added could be 5/10 depending on which page user is. So i would like to keep this generic.Update: I created a service to broadcast and in the second controller i receive it. Now the query is how do i update dom? Since my list to drop product is pretty hardcoded.From the description, seems as though you should be using a service. Check out http://egghead.io/lessons/angularjs-sharing-data-between-controllers and AngularJS Service Passing Data Between Controllers to see some examples.You could define your product service (as a factory) as such:Dependency inject the service into both controllers. In your ProductController, define some action that adds the selected object to the array:In your CartController, get the products from the service:On click you can call method that invokes broadcast:and the second controller will listen on this tag like:Since we can't inject $scope into services, there is nothing like a singleton $scope. But we can inject $rootScope. So if you store value into the Service, you can run $rootScope.$broadcast('SOME_TAG', 'your value'); in the Service body. (See @Charx description about services)Please check good article about $broadcast, $emitSolution without creating Service, using $rootScope:To share properties across app Controllers you can use Angular $rootScope. This is another option to share data, putting it so that people know about it.The preferred way to share some functionality across Controllers is Services, to read or change a global property you can use $rootscope.Using $rootScope in a template (Access properties with $root):You can do this by two methods.An even simpler way to share the data between controllers is using nested data structures. Instead of, for examplewe can useThe data property will be inherited from parent scope so we can overwrite its fields, keeping the access from other controllers.we can store data in session and can use it anywhere in out program.Other placeI saw the answers here, and it is answering the question of sharing data between controllers, but what should I do if I want one controller to notify the other about the fact that the data has been changed (without using broadcast)? EASY! Just using the famous visitor pattern:In this simple manner, one controller can update another controller that some data has been updated.I've created a factory that controls shared scope between route path's pattern, so you can maintain the shared data just when users are navigating in the same route parent path.So, if the user goes to another route path, for example '/Support', the shared data for path '/Customer' will be automatically destroyed. But, if instead of this the user goes to 'child' paths, like '/Customer/1' or '/Customer/list' the the scope won't be destroyed.You can see an sample here: http://plnkr.co/edit/OL8of9On click you can call method that invokes broadcast:One way using angular service:Make a factory in your module and add a reference of the factory in controller and use its variables in the controller and now get the value of data in another controller by adding reference where ever you want  I don't know if it will help anyone, but based on Charx (thanks!) answer I have created simple cache service. Feel free to use, remix and share:One way using angular service:https://jsfiddle.net/1w64222q/FYI

The $scope Object has the  $emit, $broadcast, $on

AND

The $rootScope Object has the identical $emit, $broadcast, $onread more about publish/subscribe design pattern in angular here To improve the solution proposed by @Maxim using $broadcast, send data don't changebut to listening dataThere are three ways to do it,a) using a serviceb) Exploiting depending parent/child relation between controller scopes.c) In Angular 2.0 "As" keyword will be pass the data from one controller to another.For more information with example, Please check the below link:http://www.tutespace.com/2016/03/angular-js.htmlFirst Controller Second Controller I think the Your cardController will beYou can also add 

Simplest SOAP example

Thomas Bratt

[Simplest SOAP example](https://stackoverflow.com/questions/124269/simplest-soap-example)

What is the simplest SOAP example using Javascript?To be as useful as possible, the answer should:

2008-09-23 22:17:03Z

What is the simplest SOAP example using Javascript?To be as useful as possible, the answer should:This is the simplest JavaScript SOAP Client I can create. There are many quirks in the way browsers handle XMLHttpRequest, this JS code will work across all browsers:

https://github.com/ilinsky/xmlhttprequestThis JS code converts XML into easy to use JavaScript objects:

http://www.terracoder.com/index.php/xml-objectifierThe JS code above can be included in the page to meet your no external library requirement.Two other options:This cannot be done with straight JavaScript unless the web service is on the same domain as your page. Edit: In 2008 and in IE<10 this cannot be done with straight javascript unless the service is on the same domain as your page.If the web service is on another domain [and you have to support IE<10] then you will have to use a proxy page on your own domain that will retrieve the results and return them to you.  If you do not need old IE support then you need to add CORS support to your service. In either case, you should use something like the lib that timyates suggested because you do not want to have to parse the results yourself.If the web service is on your own domain then don't use SOAP. There is no good reason to do so.  If the web service is on your own domain then modify it so that it can return JSON and save yourself the trouble of dealing with all the hassles that come with SOAP.Short answer is: Don't make SOAP requests from javascript.  Use a web service to request data from another domain, and if you do that then parse the results on the server-side and return them in a js friendly form.You can use the jquery.soap plugin to do the work for you.Example usage from the site:Thomas:JSON is preferred for front end use because it is javascript. Therefore you have no XML to deal with. SOAP is a pain without using a library because of this. Somebody mentioned SOAPClient, which is a good library, we started with it for our project. However it had some limitations and we had to rewrite large chunks of it. It's been released as SOAPjs and supports passing complex objects to the server, and includes some sample proxy code to consume services from other domains. Has anyone tried this? https://github.com/doedje/jquery.soapSeems very easy to implement.Example:will result inHear is best JavaScript with SOAP tutorial with example.http://www.codeproject.com/Articles/12816/JavaScript-SOAP-ClientSome great examples (and a ready-made JavaScript SOAP client!) here:

http://plugins.jquery.com/soap/Check the readme, and beware the same-origin browser restriction.Easily consume SOAP Web services with JavaScript -> Listing BThis may not meet all your requirements but it is a start at actually answering your question. (I switched XMLHttpRequest() for ActiveXObject("MSXML2.XMLHTTP")).Simplest example would consist of:But it's a lot of hassle without external JavaScript libraries.Angularjs $http wrap base on XMLHttpRequest. As long as at the header content set following code will do.For example:The question is 'What is the simplest SOAP example using Javascript?'This answer is of an example in the Node.js environment, rather than a browser. (Let's name the script soap-node.js) And we will use the public SOAP web service from Europe PMC as an example to get the reference list of an article.Before running the code, you need to install two packages:Now you can run the code:And you'll see the output as below:

Difference between innerText and innerHTML

user2819851

[Difference between innerText and innerHTML](https://stackoverflow.com/questions/19030742/difference-between-innertext-and-innerhtml)

What is the difference between innerHTML, innerText and childNodes[].value in JavaScript?

2013-09-26 14:16:05Z

What is the difference between innerHTML, innerText and childNodes[].value in JavaScript?Unlike innerText, though, innerHTML lets you work with HTML rich text and doesn't automatically encode and decode text. In other words, innerText retrieves and sets the content of the tag as plain text, whereas innerHTML retrieves and sets the content in HTML format.The examples below refer to the following HTML snippet: The node will be referenced by the following JavaScript: Sets or gets the HTML syntax describing the element's descendantsThis is part of the W3C's DOM Parsing and Serialization Specification. Note it's a property of Element objects. Sets or gets the text between the start and end tags of the object Gets or sets the text content of a node and its descendants.While this is a W3C standard, it is not supported by IE < 9. This one depends on the element that you've targeted. For the above example, x returns an HTMLDivElement object, which does not have a value property defined.Input tags (<input />), for example, do define a value property, which refers to the "current value in the control".From the docs: Here's an example which shows the output for the HTML presented above:InnerText property html-encodes the content, turning <p> to &lt;p&gt;, etc. If you want to insert HTML tags you need to use InnerHTML.In simple words:To further refine it and retrieve the value Alec for example, use another .childNodes[1]In terms of MutationObservers, setting innerHTML generates a childList mutation due to the browsers removing the node and then adding a new node with the value of innerHTML. If you set innerText, a characterData mutation is generated.InnerText will only return the text value of the page with each element on a newline in plain text, while innerHTML will return the HTML content of everything inside the body tag, and childNodes will return a list of nodes, as the name suggests.The innerText property returns the actual text value of an html element while the innerHTML returns the HTML content. Example below:The only difference between innerText and innerHTML is that innerText insert string as it is into the element, while innerHTML run it as html content.to add to the list, innerText will keep your text-transform, innerHTML wont

After installation of Gulp:「no command 'gulp' found」

AndrewMcLagan

[After installation of Gulp:「no command 'gulp' found」](https://stackoverflow.com/questions/22224831/after-installation-of-gulp-no-command-gulp-found)

After installing gulp.js via npm, I receive a no command 'gulp' found error when running the gulp command from the same directory it was installed into.When looking under the node_modules/.bin/ directory, I can see the gulp executable there.Is there something wrong with my npm installation?

2014-03-06 12:40:00Z

After installing gulp.js via npm, I receive a no command 'gulp' found error when running the gulp command from the same directory it was installed into.When looking under the node_modules/.bin/ directory, I can see the gulp executable there.Is there something wrong with my npm installation?That's perfectly normal.

If you want gulp-cli available on the command line, you need to install it globally.See the install instruction.Also, node_modules/.bin/ isn't in your $PATH. But it is automatically added by npm when running npm scripts (see this blog post for reference). So you could add scripts to your package.json file:You could then run npm run gulp or npm run minify to launch gulp tasks.I solved the issue without reinstalling node using the commands below:I actually have the same issue.This link is probably my best guess: nodejs vs node on ubuntu 12.04I did that to resolve my problem: I solved the issue removing gulp and installing gulp-cli again:if still not resolved try adding this to your package.js scripts"scripts": { "gulp": "gulp" },and run npm run gulp

it will runt gulp scripts from gulpfile.jsInstalling on a Mac - Sierra - After numerous failed attempts to install and run gulp globally via the command line using several different instructions I found I added this to my path and it worked:I got that path from the text output when installing gulp.Tried with sudo and it worked !!I'm on lubuntu 19.10I've used combination of previous answers, and didn't tweak the $PATH.If you want to do copy and pasteshould workI guess --global is unnecessary here as it's installed using sudo, but I've used it just in case.

Add 10 seconds to a Date

george

[Add 10 seconds to a Date](https://stackoverflow.com/questions/7687884/add-10-seconds-to-a-date)

How can I add 10 seconds to a JavaScript date object?Something like this:

2011-10-07 13:23:34Z

How can I add 10 seconds to a JavaScript date object?Something like this:There's a setSeconds method as well:For a list of the other Date functions, you should check out MDNsetSeconds will correctly handle wrap-around cases:Just for the performance maniacs among us.5,196,949 Ops/sec,  fastest2,936,604 Ops/sec, 43% slower22,549 Ops/sec, 100% slowerSo maybe its the least human readable (not that bad) but the fastest way of going :)jspref online testsAlso please refer:

How to add 30 minutes to a JavaScript Date object?Try thisI have a couple of new variantsThe Date() object in javascript is not that smart really.If you just focus on adding seconds it seems to handle things smoothly but if you try to add X number of seconds then add X number of minute and hours, etc, to the same Date object you end up in trouble. So I simply fell back to only using the setSeconds() method and converting my data into seconds (which worked fine).If anyone can demonstrate adding time to a global Date() object using all the set methods and have the final time come out correctly I would like to see it but I get the sense that one set method is to be used at a time on a given Date() object and mixing them leads to a mess.Here is some more documentation that may help:

Array.push() if does not exist?

tarnfeld

[Array.push() if does not exist?](https://stackoverflow.com/questions/1988349/array-push-if-does-not-exist)

How can I push into an array if neither values exist? Here is my array:If I tried to push again into the array with either name: "tom" or text: "tasty", I don't want anything to happen... but if neither of those are there then I want it to .push()How can I do this?

2010-01-01 10:59:01Z

How can I push into an array if neither values exist? Here is my array:If I tried to push again into the array with either name: "tom" or text: "tasty", I don't want anything to happen... but if neither of those are there then I want it to .push()How can I do this?You could extend the Array prototype with a custom method:For an array of strings (but not an array of objects), you can check if an item exists by calling .indexOf() and if it doesn't then just push the item into the array:It is quite easy to do using the Array.findIndex function, which takes a function as an argument:http://api.jquery.com/jQuery.unique/you might be interested in makeArray tooThe previous example is best in saying that check if it exists before pushing.

I see in hindsight it also states you can declare it as part of the prototype (I guess that's aka Class Extension), so no big enhancement below.Except I'm not sure if indexOf is a faster route then inArray? probably.Use a js library like underscore.js for these reasons exactly. Use: union: Computes the union of the passed-in arrays: the list of unique items, in order, that are present in one or more of the arrays.Like this?With objectI know this is a very old question, but if you're using ES6 you can use a very small version:Very easy, at first add a filter which removes the item - if it already exists, and then add it via a concat.Here is a more realistic example:If you're array contains objects you could adapt the filter function like this:Push dynamically     In simple methodI would suggest you use a Set,Sets only allow unique entries, which automatically solves your problem. Sets can be declared like so:Easy code, if 'indexOf' returns '-1' it means that element is not inside the array then the condition '=== -1' retrieve true/false.The '&&' operator means 'and', so if the first condition is true we push it to the array.Not sure about speed, but stringification + indexOf is a simple approach. Start with turning your array into a string:Then for a series of attribute-value pairs you can use:Finding a whole object is simpler:In case you need something simple without wanting to extend the Array prototype:In case anyone has less complicated requirements, here is my adaptation of the answer for a simple string array:Update: Replaced indexOf and trim with jQuery alternatives for IE8 compatabilityI used map and reduce to do this in the case where you wish to search by the a specific property of an object, useful as doing direct object equality will often fail.Short example:a is the array of objects you haveYou can use the findIndex method with a callback function and its "this" parameter.Note: old browsers don't know findIndex but a polyfill is available.Sample code (take care that in the original question, a new object is pushed only if neither of its data is in previoulsy pushed objects):I guess i am too late to answer here however this is what i finally came up with for a mail manager i wrote. Works that's all i need.This is working func for an objects comparison. In some cases you might have lot of fields to compare.

Simply loop the array and call this function with a existing items and new item.You can use jQuery grep and push if no results: http://api.jquery.com/jQuery.grep/It's basically the same solution as in the "extending the prototype" solution, but without extending (or polluting) the prototype.You can check the array using foreach and then pop the item if it exists otherwise add new item...sample newItemValue &submitFields are key,value pairs

How can I share code between Node.js and the browser?

Simon Cave

[How can I share code between Node.js and the browser?](https://stackoverflow.com/questions/3225251/how-can-i-share-code-between-node-js-and-the-browser)

I am creating a small application with a JavaScript client (run in the browser) and a Node.js server, communicating using WebSocket.I would like to share code between the client and the server. I have only just started with Node.js and my knowledge of modern JavaScript is a little rusty, to say the least. So I am still getting my head around the CommonJS require() function. If I am creating my packages by using the 'export' object, then I cannot see how I could use the same JavaScript files in the browser.I want to create a set of methods and classes that are used on both ends to facilitate encoding and decoding messages, and other mirrored tasks. However, the Node.js/CommonJS packaging systems seems to preclude me from creating JavaScript files that can be used on both sides.I also tried using JS.Class to get a tighter OO model, but I gave up because I couldn't figure out how to get the provided JavaScript files to work with require(). Is there something am I missing here?

2010-07-12 00:39:06Z

I am creating a small application with a JavaScript client (run in the browser) and a Node.js server, communicating using WebSocket.I would like to share code between the client and the server. I have only just started with Node.js and my knowledge of modern JavaScript is a little rusty, to say the least. So I am still getting my head around the CommonJS require() function. If I am creating my packages by using the 'export' object, then I cannot see how I could use the same JavaScript files in the browser.I want to create a set of methods and classes that are used on both ends to facilitate encoding and decoding messages, and other mirrored tasks. However, the Node.js/CommonJS packaging systems seems to preclude me from creating JavaScript files that can be used on both sides.I also tried using JS.Class to get a tighter OO model, but I gave up because I couldn't figure out how to get the provided JavaScript files to work with require(). Is there something am I missing here?If you want to write a module that can be used both client side and server side, I have a short blog post on a quick and easy method: Writing for Node.js and the browser, essentially the following (where this is the same as window):Alternatively there are some projects aiming to implement the Node.js API on the client side, such as Marak's gemini.You might also be interested in DNode, which lets you expose a JavaScript function so that it can be called from another machine using a simple JSON-based network protocol.Epeli has a nice solution here http://epeli.github.com/piler/ that even works without the library, just put this in a file called share.jsOn the server side just use:And on the client side just load the js file and then useCheckout the jQuery source code that makes this work in the Node.js module pattern, AMD module pattern, and global in the browser:Don't forget that the string representation of a JavaScript function represents the source code for that function. You could simply write your functions and constructors in an encapsulated way so they can be toString()'d and sent to the client.Another way to do it is use a build system, put the common code in separate files, and then include them in both the server and client scripts. I'm using that approach for a simple client/server game via WebSockets where the server and client both run essentially the same game loop and the client synchronises up with the server every tick to make sure nobody's cheating.My build system for the game is a simple Bash script that runs the files through the C preprocessor and then through sed to clean up some junk cpp leaves behind, so I can use all the normal preprocessor stuff like #include, #define, #ifdef, etc.I would recommend looking into the RequireJS adapter for Node.js. The problem is that the CommonJS module pattern Node.js uses by default isn't asynchronous, which blocks loading in the web browser. RequireJS uses the AMD pattern, which is both asynchronous and compatible with both server and client, as long as you use the r.js adapter.Maybe this is not entirely in line with the question, but I thought I'd share this.I wanted to make a couple of simple string utility functions, declared on String.prototype, available to both node and the browser. I simply keep these functions in a file called utilities.js (in a subfolder) and can easily reference it both from a script-tag in my browser code, and by using require (omitting the .js extension) in my Node.js script:I hope this is useful information to someone other than me.If you use use module bundlers such as webpack to bundle JavaScript files for usage in a browser, you can simply reuse your Node.js module for the frontend running in a browser. In other words, your Node.js module can be shared between Node.js and the browser. For example, you have the following code sum.js:The server can simply send JavaScript source files to the client (browser) but the trick is that the client will have to provide a mini "exports" environment before it can exec the code and store it as a module.A simple way to make such an environment is to use a closure.  For example, say your server provides source files via HTTP like http://example.com/js/foo.js.  The browser can load the required files via an XMLHttpRequest and load the code like so:The key is that client can wrap the foreign code into an anonymous function to be run immediately (a closure) which creates the "exports" object and returns it so you can assign it where you'd like, rather than polluting the global namespace.  In this example, it is assigned to the window attribute fooModule which will contain the code exported by the file foo.js.None of the previous solutions bring the CommonJS module system to the browser.As mentioned in the other answers, there are asset manager/packager solutions like Browserify or Piler and there are RPC solutions like dnode or nowjs.But I couldn't find an implementation of CommonJS for the browser (including a require() function and exports / module.exports objects, etc.). So I wrote my own, only to discover afterwards that someone else had written it better than I had: https://github.com/weepy/brequire. It's called Brequire (short for Browser require).Judging by popularity, asset managers fit the needs of most developers. However, if you need a browser implementation of CommonJS, Brequire will probably fit the bill.2015 Update: I no longer use Brequire (it hasn't been updated in a few years). If I'm just writing a small, open-source module and I want anyone to be able to easily use, then I'll follow a pattern similar to Caolan's answer (above) -- I wrote a blog post about it a couple years ago.However, if I'm writing modules for private use or for a community that is standardized on CommonJS (like the Ampersand community) then I'll just write them in CommonJS format and use Browserify.now.js is also worth a look. It allows you to call server-side from the client-side, and client-side functions from the server-sideIf you want to write your browser in Node.js-like style you can try dualify.There is no browser code compilation, so you can write your application without limitations.Write your code as RequireJS modules and your tests as Jasmine tests.This way code can be loaded everywhere with RequireJS and the tests be run in the browser with jasmine-html and with jasmine-node in Node.js without the need to modify the code or the tests.Here is a working example for this.Use case: share your app configuration between Node.js and the browser (this is just an illustration, probably not the best approach depending on your app).Problem: you cannot use window (does not exist in Node.js) nor global (does not exist in the browser).I wrote a simple module, that can be imported (either using require in Node, or script tags in the browser), that you can use to load modules both from the client and from the server.Place the following in a file log2.js, inside your static web files folder:Simple as that!Since it is a bilateral module loader, we can load it from both sides (client and server). Therefore, you can do the following, but you don't need to do both at once (let alone in a particular order):In Node, it's simple:This should return 2.If your file isn't in Node's current directory, make sure to call loader.setRoot with the path to your static web files folder (or wherever your module is).First, define the web page:Make sure you don't open the file directly in your browser; since it uses AJAX, I suggest you take a look at Python 3's http.server module (or whatever your superfast, command line, folder web server deployment solution is) instead.If everything goes well, this will appear:I wrote this, it is simple to use if you want to set all variables to the global scope:

How to pass parameters in GET requests with jQuery

HeavenCore

[How to pass parameters in GET requests with jQuery](https://stackoverflow.com/questions/15576548/how-to-pass-parameters-in-get-requests-with-jquery)

How should I be passing query string values in a jQuery Ajax request? I currently do them as follows but I'm sure there is a cleaner way that does not require me to encode manually.I’ve seen examples where query string parameters are passed as an array but these examples I've seen don't use the $.ajax() model, instead they go straight to $.get(). For example:I prefer to use the $.ajax() format as it's what I’m used to (no particularly good reason - just a personal preference).Edit 09/04/2013:After my question was closed (as "Too Localised") i found a related (identical) question - with 3 upvotes no-less (My bad for not finding it in the first place):Using jquery to make a POST, how to properly supply 'data' parameter?This answered my question perfectly, I found that doing it this way is much easier to read & I don't need to manually use encodeURIComponent() in the URL or the DATA values (which is what i found unclear in bipen's answer). This is because the data value is encoded automatically via $.param()). Just in case this can be of use to anyone else, this is the example I went with:

2013-03-22 17:33:26Z

How should I be passing query string values in a jQuery Ajax request? I currently do them as follows but I'm sure there is a cleaner way that does not require me to encode manually.I’ve seen examples where query string parameters are passed as an array but these examples I've seen don't use the $.ajax() model, instead they go straight to $.get(). For example:I prefer to use the $.ajax() format as it's what I’m used to (no particularly good reason - just a personal preference).Edit 09/04/2013:After my question was closed (as "Too Localised") i found a related (identical) question - with 3 upvotes no-less (My bad for not finding it in the first place):Using jquery to make a POST, how to properly supply 'data' parameter?This answered my question perfectly, I found that doing it this way is much easier to read & I don't need to manually use encodeURIComponent() in the URL or the DATA values (which is what i found unclear in bipen's answer). This is because the data value is encoded automatically via $.param()). Just in case this can be of use to anyone else, this is the example I went with:Use data option of ajax. You can send data object to server by data option in ajax and the type which defines how you are sending it (either POST or GET). The default type is GET methodTry thisAnd you can get the data by (if you are using PHP)In aspx, I believe it is (might be wrong)Put your params in the data part of the ajax call. See the docs. Like so:Here is the syntax using jQuery $.get So in your case, that would equate to, Note 

$.get does not give you the opportunity to set an error handler. But there are several ways to do it either using $.ajaxSetup(), $.ajaxError() or chaining a .fail on your $.get like below The reason for setting the datatype as 'jsonp' is due to browser same origin policy issues, but if you are making the request on the same domain where your javascript is hosted, you should be fine with datatype set to json. If you don't want to use the jquery $.get then see the docs for $.ajax which allows room for more flexibility Try adding this:Depends on what datatype is expected, you can assign html, json, script, xml The data property allows you to send in a string.  On your server side code, accept it as a string argument name "myVar" and then you can parse it out.  Had the same problem where I specified data but the browser was sending requests to URL ending with [Object object]. You should have processData set to true. You can use the $.ajax(), and if you don't want to put the parameters directly into the URL, use the data:. That's appended to the URLSource: http://api.jquery.com/jQuery.ajax/The data parameter of ajax method allows you send data to server side.On server side you can request the data.See the codeAt server side receive it using  $_GET variable.

Difference between setTimeout with and without quotes and parentheses

user1316123

[Difference between setTimeout with and without quotes and parentheses](https://stackoverflow.com/questions/10312963/difference-between-settimeout-with-and-without-quotes-and-parentheses)

I am learning JavaScript and I have learned recently about JavaScript timing events. When I learned about setTimeout at W3Schools, I noticed a strange figure which I didn’t run into before. They are using double quotes and then call the function.Example: I know that double and single quotes in JavaScript means a string.Also I saw that I can do the same like that:With the parentheses it’s referring, without the parentheses it’s copied. When I am using the quotes and the parentheses it’s getting crazy.I will be glad if someone can explain to me the difference between these three ways of using setTimeout:With the parentheses:Without the quotes and the parentheses: And the third is only using quotes: N.B.: A better source for setTimeout reference would be MDN.

2012-04-25 09:34:15Z

I am learning JavaScript and I have learned recently about JavaScript timing events. When I learned about setTimeout at W3Schools, I noticed a strange figure which I didn’t run into before. They are using double quotes and then call the function.Example: I know that double and single quotes in JavaScript means a string.Also I saw that I can do the same like that:With the parentheses it’s referring, without the parentheses it’s copied. When I am using the quotes and the parentheses it’s getting crazy.I will be glad if someone can explain to me the difference between these three ways of using setTimeout:With the parentheses:Without the quotes and the parentheses: And the third is only using quotes: N.B.: A better source for setTimeout reference would be MDN.You should pass a reference to a function as the first argument for setTimeout or setInterval. This reference may be in the form of:To call a function and pass parameters, you can call the function inside the callback assigned to the timer:There is another method to pass in arguments into the handler, however it's not cross-browser compatible.By default, the context of the callback (the value of this inside the function called by the timer) when executed is the global object window. Should you want to change it, use bind.Although it's possible, you should not pass a string to setTimeout or setInterval. Passing a string makes setTimeout() or setInterval() use a functionality similar to eval() that executes strings as scripts, making arbitrary and potentially harmful script execution possible. i think the setTimeout function that you write is not being run.

if you use jquery, you can make it run correctly by doing this : Totally agree with Joseph.Here is a fiddle to test this: http://jsfiddle.net/nicocube/63s2s/In the context of the fiddle, the string argument do not work, in my opinion because the function is not defined in the global scope.What happens in reality in case you pass string as a first parameter of functionis value of first param got evaluated when it is time to run (after numberof miliseconds passed).

Basically it is equal to This isSo samples which you refer are not good samples, and may be given in different context or just simple typo. If you invoke like this setTimeout(something, number), first parameter is not string, but pointer to a something called something. And again if something is string - then it will be evaluated. But if it is function, then function will be executed.

jsbin sampleWith the parentheses:Without the quotes and the parentheses:And the third is only using quotes:

Best way to store a key=>value array in JavaScript?

Click Upvote

[Best way to store a key=>value array in JavaScript?](https://stackoverflow.com/questions/1144705/best-way-to-store-a-key-value-array-in-javascript)

What's the best way to store a key=>value array in javascript, and how can that be looped through?The key of each element should be a tag, such as {id} or just id and the value should be the numerical value of the id.It should either be the element of an existing javascript class, or be a global variable which could easily be referenced through the class.jQuery can be used.

2009-07-17 17:36:15Z

What's the best way to store a key=>value array in javascript, and how can that be looped through?The key of each element should be a tag, such as {id} or just id and the value should be the numerical value of the id.It should either be the element of an existing javascript class, or be a global variable which could easily be referenced through the class.jQuery can be used.That's just what a JavaScript object is:You can loop through it using for..in loop:See also: Working with objects (MDN).In ECMAScript6 there is also Map (see the browser compatibility table there):If I understood you correctly:You can use Map.Get value of the Map using keyGet size of the MapCheck key exists in MapGet keysGet valuesGet elements of the MapPrint key value pairsPrint only keys of the MapPrint only values of the MapIn javascript a key value array is stored as an object. There are such things as arrays in javascript, but they are also somewhat considered objects still, check this guys answer - Why can I add named properties to an array as if it were an object?Arrays are typically seen using square bracket syntax, and objects ("key=>value" arrays) using curly bracket syntax, though you can access and set object properties using square bracket syntax as Alexey Romanov has shown.Arrays in javascript are typically used only with numeric, auto incremented keys, but javascript objects can hold named key value pairs, functions and even other objects as well.Simple Array eg.Output -0 "Canada"1 "Us"2 "France"3 "Italy"We see above that we can loop a numerical array using the jQuery.each function and access info outside of the loop using square brackets with numerical keys.Simple Object (json)Output -My name is James and I am a 6 ft 1 programmername Jamesoccupation programmerheight Object {feet: 6, inches: 1}In a language like php this would be considered a multidimensional array with key value pairs, or an array within an array. I'm assuming because you asked about how to loop through a key value array you would want to know how to get an object (key=>value array) like the person object above to have, let's say, more than one person.Well, now that we know javascript arrays are used typically for numeric indexing and objects more flexibly for associative indexing, we will use them together to create an array of objects that we can loop through, like so -JSON array (array of objects) -Output -My name is Joshua and I am a 5 ft 11 CEOMy name is James and I am a 6 ft 1 programmerMy name is Peter and I am a 4 ft 10 designerMy name is Joshua and I am a 5 ft 11 CEONote that outside the loop I have to use the square bracket syntax with a numeric key because this is now an numerically indexed array of objects, and of course inside the loop the numeric key is implied.Simply do  this Objects inside an array:I know its late but it might be helpful for those that want other ways. Another way array key=>values can be stored is by using an array method called map(); (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map) you can use arrow function too  

    Today we released our new package called laravel-blade-javascript. It provides you with a javascript Blade directive to export PHP variables to JavaScript. So it basically does the same as Jeffrey Way's popular PHP-Vars-To-Js-Transformer package but instead of exporting variables in the controller our package does it a view.Here's an example of how it can be used:The rendered view will output:So in your browser you now have access to a key variable:You can also use a single argument:Which will output the same as the first example.You can also use the config file to set up a namespace where all exported JavaScript variables should reside in.

How do I check whether an array contains a string in TypeScript?

code1

[How do I check whether an array contains a string in TypeScript?](https://stackoverflow.com/questions/42790602/how-do-i-check-whether-an-array-contains-a-string-in-typescript)

Currently I am using Angular 2.0. I have an array as follows:How can I check in TypeScript whether the channelArray contains a string 'three'?

2017-03-14 15:50:26Z

Currently I am using Angular 2.0. I have an array as follows:How can I check in TypeScript whether the channelArray contains a string 'three'?The same as in JavaScript, using Array.prototype.indexOf():Or using ECMAScript 2016 Array.prototype.includes():Note that you could also use methods like showed by @Nitzan to find a string. However you wouldn't usually do that for a string array, but rather for an array of objects. There those methods were more sensible. For exampleReference Array.find()Array.some()Array.filter()You can use the some method:You can use the find method:Or you can use the indexOf method:If your code is ES7 based:If not, for example you are using IE with no babel transpile:the indexOf method will return the position the element has into the array, because of that we use !== different from -1 if the needle is found at the first position.Use JavaScript Array includes() MethodTry it Yourself » linkDefinitionThe includes() method determines whether an array contains a specified element.This method returns true if the array contains the element, and false if not.Also note that "in" keyword  does not work on arrays. It works on objects only.  Array inclusion test is TS has many utility methods for arrays which are available via the prototype of Arrays. There are multiple which can achieve this goal but the two most convenient for this purpose are:Example:do like this:You can use filter too  

Do I need to return after early resolve/reject?

sam

[Do I need to return after early resolve/reject?](https://stackoverflow.com/questions/32536049/do-i-need-to-return-after-early-resolve-reject)

Suppose I have the following code.If my aim is to use reject to exit early, should I get into the habit of returning immediately afterward as well?

2015-09-12 06:45:49Z

Suppose I have the following code.If my aim is to use reject to exit early, should I get into the habit of returning immediately afterward as well?The return purpose is to terminate the execution of the function after the rejection, and prevent the execution of the code after it. In this case it prevents the resolve(numerator / denominator); from executing, which is not strictly needed. However, it's still preferable to terminate the execution to prevent a possible trap in the future. In addition, it's a good practice to prevent running code needlessly. Background A promise can be in one of 3 states:When a promise is fulfilled or rejected, it will stay in this state indefinitely (settled). So, rejecting a fulfilled promise or fulfilling a rejected promise, will have not effect.This example snippet shows that although the promise was fulfilled after being rejected, it stayed rejected.So why do we need to return?Although we can't change a settled promise state, rejecting or resolving won't stop the execution of the rest of the function. The function may contain code that will create confusing results. For example:Even if the function doesn't contain such code right now, this creates a possible future trap. A future refactor might ignore the fact that the code is still executed after the promise is rejected, and will be hard to debug.Stopping the execution after resolve/reject:This is standard JS control flow stuff.I prefer to use one of the return options as the code is flatter.A common idiom, which may or may not be your cup of tea, is to combine the return with the reject, to simultaneously reject the promise and exit from the function, so that the remainder of the function including the resolve is not executed. If you like this style, it can make your code a bit more compact.This works fine because the Promise constructor does nothing with any return value, and in any case resolve and reject return nothing. The same idiom can be used with the callback style shown in another answer:Again, this works fine because the person calling divide does not expect it to return anything and does not do anything with the return value.Technically it is not needed here1 - because a Promise can be resolved or rejected, exclusively and only once. The first Promise outcome wins and every subsequent result is ignored. This is different from Node-style callbacks.That being said it is good clean practice to ensure that exactly one is called, when practical, and indeed in this case since there is no further async/deferred processing. The decision to "return early" is no different than ending any function when its work is complete - vs. continuing unrelated or unnecessary processing.Returning at the appropriate time (or otherwise using conditionals to avoid executing the "other" case) reduces the chance of accidentally running code in an invalid state or performing unwanted side-effects; and as such it makes code less prone to 'breaking unexpectedly'.1 This technically answer also hinges on the fact that in this case the code after the "return", should it be omitted, will not result in a side-effect. JavaScript will happily divide by zero and return either +Infinity/-Infinity or NaN.If you don't "return" after a resolve/reject, bad things (like a page redirect) can happen after you meant for it to stop.  Source: I ran into this.The answer by Ori already explains that it is not necessary to return but it is good practice. Note that the promise constructor is throw safe so it will ignore thrown exceptions passed later in the path, essentially you have side effects you can't easily observe.Note that returning early is also very common in callbacks:So, while it is good practice in promises it is required with callbacks. Some notes about your code:In many cases it is possible to validate parameters separately and immediately return a rejected promise with Promise.reject(reason).

Difference between application/x-javascript and text/javascript content types

Obmerk Kronen

[Difference between application/x-javascript and text/javascript content types](https://stackoverflow.com/questions/9664282/difference-between-application-x-javascript-and-text-javascript-content-types)

What is the difference between these headers?Which one is best and why?Please do not say they are identical - if they were identical there would not have been three of them. I know both work - but I would like to know the difference.

2012-03-12 09:12:54Z

What is the difference between these headers?Which one is best and why?Please do not say they are identical - if they were identical there would not have been three of them. I know both work - but I would like to know the difference.text/javascript is obsolete, and application/x-javascript was experimental (hence the x- prefix) for a transitional period until application/javascript could be standardised. You should use application/javascript. This is documented in the RFC.As far a browsers are concerned, there is no difference (at least in HTTP headers). This was just a change so that the text/* and application/* MIME type groups had a consistent meaning where possible. (text/* MIME types are intended for human readable content, JavaScript is not designed to directly convey meaning to humans).Note that using application/javascript in the type attribute of a script element will cause the script to be ignored (as being in an unknown language) in some older browsers. Either continue to use text/javascript there or omit the attribute entirely (which is permitted in HTML 5).This isn't a problem in HTTP headers as browsers universally (as far as I'm aware) either ignore the HTTP content-type of scripts entirely, or are modern enough to recognise application/javascript.mime-types starting with x- are not standardized. In case of javascript it's kind of outdated. 

Additional the second code snippetrequires short_open_tags to be enabled. you should avoid it.However, the completely correct mime-type for javascript ishttp://www.iana.org/assignments/media-types/application/index.htmlAccording to RFC 4329 the correct MIME type for JavaScript should be application/javascript. Howerver, older IE versions choke on this since they expect text/javascript.Use type="application/javascript"In case of HTML5, the type attribute is obsolete, you may remove it. Note: that it defaults to "text/javascript" according to w3.org, so I would suggest to add the "application/javascript" instead of removing it.Use "application/javascript", because "text/javascript" is obsolete: x-javascript is experimental, don't use it.

jQuery 1.9 .live() is not a function

ngplayground

[jQuery 1.9 .live() is not a function](https://stackoverflow.com/questions/14354040/jquery-1-9-live-is-not-a-function)

I recently updated jQuery from 1.8 to 2.1. I suddenly discovered that the .live() stops working.

I get the error TypeError: $(...).live is not a function.Is there any method I can use in place of .live()?

2013-01-16 08:26:03Z

I recently updated jQuery from 1.8 to 2.1. I suddenly discovered that the .live() stops working.

I get the error TypeError: $(...).live is not a function.Is there any method I can use in place of .live()?That means if you are upgrading from version 1.8 and earlier, you will notice things breaking if you do not follow the migration guide below. You must not simply replace .live() with .on()!For quick/hot fixes on a live site, do not just replace the keyword live with on, as the parameters are different!should map to:The (child) selector is very important! If you do not need to use this for any reason, set it to null.before:after, you move the child element (a) to the .on() selector:before:after, you move the element (.myButton) to the .on() selector, and find the nearest parent element (preferably with an ID):If you do not know what to put as the parent, body always works:You can avoid refactoring your code by including the following JavaScript code The jQuery API documentation lists live() as deprecated as of version 1.7 and removed as of version 1.9: link.Furthermore it states:Forward port of .live() for jQuery >= 1.9

 Avoids refactoring JS dependencies on .live()

 Uses optimized DOM selector context  .live was removed in 1.9, please see the upgrade guide: http://jquery.com/upgrade-guide/1.9/#live-removedA very simple fix that doesn't need to change your code, just add jquery migration script, download here

https://github.com/jquery/jquery-migrate/It supplies jquery deprecated but needed functions like "live", "browser" etc.live() was deprecated and has now been removed from jQuery 1.9

You should use .on()I tend not to use the .on() syntax, if not necessary. For example you can migrate easier like this:old:new:Here is a list of valid event handlers: https://api.jquery.com/category/forms/If you happen to be using the Ruby on Rails' jQuery gem jquery-rails and for some reason you can't refactor your legacy code, the last version that still supports is 2.1.3 and you can lock it by using the following syntax on your Gemfile:then you can use the following command to update:I hope that help others facing a similar issue.

Correct way to convert size in bytes to KB, MB, GB in JavaScript

l2aelba

[Correct way to convert size in bytes to KB, MB, GB in JavaScript](https://stackoverflow.com/questions/15900485/correct-way-to-convert-size-in-bytes-to-kb-mb-gb-in-javascript)

I got this code to covert size in bytes via PHP.Now I want to convert those sizes to human readable sizes using JavaScript. I tried to convert this code to JavaScript, which looks like this:Is this the correct way of doing this? Is there an easier way?

2013-04-09 11:20:45Z

I got this code to covert size in bytes via PHP.Now I want to convert those sizes to human readable sizes using JavaScript. I tried to convert this code to JavaScript, which looks like this:Is this the correct way of doing this? Is there an easier way?From this: (source)Note : This is original code, Please use fixed version below. Aliceljm does not active her copied code anymoreNow, Fixed version unminified, and ES6'ed: (by community)Now, Fixed version : (by Stackoverflow's community, + Minified by JSCompress)Usage :Demo / source :PS : Change k = 1000 or sizes = ["..."] as you want (bits or bytes)Results:There are 2 real ways to represent sizes when related to bytes, they are SI units (10^3) or IEC units (2^10). There is also JEDEC but their method is ambiguous and confusing. I noticed the other examples have errors such as using KB instead of kB to represent a kilobyte so I decided to write a function that will solve each of these cases using the range of currently accepted units of measure.There is a formatting bit at the end that will make the number look a bit better (at least to my eye) feel free to remove that formatting if it doesn't suit your purpose.Enjoy.You can use the filesizejs library.Here's a one liner:val => ['Bytes','Kb','Mb','Gb','Tb'][Math.floor(Math.log2(val)/10)]Or even:val => 'BKMGT'[~~(Math.log2(val)/10)]Using bitwise operation would be a better solution. Try thisAccording to Aliceljm's answer, I removed 0 after decimal:I originally used @Aliceljm's answer for a file upload project I was working on, but recently ran into an issue where a file was 0.98kb but being read as 1.02mb. Here's the updated code I'm now using.The above would then be called after a file was added like soGranted, Windows reads the file as being 24.8mb but I'm fine with the extra precision.This solution builds upon previous solutions, but takes into account both metric and binary units:Examples:I am updating @Aliceljm answer here. Since the decimal place matters for 1,2 digit numbers, I am round off the first decimal place and keep the first decimal place. For 3 digit number, I am round off the units place and ignoring the all decimal places.This is how a byte should be shown to a human:I just wanted to share my input. I had this problem so my solution is this. This will convert lower units to higher units and vice versa just supply the argument toUnit and fromUnitI got the idea from hereTry this simple workaround.

How do I pre-populate a jQuery Datepicker textbox with today's date?

Marcus

[How do I pre-populate a jQuery Datepicker textbox with today's date?](https://stackoverflow.com/questions/233553/how-do-i-pre-populate-a-jquery-datepicker-textbox-with-todays-date)

I have a very simple jQuery Datepicker calendar:and of course in the HTML...Today's date is nicely highlighted for the user when they bring up the calendar, but how do I get jQuery to pre-populate the textbox itself with today's date on page load, without the user doing anything?  99% of the time, the today's date default will be what they want.

2008-10-24 13:33:42Z

I have a very simple jQuery Datepicker calendar:and of course in the HTML...Today's date is nicely highlighted for the user when they bring up the calendar, but how do I get jQuery to pre-populate the textbox itself with today's date on page load, without the user doing anything?  99% of the time, the today's date default will be what they want.Update: There are reports this no longer works in Chrome.This is concise and does the job (obsolete):This is less concise, utilizing chaining allows it to work in chrome (2019-06-04):You must FIRST call datepicker() > then use 'setDate' to get the current date.OR chain your setDate method call after your datepicker initialization, as noted in a comment on this answer It will NOT work with just NOTE : Acceptable setDate parameters are described hereseemed to work, but there might be a better way out there..The setDate() method sets the date and updates the associated control. Here is how:DemoAs mentioned in documentation, setDate() happily accepts the JavaScript Date object, number or a string:In case you are wondering, setting defaultDate property in the constructor does not update the associated control.Set to today:Set to yesterday:And so on with any number of days before or after today's date.See jQuery UI › Methods › setDate.The solution is:Thanks grayghost!This code will assure to use your datepicker's format:No need to re-apply format, it uses the datepicker predefined-one by you on datepicker initialization (if you have assigned it!) ;)This one worked for me.David K Egghead's code worked perfectly, thank you!I also managed to trim it a little and it also worked:In order to set the datepicker to a certain default time (the current date in my case) on loading, AND then have the option to choose another date the syntax is :To pre-populate date, first you have to initialise datepicker, then pass setDate parameter value.Just thought I'd add my two cents. The picker is being used on an add/update form, so it needed to show the date coming from the database if editing an existing record, or show today's date if not. Below is working fine for me:You've got 2 options:OPTION A)  Marks as "active" in your calendar, only when you click in the input.Js:Css:OPTION B) Input by default with today.

You've to populate first the datepicker .Assign the prettyDate to the necessary control.Try this This works better for me as sometimes I have troubles calling .datepicker('setDate', new Date()); as it messes if if i have the datepicker already configured with parameters. Use This:$(".datepicker").datepicker({ dateFormat: 'dd-M-yy' }).datepicker('setDate', new Date());To Get Date in Format Eg: 10-Oct-2019 which will be more understandable for users.Source: http://www.kelvinluck.com/assets/jquery/datePicker/v2/demo/datePickerDefaultToday.html

Get element from within an iFrame

joepour

[Get element from within an iFrame](https://stackoverflow.com/questions/1088544/get-element-from-within-an-iframe)

How do you get a <div> from within an <iframe>?

2009-07-06 18:31:05Z

How do you get a <div> from within an <iframe>?You could more simply write:and the first valid inner doc will be returned.Once you get the inner doc, you can just access its internals the same way as you would access any element on your current page. (innerDoc.getElementById...etc.)IMPORTANT: Make sure that the iframe is on the same domain, otherwise you can't get access to its internals. That would be cross-site scripting.Do not forget to access iframe after it is loaded. Old but reliable way without jQuery:CallYourFunction() is  function inside page and that function action on itAbove answers gave good solutions using Javscript.

Here is a simple jQuery solution:  The trick here is jQuery's .contents() method, unlike .children() which can only get HTML elements, .contents() can get both text nodes and HTML elements. That's why one can get document contents of an iframe by using it.  Further reading about jQuery .contents(): .contents()Note that the iframe and page have to be on the same domain.None of the other answers were working for me. I ended up creating a function within my iframe that returns the object I was looking for:Then you call that function like so to retrieve the element:If iframe is not in the same domain such that you cannot get access to its internals from the parent but you can modify the source code of the iframe then you can modify the page displayed by the iframe to send messages to the parent window, which allows you to share information between the pages. Some sources:Below code will help you to find out iframe data.

How to make Google Chrome JavaScript console persistent?

Zlatko

[How to make Google Chrome JavaScript console persistent?](https://stackoverflow.com/questions/5327955/how-to-make-google-chrome-javascript-console-persistent)

Since I'm building a dynamic site, I need to track the changes between pages, ie. Ajax calls, POST, GET stuff and similar stuff.I'm looking for the same functionality like in Firebug (where you can enable "persistent" and the console is not cleared every time you reload a page or submit a form.So, my questions is: is there a way to make Google Chrome JavaScript console persistent?

(And if yes, how?)Update: Copying the answer here, if anyone's still looking for this, Chrome 14+ has a setting in Developer Tools > Settings labelled "Console: Preserve log on navigation". Update 2: the latest versions of Chrome (33+) have this option by right-clicking in the console.Update 3 (late 2017): The latest versions of Chrome (60+) have this option by opening the console, clicking the gear in the top right corner and selecting "preserve log" 

2011-03-16 15:54:27Z

Since I'm building a dynamic site, I need to track the changes between pages, ie. Ajax calls, POST, GET stuff and similar stuff.I'm looking for the same functionality like in Firebug (where you can enable "persistent" and the console is not cleared every time you reload a page or submit a form.So, my questions is: is there a way to make Google Chrome JavaScript console persistent?

(And if yes, how?)Update: Copying the answer here, if anyone's still looking for this, Chrome 14+ has a setting in Developer Tools > Settings labelled "Console: Preserve log on navigation". Update 2: the latest versions of Chrome (33+) have this option by right-clicking in the console.Update 3 (late 2017): The latest versions of Chrome (60+) have this option by opening the console, clicking the gear in the top right corner and selecting "preserve log" If anyone's still looking for this, I'm on Chrome 15.0.874.58 beta-m and I have a checkbox in Developer Tools > Settings labelled "Console: Preserve log on navigation". Does the job nicely.at Version 67.0.3396.87 (Official Build) (64-bit)Unfortunately, Chrome doesn't support that functionality yet, although there was talk in December 2010 about adding in the next major release...This answer is no longer validTry this to enable console on popupsAs of Chrome Version 73.0.3683.86 (Official Build) (64-bit):

How best to determine if an argument is not sent to the JavaScript function

Darryl Hein

[How best to determine if an argument is not sent to the JavaScript function](https://stackoverflow.com/questions/411352/how-best-to-determine-if-an-argument-is-not-sent-to-the-javascript-function)

I have now seen 2 methods for determining if an argument has been passed to a JavaScript function. I'm wondering if one method is better than the other or if one is just bad to use?OrAs far as I can tell, they both result in the same thing, but I've only used the first one before in production.Another Option as mentioned by Tom:As per Juan's comment, it would be better to change Tom's suggestion to:

2009-01-04 17:38:57Z

I have now seen 2 methods for determining if an argument has been passed to a JavaScript function. I'm wondering if one method is better than the other or if one is just bad to use?OrAs far as I can tell, they both result in the same thing, but I've only used the first one before in production.Another Option as mentioned by Tom:As per Juan's comment, it would be better to change Tom's suggestion to:There are several different ways to check if an argument was passed to a function. In addition to the two you mentioned in your (original) question - checking arguments.length or using the || operator to provide default values - one can also explicitly check the arguments for undefined via argument2 === undefined or typeof argument2 === 'undefined' if one is paranoid (see comments).Using the || operator has become standard practice - all the cool kids do it - but be careful: The default value will be triggered if the argument evaluates to false, which means it might actually be undefined, null, false, 0, '' (or anything else for which Boolean(...) returns false).So the question is when to use which check, as they all yield slightly different results.Checking arguments.length exhibits the 'most correct' behaviour, but it might not be feasible if there's more than one optional argument.The test for undefined is next 'best' - it only 'fails' if the function is explicitly called with an undefined value, which in all likelyhood should be treated the same way as omitting the argument.The use of the || operator might trigger usage of the default value even if a valid argument is provided. On the other hand, its behaviour might actually be desired.To summarize: Only use it if you know what you're doing!In my opinion, using || is also the way to go if there's more than one optional argument and one doesn't want to pass an object literal as a workaround for named parameters.Another nice way to provide default values using arguments.length is possible by falling through the labels of a switch statement:This has the downside that the programmer's intention is not (visually) obvious and uses 'magic numbers'; it is therefore possibly error prone.If you are using jQuery, one option that is nice (especially for complicated situations) is to use jQuery's extend method.If you call the function then like this:The options variable would then be:This is one of the few cases where I find the test:  works quite nicely and carries the correct implication syntactically.(With the simultaneous restriction that I wouldn't allow a legitimate null value for argument2 which has some other meaning; but that would be really confusing.)EDIT:This is a really good example of a stylistic difference between loosely-typed and strongly-typed languages; and a stylistic option that javascript affords in spades.  My personal preference (with no criticism meant for other preferences) is minimalism. The less the code has to say, as long as I'm consistent and concise, the less someone else has to comprehend to correctly infer my meaning.  One implication of that preference is that I don't want to - don't find it useful to - pile up a bunch of type-dependency tests. Instead, I try to make the code mean what it looks like it means; and test only for what I really will need to test for.  One of the aggravations I find in some other peoples' code is needing to figure out whether or not they expect, in the larger context, to actually run into the cases they are testing for. Or if they are trying to test for everything possible, on the chance that they don't anticipate the context completely enough. Which means I end up needing to track them down exhaustively in both directions before I can confidently refactor or modify anything. I figure that there's a good chance they might have put those various tests in place because they foresaw circumstances where they would be needed (and which usually aren't apparent to me).(I consider that a serious downside in the way these folks use dynamic languages. Too often people don't want to give up all the static tests, and end up faking it.)I've seen this most glaringly in comparing comprehensive ActionScript 3 code with elegant javascript code. The AS3 can be 3 or 4 times the bulk of the js, and the reliability I suspect is at least no better, just because of the number (3-4X) of coding decisions that were made.As you say, Shog9, YMMV. :DThere are significant differences. Let's set up some test cases:With the first method you describe, only the second test will use the default value. The second method will default all but the first (as JS will convert undefined, null, 0, and "" into the boolean false. And if you were to use Tom's method, only the fourth test will use the default!Which method you choose really depends on your intended behavior. If values other than undefined are allowable for argument2, then you'll probably want some variation on the first; if a non-zero, non-null, non-empty value is desired, then the second method is ideal - indeed, it is often used to quickly eliminate such a wide range of values from consideration.In ES6 (ES2015) you can use Default parametersI'm sorry, I still yet cant comment, so to answer Tom's answer...

In javascript (undefined != null) == false

In fact that function wont work with "null", you should use "undefined"Why not using the !! operator? This operator, placed before the variable, turn it to a boolean (if I've understood well), so !!undefined and !!null (and even !!NaN, which can be quite interesting) will return false.Here is an exemple:It can be convenient to approach argument detection by evoking your function with an Object of optional properties:There is a tricky way as well to find, whether a parameter is passed to a function or not. Have a look at the below example:This necessary means that if the value of value is not present/passed - set it to 0.Pretty cool huh!Some times you may also want to check for type, specially if you are using the function as getter and setter. The following code is ES6 (will not run in EcmaScript 5 or older):Because arrays inherit from Object.prototype. Consider ⇑ to make the world better.fnCalledFunction(Param1,Param2, window.YourOptionalParameter)If above function is called from many places and you are sure first 2 parameters are passed from every where but not sure about 3rd parameter then you can use window.  window.param3 will handle if it is not defined from the caller method.

How does Content Security Policy work?

Schlaus

[How does Content Security Policy work?](https://stackoverflow.com/questions/30280370/how-does-content-security-policy-work)

I'm getting a bunch of errors in the developer console:What's this all about? How does Content Security Policy work? How do I use the Content-Security-Policy HTTP header?Specifically, how to...And finally:

2015-05-16 20:22:47Z

I'm getting a bunch of errors in the developer console:What's this all about? How does Content Security Policy work? How do I use the Content-Security-Policy HTTP header?Specifically, how to...And finally:The Content-Security-Policy meta-tag allows you to reduce the risk of XSS attacks by allowing you to define where resources can be loaded from, preventing browsers from loading data from any other locations. This makes it harder for an attacker to inject malicious code into your site.I banged my head against a brick wall trying to figure out why I was getting CSP errors one after another, and there didn't seem to be any concise, clear instructions on just how does it work. So here's my attempt at explaining some points of CSP briefly, mostly concentrating on the things I found hard to solve.For brevity I won’t write the full tag in each sample. Instead I'll only show the content property, so a sample that says content="default-src 'self'" means this:1. How to allow multiple sources?You can simply list your sources after a directive as a space separated list:Note that there are no quotes around parameters other than the special ones, like 'self'. Also, there's no colon (:) after the directive. Just the directive, then a space-separated list of parameters.Everything below the specified parameters is implicitly allowed. That means that in the example above these would be valid sources:These, however, would not be valid:2. How to use different directives, what do they each do?The most common directives are:There are others, but these are the ones you're most likely to need.3. How to use multiple directives?You define all your directives inside one meta-tag by terminating them with a semicolon (;):4. How to handle ports?Everything but the default ports needs to be allowed explicitly by adding the port number or an asterisk after the allowed domain:The above would result in:As I mentioned, you can also use an asterisk to explicitly allow all ports:5. How to handle different protocols?By default, only standard protocols are allowed. For example to allow WebSockets ws:// you will have to allow it explicitly:6. How to allow the file protocol file://?If you'll try to define it as such it won’t work. Instead, you'll allow it with the filesystem parameter:7. How to use inline scripts and style definitions?Unless explicitly allowed, you can't use inline style definitions, code inside <script> tags or in tag properties like onclick. You allow them like so:You'll also have to explicitly allow inline, base64 encoded images:8. How to allow eval()?I'm sure many people would say that you don't, since 'eval is evil' and the most likely cause for the impending end of the world. Those people would be wrong. Sure, you can definitely punch major holes into your site's security with eval, but it has perfectly valid use cases. You just have to be smart about using it. You allow it like so:9. What exactly does 'self' mean?You might take 'self' to mean localhost, local filesystem, or anything on the same host. It doesn't mean any of those. It means sources that have the same scheme (protocol), same host, and same port as the file the content policy is defined in. Serving your site over HTTP? No https for you then, unless you define it explicitly.I've used 'self' in most examples as it usually makes sense to include it, but it's by no means mandatory. Leave it out if you don't need it.But hang on a minute! Can't I just use content="default-src *" and be done with it?No. In addition to the obvious security vulnerabilities, this also won’t work as you'd expect. Even though some docs claim it allows anything, that's not true. It doesn't allow inlining or evals, so to really, really make your site extra vulnerable, you would use this:... but I trust you won’t.Further reading:http://content-security-policy.comhttp://en.wikipedia.org/wiki/Content_Security_PolicyAPACHE2 MOD_HEADERSYou could also enable Apache2 mod_headers, on Fedora it's already enabled by default, if you use Ubuntu/Debian enable it like this:On Ubuntu/Debian you can configure headers in the file

/etc/apache2/conf-enabled/security.confNote: This is the bottom part of the file, only the last 3 entries are CSP settings.The first parameter is the directive, the 2nd are the sources to be white-listed. I've added Google analytics and an adserver, which you might have. Furthermore I found that if you have aliases, e.g, www.example.com and example.com configured in Apache2 you should add them to the white-list as well.Inline code is considered harmful, you should avoid it. Copy all the javascripts and css to separate files and add them to the white-list.While you're at it you could take a look at the other header settings and install mod_securityFurther reading:https://developers.google.com/web/fundamentals/security/csp/https://www.w3.org/TR/CSP/

Full-screen iframe with a height of 100%

testndtv

[Full-screen iframe with a height of 100%](https://stackoverflow.com/questions/5867985/full-screen-iframe-with-a-height-of-100)

Is iframe height=100% supported in all browsers?I am using doctype as:In my iframe code, if I say:I mean will it actually take the height of the remaining page (as there is another frame on top with fixed height of 50px)

Is this supported in all major browsers (IE/Firefox/Safari) ?Also regarding scrollbars, even though I say scrolling="no", I can see disabled scrollbars in Firefox...How do I completely hide scrollbars and set the iframe height automatically?

2011-05-03 10:09:31Z

Is iframe height=100% supported in all browsers?I am using doctype as:In my iframe code, if I say:I mean will it actually take the height of the remaining page (as there is another frame on top with fixed height of 50px)

Is this supported in all major browsers (IE/Firefox/Safari) ?Also regarding scrollbars, even though I say scrolling="no", I can see disabled scrollbars in Firefox...How do I completely hide scrollbars and set the iframe height automatically?You could use frameset as the previous answer states but if you are insistent on using iFrames, the 2 following examples should work:An alternative:To hide scrolling with 2 alternatives as shown above:Hack with the second example:To hide the scroll-bars of the iFrame, the parent is made overflow: hidden to hide scrollbars and the iFrame is made to go upto 150% width and height which forces the scroll-bars outside the page and since the body doesn't have scroll-bars one may not expect the iframe to be exceeding the bounds of the page. This hides the scrollbars of the iFrame with full width!1. Change your DOCTYPE to something less strict. Don't use XHTML; it's silly. Just use the HTML 5 doctype and you're good:2. You might need to make sure (depends on the browser) that the iframe's parent has a height. And its parent. And its parent. Etc:I ran into the same problem, I was pulling an iframe into a div.  Try this:The height is set to 100vh which stands for viewport height.  Also, the width could be set to 100vw, although you'll likely run into problems if the source file is responsive (your frame will become very wide).This worked very nicely for me (only if iframe content comes from the same domain):The following tested workingAdditional to the answer of Akshit Soota:

it is importand to explicitly set the height of each parent element, also of the table and column if any:You first add cssThis will be the html:Here is a concise code.  It does relies on a jquery method to find the current window height. On load of iFrame it sets the height of the iframe be the same as the current window. Then to handle resizing of the page, the body tag has an onresize event handler which sets the iframe's height whenever the document is resized.here's a working sample: http://jsbin.com/soqeq/1/As per https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe, percentage values are no longer allowed.

 But the following worked for meThough width:100% works, height:100% does not work. So window.innerHeight has been used. You can also use css pixels for height.Working code: Link Working site:

LinkNice approach for landing pages with video or any embedded content. You can have any additional content below of embedded video, which is revealed when scrolling page down.CSS and HTML code.http://embedresponsively.com/This is a great resource and has worked very well, the few times I've used it. Creates the following code....Only this worked for me (but for "same-domain"):you can use either: or 

Why es6 react component works only with「export default」?

stkvtflw

[Why es6 react component works only with「export default」?](https://stackoverflow.com/questions/31852933/why-es6-react-component-works-only-with-export-default)

This component does work:If i remove last row, it doesn't work.I guess, I don't understand something in es6 syntax. Isn't it have to export without sign "default"? 

2015-08-06 10:09:07Z

This component does work:If i remove last row, it doesn't work.I guess, I don't understand something in es6 syntax. Isn't it have to export without sign "default"? Exporting without default means it's a "named export". You can have multiple named exports in a single file. So if you do this,then you have to import these exports using their exact names. So to use these components in another file you'd have to do,Alternatively if you export as the default export like this,Then in another file you import the default export without using the {}, like this,There can only be one default export per file. In React it's a convention to export one component from a file, and to export it is as the default export.You're free to rename the default export as you import it,And you can import default and named exports at the same time,Add { } while importing and exporting: 

export { ... }; |

import { ... } from './Template';export → import { ... } from './Template'export default → import ... from './Template'Here is a working example: ⚡️Working sandbox to play around: https://codesandbox.io/s/export-import-example-react-jl839?fontsize=14&hidenavigation=1&theme=dark

HTML table with fixed headers?

Cheekysoft

[HTML table with fixed headers?](https://stackoverflow.com/questions/673153/html-table-with-fixed-headers)

Is there a cross-browser CSS/JavaScript technique to display a long HTML table such that the column headers stay fixed on-screen and do not scroll with the table body. Think of the "freeze panes" effect in Microsoft Excel.I want to be able to scroll through the contents of the table, but to always be able to see the column headers at the top.

2009-03-23 12:11:12Z

Is there a cross-browser CSS/JavaScript technique to display a long HTML table such that the column headers stay fixed on-screen and do not scroll with the table body. Think of the "freeze panes" effect in Microsoft Excel.I want to be able to scroll through the contents of the table, but to always be able to see the column headers at the top.I was looking for a solution for this for a while and found most of the answers are not working or not suitable for my situation, so I wrote a simple solution with jQuery.This is the solution outline:Below is the code in a runnable demo.This solution works in Chrome and IE. Since it is based on jQuery, this should work in other jQuery supported browsers as well.If you only care about modern browsers, a fixed header can be achieved much easier by using CSS transforms. Sounds odd, but works great:Support for CSS transforms is widely available except for Internet Explorer 8-.Here is the full example for reference:I've just completed putting together a jQuery plugin that will take valid single table using valid HTML (have to have a thead and tbody) and will output a table that has fixed headers, optional fixed footer that can either be a cloned header or any content you chose (pagination, etc.).  If you want to take advantage of larger monitors it will also resize the table when the browser is resized.  Another added feature is being able to side scroll if the table columns can not all fit in view.http://fixedheadertable.com/on github: http://markmalek.github.com/Fixed-Header-Table/It's extremely easy to setup and you can create your own custom styles for it.  It also uses rounded corners in all browsers.  Keep in mind I just released it, so it's still technically beta and there are very few minor issues I'm ironing out.It works in Internet Explorer 7, Internet Explorer 8, Safari, Firefox and Chrome.I also created a plugin that addresses this issue. My project - jQuery.floatThead has been around for over 4 years now and is very mature.It requires no external styles and does not expect your table to be styled in any particular way. It supports Internet Explorer9+ and Firefox/Chrome.Currently (2018-05) it has:Many (not all) of the answers here are quick hacks that may have solved the problem one person was having, but will work not for every table.Some of the other plugins are old and probably work great with Internet Explorer, but will break on Firefox and Chrome.If you target modern browsers and don't have extravagant styling needs: http://jsfiddle.net/dPixie/byB9d/3/ ... Although the big four version is pretty sweet as well this version handles fluid width a lot better.With the advances of HTML5 and CSS3 this is now possible, at least for modern browsers. The slightly hackish implementation I came up with can be found here: http://jsfiddle.net/dPixie/byB9d/3/. I have tested it in FX 25, Chrome 31 and IE 10 ...Relevant HTML (insert a HTML5 doctype at the top of your document though):Simply put you have a table header, that you visually hide by making it 0px high, that also contains divs used as the fixed header. The table's container leaves enough room at the top to allow for the absolutely positioned header, and the table with scrollbars appear as you would expect.The code above uses the positioned class to position the table absolutely (I'm using it in a popup style dialog) but you can use it in the flow of the document as well by removing the positioned class from the container.It's not perfect. Firefox refuses to make the header row 0px (at least I did not find any way) but stubbornly keeps it at minimum 4px ... It's not a huge problem, but depending on your styling it will mess with your borders etc.The table is also using a faux column approach where the background color of the container itself is used as the background for the header divs, that are transparent.All in all there might be styling issues depending on your requirements, especially borders or complicated backgrounds. There might also be problems with computability, I haven't checked it in a wide variety of browsers yet (please comment with your experiences if you try it out), but I didn't find anything like it so I thought it was worth posting anyway ...All of the attempts to solve this from outside the CSS specification are pale shadows of what we really want: Delivery on the implied promise of THEAD.This frozen-headers-for-a-table issue has been an open wound in HTML/CSS for a long time.In a perfect world, there would be a pure-CSS solution for this problem. Unfortunately, there doesn't seem to be a good one in place.Relevant standards-discussions on this topic include:UPDATE: Firefox shipped position:sticky in version 32. Everyone wins!Here is a jQuery plugin for fixed table headers. It allows the entire page to scroll, freezing the header when it reaches the top. It works well with Twitter Bootstrap tables.GitHub repository: https://github.com/oma/table-fixed-headerIt does not scroll only table content. Look to other tools for that, as one of these other answers. You decide what fits your case the best.Most of the solutions posted here require jQuery. If you are looking for a framework independent solution try Grid: http://www.matts411.com/post/grid/It's hosted on Github here: https://github.com/mmurph211/GridNot only does it support fixed headers, it also supports fixed left columns and footers, among other things.The CSS property position: sticky has great support in most modern browsers (I had issues with Edge, see below).This lets us solve the problem of fixed headers quite easily:Safari needs a vendor prefix: -webkit-sticky.For Firefox, I had to add min-height: 0 to one the parent elements. I forget exactly why this was needed.Most unfortunately, the Microsoft Edge implementation seems to be only semi-working. At least, I had some flickering and misaligned table cells in my testing. The table was still usable, but had significant aesthetic issues.All of the pure CSS solutions I've seen so far-- clever though they may be-- lack a certain level of polish, or just don't work right in some situations. So, I decided to create my own...Features:Here are a couple of fiddles that show the fluid and auto width options:The Auto Width, Fixed Height configuration probably has more use cases, so I'll post the code below.The method I used to freeze the header row is similar to d-Pixie's, so refer to his post for an explanation. There were a slew of bugs and limitations with that technique that could only be fixed with heaps of additional CSS and an extra div container or two.This is a variation on Mahes' solution. You can call it like $('table#foo').scrollableTable();The idea is:The CSS could be:That said, it works for my purposes and you're free to take and modify it.Here's the plugin::) Not-so-clean, but pure HTML/CSS solution.Updated for IE8+

JSFiddle exampleI extended Nathan's function to also support a fixed footer and maximum height.

Also, the function will set the CSS itself, and you only have to support a width.Usage:Fixed height:Maximum height (if the browser supports the CSS 'max-height' option):Script:Two divs, one for header, one for data.  Make the data div scrollable, and use JavaScript to set the width of the columns in the header to be the same as the widths in the data.  I think the data columns widths need to be fixed rather than dynamic.Somehow I ended up with Position:Sticky working fine on my case:I realize the question allows JavaScript, but here is a pure CSS solution I worked up that also allows for the table to expand horizontally. It was tested with Internet Explorer 10 and the latest Chrome and Firefox browsers. A link to jsFiddle is at the bottom.The HTML:And the CSS:http://jsfiddle.net/HNHRv/3/For those who tried the nice solution given by Maximilian Hils, and did not succeed to get it to work with Internet Explorer, I had the same problem (Internet Explorer 11) and found out what was the problem.In Internet Explorer 11 the style transform (at least with translate) does not work on <THEAD>. I solved this by instead applying the style to all the <TH> in a loop. That worked. My JavaScript code looks like this:In my case the table was a GridView in ASP.NET. First I thought it was because it had no <THEAD>, but even when I forced it to have one, it did not work. Then I found out what I wrote above.It is a very nice and simple solution. On Chrome it is perfect, on Firefox a bit jerky, and on Internet Explorer even more jerky. But all in all a good solution.I wish I had found @Mark's solution earlier, but I went and wrote my own before I saw this SO question...Mine is a very lightweight jQuery plugin that supports fixed header, footer, column spanning (colspan), resizing, horizontal scrolling, and an optional number of rows to display before scrolling starts.jQuery.scrollTableBody (GitHub)As long as you have a table with proper <thead>, <tbody>, and (optional) <tfoot>, all you need to do is this:I found this workaround - move header row in a table above table with data:By applying the StickyTableHeaders jQuery plugin to the table, the column headers will stick to the top of the viewport as you scroll down. Example:I like Maximillian Hils' answer but I had a some issues:To get rid of the flicker, I use a timeout to wait until the user has finished scrolling, then I apply the transform - so the header is not visible during scrolling. I have also written this using jQuery, one advantage of that being that jQuery should handle vendor-prefixes for youThe table is wrapped in a div with the class table-container-fixed.I set border-collapse to separate because otherwise we lose borders during translation, and I remove the border on the table to stop content appearing just above the cell where the border was during scrolling.I make the th background white to cover the cells underneath, and I add a border that matches the table border - which is styled using Bootstrap and scrolled out of view.Use the latest version of jQuery, and include the following JavaScript code.This is not an exact solution to the fixed header row, but I have created a rather ingenious method of repeating the header row throughout the long table, yet still keeping the ability to sort.This neat little option requires the jQuery tablesorter plugin. Here's how it works:HTMLObviously, my table has many more rows than this. 193 to be exact, but you can see where the header row repeats. The repeating header row is set up by this function:jQueryA lot of people seem to be looking for this answer. I found it buried in an answer to another question here: Syncing column width of between tables in two different frames, etcOf the dozens of methods I have tried this is the only method I found that works reliably to allow you to have a scrolling bottom table with the header table having the same widths.Here is how I did it, first I improved upon the jsfiddle above to create this function, which works on both td and th (in case that trips up others who use th for styling of their header rows).Next, you need to create two tables, NOTE the header table should have an extra TD to leave room in the top table for the scrollbar, like this:Then do something like:This is the only solution that I found on Stack Overflow that works out of many similar questions that have been posted, that works in all my cases.For example, I tried the jQuery stickytables plugin which does not work with durandal, and the Google Code project here https://code.google.com/p/js-scroll-table-header/issues/detail?id=2Other solutions involving cloning the tables, have poor performance, or suck and don't work in all cases.There is no need for these overly complex solutions. Just make two tables like the examples below and call setHeaderTableWidth function like described here and boom, you are done.If this does not work for you, you probably were playing with your CSS box-sizing property and you need to set it correctly. It is easy to screw up your CSS content by accident. There are many things that can go wrong, so just be aware/careful of that. This approach works for me.Here's a solution that we ended up working with (in order to deal with some edge cases and older versions of Internet Explorer, we eventually also faded out the title bar on scroll then faded it back in when scrolling ends, but in Firefox and WebKit browsers this solution just works. It assumes border-collapse: collapse.The key to this solution is that once you apply border-collapse, CSS transforms work on the header, so it's just a matter of intercepting scroll events and setting the transform correctly. You don't need to duplicate anything. Short of this behavior being implemented properly in the browser, it's hard to imagine a more light-weight solution.JSFiddle: http://jsfiddle.net/podperson/tH9VU/2/It's implemented as a simple jQuery plugin. You simply make your thead's sticky with a call like $('thead').sticky(), and they'll hang around. It works for multiple tables on a page and head sections halfway down big tables.Here is an improved answer to the one posted by Maximilian Hils.This one works in Internet Explorer 11 with no flickering whatsoever:I developed a simple light-weight jQuery plug-in for converting a well formatted HTML table to a scrollable table with fixed table header and columns.The plugin works well to match pixel-to-pixel positioning the fixed section with the scrollable section. Additionally, you could also freeze the number of columns that will be always in view when scrolling horizontally. Demo & Documentation: http://meetselva.github.io/fixed-table-rows-cols/ GitHub repository: https://github.com/meetselva/fixed-table-rows-colsBelow is the usage for a simple table with a fixed header,

Angularjs - ng-cloak/ng-show elements blink

MelkorNemesis

[Angularjs - ng-cloak/ng-show elements blink](https://stackoverflow.com/questions/11249768/angularjs-ng-cloak-ng-show-elements-blink)

I have an issue in angular.js with directive/class ng-cloak or ng-show.Chrome works fine, but Firefox is causing blink of elements with ng-cloak or ng-show.

IMHO it's caused by the converting ng-cloak/ng-show to style="display: none;", probably the Firefox javascript compiler is little bit slower, so the elements appears for a while and then hide?Example:

2012-06-28 17:19:11Z

I have an issue in angular.js with directive/class ng-cloak or ng-show.Chrome works fine, but Firefox is causing blink of elements with ng-cloak or ng-show.

IMHO it's caused by the converting ng-cloak/ng-show to style="display: none;", probably the Firefox javascript compiler is little bit slower, so the elements appears for a while and then hide?Example:Though the documentation doesn't mention it, it might not be enough to add the display: none; rule to your CSS.  In cases where you are loading angular.js in the body or templates aren't compiled soon enough, use the ng-cloak directive and include the following in your CSS:As mentioned in the comment, the !important is important.  For example, if you have the following markupand you happen to be using bootstrap.css, the following selector is more specific for your ng-cloak'ed elementSo if you include a rule with simply display: none;, Bootstrap's rule will take precedence and the display will be set to block, so you'll see the flicker before the template compiles.As mentioned in the documentation, you should add a rule to your CSS to hide it based on the ng-cloak attribute:We use similar tricks on the "Built with Angular" site, which you can view the source of on Github: https://github.com/angular/builtwith.angularjs.orgHope that helps!Make sure AngularJS is included in the head of the HTML.  See ngCloak doc:I've never had much luck using ngCloak.  I still get flickering despite everything mentioned above.  The only surefire way to avoid flicking is to put your content in a template and include the template.  In a SPA, the only HTML that will get evaluated before being compiled by Angular is your main index.html page.  Just take everything inside the body and stick it in a separate file and then:You should never get any flickering that way as Angular will compile the template before adding it to the DOM.ngBind and ngBindTemplate are alternatives that do not require CSS:In addition to the accepted answer if you're using an alternative method of triggering ng-cloak...You may also wish to add some additional specificities to your CSS/LESS:I had a similar issue and found out that if you have a class that contains transitions, the element will blink. I tried to add ng-cloak without success, but by removing the transition the button stopped blinking.I'm using ionic framework and the button-outline has this transitionSimply overwrite the class to remove the transition and the button will stop blinking.UpdateAgain on ionic there is a flicker when using ng-show/ng-hide. Adding the following CSS resolves it:Source: http://forum.ionicframework.com/t/beta-14-ng-hide-show/14270/9I had a problem where a <div ng-show="expression"> would be initially visible for a fraction of a second, even though "expression" was initially false, before the ng-show directive got a chance to run.The solution I used was to manually add the "ng-hide" class, as in <div ng-show="expression" ng-hide>, to make sure it started initially hidden. The ng-show directive will add/remove the ng-hide class as necessary after that.Try to turn off the Firebug. I'm serious. This helps in my case.Apply accepted answer and then make sure that Firebug in your Firefox is turned off: press F12 then turn off Firebug for this page - small button in upper right corner.There's actually two separate problems that can cause the flicker issue and you could be facing either one or both of these. Problem 1: ng-cloak is applied too lateThis issue is solved as descibed in many of the answers on this page is to make sure AngularJS is loaded in the head. See ngCloak doc:Problem 2: ng-cloak is removed too soon This issue is most likely to occur when you have a lot of CSS on your page with rules cascading over one another and the deeper layers of CSS flash up before the top layer is applied. The jQuery solutions in answers involving adding style="display:none" to your element do solve this issue so long as the style is removed late enough (in fact these solutions solve both problems). However, if you prefer not to add styles directly to your HTML you can achieve the same results using ng-show.Starting with the example from the question:Add an additional ng-show rule to your element:(You need to keep ng-cloak to avoid problem 1).Then in your app.run set isPageFullyLoaded:Be aware that depending on exactly what you're doing, app.run may or may not be the best place to set isPageFullyLoaded. The important thing is to make sure that isPageFullyLoaded gets set to true after whatever it is you don't want to flicker is ready to be revealed to the user.It sounds like Problem 1 is the problem the OP is hitting, but others are finding that solution does not work or only partially works because they are hitting Problem 2 instead or as well.We ran into this problem at our company and solved it by adding "display: none" to the CSS styling for those flickering ng-show elements. We didn't have to use ng-cloak at all. Unlike others in this thread, we experienced this issue in Safari but not Firefox or Chrome -- possibly due to Safari's lazy repaint bug in iOS7.For what it's worth, I had a similar issue ng-cloak not working. It may be worth checking your app/site with cache enabled to reuse source files to see if that helps.With my run-in with flickering, I was testing with DevTools open and cache disabled. Leaving the panel closed with caching enabled fixed my issue.Keeping the below statements in head tag fixed this issueofficial documentationI couldn't get any of these methods to work, so I eventually did the following. For the element you want initially hidden:Then in your controller, add this at or near the top:This way, the element is initially hidden, and only shows when the controller code has actually run.You can tune the placement to your needs, perhaps adding some logic. In my case, I switch to a login path if not currently logged in, and didn't want my interface flickering beforehand, so I set $scope.style after the logged-in check.It's better to use ng-if instead of ng-show. ng-if  completely removes and recreates the element in the DOM and helps to avoid ng-shows blinking.I'm using ionic framework, adding css style might not work for certain circumstances, you can try using ng-if instead of ng-show / ng-hideref: https://books.google.com.my/books?id=-_5_CwAAQBAJ&pg=PA138&lpg=PA138&dq=ng-show+hide+flickering+in+ios&source=bl&ots=m2Turk8DFh&sig=8hNiWx26euGR2k_WeyaVzdixJ8k&hl=en&sa=X&redir_esc=y#v=onepage&q=ng-show%20hide%20flickering%20in%20ios&f=false you'd better reference angular document, becuase the version[1.4.9] has update to below that make it could support data-ng-cloak directive. I tried the ng-cloak solution above but it still has intermittent issues with Firefox.

The only workaround that worked for me is to delay the loading of the form until Angular is fully loaded.I simply added ng-init in the app and use ng-if at the form side to check if the variable I set is already loaded.In addition to other answers, if you find the flash of template code to still be occuring it is likely you have your scripts at the bottom of the page and that means that the ng-cloak directive straight up will not work. You can either move your scripts to the head or create a CSS rule.The docs say "For the best result, the angular.js script must be loaded in the head section of the html document; alternatively, the css rule above must be included in the external stylesheet of the application."Now, it doesn't have to be an external stylesheet but just in a  element in the head.source: https://docs.angularjs.org/api/ng/directive/ngCloakI tried every solution posted here and still got flickering in Firefox.If it helps anyone, I solved it by adding style="display: none;" to the main content div, then using jQuery (I was already using it on the page) $('#main-div-id').show(); once everything was loaded after getting data from the server;I actually found the suggestion from Rick Strahl's Web Log fixed my issue perfectly (as I still had the odd issue with ng-cloak blinking raw {{code}} at times, especially while running Firebug):The nuclear option: Hiding the Content manuallyUsing the explicit CSS is the best choice, so the following shouldn’t ever be necessary. But I’ll mention it here as it gives some insight how you can hide/show content manually on load for other frameworks or in your own markup based templates.Before I figured out that I could explicitly embed the CSS style into the page, I had tried to figure out why ng-cloak wasn’t doing its job. After wasting an hour getting nowhere I finally decided to just manually hide and show the container. The idea is simple – initially hide the container, then show it once Angular has done its initial processing and removal of the template markup from the page.You can manually hide the content and make it visible after Angular has gotten control. To do this I used:Notice the display: none style that explicitly hides the element initially on the page.Then once Angular has run its initialization and effectively processed the template markup on the page you can show the content. For Angular this ‘ready’ event is the app.run() function:This effectively removes the display:none style and the content displays. By the time app.run() fires the DOM is ready to displayed with filled data or at least empty data – Angular has gotten control.I tried all of the answers above and nothing worked.  Using ionic to develop a hybrid app and was trying to make an error message not flicker.  I ended up solving my issue by adding an ng-hide class to my element.  My div already has ng-show to show the element when there is an error.  Adding ng-hide set the div to not display before angular is loaded.  No ng-cloak or adding angular to the head necessary.AS from the above discussion is the perfect way to solve the Problem. I'm using ng-show in a directive to show and hide popups.None of the above worked for me, and using ng-if instead of ng-show would be an overkill. That would imply removing and adding the whole popup content into the DOM at every single click. Instead I added an ng-if into the same element to make sure it doesn't show at the document load:Afterwards I added the initialization into the controller responsible of this directive with a timeout:This way I eliminated the flickering issue and avoided the costly operation of DOM insertion at every single click. This came at an expense of using two scope variables for the same purpose instead of one, but so far this is definitely the best option.Tried ng-cloak but still brief blinks. Below code rid them completely.None of the solutions listed above worked for me. I then decided to look at the actual function and realised that when「$scope.watch 」was fired, it was putting a value in the name field which was not meant to be the case. So in the code I set and oldValue and newValue thenEssentially when scope.watch is fired in this case, AngularJS monitors the changes to the name variable (model.value)I would would wrap the <ul> with a <div ng-cloak>I personally decided to use the ng-class attribute rather than the ng-show. I've had a lot more success going this route especially for pop-up windows that are always not shown by default. What used to be <div class="options-modal" ng-show="showOptions"></div>is now: <div class="options-modal" ng-class="{'show': isPrintModalShown}">with the CSS for the options-modal class being display: none by default. The show class contains the display:block CSS.Avoid line breakWorks with Firefox 45.0.1

How to「fadeOut」&「remove」a div in jQuery?

RSilva

[How to「fadeOut」&「remove」a div in jQuery?](https://stackoverflow.com/questions/553402/how-to-fadeout-remove-a-div-in-jquery)

I'm trying to give fadeout effect to a div & delete that div(id = "notification"), when an image is clicked.This is how I'm doing that:This seems to not be working.

What do I need to do to fix this?

2009-02-16 14:06:02Z

I'm trying to give fadeout effect to a div & delete that div(id = "notification"), when an image is clicked.This is how I'm doing that:This seems to not be working.

What do I need to do to fix this?Try this:I think your double quotes around the onclick were making it not work. :)EDIT: As pointed out below, inline javascript is evil and you should probably take this out of the onclick and move it to jQuery's click() event handler. That is how the cool kids are doing it nowadays.you really should try to use jQuery in a separate file, not inline.  Here is what you need:And then this at the bottom of your page in <script> tags at the very least or in a external JavaScript file.If you're using it in several different places, you should turn it into a plugin.And then:Have you tried this?That is, using the current this context to target the element in the inner function and not the id. I use this pattern all the time - it should work.if you are anything like me coming from a google search and looking to remove an html element with cool animation, then this could help you:.fadeOut('slow', this.remove);Use 

jQuery: Check if div with certain class name exists

avatar

[jQuery: Check if div with certain class name exists](https://stackoverflow.com/questions/5783280/jquery-check-if-div-with-certain-class-name-exists)

Using jQuery I'm programmatically generating a bunch of div's like this:Somewhere else in my code I need to detect if these DIVs exist. The class name for the divs is the same but the ID changes for each div. Any idea how to detect them using jQuery?

2011-04-25 21:06:47Z

Using jQuery I'm programmatically generating a bunch of div's like this:Somewhere else in my code I need to detect if these DIVs exist. The class name for the divs is the same but the ID changes for each div. Any idea how to detect them using jQuery?You can simplify this by checking the first object that is returned from JQuery like so:In this case if there is a truthy value at the first ([0]) index, then assume class exists.Edit 04/10/2013: I've created a jsperf test case here.You can use size(), but jQuery recommends you use length to avoid the overhead of another function call:So:http://api.jquery.com/size/http://api.jquery.com/length/UPDATEThe selected answer uses a perf test, but it's slightly flawed since it is also including element selection as part of the perf, which is not what's being tested here. Here is an updated perf test:http://jsperf.com/check-if-div-exists/3My first run of the test shows that property retrieval is faster than index retrieval, although IMO it's pretty negligible. I still prefer using length as to me it makes more sense as to the intent of the code instead of a more terse condition.Native JavaScript is always going to be faster. In this case: (example)If you want to check to see if a parent element contains another element with a specific class, you could use either of the following. (example)Alternatively, you can use the .contains() method on the parent element. (example)..and finally, if you want to check to see if a given element merely contains a certain class, use:Here is a solution without using Jqueryreference linkIt's quite simple...To test for div elements explicitly:if( $('div.mydivclass').length ){...}The simple code is given below :To hide the div with particuler id :Here are some ways:We can use any one of the abobe defined ways based on the requirement.The size() method just returns the number of elements that the jQuery selector selects - in this case the number of elements with the class mydivclass. If it returns 0, the expression is false, and therefore there are none, and if it returns any other number, the divs must exist.check if the div exists with a certain classIn Jquery you can use like this.With JavaScriptThe best way in Javascript:    Here is very sample solution for check class (hasClass) in Javascript:if($("#myid1").hasClass("mydivclass")){//Do any thing}Use this to search whole page

Why is typeof null「object」?

thetrystero

[Why is typeof null「object」?](https://stackoverflow.com/questions/18808226/why-is-typeof-null-object)

I'm reading 'Professional Javascript for Web Developers' Chapter 4 and it tells me that the five types of primitives are: undefined, null, boolean, number and string.If null is a primitive, why does typeof(null) return "object"?Wouldn't that mean that null is passed by reference (I'm assuming here all objects are passed by reference), hence making it NOT a primitive?

2013-09-15 02:02:55Z

I'm reading 'Professional Javascript for Web Developers' Chapter 4 and it tells me that the five types of primitives are: undefined, null, boolean, number and string.If null is a primitive, why does typeof(null) return "object"?Wouldn't that mean that null is passed by reference (I'm assuming here all objects are passed by reference), hence making it NOT a primitive?From the MDN page about the behaviour of the typeof operator:Because the spec says so.As has been pointed out, the spec says so. But since the implementation of JavaScript predates the writing of the ECMAScript spec, and the specification was careful not to correct foibles of the initial implementation, there's still a legitimate question about why it was done this way in the first place. Douglas Crockford calls it a mistake. Kiro Risk thinks it kinda sorta makes sense: From the book YDKJSin short: it is bug in ECMAScript, and the type should be nullreference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null In JavaScript null is "nothing". It is supposed to be something that doesn't exist. Unfortunately, in JavaScript, the data type of null is an object. You can consider it a bug in JavaScript that typeof null is an object. It should be null.In JavaScript, typeof null is 'object', which incorrectly suggests that null is an object. This is a bug and one that unfortunately can't be fixed, because it would break existing code.

Handling errors in Promise.all

Jon

[Handling errors in Promise.all](https://stackoverflow.com/questions/30362733/handling-errors-in-promise-all)

I have an array of Promises that I'm resolving with Promise.all(arrayOfPromises);I go on to continue the promise chain. Looks something like thisI want to add a catch statement to handle an individual promise in case it errors, but when I try, Promise.all returns the first error it finds (disregards the rest), and then I can't get the data from the rest of the promises in the array (that didn't error).I've tried doing something like ..But that doesn't resolve.Thanks!--Edit:What the answers below said were completely true, the code was breaking due to other reasons. In case anyone is interested, this is the solution I ended up with ...Node Express Server ChainAPI Call (route.async call)Putting the .catch for Promise.all before the .then seems to have served the purpose of catching any errors from the original promises, but then returning the entire array to the next .thenThanks! 

2015-05-21 00:46:26Z

I have an array of Promises that I'm resolving with Promise.all(arrayOfPromises);I go on to continue the promise chain. Looks something like thisI want to add a catch statement to handle an individual promise in case it errors, but when I try, Promise.all returns the first error it finds (disregards the rest), and then I can't get the data from the rest of the promises in the array (that didn't error).I've tried doing something like ..But that doesn't resolve.Thanks!--Edit:What the answers below said were completely true, the code was breaking due to other reasons. In case anyone is interested, this is the solution I ended up with ...Node Express Server ChainAPI Call (route.async call)Putting the .catch for Promise.all before the .then seems to have served the purpose of catching any errors from the original promises, but then returning the entire array to the next .thenThanks! Promise.all is all or nothing. It resolves once all promises in the array resolve, or reject as soon as one of them rejects. In other words, it either resolves with an array of all resolved values, or rejects with a single error.Some libraries have something called Promise.when, which I understand would instead wait for all promises in the array to either resolve or reject, but I'm not familiar with it, and it's not in ES6.Your codeI agree with others here that your fix should work. It should resolve with an array that may contain a mix of successful values and errors objects. It's unusual to pass error objects in the success-path but assuming your code is expecting them, I see no problem with it.The only reason I can think of why it would "not resolve" is that it's failing in code you're not showing us and the reason you're not seeing any error message about this is because this promise chain is not terminated with a final catch (as far as what you're showing us anyway).I've taken the liberty of factoring out the "existing chain" from your example and terminating the chain with a catch. This may not be right for you, but for people reading this, it's important to always either return or terminate chains, or potential errors, even coding errors, will get hidden (which is what I suspect happened here):NEW ANSWERFUTURE Promise APITo continue the Promise.all loop (even when a Promise rejects) I wrote a utility function which is called executeAllPromises. This utility function returns an object with results and errors.The idea is that all Promises you pass to executeAllPromises will be wrapped into a new Promise which will always resolve. The new Promise resolves with an array which has 2 spots. The first spot holds the resolving value (if any)  and the second spot keeps the error (if the wrapped Promise rejects). As a final step the executeAllPromises accumulates all values of the wrapped promises and returns the final object with an array for results and an array for errors.Here is the code:As @jib said,Though, you can control certain promises that are "allowed" to fail and we would like to proceed to .then.For example.Using Async await - here one async function func1 is returning a resolved value, and func2 is throwing a error and returning a null in this situation, we can handle it how we want and return accordingly.Output is - [ 'func1', null ]if you get to use the q library https://github.com/kriskowal/q

it has q.allSettled() method that can solve this problem

you can handle every promise depending on its state either fullfiled or rejected

so For those using ES8 that stumble here, you can do something like the following, using async functions:ES2020 introduces new method for the Promise type: Promise.allSettled()

Promise.allSettled gives you a signal when all the input promises are settled, which means they’re either fulfilled or rejected. This is useful in cases where you don’t care about the state of the promise, you just want to know when the work is done, regardless of whether it was successful.Read more in the v8 blog post https://v8.dev/features/promise-combinatorsWe can handle the rejection at the individual promises level, so when we get the results in our result array, the array index which has been rejected will be undefined. We can handle that situation as needed, and use the remaining results.Here I have rejected the first promise, so it comes as undefined, but we can use the result of the second promise, which is at index 1.Have you considered Promise.prototype.finally()?It seems to be designed to do exactly what you want - execute a function once all the promises have settled (resolved/rejected), regardless of some of the promises being rejected.From the MDN documentation:The finally() method can be useful if you want to do some processing or cleanup once the promise is settled, regardless of its outcome.The finally() method is very similar to calling .then(onFinally, onFinally) however there are couple of differences:When creating a function inline, you can pass it once, instead of being forced to either declare it twice, or create a variable for it.A finally callback will not receive any argument, since there's no reliable means of determining if the promise was fulfilled or rejected. This use case is for precisely when you do not care about the rejection reason, or the fulfillment value, and so there's no need to provide it.Unlike Promise.resolve(2).then(() => {}, () => {}) (which will be resolved with undefined), Promise.resolve(2).finally(() => {}) will be resolved with 2.

Similarly, unlike Promise.reject(3).then(() => {}, () => {}) (which will be fulfilled with undefined), Promise.reject(3).finally(() => {}) will be rejected with 3.== Fallback ==If your version of JavaScript doesn't support Promise.prototype.finally() you can use this workaround from Jake Archibald: Promise.all(promises.map(p => p.catch(() => undefined)));Alternately, if you have a case where you don't particularly care about the values of the resolved promises when there is one failure but you still want them to have run, you could do something like this which will resolve with the promises as normal when they all succeed and reject with the failed promises when any of them fail:You can always wrap your promise returning functions in a way that they catches failure and returning instead an agreed value (e.g. error.message), so the exception won't roll all the way up to the Promise.all function and disable it.I've found a way (workaround) to do this without making it sync.So as it was mentioned before Promise.all is all of none.so... Use an enclosing promise to catch and force resolve.You would need to know how to identify an error in your results. If you do not have a standard expected error, I suggest that you run a transformation on each error in the catch block that makes it identifiable in your results.Not the best way to error log, but you can always set everything to an array for the promiseAll, and store the resulting results into new variables. If you use graphQL you need to postprocess the response regardless and if it doesn't find the correct reference it'll crash the app, narrowing down where the problem is atThat's how Promise.all is designed to work. If a single promise reject()'s, the entire method immediately fails.There are use cases where one might want to have the Promise.all allowing for promises to fail. To make this happen, simply don't use any reject() statements in your promise. However, to ensure your app/script does not freeze in case any single underlying promise never gets a response, you need to put a timeout on it.I wrote a npm library to deal with this problem more beautiful.

https://github.com/wenshin/promiseallend————————————————————————————————

Adding script tag to React/JSX

ArrayKnight

[Adding script tag to React/JSX](https://stackoverflow.com/questions/34424845/adding-script-tag-to-react-jsx)

I have a relatively straightforward issue of trying to add inline scripting to a React component. What I have so far:I have also tried:Neither approach seems to execute the desired script. I'm guessing it's a simple thing I'm missing. Can anybody help out?PS: Ignore the foobar, I have a real id actually in use that I didn't feel like sharing.

2015-12-22 21:38:29Z

I have a relatively straightforward issue of trying to add inline scripting to a React component. What I have so far:I have also tried:Neither approach seems to execute the desired script. I'm guessing it's a simple thing I'm missing. Can anybody help out?PS: Ignore the foobar, I have a real id actually in use that I didn't feel like sharing.Do you want to fetch and execute the script again and again, every time this component is rendered, or just once when this component is mounted into the DOM?Perhaps try something like this:However, this is only really helpful if the script you want to load isn't available as a module/package.  First, I would always:This is likely how you installed the packages react and react-document-title from your example, and there is a Typekit package available on npm.Now that we have hooks, a better approach might be to use useEffect like so:Which makes it a great candidate for a custom hook (eg: hooks/useScript.js):Which can be used like so:Further to the answers above you can do this:The div is bound to this and the script is injected into it.Demo can be found on codesandbox.ioMy favorite way is to use React Helmet – it's a component that allows for easy manipulation of the document head in a way you're probably already used to. e.g.https://github.com/nfl/react-helmetIf you need to have <script> block in SSR (server-side rendering), an approach with componentDidMount will not work.You can use react-safe library instead.

The code in React will be:The answer Alex Mcmillan provided helped me the most but didn't quite work for a more complex script tag. I slightly tweaked his answer to come up with a solution for a long tag with various functions that was additionally already setting "src". (For my use case the script needed to live in head which is reflected here as well):I created a React component for this specific case: https://github.com/coreyleelarson/react-typekitJust need to pass in your Typekit Kit ID as a prop and you're good to go.There is a very nice workaround using Range.createContextualFragment.This works for arbitrary HTML and also retains context information such as document.currentScript.You can use npm postscribe to load script in react componentfor multiple scripts, use thisTried all of the proposed solutions but none work. I am trying to embed this to a component but it's not loading. this is a banner from bannersnack.com.You can find best answer at the following link:https://cleverbeagle.com/blog/articles/tutorial-how-to-load-third-party-scripts-dynamically-in-javascriptAccording to Alex McMillan's solution, I have the following adaptation. 

My own environment:  React 16.8+, next v9+// add a custom component named Script

// hooks/Script.js//  Use the custom compoennt, just import it and substitute the old lower case <script> tag with the custom camel case <Script> tag would suffice.

//  index.jsA bit late to the party but I decided to create my own one after looking at @Alex Macmillan answers and that was by passing two extra parameters; the position in which to place the scripts such as  or  and setting up the async to true/false, here it is:The way to call it is exactly the same as shown in the accepted answer of this post but with two extra(again) parameters:Solution depends on scenario. Like in my case, I had to load a calendly embed inside a react component. Calendly looks for a div and reads from it's data-url attribute and loads an iframe inside the said div.It is all good when you first load the page: first, div with data-url is rendered. Then calendly script is added to body. Browser downloads and evaluates it and we all go home happy.Problem comes when you navigate away and then come back into the page. This time the script is still in body and browser doesn't re-download & re-evaluate it.

How to wait for the 'end' of 'resize' event and only then perform an action?

Rella

[How to wait for the 'end' of 'resize' event and only then perform an action?](https://stackoverflow.com/questions/5489946/how-to-wait-for-the-end-of-resize-event-and-only-then-perform-an-action)

So I currently use something like:But this gets called many times while resizing process goes on. Is it possible to catch an event when it ends?

2011-03-30 17:37:15Z

So I currently use something like:But this gets called many times while resizing process goes on. Is it possible to catch an event when it ends?I had luck with the following recommendation: http://forum.jquery.com/topic/the-resizeend-eventHere's the code so you don't have to dig through his post's link & source:Thanks sime.vidas for the code!You can use setTimeout() and clearTimeout()Code example on jsfiddle.This is the code that I write according to @Mark Coleman answer:Thanks Mark!Internet Explorer provides a resizeEnd event. Other browsers will trigger the resize event many times while you're resizing.There are other great answers here that show how to use setTimeout and the .throttle, .debounce methods from lodash and underscore, so I will mention Ben Alman's throttle-debounce jQuery plugin which accomplishes what you're after.Suppose you have this function that you want to trigger after a resize:Throttle Example

In the following example, onResize() will only be called once every 250 milliseconds during a window resize.Debounce Example

In the following example, onResize() will only be called once at the end of a window resizing action. This achieves the same result that @Mark presents in his answer.There is an elegant solution using the Underscore.js So, if you are using it in your project you can do the following -This should be enough :) But, If you are interested to read more on that, you can check my blog post - http://rifatnabi.com/post/detect-end-of-jquery-resize-event-using-underscore-debounce(deadlink)One solution is extend jQuery with a function, e.g.: resizedSample usage:

$(window).resized(myHandler, 300);

You can store a reference id to any setInterval or setTimeout. Like this:To do this without a "global" variable you can add a local variable to the function itself. Ex:You can use setTimeout() and clearTimeout() in conjunction with jQuery.data:UpdateI wrote an extension to enhance jQuery's default on (& bind)-event-handler. It attaches an event handler function for one or more events to the selected elements if the event was not triggered for a given interval. This is useful if you want to fire a callback only after a delay, like the resize event, or else.

https://github.com/yckart/jquery.unevent.jsUse it like any other on or bind-event handler, except that you can pass an extra parameter as a last:http://jsfiddle.net/ARTsinn/EqqHx/This is a modification to Dolan's code above, I've added a feature which checks the window size at the start of the resize and compares it to the size at the end of the resize, if size is either bigger or smaller than the margin (eg. 1000) then it reloads.Mark Coleman's answer is certainly far better than the selected answer, but if you want to avoid the global variable for the timeout ID (the doit variable in Mark's answer), you could do one of the following:(1) Use a an immediately invoked function expression (IIFE) to create a closure.(2) Use a property of the event handler function.i wrote a litte wrapper function on my own...Here is the usage:Well, as far as the window manager is concerned, each resize event is its own message, with a distinct beginning and end, so technically, every time the window is resized, it is the end.Having said that, maybe you want to set a delay to your continuation? Here's an example.Here is VERY simple script to trigger both a 'resizestart' and 'resizeend' event on the window object.There is no need to muck around with dates and times.The d variable represents the number of milliseconds between resize events before triggering the resize end event, you can play with this to change how sensitive the end event is.To listen to these events all you need to do is:resizestart: $(window).on('resizestart', function(event){console.log('Resize Start!');});resizeend:

$(window).on('resizeend', function(event){console.log('Resize End!');});This is what I use for delaying repeated actions, it can be called in multiple places in your code:Usage:There is a much simpler method to execute a function at the end of the resize than calculate the delta time between two calls, simply do it like this :And the equivalent for Angular2 :For the angular method, use the () => { } notation in the setTimeout to preserve the scope, otherwise you will not be able to make any function calls or use this.since the selected answer didn't actually work .. and if you're not using jquery here is a simple throttle function with an example of how to use it with window resizingthis worked for me as I did not want to use any plugins.On window re-size invoke "setFn" which gets width of window and save as "originalWindowSize". Then invoke "checkFn" which after 500ms (or your preference) gets the current window size, and compares the original to the current, if they are not the same, then the window is still being re-sized. Don't forget to remove console messages in production, and (optional) can make "setFn" self executing.      This worked for what I was trying to do in chrome. This won't fire the callback until 200ms after last resize event.Better alternative also created by me is here:

https://stackoverflow.com/a/23692008/2829600

(supports "delete functions")I wrote this simple function for handling delay in execution, useful inside jQuery .scroll() and .resize() So callback_f will run only once for specific id string.http://jsfiddle.net/04fLy8t4/I implemented function which trig two events on user DOM element:Code:I don't know is my code work for other but it's really do a great job for me. I got this idea by analyzing Dolan Antenucci code because his version is not work for me and I really hope it'll be helpful to someone.I wrote a function that passes a function when wrapped in any resize event. It uses an interval so that the resize even isn't constantly creating timeout events. This allows it to perform independently of the resize event other than a log entry that should be removed in production. https://github.com/UniWrighte/resizeOnEnd/blob/master/resizeOnEnd.js}

get size of json object

nkcmr

[get size of json object](https://stackoverflow.com/questions/6756104/get-size-of-json-object)

i have a json object that gets returned by an AJAX request and I am having some trouble with the .length because it keeps returning undefined. Just wondering if I'm using it right:They both return undefined even though they are valid objects.Update:

Sample of the JSON object returned:

2011-07-20 01:44:13Z

i have a json object that gets returned by an AJAX request and I am having some trouble with the .length because it keeps returning undefined. Just wondering if I'm using it right:They both return undefined even though they are valid objects.Update:

Sample of the JSON object returned:You can use something like thisYour problem is that your phones object doesn't have a length property (unless you define it somewhere in the JSON that you return) as objects aren't the same as arrays, even when used as associative arrays. If the phones object was an array it would have a length. You have two options (maybe more).If you're only targeting new browsers option 2 could look like thisConsider using underscore.js. It will allow you to check the size i.e. like that:you dont need to change your JSON format.replace:with:try thisuse this oneor

parseInt(null, 24) === 23… wait, what?

Robert

[parseInt(null, 24) === 23… wait, what?](https://stackoverflow.com/questions/6459758/parseintnull-24-23-wait-what)

Alright, so I was messing around with parseInt to see how it handles values not yet initialized and I stumbled upon this gem. The below happens for any radix 24 or above.I tested it in IE, Chrome and Firefox and they all alert true, so I'm thinking it must be in the specification somewhere. A quick Google search didn't give me any results so here I am, hoping someone can explain.I remember listening to a Crockford speech where he was saying typeof null === "object" because of an oversight causing Object and Null to have a near identical type identifier in memory or something along those lines, but I can't find that video now.Try it: http://jsfiddle.net/robert/txjwP/Edit Correction: a higher radix returns different results, 32 returns 785077

Edit 2 From zzzzBov: [24...30]:23, 31:714695, 32:785077, 33:859935, 34:939407, 35:1023631, 36:1112745tl;drExplain why parseInt(null, 24) === 23 is a true statement.

2011-06-23 19:48:18Z

Alright, so I was messing around with parseInt to see how it handles values not yet initialized and I stumbled upon this gem. The below happens for any radix 24 or above.I tested it in IE, Chrome and Firefox and they all alert true, so I'm thinking it must be in the specification somewhere. A quick Google search didn't give me any results so here I am, hoping someone can explain.I remember listening to a Crockford speech where he was saying typeof null === "object" because of an oversight causing Object and Null to have a near identical type identifier in memory or something along those lines, but I can't find that video now.Try it: http://jsfiddle.net/robert/txjwP/Edit Correction: a higher radix returns different results, 32 returns 785077

Edit 2 From zzzzBov: [24...30]:23, 31:714695, 32:785077, 33:859935, 34:939407, 35:1023631, 36:1112745tl;drExplain why parseInt(null, 24) === 23 is a true statement.It's converting null to the string "null" and trying to convert it. For radixes 0 through 23, there are no numerals it can convert, so it returns NaN. At 24, "n", the 14th letter, is added to the numeral system. At 31, "u", the 21st letter, is added and the entire string can be decoded. At 37 on there is no longer any valid numeral set that can be generated and NaN is returned.Mozilla tells us:In the spec, 15.1.2.2/1 tells us that the conversion to string is performed using the built-in ToString, which (as per 9.8) yields "null" (not to be confused with toString, which would yield "[object Window]"!).So, let's consider parseInt("null", 24).Of course, this isn't a base-24 numeric string in entirety, but "n" is: it's decimal 23. Now, parsing stops after the decimal 23 is pulled out, because "u" isn't found in the base-24 system:(And this is why parseInt(null, 23) (and lower radices) gives you NaN rather than 23: "n" is not in the base-23 system.)Ignacio Vazquez-Abrams is correct, but lets see exactly how it works...From 15.1.2.2 parseInt (string , radix):There are two important parts here. I bolded both of them. So first of all, we have to find out what the toString representation of null is. We need to look at Table 13 — ToString Conversions in section 9.8.0 for that information:Great, so now we know that doing toString(null) internally yields a 'null' string. Great, but how exactly does it handle digits (characters) that aren't valid within the radix provided?We look above to 15.1.2.2 and we see the following remark:That means that we handle all digits PRIOR to the specified radix and ignore everything else.Basically, doing parseInt(null, 23) is the same thing as parseInt('null', 23). The u causes the two l's to be ignored (even though they ARE part of the radix 23). Therefore, we only can only parse n, making the entire statement synonymous to parseInt('n', 23). :)Either way, great question!Is equivalent towhich is equivalent toThe digits for base 24 are 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, a, b, c, d, e, f, ..., n.The language spec sayswhich is the part that ensures that C-style integer literals like 15L parse properly,

so the above is equivalent to"n" is the 23-rd letter of the digit list above.Q.E.D.I guess null gets converted to a string "null". So n is actually 23 in 'base24' (same in  'base25'+), u is invalid in 'base24' so the rest of the string null will be ignored. That's why it outputs 23 until u will become valid in 'base31'.parseInt uses alphanumeric representation, then in base-24 "n" is valid, but "u" is invalid character, then parseInt only parses the value "n"....as an example, try with this:The result will be "3".

How to call multiple JavaScript functions in onclick event?

Qcom

[How to call multiple JavaScript functions in onclick event?](https://stackoverflow.com/questions/3910736/how-to-call-multiple-javascript-functions-in-onclick-event)

Is there any way to use the onclick html attribute to call more than one JavaScript function?

2010-10-11 23:44:39Z

Is there any way to use the onclick html attribute to call more than one JavaScript function?But really, you're better off not using onclick at all and attaching the event handler to the DOM node through your Javascript code.  This is known as unobtrusive javascript.     A link with 1 function definedFiring multiple functions from someFunc()This is the code required if you're using only JavaScript and not jQueryI would use the element.addEventListener method to link it to a function. From that function you can call multiple functions.The advantage I see in binding an event to a single function and then calling multiple functions is that you can perform some error checking, have some if else statements so that some functions only get called if certain criteria are met.Sure, simply bind multiple listeners to it.Short cutting with jQueryES6 ReactYou can achieve/call one event with one or more methods.You can add multiple only by code even if you have the second onclick atribute in the html it gets ignored, and click2 triggered never gets printed, you could add one on action the mousedown but that is just an workaround.   So the best to do is add them by code as in:You need to take care as the events can pile up, and if you would add many events you can loose count of the order they are ran.One addition, for maintainable JavaScript is using a named function.This is the example of the anonymous function:But imagine you have a couple of them attached to that same element and want to remove one of them. It is not possible to remove a single anonymous function from that event listener. Instead, you can use named functions:This also keeps your code a lot easier to read and maintain. Especially if your function is larger. You can compose all the functions into one and call them.Libraries like Ramdajs has a function to compose multiple functions into one.or you can put the composition as a seperate function in js file and call it 

How to prevent form from being submitted?

Nathan Osman

[How to prevent form from being submitted?](https://stackoverflow.com/questions/3350247/how-to-prevent-form-from-being-submitted)

I have a form that has a submit button in it somewhere.However, I would like to somehow 'catch' the submit event and prevent it from occurring.Is there some way I can do this?I can't modify the submit button, because it's part of a custom control.

2010-07-28 05:54:53Z

I have a form that has a submit button in it somewhere.However, I would like to somehow 'catch' the submit event and prevent it from occurring.Is there some way I can do this?I can't modify the submit button, because it's part of a custom control.Unlike the other answers, return false is only part of the answer. Consider the scenario in which a JS error occurs prior to the return statement...htmlscriptreturning false here won't be executed and the form will be submitted either way. You should also call preventDefault to prevent the default form action for Ajax form submissions.In this case, even with the bug the form won't submit!Alternatively, a try...catch block could be used.You can use inline event onsubmit like thisOrDemoNow, this may be not a good idea when making big projects. You may need to use Event Listeners.Please read more about Inline Events vs Event Listeners (addEventListener and IE's attachEvent) here. For I can not explain it more than Chris Baker did. Attach an event listener to the form using .addEventListener() and then call the .preventDefault() method on event:I think it's a better solution than defining a submit event handler inline with the onsubmit attribute because it separates webpage logic and structure. It's much easier to maintain a project where logic is separated from HTML. See: Unobtrusive JavaScript.Using the .onsubmit property of the form DOM object is not a good idea because it prevents you from attaching multiple submit callbacks to one element. See addEventListener vs onclick

.Try this one...HTML CodejQuery CodeorThe following works as of now (tested in chrome and firefox):where validateMyForm() is a function that returns false if validation fails. The key point is to use the name event. We cannot use for e.g. e.preventDefault()For prevent form from submittion you only need to do this.By using above code this will prevent your form submittion.To follow unobtrusive JavaScript programming conventions, and depending on how quickly the DOM will load, it may be a good idea to use the following:Then wire up events using the onload or DOM ready if you're using a library.Also, I would always use the action attribute as some people may have some plugin like NoScript running which would then break the validation. If you're using the action attribute, at the very least your user will get redirected by the server based on the backend validation. If you're using something like window.location, on the other hand, things will be bad.Here my answer :I add event.preventDefault(); on onsubmit and it works.You can add eventListner to the form, that preventDefault() and convert form data to JSON as below:

How to loop through array in jQuery?

Rickstar

[How to loop through array in jQuery?](https://stackoverflow.com/questions/3943494/how-to-loop-through-array-in-jquery)

I am trying to loop through an array. I have the following code:Am trying to get all the data out of the array. Can some one lead me in the right path please?

2010-10-15 15:04:10Z

I am trying to loop through an array. I have the following code:Am trying to get all the data out of the array. Can some one lead me in the right path please?(Update: My other answer here lays out the non-jQuery options much more thoroughly. The third option below, jQuery.each, isn't in it though.)Four options:or in ES2015+:Advantages: Straight-forward, no dependency on jQuery, easy to understand, no issues with preserving the meaning of this within the body of the loop, no unnecessary overhead of function calls (e.g., in theory faster, though in fact you'd have to have so many elements that the odds are you'd have other problems; details).As of ECMAScript5, arrays have a forEach function on them which makes it easy to loop through the array:Link to docs(Note: There are lots of other functions, not just forEach; see the answer referenced above for details.)Advantages: Declarative, can use a prebuilt function for the iterator if you have one handy, if your loop body is complex the scoping of a function call is sometimes useful, no need for an i variable in your containing scope.Disadvantages: If you're using this in the containing code and you want to use this within your forEach callback, you have to either A) Stick it in a variable so you can use it within the function, B) Pass it as a second argument to forEach so forEach sets it as this during the callback, or C) Use an ES2015+ arrow function, which closes over this. If you don't do one of those things, in the callback this will be undefined (in strict mode) or the global object (window) in loose mode. There used to be a second disadvantage that forEach wasn't universally supported, but here in 2018, the only browser you're going to run into that doesn't have forEach is IE8 (and it can't be properly polyfilled there, either).See the answer linked at the top of this answer for details on how that works.Advantages: Simple, straightforward, offers a contained-scope variable (or constant, in the above) for the entry from the array.Disadvantages: Not supported in any version of IE.(Link to docs)Advantages: All of the same advantages as forEach, plus you know it's there since you're using jQuery.Disadvantages: If you're using this in the containing code, you have to stick it in a variable so you can use it within the function, since this means something else within the function.You can avoid the this thing though, by either using $.proxy:...or Function#bind:...or in ES2015 ("ES6"), an arrow function:Don't use for..in for this (or if you do, do it with proper safeguards). You'll see people saying to (in fact, briefly there was an answer here saying that), but for..in does not do what many people think it does (it does something even more useful!). Specifically, for..in loops through the enumerable property names of an object (not the indexes of an array). Since arrays are objects, and their only enumerable properties by default are the indexes, it mostly seems to sort of work in a bland deployment. But it's not a safe assumption that you can just use it for that. Here's an exploration: http://jsbin.com/exohi/3I should soften the "don't" above. If you're dealing with sparse arrays (e.g., the array has 15 elements in total but their indexes are strewn across the range 0 to 150,000 for some reason, and so the length is 150,001), and if you use appropriate safeguards like hasOwnProperty and checking the property name is really numeric (see link above), for..in can be a perfectly reasonable way to avoid lots of unnecessary loops, since only the populated indexes will be enumerated.jQuery.each()array iterationobject iterationexample:for loopexamplefor infor offorEachMDN loops and iteratorsNo need for jquery here, just a for loop works:A traditional for-loop has three components :These three components are seperated from each other by a ; symbol. Content for each of these three components is optional, which means that the following is the most minimal for-loop possible :Of course, you will need to include an if(condition === true) { break; }  or an if(condition === true) { return; } somewhere inside that for-loop to get it to stop running.Usually, though, the initialization is used to declare an index, the condition is used to compare that index with a minimum or maximum value, and the afterthought is used to increment the index :The traditional way to loop through an array, is this :Or, if you prefer to loop backwards, you do this :There are, however, many variations possible, like eg. this one :... or this one ...... or this one :Whichever works best is largely a matter of both personal taste and the specific use case you're implementing.Each of these variations is supported by all browsers, including véry old ones!One alternative to a for-loop is a while-loop. To loop through an array, you could do this :Like traditional for-loops, while-loops are supported by even the oldest of browsers.Also, every while loop can be rewritten as a for-loop. For example, the while-loop hereabove behaves the exact same way as this for-loop :In JavaScript, you can also do this :This should be used with care, however, as it doesn't behave the same as a traditonal for-loop in all cases, and there are potential side-effects that need to be considered. See Why is using "for...in" with array iteration a bad idea? for more details.As an alternative to for...in, there's now also for for...of. The following example shows the difference between a for...of loop and a for...in loop :You also need to consider that no version of Internet Explorer supports for...of (Edge 12+ does) and that for...in requires at least IE10.An alternative to For-loops is Array.prototype.forEach(), which uses the following syntax :Array.prototype.forEach() is supported by all modern browsers, as well as IE9+.Additionally to the four other options mentioned, jQuery also had its own foreach variation.It uses the following syntax :Use the each() function of jQuery.Here is an example:Use jQuery each(). There are other ways but each is designed for this purpose.And do not put the comma after the last number.You can use a for() loop:ES6 syntax with arrow function and interpolation:Try this:Alternative ways of iteration through array/string with side effects

How do I call a JavaScript function on page load?

palAlaa

[How do I call a JavaScript function on page load?](https://stackoverflow.com/questions/3842614/how-do-i-call-a-javascript-function-on-page-load)

Traditionally, to call a JavaScript function once the page has loaded, you'd add an onload attribute to the body containing a bit of JavaScript (usually only calling a function)When the page has loaded, I want to run some JavaScript code to dynamically populate portions of the page with data from the server. I can't use the onload attribute since I'm using JSP fragments, which have no body element I can add an attribute to.Is there any other way to call a JavaScript function on load? I'd rather not use jQuery as I'm not very familiar with it.

2010-10-01 19:57:58Z

Traditionally, to call a JavaScript function once the page has loaded, you'd add an onload attribute to the body containing a bit of JavaScript (usually only calling a function)When the page has loaded, I want to run some JavaScript code to dynamically populate portions of the page with data from the server. I can't use the onload attribute since I'm using JSP fragments, which have no body element I can add an attribute to.Is there any other way to call a JavaScript function on load? I'd rather not use jQuery as I'm not very familiar with it.If you want the onload method to take parameters, you can do something similar to this:This binds onload to an anonymous function, that when invoked, will run your desired function, with whatever parameters you give it. And, of course, you can run more than one function from inside the anonymous function.Another way to do this is by using event listeners, here how you use them:Explanation:DOMContentLoaded It means when the DOM Objects of the document are fully loaded and seen by JavaScript, also this could have been "click", "focus"...function() Anonymous function, will be invoked when the event occurs.Your original question was unclear, assuming Kevin's edit/interpretation is correct then this first option doesn't applyThe typical options is using the onload event:You can also place your javascript at the very end of the body; it won't start executing until the doc is complete.And, another options, is to consider using a JS framework which intrinsically does this:Or with jQuery if you want:If you want to call more than one function on page load, take a look at this article for more information:You have to call the function you want to be called on load (i.e., load of the document/page).

For example, the function you want to load when document or page load is called "yourFunction". This can be done by calling the function on load event of the document. Please see the code below for more detail. Try the code below:For detect loaded html (from server) inserted into DOM use MutationObserver or detect moment in your loadContent function when data are ready to use

Can we omit parentheses when creating an object using the「new」operator?

Behrang Saeedzadeh

[Can we omit parentheses when creating an object using the「new」operator?](https://stackoverflow.com/questions/3034941/can-we-omit-parentheses-when-creating-an-object-using-the-new-operator)

I have seen objects being created this way:But I thought that the parentheses are not optional when creating an object:Is the former way of creating objects valid and defined in the ECMAScript standard? Are there any differences between the former way of creating objects and the later? Is one preferred over the other?

2010-06-14 04:22:41Z

I have seen objects being created this way:But I thought that the parentheses are not optional when creating an object:Is the former way of creating objects valid and defined in the ECMAScript standard? Are there any differences between the former way of creating objects and the later? Is one preferred over the other?Quoting David Flanagan1:Personally, I always use the parenthesis, even when the constructor takes no arguments. In addition, JSLint may hurt your feelings if you omit the parenthesis. It reports Missing '()' invoking a constructor, and there doesn't seem to be an option for the tool to tolerate parenthesis omission.1 David Flanagan: JavaScript the Definitive Guide: 4th Edition (page 75)There are differences between the two:It happens because new Date() and new Date have different precedence. According to MDN the part of JavaScript operator precedence table we are interested in looks like:From this table follows that:Knowing all that, it can be assumed that new Foo() is preferred.I don't think there is any difference when you are using the "new" operator. Be careful about getting into this habit, as these two lines of code are NOT the same:If you do not have arguments to pass, the parentheses are optional. Omitting them is just syntactic sugar.https://people.mozilla.org/~jorendorff/es6-draft.html#sec-new-operator-runtime-semantics-evaluationHere's the part of the ES6 spec that defines how the two variants operate. The no-parentheses variant passes an empty argument list.Interestingly, the two forms have different grammatical meanings. This comes up when you try to access a member of the result.There's no difference between the two.

Can I use ES6's arrow function syntax with generators? (arrow notation)

Ashley Coolman

[Can I use ES6's arrow function syntax with generators? (arrow notation)](https://stackoverflow.com/questions/27661306/can-i-use-es6s-arrow-function-syntax-with-generators-arrow-notation)

ie how do I express this:with arrows. I've tried all the combinations I could think of, and I can't find any documentation on it.(currently using node v0.11.14)

2014-12-26 19:51:26Z

ie how do I express this:with arrows. I've tried all the combinations I could think of, and I can't find any documentation on it.(currently using node v0.11.14)You can't. Sorry. According to MDNFrom a spec document (my emphasis):First of all Arrow-functions () => {} are not made to replace Inline-functions function(){} and they are different.

Inline-Functions are simply Functions, so the question is what the difference between Arrow-functions and Inline-Functions are.Some more quick details herehttps://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functionsNote that generators without yield don't make sense.http://tc39wiki.calculist.org/es6/arrow-functions/Yield in an Arrow-Function will throw Semantic Error: http://www.ecma-international.org/In the End the reason is in the deep complexity in the implementation of ECMA6. C# does not allow this as well for somewhat similar reasons.In addition to the discussion on esdiscuss.org and the Ecma TC39 committee ES6 meeting notes from November 2013 mentioned above, generator arrows were revisited in two September 2016 ES7 meetings [1] [2]. After a discussion about pros and cons of various syntax (mainly =*> and =>*) and a lack of justifications and use cases for this feature, they came to the conclusion that:The proposal for generator arrows was moved to Stage 1 with Brendan Eich and Domenic Denicola as champions. Asynchronous iteration mentioned above was finished and implemented in 2018. In Oct 2019 an official repo by Sergey Rubanov appeared with more discussion about syntax and other details.I was also having the same question and came here. After reading the posts and comments, I felt using generator in an arrow function seems to be vague:This is what may be the big reason they didn't implement generator in relation with arrow function.But, if I were one of them, I could have thought like this:This feels just like we have asynchronous function:Because, with normal function the async keyword exist, so arrow function is utilizing it - async () => is likely to seem async function().But, there's no keyword like gen or generator and alas arrow function is not using it.To conclude:Even if they wish to implement the generator in the arrow function, I think they need to re-think about generator syntax in core js:And this will be a big blunder. So, keeping arrow function out from the generator, is pretty cool.Following @Bergi comment:I will say that generator purpose to use is run-stop-run and so I don't think we need to care about prototype, lexical this, etc.I know that this is very late, but another possible reason could be syntax. maybe (*() => {}) works, but what about (9 ** () => {})? Is that 9 to the power of an arrow function, returning NaN, or is it 9 times a generator arrow function, also returning NaN? It could be done with some alternative syntax, like =>* as mentioned by another answer here, but maybe there was a desire to preserve the consistency of the generator function syntax (eg. function* () {} and { *genMethod() {} }) when it was being implemented. Not too much of an excuse, but a reason for it.Right now you can not, but in future you might be because TC39 release proposal for same in october 2019, which is in stage 1.There is a nice workaround with redux-saga

How to Get Element By Class in JavaScript?

Taylor

[How to Get Element By Class in JavaScript?](https://stackoverflow.com/questions/3808808/how-to-get-element-by-class-in-javascript)

I want to replace the contents within a html element so I'm using the following function for that:The above works great but the problem is I have more than one html element on a page that I want to replace the contents of. So I can't use ids but classes instead. I have been told that javascript does not support any type of inbuilt get element by class function. So how can the above code be revised to make it work with classes instead of ids? P.S. I don't want to use jQuery for this.

2010-09-28 00:13:15Z

I want to replace the contents within a html element so I'm using the following function for that:The above works great but the problem is I have more than one html element on a page that I want to replace the contents of. So I can't use ids but classes instead. I have been told that javascript does not support any type of inbuilt get element by class function. So how can the above code be revised to make it work with classes instead of ids? P.S. I don't want to use jQuery for this.This code should work in all browsers.The way it works is by looping through all of the elements in the document, and searching their class list for matchClass. If a match is found, the contents is replaced.jsFiddle Example, using Vanilla JS (i.e. no framework)Of course, all modern browsers now support the following simpler way:but be warned it doesn't work with IE8 or before. See http://caniuse.com/getelementsbyclassnameAlso, not all browsers will return a pure NodeList like they're supposed to.You're probably still better off using your favorite cross-browser library.That will work in "modern" browsers that implement that method (IE8+).If you want to provide support for older browsers, you could load a stand-alone selector engine like Sizzle (4KB mini+gzip) or Peppy (10K mini) and fall back to it if the native querySelector method is not found. Is it overkill to load a selector engine just so you can get elements with a certain class? Probably. However, the scripts aren't all that big and you will may find the selector engine useful in many other places in your script.A Simple and an easy way      I'm surprised there are no answers using Regular Expressions. This is pretty much Andrew's answer, using RegExp.test instead of String.indexOf, since it seems to perform better for multiple operations, according to jsPerf tests.

It also seems to be supported on IE6.If you look for the same class(es) frequently, you can further improve it by storing the (precompiled) regular expressions elsewhere, and passing them directly to the function, instead of a string.This should work in pretty much any browser...You should be able to use it like this:I assume this was not a valid option when this was originally asked, but you can now use document.getElementsByClassName('');. For example:See the MDN documentation for more.I think something like:would work When some elements lack ID, I use jQuery like this:This might be a strange solution, but maybe someone find it useful.

Is it possible to animate scrollTop with jQuery?

Bryan Field

[Is it possible to animate scrollTop with jQuery?](https://stackoverflow.com/questions/4034659/is-it-possible-to-animate-scrolltop-with-jquery)

I want to smoothly scroll down. I do not want to have to write a function for that - especially if jQuery already has one.

2010-10-27 15:00:48Z

I want to smoothly scroll down. I do not want to have to write a function for that - especially if jQuery already has one.You can just use .animate() the scrollTop property, like this:Nick's answer works great.  Be careful when specifying a complete() function inside the animate() call because it will get executed twice since you have two selectors declared (html and body).Here's how you can avoid the double callback.Nick's answer works great and the default settings are nice, but you can more fully control the scrolling by completing all of the optional settings.here is what it looks like in the API:so you could do something like this:here is the jQuery .animate function api page: http://api.jquery.com/animate/Like Kita mentioned there is a problem with multiple callbacks firing when you animate on both 'html' and 'body'. Instead of animating both and blocking subsequent callbacks I prefer to use some basic feature detection and only animate the scrollTop property of a single object.The accepted answer on this other thread gives some insight as to which object's scrollTop property we should try to animate: pageYOffset Scrolling and Animation in IE8UPDATE - - -The above attempt at feature detection fails. Seems like there's not a one-line way of doing it as webkit type browsers pageYOffset property always returns zero when there's a doctype.

Instead, I found a way to use a promise to do a single callback for every time the animation executes.I have what I believe is a better solution than the $('html, body') hack.It's not a one-liner, but the issue I had with $('html, body') is that if you log $(window).scrollTop() during the animation, you'll see that the value jumps all over the place, sometimes by hundreds of pixels (though I don't see anything like that happening visually).  I needed the value to be predictable, so that I could cancel the animation if the user grabbed the scroll bar or twirled the mousewheel during the auto-scroll.Here is a function will animate scrolling smoothly:Below is a more complex version that will cancel the animation on user interaction, as well as refiring until the target value is reached, which is useful when trying to set the scrollTop instantaneously (e.g. simply calling $(window).scrollTop(1000) — in my experience, this fails to work about 50% of the time.)I was having issues where the animation was always starting from the top of the page after a page refresh in the other examples.I fixed this by not animating the css directly but rather calling window.scrollTo(); on each step:This also gets around the html vs body issue as it's using cross-browser JavaScript.Have a look at http://james.padolsey.com/javascript/fun-with-jquerys-animate/ for more information on what you can do with jQuery's animate function.You can use the jQuery animation for scroll page with a specific duration:where 1024px is the scroll offset and 5000 is the duration of animations in millisecond.Try        the           scrollTo            plugin.If you want to move down at the end of the page (so you don't need to scroll down to bottom) , you can use:But if you really want to add some animation while scrolling, you can try my simple plugin (AnimateScroll) which currently supports more than 30 easing stylesthe cross browser code is:it is without animation but works everywhere

Best way to get child nodes

Elias Van Ootegem

[Best way to get child nodes](https://stackoverflow.com/questions/10381296/best-way-to-get-child-nodes)

I was wondering, JavaScript offers a variety of methods to get the first child element from any element, but which is the best? By best, I mean: most cross-browser compatible, fastest, most comprehensive and predictable when it comes to behaviour. A list of methods/properties I use as aliases:This works for both cases:That’s in case of forms, or <div> iteration. If I might encounter text elements:As far as I can work out, firstChild uses the NodeList from childNodes, and firstElementChild uses children. I’m basing this assumption on the MDN reference:I’m guessing that, in terms of speed, the difference, if any, will be next to nothing, since firstElementChild is effectively a reference to children[0], and the children object is already in memory anyway.What does throw me, is the childNodes object. I’ve used it to take a look at a form, in a table element. While children lists all form elements, childNodes also seems to include whitespace from the HTML code:Both log <TextNode textContent="\n ">All log <input type="text"…>. How come? I’d understand that one object would allow me to work with the「raw」HTML code, while the other sticks to the DOM, but the childNodes element seems to work on both levels.To get back to my initial question, my guess would be: if I want the most comprehensive object, childNodes is the way to go, but because of its comprehensiveness, it might not be the most predictable in terms of it returning the element I want/expect at any given moment. Cross-browser support might also prove to be a challenge in that case, though I could be wrong.Could anyone clarify the distinction between the objects at hand? If there is a speed difference, however negligible, I’d like to know, too. If I’m seeing this all wrong, feel free to educate me.PS: Please, please, I like JavaScript, so yes, I want to deal with this sort of thing. Answers like「jQuery deals with this for you」are not what I’m looking for, hence no jquery tag.

2012-04-30 09:25:35Z

I was wondering, JavaScript offers a variety of methods to get the first child element from any element, but which is the best? By best, I mean: most cross-browser compatible, fastest, most comprehensive and predictable when it comes to behaviour. A list of methods/properties I use as aliases:This works for both cases:That’s in case of forms, or <div> iteration. If I might encounter text elements:As far as I can work out, firstChild uses the NodeList from childNodes, and firstElementChild uses children. I’m basing this assumption on the MDN reference:I’m guessing that, in terms of speed, the difference, if any, will be next to nothing, since firstElementChild is effectively a reference to children[0], and the children object is already in memory anyway.What does throw me, is the childNodes object. I’ve used it to take a look at a form, in a table element. While children lists all form elements, childNodes also seems to include whitespace from the HTML code:Both log <TextNode textContent="\n ">All log <input type="text"…>. How come? I’d understand that one object would allow me to work with the「raw」HTML code, while the other sticks to the DOM, but the childNodes element seems to work on both levels.To get back to my initial question, my guess would be: if I want the most comprehensive object, childNodes is the way to go, but because of its comprehensiveness, it might not be the most predictable in terms of it returning the element I want/expect at any given moment. Cross-browser support might also prove to be a challenge in that case, though I could be wrong.Could anyone clarify the distinction between the objects at hand? If there is a speed difference, however negligible, I’d like to know, too. If I’m seeing this all wrong, feel free to educate me.PS: Please, please, I like JavaScript, so yes, I want to deal with this sort of thing. Answers like「jQuery deals with this for you」are not what I’m looking for, hence no jquery tag.Sounds like you're overthinking it. You've observed the difference between childNodes and children, which is that childNodes contains all nodes, including text nodes consisting entirely of whitespace, while children is a collection of just the child nodes that are elements. That's really all there is to it.There is nothing unpredictable about either collection, although there are a couple of issues to be aware of:children, firstElementChild and friends are just conveniences, presenting a filtered view of the DOM restricted to just elements.firstElementChild might not be available in IE<9 (only firstChild)on IE<9 firstChild is the firstElementChild because MS DOM (IE<9) is not storing empty text nodes. But if you do so on other browsers they will return empty text nodes...my solution

child=(elem.firstElementChild||elem.firstChild)

this will give the firstchild even on IE<9The cross browser way to do is to use childNodes to get NodeList, then make an array of all nodes with nodeType ELEMENT_NODE.http://jsfiddle.net/s4kxnahu/This is especially easy if you are using a utility library such as lodash:Future:You can use querySelectorAll in combination with :scope pseudo-class (matches the element that is the reference point of the selector):At the time of writing this :scope is supported in Chrome, Firefox and Safari.Just to add to the other answers, there are still noteworthy differences here, specifically when dealing with <svg> elements.I have used both .childNodes and .children and have preferred working with the HTMLCollection delivered by the .children getter.Today however, I ran into issues with IE/Edge failing when using .children on an <svg>.

While .children is supported in IE on basic HTML elements, it isn't supported on document/document fragments, or SVG elements. For me, I was able to simply grab the needed elements via .childNodes[n] because I don't have extraneous text nodes to worry about. You may be able to do the same, but as mentioned elsewhere above, don't forget that you may run into unexpected elements.Hope this is helpful to someone scratching their head trying to figure out why .children works elsewhere in their js on modern IE and fails on document or SVG elements.Hey guys don't let white space fool you. just test this in a console browser.

use native javascript. Here is and example with two 'ul' sets with the same class. You don't need to have your 'ul' list all in one line to avoid white space just use your array count to jump over white space. How to get around white space with querySelector() then childNodes[] js fiddle link: https://jsfiddle.net/aparadise/56njekdo/

How to get full path of selected file on change of <input type=‘file’> using javascript, jquery-ajax?

Yogesh Pingle

[How to get full path of selected file on change of <input type=‘file’> using javascript, jquery-ajax?](https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav)

How to get full path of file while selecting file using <input type=‘file’>but the filePath var contains only name of selected file, not the full path. 

I searched it on net, but it seems that for security reasons browsers (FF,chrome) just give name of file.

Is there any other way to get full path of selected file?

2013-03-04 11:59:37Z

How to get full path of file while selecting file using <input type=‘file’>but the filePath var contains only name of selected file, not the full path. 

I searched it on net, but it seems that for security reasons browsers (FF,chrome) just give name of file.

Is there any other way to get full path of selected file?For security reasons browsers do not allow this, i.e. JavaScript in browser has no access to the File System, however using HTML5 File API, only Firefox provides a mozFullPath property, but if you try to get the value it returns an empty string:http://jsfiddle.net/SCK5A/So don't waste your time.edit: If you need the file's path for reading a file you can use the FileReader API instead. Here is a related question on SO: Preview an image before it is uploaded.Try This:It'll give you a temporary path not the accurate path, you can use this script if you want to show selected images as in this jsfiddle example(Try it by selectng images as well as other files):-JSFIDDLEHere is the code :-HTML:-JS:-Its not exactly what you were looking for, but may be it can help you somewhere.You cannot do so - the browser will not allow this because of security concerns.And otherYou missed ); this at the end of the change event function.Also do not create function for change event instead just use it as below,You can't.

Security stops you for knowing anything about the filing system of the client computer - it may not even have one! It could be a MAC, a PC, a Tablet or an internet enabled fridge - you don't know, can't know and won't know. And letting you have the full path could give you some information about the client - particularly if it is a network drive for example.In fact you can get it under particular conditions, but it requires an ActiveX control, and will not work in 99.99% of circumstances.You can't use it to restore the file to the original location anyway (as you have absolutely no control over where downloads are stored, or even if they are stored) so in practice it is not a lot of use to you anyway.Did you mean this?You can use the following code to get a working local URL for the uploaded file:One interesting note: although this isn't available in on the web, if you're using JS in Electron then you can do this.Using the standard HTML5 file input, you'll receive an extra path property on selected files, containing the real file path.Full docs here: https://github.com/electron/electron/blob/master/docs/api/file-object.mdYou can, if uploading an entire folder is an option for youchange event will contain:you should never do so... and I think trying it in latest browsers is useless(from what I know)... all latest browsers on the other hand, will not allow this...some other links that you can go through, to find a workaround like getting the value serverside, but not in clientside(javascript)Full path from file input using jQuery 

How to get the file path from HTML input form in Firefox 3file element has and array call files it contain all necessary stuff you needYou can get the full path of the selected file to upload only by IE11 and MS Edge.

Difference between val() and text()

Dan Appleyard

[Difference between val() and text()](https://stackoverflow.com/questions/807867/difference-between-val-and-text)

What the difference between jQuery's functions val() and text()?Where would you use one over the other?

2009-04-30 16:36:42Z

What the difference between jQuery's functions val() and text()?Where would you use one over the other?.val() works on input elements (or any element with a value attribute?) and .text() will not work on input elements.  .val() gets the value of the input element -- regardless of type. .text() gets the innerText (not HTML) of all the matched elements:.text().val()text() return the combined text contents of all matched elements (such as p, div, and so on)

val() is used to obtain the value of an input element (such as input, select, and so on)according to the official documentation text() should not be used with input elementsval() is used to fetch value from all html input types like(checkbox,text,etc),where user have an option to input

   value.

Ex:-where as text() is used to fetch value from the html elements where user will not interact like (p,div etc) .val() function returns value from input element and .text() function returns value from other than input elements. We can also pass string argument to these functions to set the value of the calling element. Below code shows how to set value to DOM elements using .val() and .text() functions:HTML Part:Jquery Part:Demo: http://jsfiddle.net/urhys9zj/6/

How can I capture the right-click event in JavaScript? [duplicate]

Giffyguy

[How can I capture the right-click event in JavaScript? [duplicate]](https://stackoverflow.com/questions/4235426/how-can-i-capture-the-right-click-event-in-javascript)

I want to block the standard context menus, and handle the right-click event manually.How is this done?

2010-11-20 22:51:55Z

I want to block the standard context menus, and handle the right-click event manually.How is this done?Use the oncontextmenu event.Here's an example:And using event listeners:Don't forget to return false, otherwise the standard context menu will still pop up.If you are going to use a function you've written rather than javascript:alert("Success!"), remember to return false in BOTH the function AND the oncontextmenu attribute.I think that you are looking for something like this:(http://www.quirksmode.org/js/events_properties.html)And then use the onmousedown even with the function rightclick() (if you want to use it globally on whole page you can do this <body onmousedown=rightclick(); >

JavaScript data grid for millions of rows [closed]

Rudiger

[JavaScript data grid for millions of rows [closed]](https://stackoverflow.com/questions/2402953/javascript-data-grid-for-millions-of-rows)

I need to present a large number of rows of data (ie. millions of rows) to the user in a grid using JavaScript.The user shouldn't see pages or view only finite amounts of data at a time.Rather, it should appear that all of the data are available.Instead of downloading the data all at once, small chunks are downloaded as the user comes to them (ie. by scrolling through the grid).The rows will not be edited through this front end, so read-only grids are acceptable.What data grids, written in JavaScript, exist for this kind of seamless paging?

2010-03-08 16:47:24Z

I need to present a large number of rows of data (ie. millions of rows) to the user in a grid using JavaScript.The user shouldn't see pages or view only finite amounts of data at a time.Rather, it should appear that all of the data are available.Instead of downloading the data all at once, small chunks are downloaded as the user comes to them (ie. by scrolling through the grid).The rows will not be edited through this front end, so read-only grids are acceptable.What data grids, written in JavaScript, exist for this kind of seamless paging?(Disclaimer:  I am the author of SlickGrid)UPDATE

This has now been implemented in SlickGrid.Please see http://github.com/mleibman/SlickGrid/issues#issue/22 for an ongoing discussion on making SlickGrid work with larger numbers of rows.The problem is that SlickGrid does not virtualize the scrollbar itself - the scrollable area's height is set to the total height of all the rows.  The rows are still being added and removed as the user is scrolling, but the scrolling itself is done by the browser.  That allows it to be very fast yet smooth (onscroll events are notoriously slow).  The caveat is that there are bugs/limits in the browsers' CSS engines that limit the potential height of an element.  For IE, that happens to be 0x123456 or 1193046 pixels.  For other browsers it is higher.  There is an experimental workaround in the "largenum-fix" branch that raises that limit significantly by populating the scrollable area with "pages" set to 1M pixels height and then using relative positioning within those pages.  Since the height limit in the CSS engine seems to be different and significantly lower than in the actual layout engine, this gives us a much higher upper limit.I am still looking for a way to get to unlimited number of rows without giving up the performance edge that SlickGrid currently holds over other implementations.Rudiger, can you elaborate on how you solved this?https://github.com/mleibman/SlickGrid/wiki"SlickGrid utilizes virtual rendering to enable you to easily work with hundreds of thousands of items without any drop in performance. In fact, there is no difference in performance between working with a grid with 10 rows versus a 100’000 rows."Some highlights:It's free (MIT license).

It uses jQuery.The best Grids in my opinion are below:My best 3 options are jqGrid, jqxGrid and DataTables. They can work with thousands of rows and support virtualization.I don't mean to start a flame war, but assuming your researchers are human, you don't know them as well as you think. Just because they have petabytes of data doesn't make them capable of viewing even millions of records in any meaningful way. They might say they want to see millions of records, but that's just silly. Have your smartest researchers do some basic math: Assume they spend 1 second viewing each record. At that rate, it will take 1000000 seconds, which works out to more than six weeks (of 40 hour work-weeks with no breaks for food or lavatory).Do they (or you) seriously think one person (the one looking at the grid) can muster that kind of concentration? Are they really getting much done in that 1 second, or are they (more likely) filtering out the stuff the don't want? I suspect that after viewing a "reasonably-sized" subset, they could describe a filter to you that would automatically filter out those records. As paxdiablo and Sleeper Smith and Lasse V Karlsen also implied, you (and they) have not thought through the requirements. On the up side, now that you've found SlickGrid, I'm sure the need for those filters became immediately obvious.I can say with pretty good certainty that you seriously do not need to show millions of rows of data to the user.There is no user in the world that will be able to comprehend or manage that data set so even if you technically manage to pull it off, you won't solve any known problem for that user.Instead I would focus on why the user wants to see the data. The user does not want to see the data just to see the data, there is usually a question being asked. If you focus on answering those questions instead, then you would be much closer to something that solves an actual problem.I recommend the Ext JS Grid with the Buffered View feature.http://www.extjs.com/deploy/dev/examples/grid/buffer.html(Disclaimer: I am the author of w2ui)I have recently written an article on how to implement JavaScript grid with 1 million records (http://w2ui.com/web/blog/7/JavaScript-Grid-with-One-Million-Records). I discovered that ultimately there are 3 restrictions that prevent from taking it highter:I have tested the grid with 1 million records (except IE) and it performs well. See article for demos and examples.dojox.grid.DataGrid offers a JS abstraction for data so you can hook it up to various backends with provided dojo.data stores or write your own.  You'll obviously need one that supports random access for this many records.  DataGrid also provides full accessibility.Edit so here's a link to Matthew Russell's article that should provide the example you need, viewing millions of records with dojox.grid.  Note that it uses the old version of the grid, but the concepts are the same, there were just some incompatible API improvements.Oh, and it's totally free open source.I used jQuery Grid Plugin, it was nice.DemosHere are a couple of optimizations you can apply you speed up things. Just thinking out loud.Since the number of rows can be in the millions, you will want a caching system just for the JSON data from the server. I can't imagine anybody wanting to download all X million items, but if they did, it would be a problem. This little test on Chrome for an array on 20M+ integers crashes on my machine constantly.You could use LRU or some other caching algorithm and have an upper bound on how much data you're willing to cache.For the table cells themselves, I think constructing/destroying DOM nodes can be expensive. Instead, you could just pre-define X number of cells, and whenever the user scrolls to a new position, inject the JSON data into these cells. The scrollbar would virtually have no direct relationship to how much space (height) is required to represent the entire dataset. You could arbitrarily set the table container's height, say 5000px, and map that to the total number of rows. For example, if the containers height is 5000px and there are a total of 10M rows, then the starting row ≈ (scroll.top/5000) * 10M where scroll.top represents the scroll distance from the top of the container. Small demo here.To detect when to request more data, ideally an object should act as a mediator that listens to scroll events. This object keeps track of how fast the user is scrolling, and when it looks like the user is slowing down or has completely stopped, makes a data request for the corresponding rows. Retrieving data in this fashion means your data is going to be fragmented, so the cache should be designed with that in mind.Also the browser limits on maximum outgoing connections can play an important part. A user may scroll to a certain position which will fire an AJAX request, but before that finishes the user can scroll to some other portion. If the server is not responsive enough the requests would get queued up and the application will look unresponsive. You could use a request manager through which all requests are routed, and it can cancel pending requests to make space.I know it's an old question but still.. There is also dhtmlxGrid that can handle millions of rows. There is a demo with 50,000 rows but the number of rows that can be loaded/processed in grid is unlimited. Disclaimer: I'm from DHTMLX team.I suggest you read this http://www.sitepen.com/blog/2008/11/21/effective-use-of-jsonreststore-referencing-lazy-loading-and-more/Disclaimer: i heavily use YUI DataTable without no headache for a long time. It is powerful and stable. For your needs, you can use a ScrollingDataTable wich suportsFor what you need, i think you want is a tableScrollEvent. Its API saysAs each DataTable uses a DataSource, you can monitoring its data through tableScrollEvent along with render loop size in order to populate your ScrollingDataTable according to your needs. Render loop size saysFor instance<WHERE_DOES_THE_DATA_COME_FROM> is just a single DataSource. It can be a JSON, JSFunction, XML and even a single HTML  elementHere you can see a Simple tutorial, provided by me. Be aware no other DATA_TABLE pluglin supports single and dual click at the same time. YUI DataTable allows you. And more, you can use it even with JQuery without no headacheSome examples, you can seeFeel free to question about anything else you want about YUI DataTable.regards,I kind of fail to see the point, for jqGrid you can use the virtual scrolling functionality:http://www.trirand.net/aspnetmvc/grid/performancevirtualscrollingbut then again, millions of rows with filtering can be done:http://www.trirand.net/aspnetmvc/grid/performancelinqI really fail to see the point of "as if there are no pages" though, I mean... there is no way to display 1,000,000 rows at once in the browser - this is 10MB of HTML raw, I kind of fail to see why users would not want to see the pages.Anyway...best approach i could think of is by loading the chunk of data in json format for every scroll or some limit before the scrolling ends. json can be easily converted to objects and hence table rows can be constructed easily unobtrusivelyI would highly recommend Open rico.

It is difficult to implement in the the beginning, but once you grab it you will never look back.I know this question is a few years old, but jqgrid now supports virtual scrolling:http://www.trirand.com/blog/phpjqgrid/examples/paging/scrollbar/default.phpbut with pagination disabledI suggest sigma grid, sigma grid has embed paging features which could support millions of rows. And also, you may need a remote paging to do it.

see the demo

http://www.sigmawidgets.com/products/sigma_grid2/demos/example_master_details.htmlTake a look at dGrid:https://dgrid.io/I agree that users will NEVER, EVER need to view millions of rows of data all at once, but dGrid can display them quickly (a screenful at a time). Don't boil the ocean to make a cup of tea.

What's the '@' (at symbol) in the Redux @connect decorator?

Salman

[What's the '@' (at symbol) in the Redux @connect decorator?](https://stackoverflow.com/questions/32646920/whats-the-at-symbol-in-the-redux-connect-decorator)

I am learning Redux with React and stumbled upon this code. I am not sure if it is Redux specific or not, but I have seen the following code snippet in one of the examples.While the functionality of connect is pretty straightforward, but I don't understand the @ before connect. It isn't even a JavaScript operator if I am not wrong.Can someone explain please what is this and why is it used?Update: It is in fact a part of react-redux which is used to connects a React component to a Redux store.

2015-09-18 08:07:08Z

I am learning Redux with React and stumbled upon this code. I am not sure if it is Redux specific or not, but I have seen the following code snippet in one of the examples.While the functionality of connect is pretty straightforward, but I don't understand the @ before connect. It isn't even a JavaScript operator if I am not wrong.Can someone explain please what is this and why is it used?Update: It is in fact a part of react-redux which is used to connects a React component to a Redux store.The @ symbol is in fact a JavaScript expression currently proposed to signify decorators:Here's an example of setting up Redux without and with a decorator:Without a decoratorUsing a decoratorBoth examples above are equivalent, it's just a matter of preference. Also, the decorator syntax isn't built into any Javascript runtimes yet, and is still experimental and subject to change. If you want to use it, it is available using Babel.Very Important! These props are called state props and they are different from normal props, any change to your component state props will trigger the component render method again and again even if you don't use these props so for Performance Reasons try to bind to your component only the state props that you need inside your component and if you use a sub props only bind these props.example:

lets say inside your component you only need two props:don't do this do this 

Decode &amp; back to & in JavaScript

Art

[Decode &amp; back to & in JavaScript](https://stackoverflow.com/questions/3700326/decode-amp-back-to-in-javascript)

I have strings like rendered into HTML by the web server. I need to transform those strings into Currently, that's what I am doing (with help of jQuery):However I have an unsettling feeling that I am doing it wrong.

I have tried but it doesn't seem to work, neither do decodeURI/decodeURIComponent.Are there any other, more native and elegant ways of doing so?

2010-09-13 12:24:09Z

I have strings like rendered into HTML by the web server. I need to transform those strings into Currently, that's what I am doing (with help of jQuery):However I have an unsettling feeling that I am doing it wrong.

I have tried but it doesn't seem to work, neither do decodeURI/decodeURIComponent.Are there any other, more native and elegant ways of doing so?A more modern option for interpreting HTML (text and otherwise) from JavaScript is the HTML support in the DOMParser API (see here in MDN). This allows you to use the browser's native HTML parser to convert a string to an HTML document. It has been supported in new versions of all major browsers since late 2014.If we just want to decode some text content, we can put it as the sole content in a document body, parse the document, and pull out the its .body.textContent.We can see in the draft specification for DOMParser that JavaScript is not enabled for the parsed document, so we can perform this text conversion without security concerns.It's beyond the scope of this question, but please note that if you're taking the parsed DOM nodes themselves (not just their text content) and moving them to the live document DOM, it's possible that their scripting would be reenabled, and there could be security concerns. I haven't researched it, so please exercise caution.Do you need to decode all encoded HTML entities or just &amp; itself?If you only need to handle &amp; then you can do this:If you need to decode all HTML entities then you can do it without jQuery:Please take note of Mark's comments below which highlight security holes in an earlier version of this answer and recommend using textarea rather than div to mitigate against potential XSS vulnerabilities. These vulnerabilities exist whether you use jQuery or plain JavaScript.Matthias Bynens has a library for this: https://github.com/mathiasbynens/heExample:I suggest favouring it over hacks involving setting an element's HTML content and then reading back its text content. Such approaches can work, but are deceptively dangerous and present XSS opportunities if used on untrusted user input.If you really can't bear to load in a library, you can use the textarea hack described in this answer to a near-duplicate question, which, unlike various similar approaches that have been suggested, has no security holes that I know of:But take note of the security issues, affecting similar approaches to this one, that I list in the linked answer! This approach is a hack, and future changes to the permissible content of a textarea (or bugs in particular browsers) could lead to code that relies upon it suddenly having an XSS hole one day.This is from ExtJS source code.element.innerText also does the trick.In case you're looking for it, like me - meanwhile there's a nice and safe JQuery method.https://api.jquery.com/jquery.parsehtml/You can f.ex. type this in your console:So $.parseHTML(x) returns an array, and if you have HTML markup within your text, the array.length will be greater than 1.You can use Lodash unescape / escape function https://lodash.com/docs/4.17.5#unescapestr will become 'fred, barney, & pebbles'jQuery will encode and decode for you.  However, you need to use a textarea tag,  not a div.  First create a <span id="decodeIt" style="display:none;"></span> somewhere in the bodyNext, assign the string to be decoded as innerHTML to this:Finally,Here is the overall code:a javascript solution that catches the common ones:this is the reverse of https://stackoverflow.com/a/4835406/2738039 For one-line guys:I tried everything to remove & from a JSON array. None of the above examples, but https://stackoverflow.com/users/2030321/chris gave a great solution that led me to fix my problem.I did not use, because I did not understand how to insert it into a modal window that was pulling JSON data into an array, but I did try this based upon the example, and it worked:I like it because it was simple, and it works, but not sure why it's not widely used. Searched hi & low to find a simple solution.

I continue to seek understanding of the syntax, and if there is any risk to using this. Have not found anything yet.

Default argument values in JavaScript functions [duplicate]

Douglas Crockford

[Default argument values in JavaScript functions [duplicate]](https://stackoverflow.com/questions/6486307/default-argument-values-in-javascript-functions)

in PHP:How can you do this in JavaScript?I get a error if I try to assign values in function arguments

2011-06-26 19:48:17Z

in PHP:How can you do this in JavaScript?I get a error if I try to assign values in function argumentsIn javascript you can call a function (even if it has parameters) without parameters.So you can add default values like this:and then you can call it like func(); to use default parameters.Here's a test:ES2015 onwards:From ES6/ES2015, we have default parameters in the language specification. So we can just do something simple like,or combined with ES2015 destructuring,For detailed explanation, https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/default_parametersPre ES2015:If you're going to handle values which are NOT Numbers, Strings, Boolean, NaN, or null you can simply use(So, for Objects, Arrays and Functions that you plan never to send null, you can use)for example,Though this looks simple and kinda works, this is restrictive and can be an anti-pattern because || operates on all falsy values ("", null, NaN, false, 0) too - which makes this method impossible to assign a param the falsy value passed as the argument.So, in order to handle only undefined values explicitly, the preferred approach would be,You have to check if the argument is undefined:Also note that this question has been answered before.I have never seen it done that way in JavaScript. If you want a function with optional parameters that get assigned default values if the parameters are omitted, here's a way to do it:in shorthandYou cannot add default values for function parameters. But you can do this:

How to set DOM element as the first child?

Popara

[How to set DOM element as the first child?](https://stackoverflow.com/questions/2007357/how-to-set-dom-element-as-the-first-child)

I have element E and I'm appending some elements to it. All of a sudden, I find out that the next element should be the first child of E. What's the trick, how to do it? Method unshift doesn't work because E is an object, not array. Long way would be to iterate trough E's children and to move'em key++, but I'm sure that there is a prettier way. 

2010-01-05 16:19:40Z

I have element E and I'm appending some elements to it. All of a sudden, I find out that the next element should be the first child of E. What's the trick, how to do it? Method unshift doesn't work because E is an object, not array. Long way would be to iterate trough E's children and to move'em key++, but I'm sure that there is a prettier way. You can use From MDN :Also in the family of insertAdjacent there is the sibling methods:    element.insertAdjacentHTML('afterbegin','htmlText') for inject html string directly, like innerHTML but without overide everything , so you can jump oppressive process of document.createElement and even build whole componet with string manipulation processelement.insertAdjacentText for inject sanitize string into element . no more encode/decodeThis is modern JS! It is more readable than previous options. It is currently available in Chrome, FF, and Opera.P.S. You can directly prepend strings developer.mozilla.orgCan I Use - 92% Jan 2020PolyfillYou can implement it directly i all your window html elements.

Like this :Accepted answer refactored into a function:Unless I have misunderstood:OrAlthough it sounds like from your description that there is some condition attached, soI think you're looking for the .prepend function in jQuery. Example code:I created this prototype to prepend elements to parent element.https://www.w3schools.com/jsref/met_node_insertbefore.asp

JS: iterating over result of getElementsByClassName using Array.forEach

Steve Claridge

[JS: iterating over result of getElementsByClassName using Array.forEach](https://stackoverflow.com/questions/3871547/js-iterating-over-result-of-getelementsbyclassname-using-array-foreach)

I want to iterate over some DOM elements, I'm doing this:but I get an error: document.getElementsByClassName("myclass").forEach is not a functionI am using Firefox 3 so I know that both getElementsByClassName and Array.forEach are present. This works fine:Is the result of getElementsByClassName an Array? If not, what is it?

2010-10-06 10:28:03Z

I want to iterate over some DOM elements, I'm doing this:but I get an error: document.getElementsByClassName("myclass").forEach is not a functionI am using Firefox 3 so I know that both getElementsByClassName and Array.forEach are present. This works fine:Is the result of getElementsByClassName an Array? If not, what is it?No. As specified in DOM4, it's an HTMLCollection (in modern browsers, at least. Older browsers returned a NodeList).In all modern browsers (pretty much anything other IE <= 8), you can call Array's forEach method, passing it the list of elements (be it HTMLCollection or NodeList) as the this value:If you're in the happy position of being able to use ES6 (i.e. you can safely ignore Internet Explorer or you're using an ES5 transpiler), you can use Array.from:You can use Array.from to convert collection to array, which is way cleaner than Array.prototype.forEach.call:In older browsers which don't support Array.from, you need to use something like Babel.ES6 also adds this syntax:Rest destructuring with ... works on all array-like objects, not only arrays themselves, then good old array syntax is used to construct an array from the values.While the alternative function querySelectorAll (which kinda makes getElementsByClassName obsolete) returns a collection which does have forEach natively, other methods like map or filter are missing, so this syntax is still useful:Or you can use querySelectorAll which returns NodeList:  Supported by modern browsers (including Edge, but not IE):

Can I use querySelectorAll

NodeList.prototype.forEach()  MDN: Document.querySelectorAll()Edit: Although the return type has changed in new versions of HTML (see Tim Down's updated answer), the code below still works.As others have said, it's a NodeList.  Here's a complete, working example you can try:This works in IE 9, FF 5, Safari 5, and Chrome 12 on Win 7.The result of getElementsByClassName() is not an Array, but an array-like object. Specifically it's called an HTMLCollection, not to be confused with NodeList (which has it's own forEach() method).One simple way with ES2015 to convert an array-like object for use with Array.prototype.forEach() that hasn't been mentioned yet is to use the spread operator or spread syntax:NoAs with all DOM methods that return multiple elements, it is a NodeList, see https://developer.mozilla.org/en/DOM/document.getElementsByClassNameAs already said, getElementsByClassName returns a HTMLCollection, which is defined asPreviously, some browsers returned a NodeList instead.The difference is important, because DOM4 now defines NodeLists as iterable.According to Web IDL draft,That means that, if you want to use forEach, you can use a DOM method which returns a NodeList, like querySelectorAll.Note this is not widely supported yet. Also see forEach method of Node.childNodes?This is the safer way:It does not return an Array, it returns a NodeList.getElementsByClassName returns HTMLCollection in modern browsers. which is 

array-like object similar to arguments which is iteratable by for...of loop see below what MDN doc is saying about it:exampleHere is a test I created on jsperf:

https://jsperf.com/vanillajs-loop-through-elements-of-classThe most perfomant version in Chrome and Firefox is the good old for loop in combination with document.getElementsByClassName:In Safari this variant is the winner:If you want the most perfomant variant for all browsers it might be this one:

Custom exception type

Manki

[Custom exception type](https://stackoverflow.com/questions/464359/custom-exception-type)

Can I define a custom types for user-defined exceptions in JavaScript?  If so, how would I do it?

2009-01-21 07:40:32Z

Can I define a custom types for user-defined exceptions in JavaScript?  If so, how would I do it?From WebReference:You should create a custom exception that prototypically inherits from Error.  For example:This is basically a simplified version of what disfated posted above with the enhancement that stack traces work on Firefox and other browsers.  It satisfies the same tests that he posted:Usage:And it will behave is expected:You could implement your own exceptions and their handling for example like here:There is another syntax for catching a typed exception, although this won't work in every browser (for example not in IE):Yes. You can throw anything you want: integers, strings, objects, whatever. If you want to throw an object, then simply create a new object, just as you would create one under other circumstances, and then throw it. Mozilla's Javascript reference has several examples.This allows for usage like..In short:Option 1: use babel-plugin-transform-builtin-extendOption 2: do it yourself (inspired from that same library)Explanation:Why extending the Error class using ES6 and Babel is a problem?Because an instance of CustomError is not anymore recognized as such.In fact, from the official documentation of Babel, you cannot extend any built-in JavaScript classes such as Date, Array, DOM or Error.The issue is described here:What about the other SO answers?All the given answers fix the instanceof issue but you lose the regular error console.log:Whereas using the method mentioned above, not only you fix the instanceof issue but you also keep the regular error console.log:Here is how you can create custom errors with completely identical to native Error's behaviour. This technique works only in Chrome and node.js for now. I also wouldn't recommend to use it if you don't understand what it does.As a reasult we getThen you can use it like this:And use NotImplementedError as you would Error:And it will behave is expected:Note, that error.stack works absolutle correct and won't include NotImplementedError constructor call (thanks to v8's Error.captureStackTrace()).Note. There is ugly eval(). The only reason it is used is to get correct err.constructor.name. If you don't need it, you can a bit simplify everything.I often use an approach with prototypal inheritance. Overriding toString() gives you the advantage that tools like Firebug will log the actual information instead of [object Object] to the console for uncaught exceptions.Use instanceof to determine the type of exception.Use the throw statement.JavaScript doesn't care what the exception type is (as Java does).

JavaScript just notices, there's an exception and when you catch it, you can "look" what the exception "says".If you have different exception types you have to throw, I'd suggest to use variables which contain the string/object of the exception i.e. message. Where you need it use "throw myException" and in the catch, compare the caught exception to myException.ES6With the new class and extend keywords it’s now much easier:See this example in the MDN.If you need to define multiple Errors (test the code here!):Code is mostly copied from: What's a good way to extend Error in JavaScript?An alternative to the answer of asselin for use with ES2015 classesNow we set add the reason or whatever properties we want to the error object and retrieve it. By making the error more reasonable.

Check if an image is loaded (no errors) with jQuery

William

[Check if an image is loaded (no errors) with jQuery](https://stackoverflow.com/questions/1977871/check-if-an-image-is-loaded-no-errors-with-jquery)

I'm using JavaScript with the jQuery library to manipulate image thumbnails contained in a unordered list. When the image is loaded it does one thing, when an error occurs it does something else. I'm using jQuery load() and error() methods as events. After these events I check the image DOM element for the .complete to make sure the image wasn't already loaded before jQuery could register the events.It works correctly except when an error occurs before jQuery can register the events. The only solution I can think of is to use the img onerror attribute to store a "flag" somewhere globally (or on the node it's self) that says it failed so jQuery can check that "store/node" when checking .complete.Anyone have a better solution?Edit: Bolded main points and added extra detail below:

I'm checking if an image is complete (aka loaded) AFTER I add a load and error event on the image. That way, if the image was loaded before the events were registered, I will still know. If the image isn't loaded after the events then the events will take care of it when it does. The problem with this is, I can easily check if an image is loaded already, but I can't tell if an error occurred instead.

2009-12-30 00:58:21Z

I'm using JavaScript with the jQuery library to manipulate image thumbnails contained in a unordered list. When the image is loaded it does one thing, when an error occurs it does something else. I'm using jQuery load() and error() methods as events. After these events I check the image DOM element for the .complete to make sure the image wasn't already loaded before jQuery could register the events.It works correctly except when an error occurs before jQuery can register the events. The only solution I can think of is to use the img onerror attribute to store a "flag" somewhere globally (or on the node it's self) that says it failed so jQuery can check that "store/node" when checking .complete.Anyone have a better solution?Edit: Bolded main points and added extra detail below:

I'm checking if an image is complete (aka loaded) AFTER I add a load and error event on the image. That way, if the image was loaded before the events were registered, I will still know. If the image isn't loaded after the events then the events will take care of it when it does. The problem with this is, I can easily check if an image is loaded already, but I can't tell if an error occurred instead.Another option is to trigger the onload and/or onerror events by creating an in memory image element and setting its src attribute to the original src attribute of the original image.  Here's an example of what I mean:Hope this helps!Check the complete and naturalWidth properties, in that order.https://stereochro.me/ideas/detecting-broken-images-jsBased on my understanding of the W3C HTML Specification for the img element, you should be able to do this using a combination of the complete and naturalHeight attributes, like so:From the spec for the complete attribute:So essentially, complete returns true if the image has either finished loading, or failed to load. Since we want only the case where the image successfully loaded we need to check the nauturalHeight attribute as well:And available is defined like so:So if the image is "broken" (failed to load), then it will be in the broken state, not the available state, so naturalHeight will be 0.Therefore, checking imgElement.complete && imgElement.naturalHeight !== 0 should tell us whether the image has successfully loaded.You can read more about this in the W3C HTML Specification for the img element, or on MDN.I tried many different ways and this way is the only one worked for meYou could also add a callback function triggered once all images are loaded in the DOM and ready. This applies for dynamically added images too. http://jsfiddle.net/kalmarsh80/nrAPk/Use imagesLoaded javascript library.Usable with plain Javascript and as a jQuery plugin.Retrieve informations from image elements on the page

Test working on Chrome and Firefox

Working jsFiddle (open your console to see the result)Note : I used jQuery, I thought this can be acheive on full javascriptI find good information here OpenClassRoom --> this is a French forumRealtime network detector - check network status without refreshing the page:

(it's  not jquery, but tested, and 100% works:(tested on Firefox v25.0))Code:if connection lost just press the Again button.Update 1:

Auto detect without refreshing the page:This is how I got it to work cross browser using a combination of the methods above (I also needed to insert images dynamically into the dom):Note: You will need to supply a valid boolean state for the isIE variable.After reading the interesting solutions on this page, I created an easy-to-use solution highly influenced by SLaks' and Noyo's post that seems to be working on pretty recent versions (as of writing) of Chrome, IE, Firefox, Safari, and Opera (all on Windows). Also, it worked on an iPhone/iPad emulator I used.One major difference between this solution and SLaks and Noyo's post is that this solution mainly checks the naturalWidth and naturalHeight properties. I've found that in the current browser versions, those two properties seem to provide the most helpful and consistent results.This code returns TRUE when an image has loaded fully AND successfully. It returns FALSE when an image either has not loaded fully yet OR has failed to load.One thing you will need to be aware of is that this function will also return FALSE if the image is a 0x0 pixel image. But those images are quite uncommon, and I can't think of a very useful case where you would want to check to see if a 0x0 pixel image has loaded yet :)First we attach a new function called "isLoaded" to the HTMLImageElement prototype, so that the function can be used on any image element.Then, any time we need to check the loading status of the image, we just call the "isLoaded" function.Per giorgian's comment on SLaks' and Noyo's post, this solution probably can only be used as a one-time check on Safari Mobile if you plan on changing the SRC attribute. But you can work around that by creating an image element with a new SRC attribute instead of changing the SRC attribute on an existing image element.// Or As a PluginAs I understand the .complete property is non-standard.  It may not be universal... I notice it seem to work differently in Firefox verses IE.  I am loading a number of images in javascript then checking if complete.  In Firefox, this seems to work great.  In IE, it doesn't because the images appear to be loading on another thread.  It works only if I put a delay between my assignment to image.src and when I check the image.complete property.  Using image.onload and image.onerror isn't working for me, either, because I need to pass a parameter to know which image I am talking about when the function is called.  Any way of doing that seems to fail because it actually seems to pass the same function, not different instances of the same function.  So the value I pass into it to identify the image always ends up being the last value in the loop.  I cannot think of any way around this problem.On Safari and Chrome, I am seeing the image.complete true and the naturalWidth set even when the error console shows a 404 for that image... and I intentionally removed that image to test this.  But the above works well for Firefox and IE.This snippet of code helped me to fix browser caching problems:When the browser cache is disabled, only this code doesn't work:to make it work you have to add:Using this JavaScript code you can check image is successfully loaded or not.Try out thisI had a lot of problems with the complete load of a image and the EventListener.Whatever I tried, the results was not reliable.But then I found the solution. It is technically not a nice one, but now I never had a failed image load.What I did:Instead of loading the image one time, I just load it a second time direct after the first time and both run trough the eventhandler.All my headaches are gone!By the way:

You guys from stackoverflow helped me already more then hundred times. For this a very big Thank you!This one worked fine for me :)

Is it possible to focus on a <div> using JavaScript focus() function?

OM The Eternity

[Is it possible to focus on a <div> using JavaScript focus() function?](https://stackoverflow.com/questions/3656467/is-it-possible-to-focus-on-a-div-using-javascript-focus-function)

Is it possible to focus on a <div> using JavaScript focus() function?I have a <div> tagI am trying to focus on the above <div> using :But it doesn't work. Could someone suggest something....?

2010-09-07 07:09:37Z

Is it possible to focus on a <div> using JavaScript focus() function?I have a <div> tagI am trying to focus on the above <div> using :But it doesn't work. Could someone suggest something....?This will scroll to the element in question, essentially "focus"ing it.Yes - this is possible. In order to do it, you need to assign a tabindex...A tabindex of 0 will put the tag "in the natural tab order of the page". A higher number will give it a specific order of priority, where 1 will be the first, 2 second and so on.You can also give a tabindex of -1, which will make the div only focus-able by script, not the user.Obviously, it is a shame to have an element you can focus by script that you can't focus by other input method (especially if a user is keyboard only or similarly constrained). There are also a whole bunch of standard elements that are focusable by default and have semantic information baked in to assist users. Use this knowledge wisely.document.getElementById('tries').scrollIntoView() works. This works better than window.location.hash  when you have fixed positioning.You can use tabindexThe tabindex value can allow for some interesting behaviour.I wanted to suggest something like Michael Shimmin's but without hardcoding things like the element, or the CSS that is applied to it. I'm only using jQuery for add/remove class, if you don't want to use jquery, you just need a replacement for add/removeClass--Javascript--CSSTo make the border flash you can do this:This will make the border solid red for 1 second then remove it again.

.keyCode vs. .which

ScottE

[.keyCode vs. .which](https://stackoverflow.com/questions/4471582/keycode-vs-which)

I thought this would be answered somewhere on Stack Overflow, but I can’t find it.If I’m listening for a keypress event, should I be using .keyCode or .which to determine if the Enter key was pressed?I’ve always done something like the following:But I’m seeing examples that use .which instead of .keyCode. What’s the difference? Is one more cross-browser friendly than the other?

2010-12-17 14:47:01Z

I thought this would be answered somewhere on Stack Overflow, but I can’t find it.If I’m listening for a keypress event, should I be using .keyCode or .which to determine if the Enter key was pressed?I’ve always done something like the following:But I’m seeing examples that use .which instead of .keyCode. What’s the difference? Is one more cross-browser friendly than the other?Note: The answer below was written in 2010. Here many years later, both keyCode and which are deprecated in favor of key (for the logical key) and code (for the physical placement of the key). But note that IE doesn't support code, and its support for key is based on an older version of the spec so isn't quite correct. As I write this, the current Edge based on EdgeHTML and Chakra doesn't support code either, but Microsoft is rolling out its Blink- and V8- based replacement for Edge, which presumably does/will.Some browsers use keyCode, others use which.If you're using jQuery, you can reliably use which as jQuery standardizes things; More here.If you're not using jQuery, you can do this:Or alternatively:...which handles the possibility that e.which might be 0 (by restoring that 0 at the end, using JavaScript's curiously-powerful || operator).jQuery normalises event.which depending on whether event.which, event.keyCode or event.charCode is supported by the browser:An added benefit of .which is that jQuery does it for mouse clicks too:If you are staying in vanilla Javascript, please note keyCode is now deprecated and will be dropped:https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCodeInstead use either: .key or .code depending on what behavior you want: 

https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code

https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyBoth are implemented on modern browsers.look at this: https://developer.mozilla.org/en-US/docs/Web/API/event.keyCodeIn a keypress event, the Unicode value of the key pressed is stored in either the keyCode or charCode property, never both. If the key pressed generates a character (e.g. 'a'), charCode is set to the code of that character, respecting the letter case. (i.e. charCode takes into account whether the shift key is held down). Otherwise, the code of the pressed key is stored in keyCode.

keyCode is always set in the keydown and keyup events. In these cases, charCode is never set.

To get the code of the key regardless of whether it was stored in keyCode or charCode, query the which property.

Characters entered through an IME do not register through keyCode or charCode.I'd recommend event.key currently. MDN docs: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyevent.KeyCode and event.which both have nasty deprecated warnings at the top of their MDN pages:

https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode

https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/whichFor alphanumeric keys, event.key appears to be implemented identically across all browsers. For control keys (tab, enter, escape, etc), event.key has the same value across Chrome/FF/Safari/Opera but a different value in IE10/11/Edge (IEs apparently use an older version of the spec but match each other as of Jan 14 2018).For alphanumeric keys a check would look something like:For control characters you'd need to do something like:I used the example here to test on multiple browsers (I had to open in codepen and edit to get it to work with IE10): https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/codeevent.code is mentioned in a different answer as a possibility, but IE10/11/Edge don't implement it, so it's out if you want IE support.A robust Javascript library for capturing keyboard input and key combinations entered. It has no dependencies.  http://jaywcjlove.github.io/hotkeys/hotkeys understands the following modifiers: ⇧, shift, option, ⌥, alt, ctrl, control, command, and ⌘.The following special keys can be used for shortcuts: backspace, tab, clear, enter, return, esc, escape, space, up, down, left, right, home, end, pageup, pagedown, del, delete and f1 through f19.In Firefox, the keyCode property does not work on the onkeypress event (will only return 0). For a cross-browser solution, use the which property together with keyCode, e.g:

Generate pdf from HTML in div using Javascript

John Crawford

[Generate pdf from HTML in div using Javascript](https://stackoverflow.com/questions/18191893/generate-pdf-from-html-in-div-using-javascript)

I have the following html code:All I want to do is to print to pdf whatever is found in the div with an id of "pdf".  This must be done using JavaScript.  The "pdf" document should then be automatically downloaded with a filename of "foobar.pdf"I've been using jspdf to do this, but the only function it has is "text" which accepts only string values.  I want to submit HTML to jspdf, not text.  

2013-08-12 16:18:31Z

I have the following html code:All I want to do is to print to pdf whatever is found in the div with an id of "pdf".  This must be done using JavaScript.  The "pdf" document should then be automatically downloaded with a filename of "foobar.pdf"I've been using jspdf to do this, but the only function it has is "text" which accepts only string values.  I want to submit HTML to jspdf, not text.  jsPDF is able to use plugins. In order to enable it to print HTML, you have to include certain plugins and therefore have to do the following:If you want to ignore certain elements, you have to mark them with an ID, which you can then ignore in a special element handler of jsPDF. Therefore your HTML should look like this:Then you use the following JavaScript code to open the created PDF in a PopUp:For me this created a nice and tidy PDF that only included the line 'print this to pdf'.Please note that the special element handlers only deal with IDs in the current version, which is also stated in a GitHub Issue. It states: Therefore replacing '#ignorePDF' with class selectors like '.ignorePDF' did not work for me. Instead you will have to add the same handler for each and every element, which you want to ignore like:From the examples it is also stated that it is possible to select tags like 'a' or 'li'. That might be a little bit to unrestrictive for the most usecases though:One very important thing to add is that you lose all your style information (CSS). Luckily jsPDF is able to nicely format h1, h2, h3 etc., which was enough for my purposes. Additionally it will only print text within text nodes, which means that it will not print the values of textareas and the like. Example:This is the simple solution. This works for me.You can use the javascript  print concept and simple save this as pdf.You can use autoPrint() and set output to 'dataurlnewwindow' like this:As mentioned, you should use jsPDF and html2canvas. I've also found a function inside issues of jsPDF which splits automatically your pdf into multiple pages (sources)if you need to downloadable pdf of a specific page just add button like thisuse window.print() to print your all page not just a divOne way is to use window.print() function. Which does not require any libraryPros1.No external library require.2.We can print only selected parts of body also.3.No css conflicts and js issues.4.Core html/js functionality---Simply add below codeCSS to JS code - Call bewlow function on btn clickNote: Use !important in every css objectExample - i use jspdf and html2canvas for css rendering and i export content of specific div as this is my codeIf you want to export a table, you can take a look at this export sample provided by the Shield UI Grid widget.It is done by extending the configuration like this:This served me for years now:I was able to get jsPDF to print dynamically created tables from a div.Works great with Chrome and Firefox... formatting is all blown up in IE.I also included these:Use pdfMake.js and this Gist. (I found the Gist here along with a link to the package html-to-pdfmake, which I end up not using for now.)After npm install pdfmake and saving the Gist in htmlToPdf.js I use it like this:Remarks: To capture div as PDF you can use https://grabz.it solution. It's got a JavaScript API which is easy and flexible and will allow you to capture the contents of a single HTML element such as a div or a spanIn order to implement it you will need to first get an app key and secret and download the (free) SDK. And now an example.Let's say you have the HTML:To capture what is under the features id you will need to:Please note the target: #feature. #feature is you CSS selector, like in the previous example. Now, when the page is loaded an image screenshot will now be created in the same location as the script tag, which will contain all of the contents of the features div and nothing else.The are other configuration and customization you can do to the div-screenshot mechanism, please check them out here

How do I configure different environments in Angular.js?

rbarilani

[How do I configure different environments in Angular.js?](https://stackoverflow.com/questions/16339595/how-do-i-configure-different-environments-in-angular-js)

How do you manage configuration variables/constants for different environments?This could be an example:  My rest API is reachable on localhost:7080/myapi/, but my friend that works on the same code under Git version control has the API deployed on his Tomcat on localhost:8099/hisapi/.Supposing that we have something like this : How do I dynamically inject the correct value of the API endpoint, depending on the environment?In PHP I usually do this kind of stuff with a config.username.xml file, merging the basic configuration file (config.xml) with the local environment configuration file recognised by the name of the user. But I don't know how to manage this kind of thing in JavaScript?

2013-05-02 13:41:29Z

How do you manage configuration variables/constants for different environments?This could be an example:  My rest API is reachable on localhost:7080/myapi/, but my friend that works on the same code under Git version control has the API deployed on his Tomcat on localhost:8099/hisapi/.Supposing that we have something like this : How do I dynamically inject the correct value of the API endpoint, depending on the environment?In PHP I usually do this kind of stuff with a config.username.xml file, merging the basic configuration file (config.xml) with the local environment configuration file recognised by the name of the user. But I don't know how to manage this kind of thing in JavaScript?I'm a little late to the thread, but if you're using Grunt I've had great success with grunt-ng-constant.The config section for ngconstant in my Gruntfile.js looks likeThe tasks that use ngconstant look likeSo running grunt server will generate a config.js file in app/scripts/ that looks likeFinally, I declare the dependency on whatever modules need it:Now my constants can be dependency injected where needed. E.g.,One cool solution might be separating all environment-specific values into some separate angular module, that all other modules depend on:Then your modules that need those entries can declare a dependency on it:Now you could think about further cool stuff:The module, that contains the configuration can be separated into configuration.js, that will be included at your page.This script can be easily edited by each of you, as long as you don’t check this separate file into git. But it's easier to not check in the configuration if it is in a separate file. Also, you could branch it locally.Now, if you have a build-system, like ANT or Maven, your further steps could be implementing some placeholders for the values API_END_POINT, that will be replaced during build-time, with your specific values.Or you have your configuration_a.js and configuration_b.js and decide at the backend which to include.For Gulp users, gulp-ng-constant is also useful combined with gulp-concat, event-stream and yargs.In my config folder I have these files:Then you can run gulp config --env development and that will create something like this:I also have this spec:To achieve that, I suggest you to use AngularJS Environment Plugin: https://www.npmjs.com/package/angular-environmentHere's an example:And then, you can call the variables from your controllers such as this:Hope it helps.You could use lvh.me:9000 to access your AngularJS app, (lvh.me just points to 127.0.0.1) and then specify a different endpoint if lvh.me is the host:And then inject the Configuration service and use Configuration.API wherever you need to access the API:A tad clunky, but works fine for me, albeit in a slightly different situation (API endpoints differ in production and development).We could also do something like this. And in your controller/service, we can inject the dependency and call the get method with property to be accessed. $http.get(env.get('apiroot') would return the url based on the host environment.Good question!One solution could be to continue using your config.xml file, and provide api endpoint information from the backend to your generated html, like this (example in php):Maybe not a pretty solution, but it would work.Another solution could be to keep the API_END_POINT constant value as it should be in production, and only modify your hosts-file to point that url to your local api instead.Or maybe a solution using localStorage for overrides, like this:Very late to the thread, but a technique I've used, pre-Angular, is to take advantage of JSON and the flexibility of JS to dynamically reference collection keys, and use inalienable facts of the environment (host server name, current browser language, etc.) as inputs to selectively discriminate/prefer suffixed key names within a JSON data structure.This provides not merely deploy-environment context (per OP) but any arbitrary context (such as language) to provide i18n or any other variance required simultaneously, and (ideally) within a single configuration manifest, without duplication, and readably obvious.IN ABOUT 10 LINES VANILLA JSOverly-simplified but classic example: An API endpoint base URL in a JSON-formatted properties file that varies per environment where (natch) the host server will also vary:A key to the discrimination function is simply the server hostname in the request.This, naturally, can be combined with an additional key based on the user's language settings:The scope of the discrimination/preference can be confined to individual keys (as above) where the "base" key is only overwritten if there's a matching key+suffix for the inputs to the function -- or an entire structure, and that structure itself recursively parsed for matching discrimination/preference suffixes:SO, if a visiting user to the production website has German (de) language preference setting, the above configuration would collapse to:What does such a magical preference/discrimination JSON-rewriting function look like? Not much:In our implementations, which include Angular and pre-Angular websites, we simply bootstrap the configuration well ahead of other resource calls by placing the JSON within a self-executing JS closure, including the prefer() function, and fed basic properties of hostname and language-code (and accepts any additional arbitrary suffixes you might need):A pre-Angular site would now have a collapsed (no @ suffixed keys) window.app_props to refer to.An Angular site, as a bootstrap/init step, simply copies the dead-dropped props object into $rootScope, and (optionally) destroys it from global/window scopeto be subsequently injected into controllers:or referred to from bindings in views:Caveats? The @ character is not valid JS/JSON variable/key naming, but so far accepted. If that's a deal-breaker, substitute for any convention you like, such as "__" (double underscore) as long as you stick to it.The technique could be applied server-side, ported to Java or C# but your efficiency/compactness may vary.Alternately, the function/convention could be part of your front-end compile script, so that the full gory all-environment/all-language JSON is never transmitted over the wire.UPDATEWe've evolved usage of this technique to allow multiple suffixes to a key, to avoid being forced to use collections (you still can, as deeply as you want), and as well to honor the order of the preferred suffixes.Example (also see working jsFiddle):1/2 (basic usage) prefers '@dev' keys, discards all other suffixed keys3 prefers '@dev' over '@fr', prefers '@dev&fr' over all others4 (same as 3 but prefers '@fr' over '@dev')5 no preferred suffixes, drops ALL suffixed propertiesIt accomplishes this by scoring each suffixed property and promoting the value of a suffixed property to the non-suffixed property when iterating over the properties and finding a higher-scored suffix.Some efficiencies in this version, including removing dependence on JSON to deep-copy, and only recursing into objects that survive the scoring round at their depth:If you're using Brunch, the plugin Constangular helps you to manage variables for different environments.Have you seen this question and its answer?You can set a globally valid value for you app like this:and then use it in your services. You could move this code to a config.js file and execute it on page load or another convenient moment.

Are there still reasons to use promise libraries like Q or BlueBird now that we have ES6 promises? [closed]

Murat Ozgul

[Are there still reasons to use promise libraries like Q or BlueBird now that we have ES6 promises? [closed]](https://stackoverflow.com/questions/34960886/are-there-still-reasons-to-use-promise-libraries-like-q-or-bluebird-now-that-we)

After Node.js added native support for promises, are there still reasons to use libraries like Q or BlueBird? For example if you are starting a new project and let's assume in this project you don't have any dependencies that use these libraries, can we say that there are really no more reasons to use such libraries?

2016-01-23 07:35:01Z

After Node.js added native support for promises, are there still reasons to use libraries like Q or BlueBird? For example if you are starting a new project and let's assume in this project you don't have any dependencies that use these libraries, can we say that there are really no more reasons to use such libraries?The old adage goes that you should pick the right tool for the job.  ES6 promises provide the basics.  If all you ever want or need is the basics, then that should/could work just fine for you.  But, there are more tools in the tool bin than just the basics and there are situations where those additional tools are very useful.  And, I'd argue that ES6 promises are even missing some of the basics like promisification that are useful in pretty much every node.js project.I'm most familiar with the Bluebird promise library so I'll speak mostly from my experience with that library.So, here are my top 6 reasons to use a more capable Promise libraryHere's some more detail on these various topics:PromisifyAllIn any node.js project, I immediately use Bluebird everywhere because I use .promisifyAll() a lot on standard node.js modules like the fs module.  Node.js does not itself provide a promise interface to the built-in modules that do async IO like the fs  module.  So, if you want to use promises with those interfaces you are left to either hand code a promise wrapper around each module function you use or get a library that can do that for you or not use promises.  Bluebird's Promise.promisify() and Promise.promisifyAll() provide an automatic wrapping of node.js calling convention async APIs to return promises.  It's extremely useful and time saving.  I use it all the time.Here's an example of how that works:The alternative would be to manually create your own promise wrapper for each fs API you wanted to use:And, you have to manually do this for each API function you want to use.  This clearly doesn't make sense.  It's boilerplate code.  You might as well get a utility that does this work for you.  Bluebird's Promise.promisify() and Promise.promisifyAll() are such a utility.Other Useful FeaturesHere are some of the Bluebird features that I specifically find useful (there are a couple code examples below on how these can save code or speed development):In addition to its useful function, Promise.map() also supports a concurrency option that lets you specify how many operations should be allowed to be running at the same time which is particularly useful when you have a lot of something to do, but can't overwhelm some outside resource.Some of these can be both called stand-alone and used on a promise that itself resolves to an iterable which can save a lot of code.PolyfillIn a browser project, since you generally want to still support some browsers that don't have Promise support, you end up needing a polyfill anyway.  If you're also using jQuery, you can sometimes just use the promise support built into jQuery (though it is painfully non-standard in some ways, perhaps fixed in jQuery 3.0), but if the project involves any signficant async activity, I find the extended features in Bluebird very useful.  FasterAlso worth noting that Bluebird's promises appear to be significantly faster than the promises built into V8.  See this post for more discussion on that topic.A Big Thing Node.js is MissingWhat would make me consider using Bluebird less in node.js development would be if node.js built in a promisify function so you could do something like this:Or just offer already promisified methods as part of the built-in modules.Until then, I do this with Bluebird:It seems a bit odd to have ES6 promise support built into node.js and have none of the built-in modules return promises.  This needs to get sorted out in node.js.  Until then, I use Bluebird to promisify whole libraries.  So, it feels like promises are about 20% implemented in node.js now since none of the built-in modules let you use promises with them without manually wrapping them first.Here's an example of plain Promises vs. Bluebird's promisify and Promise.map() for reading a set of files in parallel and notifying when done with all the data:Plain PromisesBluebird Promise.map() and Promise.promisifyAll()Here's an example of plain Promises vs. Bluebird's promisify and Promise.map() when reading a bunch of URLs from a remote host where you can read at most 4 at a time, but want to keep as many requests in parallel as allowed:Plain JS PromisesBluebird Promises

Javascript replace with reference to matched group?

Sinan Taifour

[Javascript replace with reference to matched group?](https://stackoverflow.com/questions/1234712/javascript-replace-with-reference-to-matched-group)

I have a string, such as hello _there_. I'd like to replace the two underscores with <div> and </div> respectively, using JavaScript. The output would (therefore) look like hello <div>there</div>. The string might contain multiple pairs of underscores.What I am looking for is a way to either run a function on each match, the way Ruby does it:Or be able to reference a matched group, again the way it can be done in ruby:Any ideas or suggestions?

2009-08-05 17:48:14Z

I have a string, such as hello _there_. I'd like to replace the two underscores with <div> and </div> respectively, using JavaScript. The output would (therefore) look like hello <div>there</div>. The string might contain multiple pairs of underscores.What I am looking for is a way to either run a function on each match, the way Ruby does it:Or be able to reference a matched group, again the way it can be done in ruby:Any ideas or suggestions?Oh, or you could also:You can use replace instead of gsub.For the replacement string and the replacement pattern as specified by $. 

here a resume:link to doc : here

Note: If you want to have a $ in the replacement string use $$. Same as with vscode snippet system.

What is the difference between parseInt(string) and Number(string) in JavaScript? [duplicate]

DarkLightA

[What is the difference between parseInt(string) and Number(string) in JavaScript? [duplicate]](https://stackoverflow.com/questions/4564158/what-is-the-difference-between-parseintstring-and-numberstring-in-javascript)

What is the difference between parseInt(string) and Number(string) in JavaScript?

2010-12-30 16:08:29Z

What is the difference between parseInt(string) and Number(string) in JavaScript?returns 123returns NaNIn other words parseInt() parses up to the first non-digit and returns whatever it had parsed. Number() wants to convert the entire string into a number, which can also be a float BTW.EDIT #1: Lucero commented about the radix that can be used along with parseInt(). As far as that is concerned, please see THE DOCTOR's answer below (I'm not going to copy that here, the doc shall have a fair share of the fame...).EDIT #2: Regarding use cases: That's somewhat written between the lines already. Use Number() in cases where you indirectly want to check if the given string completely represents a numeric value, float or integer. parseInt()/parseFloat() aren't that strict as they just parse along and stop when the numeric value stops (radix!), which makes it useful when you need a numeric value at the front "in case there is one" (note that parseInt("hui") also returns NaN). And the biggest difference is the use of radix that Number() doesn't know of and parseInt() may indirectly guess from the given string (that can cause weird results sometimes).The first one takes two parameters:The radix parameter is used to specify which numeral system to be used, for example, a radix of 16 (hexadecimal) indicates that the number in the string should be parsed from a hexadecimal number to a decimal number.If the radix parameter is omitted, JavaScript assumes the following:The other function you mentioned takes only one parameter:The Number() function converts the object argument to a number that represents the object's value.If the value cannot be converted to a legal number, NaN is returned.parseInt(string) will convert a string containing non-numeric characters to a number, as long as the string begins with numeric charactersNumber(string) will return NaN if the string contains any non-numeric charactersThe parseInt function allows you to specify a radix for the input string and is limited to integer values.The Number constructor called as a function will parse the string with a grammar and is limited to base 10 and base 16.It is not exactly correct. As sjngm wrote parseInt parses string to first number. It is true. But the problem is when you want to parse number separated with whitespace ie. "12 345". In that case parseInt("12 345") will return 12 instead of 12345.

So to avoid that situation you must trim whitespaces before parsing to number.

My solution would be:Notice one extra thing I used in parseInt() function. parseInt("string",10) will set the number to decimal format. If you would parse string like "08" you would get 0 because 8 is not a octal number.Explanation is hereAddendum to @sjngm's answer:They both also ignore whitespace:

Cross browser JavaScript (not jQuery…) scroll to top animation

Heather Hins

[Cross browser JavaScript (not jQuery…) scroll to top animation](https://stackoverflow.com/questions/8917921/cross-browser-javascript-not-jquery-scroll-to-top-animation)

I'm looking for a simple, cross-browser "scroll to top" animation I can apply to a link. I don't want to require a JS library such as jQuery/Moo, etc.I'm a perfect case for someone who should have learned JS 100% before jumping into a library. :(

2012-01-18 21:46:24Z

I'm looking for a simple, cross-browser "scroll to top" animation I can apply to a link. I don't want to require a JS library such as jQuery/Moo, etc.I'm a perfect case for someone who should have learned JS 100% before jumping into a library. :(Demo:looks like there's a lot of solutions already. anyway, here's another one, uses easing equations..Got it from an article about Smooth Scrolling.If needed, there are some polyfills available.I modified TimWolla's answer to use quadratic in-out easing ( a little smoother :). Here is an example in action: on jsFiddle. Easing functions are available here: Robert Penner's Easing functionsWithout JQuery code, Hope this will help you.call this TopscrollTo() function on button click event or on any other element/event which you want.I modified the code of @TimWolla to add more options and a some movement functions.

Also, added support to crossbrowser with document.body.scrollTop and document.documentElement.scrollTophttp://jsfiddle.net/forestrf/tPQSv/Minified version:

http://jsfiddle.net/forestrf/tPQSv/139/There is actually a pure javascript way to accomplish this without using setTimeout or requestAnimationFrame or jQuery.In short, find the element in the scrollView that you want to scroll to, and use scrollIntoViewel.scrollIntoView({behavior:"smooth"});Here is a plunkr.Adapted from this answer:This should allow you to smoothly scroll (cosine function) from anywhere to the specified "y".No one mentioned the CSS property  scroll-behaviorCSSJSPURE JAVASCRIPT SCROLLER CLASSThis is an old question but I thought I could answer with some fancy stuff and some more options to play with if you want to have a bit more control over the animation.Here it is a pure JS Class to take care of the scrolling for you:SEE DEMO AT CODEPEN OR GO TO THE BOTTOM AND RUN THE SINPETFULL CLASS SCRIPT + USE EXAMPLE:Easy.Just made this javascript only solution below.Simple usage:Engine object (you can fiddle with filter, fps values):Building on some of the answers here, but using some simple math for a smooth transition using a sine curve:Usage:PS. take note of ES6 styleThis is a cross browser approach based on answers aboveYet another approach is using window.scrollByJSFiddleI have choose @akai version of @timwolla answer and added stopAnimation function in return, so before starting new animation, the old one can be stopped.Another cross-browser approach based on above solutionThe trick is to control the actual scroll change, and if it is zero, change the scroll element.Linear scrolling animation to bottom. Pure JS, no JQuery. Maybe my solution will be helpful for someone. You can change variables action_count, speed_ms to configure scrolling animation on your taste.Use this solutionThanksI see that most/all of the above posts search for a button with javascript. This works, as long as you have only one button. I would recommend defining an "onclick" element inside the button. That "onclick" would then call the function causing it to scroll.If you do it like that, you can use more than one button, as long as the button looks something like this:

Is the Javascript date object always one day off?

levi

[Is the Javascript date object always one day off?](https://stackoverflow.com/questions/7556591/is-the-javascript-date-object-always-one-day-off)

In my Java Script app I have the date stored in a format like so:Now when I try using the above value to create a new Date object (so I can retrieve the date in a different format), the date always comes back one day off. See below:logs:

2011-09-26 14:23:08Z

In my Java Script app I have the date stored in a format like so:Now when I try using the above value to create a new Date object (so I can retrieve the date in a different format), the date always comes back one day off. See below:logs:Notice that Eastern Daylight Time is -4 hours and that the hours on the date you're getting back are 20.which is midnight of 2011-09-24.You're getting the right date, you just never specified the correct time zone.If you need to access the date values, you can use getUTCDate() or any of the other getUTC*() functions:There are several crazy things that happen with a JS DATE object that convert strings, for example consider the following date you providedIf you provide separate arguments to the Date constructor you can get other useful outputs as described belowNote: arguments can be of type Number or String. I'll show examples with mixed values.To normalize the date and eliminate the unwanted offset (tested here : https://jsfiddle.net/7xp1xL5m/ ):This also accomplishes the same and credit to @tpartee (tested here : https://jsfiddle.net/7xp1xL5m/1/ ): If you want to get hour 0 of some date in the local time zone, pass the individual date parts to the Date constructor.Just want to add that apparently adding a space at the end of the string will use UTC for creation.Edit: This is not a recommended solution, just an alternative answer. Please do not use this approach since it is very unclear what is happening. There are a number of ways someone could refactor this accidentally causing a bug.I believe that it has to do with time-zone adjustment. The date you've created is in GMT and the default time is midnight, but your timezone is EDT, so it subtracts 4 hours. Try this to verify:Your issue is specifically with time zone.  Note part GMT-0400 - that is you're 4 hours behind GMT.  If you add 4 hours to the displayed date/time, you'll get exactly midnight 2011/09/24.  Use toUTCString() method instead to get GMT string:This through me for a loop, +1 on zzzBov's answer.  Here is a full conversion of a date that worked for me using the UTC methods:This probably is not a good answer, but i just want to share my experience with this issue.My app is globally use utc date with the format 'YYYY-MM-DD', while the datepicker plugin i use only accept js date, it's hard for me to consider both utc and js. So when i want to pass a 'YYYY-MM-DD' formatted date to my datepicker, i first convert it to 'MM/DD/YYYY' format using moment.js or whatever you like, and the date shows on datepicker is now correct. For your exampleApparently d1 is what i want. Hope this would be helpful for some people.It means 2011-09-24 00:00:00 GMT, and since you're at GMT -4, it will be 20:00 the previous day.Personally, I get 2011-09-24 02:00:00, because I'm living at GMT +2.Though in the OP's case the timezone is EDT, there's not guarantee the user executing your script will be int he EDT timezone, so hardcoding the offset won't necessarily work.  The solution I found splits the date string and uses the separate values in the Date constructor.Note that you have to account for another piece of JS weirdness: the month is zero-based.The best way to handle this without using more conversion methods,Now just add GMT in your date or you can append it.Live: https://jsfiddle.net/gajender/2kop9vrk/1/I faced some issue like this. But my issue was the off set while getting date from database.this is stroed in the database and it is in the UTC format.So when i get from database and check date it is adding offset with it and send back to javascript.It is adding +05:00 because this is my server timezone. My client is on different time zone +07:00.So here is my solution what i do with this issue.So when date come from the server and have server offset so i split date and remove server offset and then convert to date. It resolves my issue.I encountered this exact problem where my client was on Atlantic Standard Time. The date value the client retrieved was "2018-11-23" and when the code passed it into new Date("2018-11-23") the output for the client was for the previous day. I created a utility function as shown in the snippet that normalized the date, giving the client the expected date.date.setMinutes(date.getMinutes() + date.getTimezoneOffset());if you're just looking to make sure the individual parts of the date stay the same for display purposes, *this appears to work,  even when I change my timezone:just add the zeros in there.In my code I do this:And I switch around my timezone on my computer and the date stays the same as the yyyy-mm-dd date string I get from the API.  But am I missing something/is this a bad idea ?*at least in chrome.  This Doesn't work in Safari ! as of this writingYou are using the ISO date string format which, according to this page, causes the date to be constructed using the UTC timezone:If you format the text differently, such as "Jan 01 1970", then (at least on my machine) it uses your local timezone. Your log outputs GMT so you want to specify your timezone:nevermind, didn't notice the GMT -0400, wich causes the date to be yesterdayYou could try to set a default "time" to be 12:00:00The following worked for me -

Node.js heap out of memory

Lapsio

[Node.js heap out of memory](https://stackoverflow.com/questions/38558989/node-js-heap-out-of-memory)

Today I ran my script for filesystem indexing to refresh RAID files index and after 4h it crashed with following error:Server is equipped with 16gb RAM and 24gb SSD swap. I highly doubt my script exceeded 36gb of memory. At least it shouldn'tScript creates index of files stored as Array of Objects with files metadata (modification dates, permissions, etc, no big data)Here's full script code:

http://pastebin.com/mjaD76c3I've already experiend weird node issues in the past with this script what forced me eg. split index into multiple files as node was glitching when working on such big files as String. Is there any way to improve nodejs memory management with huge datasets?

2016-07-25 02:45:21Z

Today I ran my script for filesystem indexing to refresh RAID files index and after 4h it crashed with following error:Server is equipped with 16gb RAM and 24gb SSD swap. I highly doubt my script exceeded 36gb of memory. At least it shouldn'tScript creates index of files stored as Array of Objects with files metadata (modification dates, permissions, etc, no big data)Here's full script code:

http://pastebin.com/mjaD76c3I've already experiend weird node issues in the past with this script what forced me eg. split index into multiple files as node was glitching when working on such big files as String. Is there any way to improve nodejs memory management with huge datasets?If I remember correctly, there is a strict standard limit for the memory usage in V8 of around 1.7 GB, if you do not increase it manually. In one of our products we followed this solution in our deploy script:There would also be a new space command but as I read here: a-tour-of-v8-garbage-collection the new space only collects the newly created short-term data and the old space contains all referenced data structures which should be in your case the best option.Just in case anyone runs into this in an environment where they cannot set node properties directly (in my case a build tool):You can set the node options using an environment variable if you cannot pass them on the command line.If you want to increase the memory usage of the node globally - not only single script, you can export environment variable, like this:

export NODE_OPTIONS=--max_old_space_size=4096Then you do not need to play with files when running builds like 

npm run build.I encountered this issue when trying to debug with VSCode, so just wanted to add this is how you can add the argument to your debug setup. You can add it to the runtimeArgs property of your config in launch.json. See example below. i was struggling with this even after setting  --max-old-space-size. Then i realised need to put options  --max-old-space-size before the karma script.also best to specify both syntaxes --max-old-space-size and --max_old_space_size my script for karma : reference https://github.com/angular/angular-cli/issues/1652Here are some flag values to add some additional info on how to allow more memory when you start up your node server. 1GB - 8GBI had a similar issue while doing AOT angular build. Following commands helped me.Source: https://geeklearning.io/angular-aot-webpack-memory-trick/fwiw, finding and fixing a memory hog with something like memwatch might help.Your node.cmd file looks like this after the change:if you want to change the memory globally for node (windows) go to advanced system settings -> environment variables -> new user variable The following environment variable can be used:Another note: console.log() also consumes memory in the terminal.just tried to comment the console.log() on terminal. because that will also take memory.I've faced this same problem recently and came across to this thread but my problem was with React App. Below changes in the node start command solved my issues.Basically, it varies depends on the allocated memory to that thread and your node settings.This is basically stay in our engine v8. below code helps you to understand the Heap Size of your local node v8 engine.Just in case it may help people having this issue while using nodejs apps that produce heavy logging, a colleague solved this issue by piping the standard output(s) to a file.If you are trying to launch not node itself, but some other soft, for example webpack you can use the environment variable and cross-env package:For angular project bundling, I've added the below line to my pakage.json file in the scripts section.Now, to bundle my code, I use npm run build-prod instead of ng build --requiredFlagsHerehope this helps!I just want to add that in some systems, even increasing the node memory limit with --max-old-space-size,  it's not enough and there is an OS error like this:In this case, probably is because you reached the max mmap per process.You can check the max_map_count by runningand increas it by runningand fix it to not be reset after a reboot by adding this linein /etc/sysctl.conf file.Check here for more info.A good method to analyse the error is by run the process with straceUpgrade node to the latest version. I was on node 6.6 with this error and upgraded to 8.9.4 and the problem went away.In my case I had ran npm install on previous version of node, after some day I upgraded node version and ram npm install for few modules. After this I was getting this error.

To fix this problem I deleted node_module folder from each project and ran npm install again.Hope this might fix the problem.Note : This was happening on my local machine and it got fixed on local machine only.I have tried 👍 the below code and its working fine✌.Or you can check the link for more info

https://github.com/nodejs/node/issues/10137#issuecomment-487255987This command works perfectly. I have 8GB ram in my laptop, So I set size=8192. It is all about ram and also you need set file name. I run npm run build command that's why I used build.js. 

How can I round down a number in Javascript?

Ben Shelock

[How can I round down a number in Javascript?](https://stackoverflow.com/questions/1435975/how-can-i-round-down-a-number-in-javascript)

How can I round down a number in JavaScript?math.round() doesn't work because it rounds it to the nearest decimal. I'm not sure if there is a better way of doing it other than breaking it apart at the decimal point at keeping the first bit. There must be...

2009-09-16 23:06:42Z

How can I round down a number in JavaScript?math.round() doesn't work because it rounds it to the nearest decimal. I'm not sure if there is a better way of doing it other than breaking it apart at the decimal point at keeping the first bit. There must be...Using Math.floor() is one way of doing this.More information: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/floorRound towards negative infinity - Math.floor()Round towards zero - usually called Truncate(), but not supported by JavaScript - can be emulated by using Math.ceil() for negative numbers and Math.floor() for positive numbers.Math.floor() will work, but it's very slow compared to using a bitwise OR operation:EDIT Math.floor() is not slower than using the | operator. Thanks to Jason S for checking my work.Here's the code I used to test:You can try to use this function if you need to round down to a specific number of decimal placesexamplesTo round down towards negative infinity, use:To round down towards zero (if the number can round to a 32-bit integer between -2147483648 and 2147483647), use: To round down towards zero (for any number), use:Rounding a number towards 0 can be done by subtracting its signed fractional part number % 1:Like Math.floor (rounds towards -Infinity) this method is perfectly accurate.There are differences in the handling of -0, +Infinity and -Infinity though:Was fiddling round with someone elses code today and found the following which seems rounds down as well:For more info on the Sign-propagating right shift(>>)  see MDN Bitwise OperatorsIt took me a while to work out what this was doing :DBut as highlighted above, Math.floor() works and looks more readable in my opinion.You need to put -1 to round half down and after that multiply by -1 like the example down bellow.Here is math.floor being used in a simple example. This might help a new developer to get an idea how to use it in a function and what it does. Hope it helps!

console.log timestamps in Chrome?

UpTheCreek

[console.log timestamps in Chrome?](https://stackoverflow.com/questions/12008120/console-log-timestamps-in-chrome)

Is there any quick way of getting Chrome to output timestamps in console.log writes (like Firefox does).  Or is prepending new Date().getTime() the only option?

2012-08-17 14:54:07Z

Is there any quick way of getting Chrome to output timestamps in console.log writes (like Firefox does).  Or is prepending new Date().getTime() the only option?In Chrome, there is the option is Console Settings (Developer Tools -> Console -> Settings [upper-right corner] ) named "Show timestamps" which is exactly what I needed.I've just found it. No other dirty hacks needed that destroys placeholders and erases place in the code where the messages was logged from.The "Show timestamps" setting has been moved to the Preferences pane of the "DevTools settings", found in the upper-right corner of the DevTools drawer: Try this:

Or this, in case you want a timestamp:

To log more than one thing and in a nice way (like object tree representation):

With format string (JSFiddle)Outputs with that:P.S.: Tested in Chrome only.P.P.S.: Array.prototype.slice is not perfect here for it would be logged as an array of objects rather than a series those of.You can use dev tools profiler."Timer name" must be the same. You can use multiple instances of timer with different names.I originally added this as a comment, but I wanted to add a screenshot as at least one person could not find the option (or maybe it was not available in their particular version for some reason).On Chrome 68.0.3440.106 (and now checked in 72.0.3626.121) I had to I convert arguments to Array using Array.prototype.slice so that I can concat with another Array of what I want to add, then pass it into console.log.apply(console, /*here*/);It seems that arguments can be Array.prototype.unshifted too, but I don't know if modifying it like this is a good idea/will have other side effects+new Date and Date.now() are alternate ways to get timestampsIf you are using Google Chrome browser, you can use chrome console api:The elapsed time between these two calls is displayed in the console.For detail info, please see the doc link: https://developers.google.com/chrome-developer-tools/docs/consoleFrom Chrome 68:"Show timestamps" moved to settingsThe Show timestamps checkbox previously in Console Settings Console Settings has moved to Settings.Try this also:This function puts timestamp, filename and line number as same of built-in  console.log.If you want to preserve line number information (each message pointing to its .log() call, not all pointing to our wrapper), you have to use .bind().  You can prepend an extra timestamp argument via console.log.bind(console, <timestamp>) but the problem is you need to re-run this every time to get a function bound with a fresh timestamp.

An awkward way to do that is a function that returns a bound function:which then has to be used with a double call:BUT we can make the first call implicit by installing a property with getter function:Now you just call console.log(...) and automagically it prepends a timestamp!You can even achieve this magical behavior with a simple log() instead of console.log() by doing Object.defineProperty(window, "log", ...).See https://github.com/pimterry/loglevel for a well-done safe console wrapper using .bind(), with compatibility fallbacks.See https://github.com/eligrey/Xccessors for compatibility fallbacks from defineProperty() to legacy __defineGetter__ API.

If neither property API works, you should fallback to a wrapper function that gets a fresh timestamp every time.  (In this case you lose line number info, but timestamps will still show.)Boilerplate: Time formatting the way I like it:This adds a "log" function to the local scope (using this) using as many arguments as you want:So you can use it:Outputs something like this:extended the very nice solution "with format string" from JSmyth to also support .I have this in most Node.JS apps. It also works in the browser.A refinement on the answer by JSmyth:This:

Find mouse position relative to element

Ben Shelock

[Find mouse position relative to element](https://stackoverflow.com/questions/3234256/find-mouse-position-relative-to-element)

I want to make a little painting app using canvas. So I need to find the mouse's position on the canvas.

2010-07-13 04:47:52Z

I want to make a little painting app using canvas. So I need to find the mouse's position on the canvas.For people using JQuery:Sometimes, when you have nested elements, one of them with the event attached to it, it can be confusing to understand what your browser sees as the parent. Here, you can specify which parent.You take the mouse position, and then subtract it from the parent element's offset position.If you're trying to get the mouse position on a page inside a scrolling pane:Or the position relative to the page:Note the following performance optimisation:In this way, JQuery does not have to look up #element for each line.There is a newer, JavaScript-only version below by @anytimecoder below for browsers supporting getBoundingClientRect().As I didn't find a jQuery-free answer that I could copy/paste, here's the solution I used:JSFiddle of full exampleThe following calculates the mouse position relation to the canvas element:In this example, this refers to the example element, and e is the onmousemove event.There is no answer in pure javascript that returns relative coordinates when the reference element is nested inside others which can be with absolute positioning. Here is a solution to this scenario: A good write up of the difficulty of this problem can be found here: http://www.quirksmode.org/js/events_properties.html#positionUsing the technique that is described there you can find the mouses position in the document. Then you just check to see if it is inside the bounding box of your element, which you can find by calling element.getBoundingClientRect() which will return an object with the following properties: { bottom, height, left, right, top, width }. From there it is trivial to figure out if the even happened inside your element or not.I tried all these solutions and due to my special setup with a matrix transformed container (panzoom library) none worked. This returns the correct value, even if zoomed and paned:But only if there are no children in the way. This can be circumvented by making those children 'invisible' to the event, using CSS:In the dragstart/dragstop functions, toggle the class .element-dragging on the container and .dragging on the element itself.I came across this question, but in order to make it work for my case (using dragover on a DOM-element (not being canvas in my case)), I found that you only have have to use offsetX and offsetY on the dragover-mouse event.I +1' Mark van Wyk's answer as it got me in the right direction, but didn't quite solve it for me. I still had an offset on painting in elements contained within another element.FOllowing solved it for me:In other words - i simply stacked all the offsets from all elements nestedNone of the above answers are satisfactory IMO, so here's what I use:And if you ever need to know the current Y scrolling position of page :For those of you developing regular websites or PWAs (Progressive Web Apps) for mobile devices and/or laptops/monitors with touch screens, then you have landed here because you might be used to mouse events and are new to the sometimes painful experience of Touch events... yay!There are just 3 rules:Needless to say, things are more complicated with touch events because there can be more than one and they're more flexible (complicated) than mouse events.  I'm only going to cover a single touch here.  Yes, I'm being lazy, but it's the most common type of touch, so there.Prefer using Vue.js?  I do!  Then your HTML would look like this:you can get it byTaken from this tutorial, with corrections made thanks to the top comment:Use on a canvas as follows:I realise I'm a little late , but this works with PURE javascript, and it even gives you the coordinates of the pointer within the element if the element is bigger than the viewport and the user has scrolled.  The first thing we do is get the location of the HTML element (the content area) relative to the current viewport. If the page has scrollbars and is scrolled, then the number returned by getBoundingClientRect().left for the html tag will be negative. We then use this number to compute the distance between the element and the left of the content area. With element_offset_x = element.getBoundingClientRect().left......; Knowing the distance of the element from the content area. event.clientX gives us the distance of the pointer from the viewport. It is important to understand that the viewport and the content area are two different entities, the viewport can move if the page is scrolled. Hence, clientX will return the SAME number even if the page is scrolled. To compensate for this , we need to add the x position of the pointer (relative to the viewport) , to the x position of the viewport (relative to the content area ). The X position of the viewport is found with  window.pageXOffset.Based on @Spider's solution, my non JQuery version is this:This works both with scrolling and zooming (in which case sometimes it returns floats).The mouse coordinates inside a canvas can be obtained thanks to event.offsetX and event.offsetY. Here's a little snippet to prove my point:HTMLElement.offsetLeftThe HTMLElement.offsetLeft read-only property returns the number of pixels that the upper left corner of the current element is offset to the left within the HTMLElement.offsetParent node.For block-level elements, offsetTop, offsetLeft, offsetWidth, and offsetHeight describe the border box of an element relative to the offsetParent.However, for inline-level elements (such as span) that can wrap from one line to the next, offsetTop and offsetLeft describe the positions of the first border box (use Element.getClientRects() to get its width and height), while offsetWidth and offsetHeight describe the dimensions of the bounding border box (use Element.getBoundingClientRect() to get its position). Therefore, a box with the left, top, width and height of offsetLeft, offsetTop, offsetWidth and offsetHeight will not be a bounding box for a span with wrapped text.HTMLElement.offsetTopThe HTMLElement.offsetTop read-only property returns the distance of the current element relative to the top of the offsetParent node.MouseEvent.pageXThe pageX read-only property returns the X (horizontal) coordinate in pixels of the event relative to the whole document. This property takes into account any horizontal scrolling of the page.MouseEvent.pageYThe MouseEvent.pageY read-only property returns the Y (vertical) coordinate in pixels of the event relative to the whole document. This property takes into account any vertical scrolling of the page.For further explanation, please see the Mozilla Developer Network:https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/pageX

https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/pageY

https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetLeft

https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTopYou have to know the structure of your page, because if your canvas is a child of a div which in turn is a child of another div... then the story gets more complicated. Here's my code for a canvas which is inside 2 levels of div s:});Original answer said to put it in an iframe. The better solution is to use the events offsetX and offsetY on a canvas that has the padding set to 0px.Here is what I got.I implemented an other solution that I think is very simple so I thought I'd share with you guys.So, the problem for me was that the dragged div would jump to 0,0 for the mouse cursor. So I needed to capture the mouses position on the div to adjust the divs new position. I read the divs PageX and PageY and set the top and left of the according to that and then to get the values to adjust the coordinates to keep the cursor in the initial position in the div I use a onDragStart listener and store the e.nativeEvent.layerX and e.nativeEvent.layerY that only in the initial trigger gives you the mouses position within the draggable div. Example code : I hope this will help someone that went through the same problems I went through :)

Refresh a page using JavaScript or HTML [duplicate]

Prabakaran

[Refresh a page using JavaScript or HTML [duplicate]](https://stackoverflow.com/questions/5294842/refresh-a-page-using-javascript-or-html)

How can I refresh a page using JavaScript or HTML?

2011-03-14 04:47:32Z

How can I refresh a page using JavaScript or HTML?window.location.reload(); in JavaScript<meta http-equiv="refresh" content="1"> in HTML (where 1 = 1 second).Here are 535 ways to reload a page using javascript, very cool:Here are the first 20:and the last 10:Original Articlesimply use..If false, the page will be reloaded from cache, else from the server.should work however there are many different options like:You can also use It works fine for me.Use:If it has something to do control updates on cached pages here I have a nice method how to do this.This method requires at least one request even when no request is needed because it already exists in the local browser cache. But the overhead is less comparing to using no cache at all (to be sure the page will show the right updated content). This requires just a few bytes for each page request instead of all content for each page. IMPORTANT: The version info request must be implemented on your server otherwise it will return the whole page.Example of version string returned by www.yoursite.com/page/about?getVer=1&__[date]:

skg2pl-v8kqb To give you an example in code, here is a part of my library (I don't think you can use it but maybe it gives you some idea how to do it):If you are using version independent resources like javascript or css files, add versionnumbers (implemented with a url rewrite and not with a query because they mostly won't be cached). For example: www.yoursite.com/ver-01/about.js For me, this method is working great, maybe it can help you too.  try this working fine  

Shortest way to print current year in a website

tpow

[Shortest way to print current year in a website](https://stackoverflow.com/questions/4562587/shortest-way-to-print-current-year-in-a-website)

I need to update a few hundred static HTML pages that have the copyright date hard coded in the footer. I want to replace it with some JavaScript that will automatically update each year.Currently I’m using:Is this as short as it gets?

2010-12-30 12:29:04Z

I need to update a few hundred static HTML pages that have the copyright date hard coded in the footer. I want to replace it with some JavaScript that will automatically update each year.Currently I’m using:Is this as short as it gets?Here's the shortest I can get it:That will work in all browsers I've run across.How I got there:It's important to note that this only works on browsers where JavaScript is enabled. Ideally, this would be better handled as an offline batch job (sed script on *nix, etc.) once a year, but if you want the JavaScript solution, I think that's as short as it gets. (Now I've gone and tempted fate.)TJ's answer is excellent but I ran into one scenario where my HTML was already rendered and the document.write script would overwrite all of the page contents with just the date year.For this scenario, you can append a text node to the existing element using the following code:If you want to include a time frame in the future, with the current year (e.g. 2017) as the start year so that next year it’ll appear like this:「© 2017-2018, Company.」, then use the following code. It’ll automatically update each year:© Copyright 2017-2018, Company.But if the first year has already passed, the shortest code can be written like this:The JS solution works great but I would advise on a server side solution. Some of the sites I checked had this issue of the entire page going blank and only the year being seen once in a while.The reason for this was the document.write actually wrote over the entire document.I asked my friend to implement a server side solution and it worked for him.

The simple code in phpEnjoy!Here's the ultimate shortest most responsible version that even works both AD and BC.[drum rolls...]That's it. 6 Bytes shorter than the accepted answer.If you need to be ES5 compatible, you can settle for:This is the best solution I can think of that will work with pure JavaScript. You will also be able to style the element as it can be targeted in CSS. Just add  in place of the year and it will automatically be updated.For React.js, the following is what worked for me in the footer...

Send response to all clients except sender

switz

[Send response to all clients except sender](https://stackoverflow.com/questions/10058226/send-response-to-all-clients-except-sender)

To send something to all clients, you use:To receive from clients, you use:How can I combine the two so that when recieving a message on the server from a client, I send that message to all users except the one sending the message?Do I have to hack it around by sending the client-id with the message and then checking on the client-side or is there an easier way?

2012-04-07 20:45:07Z

To send something to all clients, you use:To receive from clients, you use:How can I combine the two so that when recieving a message on the server from a client, I send that message to all users except the one sending the message?Do I have to hack it around by sending the client-id with the message and then checking on the client-side or is there an easier way?Here is my list (updated for 1.0):From the @LearnRPG answer but with 1.0:To answer @Crashalot comment, socketid comes from:Here is a more complete answer about what has changed from 0.9.x to 1.x.I wanted to edit the post of @soyuka but my edit was rejected by peer-review.broadcast.emit sends the msg to all other clients (except for the sender)For namespaces within rooms looping the list of clients in a room (similar to Nav's answer) is one of only two approaches I've found that will work.  The other is to use exclude.  E.G.Other casesUpdated the list for further documentation.Hope this helps.use this codingthis socket.broadcast.emit() will emit everthing in the function except to the server which is emittingI am using namespaces and rooms - I foundto work where did not(should anyone else face that problem)

Why does the JavaScript need to start with「;」?

TK.

[Why does the JavaScript need to start with「;」?](https://stackoverflow.com/questions/2481543/why-does-the-javascript-need-to-start-with)

I have recently noticed that a lot of JavaScript files on the Web start with a ; immediately following the comment section.For example, this jQuery plugin's code starts with:Why does the file need to start with a ;? I see this convention in server-side JavaScript files as well.What are the advantages and disadvantages of doing this?

2010-03-20 01:33:46Z

I have recently noticed that a lot of JavaScript files on the Web start with a ; immediately following the comment section.For example, this jQuery plugin's code starts with:Why does the file need to start with a ;? I see this convention in server-side JavaScript files as well.What are the advantages and disadvantages of doing this?I would say since scripts are often concatenated and minified/compressed/sent together there's a chance the last guy had something like:at the end of the last script without a ; on the end.  If you have a ; at the start on yours, it's safe, example:I believe (though I am not certain, so please don't pounce on me) that this would ensure any prior statement from a different file is closed.  In the worst case, this would be an empty statement, but in the best case it could avoid trying to track down an error in this file when the unfinished statement actually came from above.Consider this example:What will happen is that it will be evaluated like this:So what ever a is returning will be treated as a function an tried to be initialized. This is mostly to prevent errors when trying to concat multiply files into one file:a.jsb.jsIf we concat these files together it will cause problems.So therefore remember to put your ; in front of ( and maybe also a few other places. Btw. var a = 1;;;var b = 2;;;;;;;;;var c = a+b; is perfectly valid JavaScript

QuotaExceededError: Dom exception 22: An attempt was made to add something to storage that exceeded the quota

NicT

[QuotaExceededError: Dom exception 22: An attempt was made to add something to storage that exceeded the quota](https://stackoverflow.com/questions/21159301/quotaexceedederror-dom-exception-22-an-attempt-was-made-to-add-something-to-st)

Using LocalStorage on iPhone with iOS 7 throws this error. I've been looking around for a resolvant, but considering I'm not even browsing in private, nothing is relevant.I don't understand why localStorage would be disabled by default in iOS 7, but it seems it is? I've tested on other websites as well, but with no luck. I even tried testing it using this website: http://arty.name/localstorage.html, but it doesn't seem like it's saving anything at all for some weird reason.Has anyone had the same problem, only they've had luck fixing it? Should I switch my storage method?I tried hard-debugging it by only storing a few lines of information, but to no avail. I used the standard localStorage.setItem() function to save.

2014-01-16 10:35:52Z

Using LocalStorage on iPhone with iOS 7 throws this error. I've been looking around for a resolvant, but considering I'm not even browsing in private, nothing is relevant.I don't understand why localStorage would be disabled by default in iOS 7, but it seems it is? I've tested on other websites as well, but with no luck. I even tried testing it using this website: http://arty.name/localstorage.html, but it doesn't seem like it's saving anything at all for some weird reason.Has anyone had the same problem, only they've had luck fixing it? Should I switch my storage method?I tried hard-debugging it by only storing a few lines of information, but to no avail. I used the standard localStorage.setItem() function to save.This can occur when Safari is in private mode browsing. While in private browsing, local storage is not available at all.One solution is to warn the user that the app needs non-private mode to work.UPDATE: This has been fixed in Safari 11, so the behaviour is now aligned with other browsers.As mentioned in other answers, you'll always get the QuotaExceededError in Safari Private Browser Mode on both iOS and OS X when localStorage.setItem (or sessionStorage.setItem) is called.One solution is to do a try/catch or Modernizr check in each instance of using setItem.However if you want a shim that simply globally stops this error being thrown, to prevent the rest of your JavaScript from breaking, you can use this:https://gist.github.com/philfreo/68ea3cd980d72383c951I use this simple function, which returns true or false, to test for localStorage availablity:Now you can test for localStorage.setItem() availability before using it. Example:I happened to run with the same issue in iOS 7 (with some devices no simulators).Looks like Safari in iOS 7 has a lower storage quota, which apparently is reached by having a long history log.I guess the best practice will be to catch the exception.The Modernizr project has an easy patch, you should try something similar: https://github.com/Modernizr/Modernizr/blob/master/feature-detects/storage/localstorage.jsHere is an expanded solution based on DrewT's answer above that uses cookies if localStorage is not available. It uses Mozilla's docCookies library:In your source, just use:As already explained in other answers, when in Private Browsing mode Safari will always throw this exception when trying to save data with localStorage.setItem() . To fix this I wrote a fake localStorage that mimics localStorage, both methods and events. Fake localStorage: https://gist.github.com/engelfrost/fd707819658f72b42f55This is probably not a good general solution to the problem. This was a good solution for my scenario, where the alternative would be major re-writes to an already existing application.I was using AmplifyJS mentioned below to work around this issue. However, for Safari in Private browsing, it was falling back to a memory-based storage. In my case, it was not appropriate because it means the storage is cleared on refresh, even if the user is still in private browsing.Also, I have noticed a number of users who are always browsing in Private mode on iOS Safari. For that reason, a better fallback for Safari is to use cookies (if available). By default, cookies are still accessible even in private browsing. Of course, they are cleared when exiting the private browsing, but they are not cleared on refresh.I found the local-storage-fallback library. From the documentation:Beware of the gotchas:Use local-storage-fallback (unified API with .getItem(prop) and .setItem(prop, val)):To add upon previous answers, one possible workaround would be to change the storage method. There are a few librairies such as AmplifyJS and PersistJS which can help. Both libs allow persistent client-side storage through several backends.For AmplifyJSFor PersistentJSThey offer an abstraction layer so you don't have to worry about choosing the storage type. Keep in mind there might be some limitations (such as size limits) depending on the storage type though. Right now, I am using AmplifyJS, but I still have to do some more testing on iOS 7/Safari/etc. to see if it actually solves the problem.In April 2017 a patch was merged into Safari, so it aligned with the other browsers. This was released with Safari 11.https://bugs.webkit.org/show_bug.cgi?id=157010This question and answer helped me solve a specific problem with signing up new users in Parse. Because the signUp( attrs, options ) function uses local storage to persist the session, if a user is in private browsing mode it throws the "QuotaExceededError: DOM Exception 22: An attempt was made to add something to storage that exceeded the quota." exception and the success/error functions are never called. In my case, because the error function is never called it initially appeared to be an issue with firing the click event on the submit or the redirect defined on success of sign up.Including a warning for users resolved the issue.Parse Javascript SDK Reference

https://parse.com/docs/js/api/classes/Parse.User.html#methods_signUp

AngularJS toggle class using ng-class

Ronnie

[AngularJS toggle class using ng-class](https://stackoverflow.com/questions/15397252/angularjs-toggle-class-using-ng-class)

I am trying to toggle the class of an element using ng-classisAutoScroll():Basically, if $scope.autoScroll is true, I want ng-class to be icon-autoscroll and if its false, I want it to be icon-autoscroll-disabledWhat I have now isn't working and is producing this error in the consoleError: Lexer Error: Unexpected next character  at columns 18-18 [?] in expression [{(isAutoScroll()) ? 'icon-autoscroll' : 'icon-autoscroll-disabled'}].How do I correctly do this?EDITsolution 1: (outdated)EDIT 2solution 2:I wanted to update the solution as Solution 3, provided by Stewie, should be the one used. It is the most standard when it comes to ternary operator (and to me easiest to read). The solution would betranslates to:if (autoScroll == true) ? //use class 'icon-autoscroll' : //else use 'icon-autoscroll-disabled'

2013-03-13 21:54:39Z

I am trying to toggle the class of an element using ng-classisAutoScroll():Basically, if $scope.autoScroll is true, I want ng-class to be icon-autoscroll and if its false, I want it to be icon-autoscroll-disabledWhat I have now isn't working and is producing this error in the consoleError: Lexer Error: Unexpected next character  at columns 18-18 [?] in expression [{(isAutoScroll()) ? 'icon-autoscroll' : 'icon-autoscroll-disabled'}].How do I correctly do this?EDITsolution 1: (outdated)EDIT 2solution 2:I wanted to update the solution as Solution 3, provided by Stewie, should be the one used. It is the most standard when it comes to ternary operator (and to me easiest to read). The solution would betranslates to:if (autoScroll == true) ? //use class 'icon-autoscroll' : //else use 'icon-autoscroll-disabled'How to use conditional in ng-class: Solution 1:Solution 2:Solution 3 (angular v.1.1.4+ introduced support for ternary operator):PlunkerAs alternate solution, based on javascript logic operator '&&' which returns the last evaluation, you can also do this like so:It's only slightly shorter syntax, but for me easier to read.Add more than one class based on the condition:Apply: class1 + class2 + class3 when isNew=false,

Apply: class1+ class4 when isNew=trueAnalogous to jQuery's toggleClass method, this is a way to toggle the active class on/off when the element is clicked.autoscroll will be defined and modified in the controller.<span ng-class= "autoscroll?'class_if_true':'class_if_false'"></span>Add multiple classes based on condition by:<span ng-class= "autoscroll?'first second third':'classes_if_false'"></span>I made this work in this way: // in your controller

Get The Current Domain Name With Javascript (Not the path, etc.)

Freesnöw

[Get The Current Domain Name With Javascript (Not the path, etc.)](https://stackoverflow.com/questions/11401897/get-the-current-domain-name-with-javascript-not-the-path-etc)

I plan on buying two domain names for the same site.  Depending on which domain is used I plan on providing slightly different data on the page.  Is there a way for me to detect the actual domain name that the page is loading from so that I know what to change my content to?I've looked around for stuff like this but most of it doesn't work the way I want it to.For instance when usingon JSFiddle it returnsi.e. the actual path or whatever that is.

2012-07-09 19:36:15Z

I plan on buying two domain names for the same site.  Depending on which domain is used I plan on providing slightly different data on the page.  Is there a way for me to detect the actual domain name that the page is loading from so that I know what to change my content to?I've looked around for stuff like this but most of it doesn't work the way I want it to.For instance when usingon JSFiddle it returnsi.e. the actual path or whatever that is.How about:The location object actually has a number of attributes referring to different parts of the URLTry  to run in script : 

   path: http://localhost:4200/landing?query=1#2Location have following values: If you are not interested in the host name (for example www.beta.example.com) but in the domain name (for example example.com), this works for valid host names:ExamplesPrevious version was getting full domain (including subdomain). Now it determines the right domain depending on preference. So that when a 2nd argument is provided as true it will include the subdomain, otherwise it returns only the 'main domain'You can get it from location object in Javascript easily:For example URL of this page is: Then we can get the exact domain with following properties of location object:you can make the full domain with:Which in this example returns http://www.stackoverflow.com I addition of this we can get full URL and also the path with other properties of location object: If you are only interested in the domain name and want to ignore the subdomain then you need to parse it out of host and hostname. The following code does this:http://jsfiddle.net/5U366/4/Usewindow.location has a bunch of properties. See here for a list of them.Since this question asks for domain name, not host name, a correct answer should beThis works for host names like www.example.com too.If you wish a full domain origin, you can use this:And if you wish to get only the domain, use can you just this:But you have other options, take a look at the properties in:If you want to get domain name in JavaScript, just use the following code:If you need to web page URL path so you can access web URL path use this example:What about this function? This will match only the domain name regardless if its a subdomain or a main domainfor my case the best match is window.location.originI'm new to JavaScript, but cant you just use: document.domain ?Example:Output:orDepending on what you use on your website.I figure it ought to be as simple as this: url.split("/")[2]Indeed worked for me whereas I couldn't use PHPJust tested that it worked thanks to the approach mentioned above in some of the answers, so quick and verified that worked

Javascript swap array elements

ken

[Javascript swap array elements](https://stackoverflow.com/questions/872310/javascript-swap-array-elements)

Is there any simpler way to swap two elements in an array?

2009-05-16 12:10:28Z

Is there any simpler way to swap two elements in an array?You only need one temporary variable.Edit hijacking top answer 10 years later with a lot of ES6 adoption under our belts:Given the array arr = [1,2,3,4], you can swap values in one line now like so:This would produce the array [2,1,3,4]. This is destructuring assignment.If you want a single expression, using native javascript, 

remember that the return value from a splice operation 

contains the element(s) that was removed.Edit:The [0] is necessary at the end of the expression as Array.splice() returns an array, and in this situation we require the single element in the returned array.This seems ok....Howerver using means a b variable is going to be to be present for the rest of the scope. This can potentially lead to a memory leak. Unlikely, but still better to avoid.Maybe a good idea to put this into Array.prototype.swapwhich can be called like:This is a clean approach to both avoiding memory leaks and DRY.According to some random person on Metafilter,

"Recent versions of Javascript allow you to do swaps (among other things) much more neatly:"My quick tests showed that this Pythonic code works great in the version of JavaScript

currently used in "Google Apps Script" (".gs").

Alas, further tests show this code gives a "Uncaught ReferenceError: Invalid left-hand side in assignment." in

whatever version of JavaScript (".js") is used by

Google Chrome Version 24.0.1312.57 m.Well, you don't need to buffer both values - only one:You can swap elements in an array the following way:See the following example:Note: it works the same way for regular variablesWith numeric values you can avoid a temporary variable by using bitwise xoror an arithmetic sum (noting that this only works if x + y is less than the maximum value for the data type)This didn't exist when the question was asked, but ES2015 introduced array destructuring, allowing you to write it as follows:To swap two consecutive elements of arrayDigest from http://www.greywyvern.com/?post=265what about Destructuring_assignmentwhich can also be extended toYou can swap any number of objects or literals, even of different types, using a simple identity function like this:For your problem:This works in JavaScript because it accepts additional arguments even if they are not declared or used.  The assignments a=b etc, happen after a is passed into the function.Consider such a solution without a need to define the third variable:Note: You may want to add additional checks for example for array length. This solution is mutable so swap function does not need to return a new array, it just does mutation over array passed into.No temporary variable required!I was thinking about simply calling list.reverse().

But then I realised it would work as swap only when list.length = x + y + 1.I have looked into various modern Javascript constructions to this effect, including Map and map, but sadly none has resulted in a code that was more compact or faster than this old-fashioned, loop-based construction:There is one interesting way of swapping:(ES6 way)Here's a one-liner that doesn't mutate list:let newList = Object.assign([], list, {[x]: list[y], [y]: list[x]})(Uses language features not available in 2009 when the question was posted!)Here's a compact version 

swaps value at i1 with i2 in arrHere is a variation that first checks if the index exists in the array:It currently will just return this if the index does not exist, but you could easily modify behavior on failSwap the first and last element in an array without temporary variable or ES6 swap method [a, b] = [b, a][a.pop(), ...a.slice(1), a.shift()]Just for the fun of it, another way without using any extra variable would be:For the sake of brevity, here's the ugly one-liner version that's only slightly less ugly than all that concat and slicing above. The accepted answer is truly the way to go and way more readable. Given:if you want to swap the values of two indices (a and b); then this would do it:For example, if you want to swap the 3 and 5, you could do it this way:or Both yield the same result:#splicehatersarepunks:)If you don't want to use temp variable in ES5, this is one way to swap array elements.try this function...Using ES6 it's possible to do it like this...Imagine you have these 2 arrays...and you want to swap the first values:and value:Usage: If need swap first and last elements only:

How to get the previous URL in JavaScript?

Lance Pollard

[How to get the previous URL in JavaScript?](https://stackoverflow.com/questions/3528324/how-to-get-the-previous-url-in-javascript)

Is there any way to get the previous URL in JavaScript?  Something like this:Is there something like that?  Or should I just store it in a cookie?  I only need to know so I can do transitions from the previous URL to the current URL without anchors and all that.

2010-08-20 05:06:46Z

Is there any way to get the previous URL in JavaScript?  Something like this:Is there something like that?  Or should I just store it in a cookie?  I only need to know so I can do transitions from the previous URL to the current URL without anchors and all that.in many cases will get you the URL of the last page the user visited, if they got to the current page by clicking a link (versus typing directly into the address bar, or I believe in some cases, by submitting a form?). Specified by DOM Level 2. More here.window.history allows navigation, but not access to URLs in the session for security and privacy reasons. If more detailed URL history was available, then every site you visit could see all the other sites you'd been to. If you're dealing with state moving around your own site, then it's possibly less fragile and certainly more useful to use one of the normal session management techniques: cookie data, URL params, or server side session info.If you want to go to the previous page without knowing the url, you could use the new History api.But you can't manipulate the content of the history stack on browser that doesn't support the HTML5 History APIFor more information see the docdocument.referrer is not the same as the actual URL in all situations. I have an application where I need to establish a frameset with 2 frames. One frame is known, the other is the page I am linking from. It would seem that document.referrer would be ideal because you would not have to pass the actual file name to the frameset document.However, if you later change the bottom frame page and then use history.back() it does not load the original page into the bottom frame, instead it reloads document.referrer and as a result the frameset is gone and you are back to the original starting window. Took me a little while to understand this. So in the history array, document.referrer is not only a URL, it is apparently the referrer window specification as well. At least, that is the best way I can understand it at this time. If you are writing a web app or single page application (SPA) where routing takes place in the app/browser rather than a round-trip to the server, you can do the following:Then, in your new route, you can do the following to retrieve the previous URL:Those of you using Node.js and Express can set a session cookie that will remember the current page URL, thus allowing you to check the referrer on the next page load. Here's an example that uses the express-session middleware:You can then check for the existance of a referrer cookie like so:Do not assume that a referrer cookie always exists with this method as it will not be available on instances where the previous URL was another website, the session was cleaned or was just created (first-time website load).document.referrer serves your purpose, but it doesn't work for Internet Explorer versions earlier than IE9.It will work for other popular browsers, like Chrome, Mozilla, Opera, Safari etc.This will navigate to the previously visited URL. 

How to add onload event to a div element

monkey_boys

[How to add onload event to a div element](https://stackoverflow.com/questions/4057236/how-to-add-onload-event-to-a-div-element)

How do you add an onload event to an element?Can I use:for this?

2010-10-30 04:22:44Z

How do you add an onload event to an element?Can I use:for this?No, you can't. The easiest way to make it work would be to put the function call directly after the element Example:or - even better - just in front of </body>:...so it doesn't block the following content from loading.The onload event can only be used on the document(body) itself, frames, images, and scripts. In other words, it can be attached to only body and/or each external resource. The div is not an external resource and it's loaded as part of the body, so the onload event doesn't apply there.You can trigger some js automatically on an IMG element using onerror, and no src.onload event it only supports with few tags like listed below.Here the reference for onload eventTry this! And never use trigger twice on div!You can define function to call before the div tag.DEMO: jsfiddleI just want to add here that if any one want to call a function on load event of div & you don't want to use jQuery(due to conflict as in my case) then simply call a function after all the html code or any other code you have written including the function code and 

simply call a function .ORwe can use MutationObserver to solve the problem in efficient way adding a sample code belowIn November 2019, I am seeking a way to create a (hypothetical) onparse EventListener for <elements> which don't take onload.The (hypothetical) onparse EventListener must be able to listen for when an element is parsed.I was pretty happy with the Second Attempt below, but it just struck me that I can make the code shorter and simpler, by creating a tailor-made event:This is the best solution yet.The example below:Working Example:The First Attempt below (based on @JohnWilliams' brilliant Empty Image Hack) used a hardcoded <img /> and worked.I thought it ought to be possible to remove the hardcoded <img /> entirely and only dynamically insert it after detecting, in an element which needed to fire an onparse event, an attribute like:It turns out, this works very well indeed.The example below:Working Example:I can build on @JohnWilliams' <img src> hack (on this page, from 2017) - which is, so far, the best approach I have come across.The example below:Working Example:use an iframe and hide it iframe works like a body tagI needed to have some initialization code run after a chunk of html (template instance) was inserted, and of course I didn't have access to the code that manipulates the template and modifies the DOM.  The same idea holds for any partial modification of the DOM by insertion of an html element, usually a <div>.Some time ago, I did a hack with the onload event of a nearly invisible <img> contained in a <div>, but discovered that a scoped, empty style will also do:Update(Jul 15 2017) -

The <style> onload is not supported in last version of IE. Edge does support it, but some users see this as a different browser and stick with IE. The <img> element seems to work better across all browsers.To minimize the visual impact and resource usage of the image,  use an inline src that keeps it small and transparent.One comment I feel I need to make about using a <script>is how much harder it is to determine which <div> the script is near, especially in templating where you can't have an identical id in each instance that the template generates. I thought the answer might be document.currentScript, but this is not universally supported.  A <script> element cannot determine its own DOM location reliably; a reference to 'this' points to the main window, and is of no help.I believe it is necessary to settle for using an <img> element, despite being goofy. This might be a hole in the DOM/javascript framework that could use plugging.Since the onload event is only supported on a few elements, you have to use an alternate method.You can use a MutationObserver for this:I really like the YUI3 library for this sort of thing.See: http://developer.yahoo.com/yui/3/event/#onavailableUse the body.onload event instead, either via attribute (<body onload="myFn()"> ...) or by binding an event in Javascript.  This is extremely common with jQuery:I am learning javascript and jquery and was going through all the answer,

i faced same issue when calling javascript function for loading div element.

I tried $('<divid>').ready(function(){alert('test'}) and it worked for me. I want to know is this good way to perform onload call on div element in the way i did using jquery selector.thanksAs all said, you cannot use onLoad event on a DIV instead but it before  body tag.but in case you have one footer file and include it in many pages. it's better to check first if the div you want is on that page displayed, so the code doesn't executed in the pages that doesn't contain that DIV to make it load faster and save some time for your application.so you will need to give that DIV an ID and do:I had the same question and was trying to get a Div to load a scroll script, using onload or load. The problem I found was that it would always work before the Div could open, not during or after, so it wouldn't really work.Then I came up with this as a work around.I placed the Div inside a Span and gave the Span two events, a mouseover and a mouseout. Then below that Div, I placed a link to open the Div, and gave that link an event for onclick. All events the exact same, to make the page scroll down to bottom of page. Now when the button to open the Div is clicked, the page will jump down part way, and the Div will open above the button, causing the mouseover and mouseout events to help push the scroll down script. Then any movement of the mouse at that point will push the script one last time.You could use an interval to check for it until it loads like this: 

https://codepen.io/pager/pen/MBgGGM First to answer your question: No, you can't, not directly like you wanted to do so.

May be a bit late to answer, but this is my solution, without jQuery, pure javascript.

It was originally written to apply a resize function to textareas after DOM is loaded and on keyup.Same way you could use it to do something with (all) divs or only one, if specified, like so:If you really need to do something with a div, loaded after the DOM is loaded, e.g. after an ajax call, you could use a very helpful hack, which is easy to understand an you'll find it ...working-with-elements-before-the-dom-is-ready.... It says "before the DOM is ready" but it works brillant the same way, after an ajax insertion or js-appendChild-whatever of a div. Here's the code, with some tiny changes to my needs.cssjavascriptWhen you load some html from server and insert it into DOM tree you can use  DOMSubtreeModified however it is deprecated - so you can use MutationObserver or just detect new content inside loadElement function directly so you will don't need to wait for DOM eventsYou can attach an event listener as below. It will trigger whenever the div having selector #my-id loads completely to DOM.   Inthis case EventName may be 'load' or 'click'https://api.jquery.com/on/#on-events-selector-data-handler Try this.Try this one too. You need to remove . from oQuickReply.swap() to make the function working.

Failed to instantiate module [$injector:unpr] Unknown provider: $routeProvider

Scotty.NET

[Failed to instantiate module [$injector:unpr] Unknown provider: $routeProvider](https://stackoverflow.com/questions/18481863/failed-to-instantiate-module-injectorunpr-unknown-provider-routeprovider)

I received this error upon upgrading from AngularJS 1.0.7 to 1.2.0rc1. 

2013-08-28 07:34:41Z

I received this error upon upgrading from AngularJS 1.0.7 to 1.2.0rc1. The ngRoute module is no longer part of the core angular.js file. If you are continuing to use $routeProvider then you will now need to include angular-route.js in your HTML:API ReferenceYou also have to add ngRoute as a dependency for your application:If instead you are planning on using angular-ui-router or the like then just remove the $routeProvider  dependency from your module .config() and substitute it with the relevant provider of choice (e.g. $stateProvider). You would then use the ui.router dependency:adding to scotty's answer:Option 1:

Either include this in your JS file: Option 2:

or just use the URL to download 'angular-route.min.js' to your local.and then (whatever option you choose) add this 'ngRoute' as dependency.explained:

var app = angular.module('myapp', ['ngRoute']);Cheers!!!In my case it was because the file was minified with wrong scope. Use Array!Coffee syntax:

How to split comma separated string using JavaScript? [duplicate]

user649802

[How to split comma separated string using JavaScript? [duplicate]](https://stackoverflow.com/questions/5269856/how-to-split-comma-separated-string-using-javascript)

I want to split a comma separated string with JavaScript. How?

2011-03-11 06:48:23Z

I want to split a comma separated string with JavaScript. How?split()and good morning, too, since I have to type 30 chars ...More info on W3Schools describing the String Split function.Use

JavaScript: How to find out if the user browser is Chrome?

Rella

[JavaScript: How to find out if the user browser is Chrome?](https://stackoverflow.com/questions/4565112/javascript-how-to-find-out-if-the-user-browser-is-chrome)

I need some function returning a boolean value to check if the browser is Chrome.How do I create such functionality?

2010-12-30 18:16:03Z

I need some function returning a boolean value to check if the browser is Chrome.How do I create such functionality?Update: Please see Jonathan's answer for an updated way to handle this. The answer below may still work, but it could likely trigger some false positives in other browsers.However, as mentioned User Agents can be spoofed so it is always best to use feature-detection (e.g. Modernizer) when handling these issues, as other answers mention.To check if browser is Google Chrome, try this:Example of use: http://codepen.io/jonathan/pen/WpQELRThe reason this works is because if you use the Google Chrome inspector and go to the console tab. Type 'window' and press enter. Then you be able to view the DOM properties for the 'window object'. When you collapse the object you can view all the properties, including the 'chrome' property. You can't use strictly equals true anymore to check in IE for window.chrome. IE used to return undefined, now it returns true. But guess what, IE11 now returns undefined again. IE11 also returns a empty string "" for window.navigator.vendor. I hope this helps!UPDATE:Thank you to Halcyon991 for pointing out below, that the new Opera 18+ also outputs to true for window.chrome. Looks like Opera 18 is based on Chromium 31. So I added a check to make sure the window.navigator.vendor is: "Google Inc" and not is "Opera Software ASA". Also thanks to Ring and Adrien Be for the heads up about Chrome 33 not returning true anymore... window.chrome now checks if not null. But play close attention to IE11, I added the check back for undefined since IE11 now outputs undefined, like it did when first released.. then after some update builds it outputted to true .. now recent update build is outputting undefined again. Microsoft can't make up it's mind!UPDATE 7/24/2015 - addition for Opera checkOpera 30 was just released. It no longer outputs window.opera. And also window.chrome outputs to true in the new Opera 30. So you must check if OPR is in the userAgent. I updated my condition above to account for this new change in Opera 30, since it uses same render engine as Google Chrome.UPDATE 10/13/2015 - addition for IE checkAdded check for IE Edge due to it outputting true for window.chrome .. even though IE11 outputs undefined for window.chrome. Thanks to artfulhacker for letting us know about this!UPDATE 2/5/2016 - addition for iOS Chrome checkAdded check for iOS Chrome check CriOS due to it outputting true for Chrome on iOS. Thanks to xinthose for letting us know about this!UPDATE 4/18/2018 - change for Opera checkEdited check for Opera, checking window.opr is not undefined since now Chrome 66 has OPR in window.navigator.vendor. Thanks to Frosty Z and Daniel Wallman for reporting this!even shorter: var is_chrome = /chrome/i.test( navigator.userAgent );A much simpler solution is just to use:The !! just converts the object to a boolean value. In non-Chrome browsers, this property will be undefined, which is not truthy.Note this also returns true for versions of Edge that are based on Chrome (thanks @Carrm for pointing this out).You may also want the specific version of Chrome:Apologies to The Big Lebowski for using his answer within mine.You can use:It is working on v.71Works for me on Chrome on Mac. Seems to be or simpler or more reliable (in case userAgent string tested) than all above. User could change user agent . Try testing for webkit prefixed property in style object of body elementCheck this: How to detect Safari, Chrome, IE, Firefox and Opera browser?In your case:

var isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);To know the names of different desktop browsers (Firefox, IE, Opera, Edge, Chrome). Except Safari.Works in the following browser versions:View the gist here and the fiddle hereThe original code snippet no longer worked for Chrome and I forgot where I found it. It had safari before but I no longer have access to safari so I cannot verify anymore.Only the Firefox and IE codes were part of the original snippet.The checking for Opera, Edge, and Chrome is straight forward. They have differences in the userAgent. OPR only exists in Opera. Edge only exists in Edge. So to check for Chrome these string shouldn't be there.As for the Firefox and IE, I cannot explain what they do.I'll be adding this functionality to a package i'm writingall answers are wrong. "Opera" and "Chrome" are same in all cases.(edited part)here is the right answer

Twitter Bootstrap vs jQuery UI? [closed]

Jessica

[Twitter Bootstrap vs jQuery UI? [closed]](https://stackoverflow.com/questions/9782622/twitter-bootstrap-vs-jquery-ui)

I've been using jQuery UI for some basic page enhancements. Button and input styling and modal dialog boxes. Now I've come across Bootstrap and it looks pretty good. Has anyone any experience of going from using jQuery UI to Bootstrap?  This what I am thinking to do but before I do this I'd like to be aware of what problems I could face.

2012-03-20 07:08:42Z

I've been using jQuery UI for some basic page enhancements. Button and input styling and modal dialog boxes. Now I've come across Bootstrap and it looks pretty good. Has anyone any experience of going from using jQuery UI to Bootstrap?  This what I am thinking to do but before I do this I'd like to be aware of what problems I could face.I have on several projects.The biggest difference in my opinion So what to choose? That always depends on the type of project you are working on. Is cool and fast looking widgets better, or are your users often using old browsers?I always end up using both, so I can use the best of both worlds.Here are the links to both frameworks, if you decide to use them.Having used both, Twitter's Bootstrap is a superior technology set. Here are some differences,Other notes,You can use both with relatively few issues. Twitter Bootstrap uses jQuery 1.7.1 (as of this writing), and I can't think of any reasons why you cannot integrate additional Jquery UI components into your HTML templates.I've been using a combination of HTML5 Boilerplate & Twitter Bootstrap built at Initializr.com.  This combines two awesome starter templates into one great starter project.  Check out the details at http://html5boilerplate.com/ and http://www.initializr.com/  Or to get started right away, go to http://www.initializr.com/, click the "Bootstrap 2" button, and click "Download It".  This will give you all the js and css you need to get started.And don't be scared off by HTML5 and CSS3.  Initializr and HTML5 Boilerplate include polyfills and IE specific code that will allow all features to work in IE 6, 7 8, and 9.The use of LESS in Twitter Bootstrap is also optional.  They use LESS to compile all the CSS that is used by Bootstrap, but if you just want to override or add your own styles, they provide an empty css file for that purpose.  There is also a blank js file (script.js) for you to add custom code.  This is where you would add your handlers or selectors for additional jQueryUI components.We have used both and we like Bootstrap for its simplicity and the pace at which it's being developed and enhanced. The problem with jQuery UI is that it's moving at a snail's pace. It's taking years to roll out common features like Menubar, Tree control and DataGrid which are in planning/development stage for ever. We waited waited waited and finally given up and used other libraries like ExtJS for our product http://dblite.com.Bootstrap has come up with quite a comprehensive set of features in a very short period of time and I am sure it will outpace jQuery UI pretty soon. So I see no point in using something that will eventually be outdated...

Why do people put code like「throw 1; <dont be evil>」and「for(;;);」in front of json responses? [duplicate]

Christopher Tarquini

[Why do people put code like「throw 1; <dont be evil>」and「for(;;);」in front of json responses? [duplicate]](https://stackoverflow.com/questions/3146798/why-do-people-put-code-like-throw-1-dont-be-evil-and-for-in-front-of)

Google returns json like this:and Facebooks ajax has json like this:In response to it being for security purposes:If the scraper is on another domain they would have to use a script tag to get the data because XHR won't work cross-domain. Even without the for(;;); how would the attacker get the data? It's not assigned to a variable so wouldn't it just be garbage collected because there's no references to it?Basically to get the data cross domain they would have to doBut even without the crash script prepended the attacker can't use any of the Json data without it being assigned to a variable that you can access globally (it isn't in these cases). The crash code effectivly does nothing because even without it they have to use server sided scripting to use the data on their site. 

2010-06-30 05:58:54Z

Google returns json like this:and Facebooks ajax has json like this:In response to it being for security purposes:If the scraper is on another domain they would have to use a script tag to get the data because XHR won't work cross-domain. Even without the for(;;); how would the attacker get the data? It's not assigned to a variable so wouldn't it just be garbage collected because there's no references to it?Basically to get the data cross domain they would have to doBut even without the crash script prepended the attacker can't use any of the Json data without it being assigned to a variable that you can access globally (it isn't in these cases). The crash code effectivly does nothing because even without it they have to use server sided scripting to use the data on their site. Attacks are based on altering the behaviour of the built-in types, in particular Object and Array, by altering their constructor function or its prototype. Then when the targeted JSON uses a {...} or [...] construct, they'll be the attacker's own versions of those objects, with potentially-unexpected behaviour.For example, you can hack a setter-property into Object, that would betray the values written in object literals:Then when a <script> was pointed at some JSON that used that property name:the value "hello" would be leaked. The way that array and object literals cause setters to be called is controversial. Firefox removed the behaviour in version 3.5, in response to publicised attacks on high-profile web sites. However at the time of writing Safari (4) and Chrome (5) are still vulnerable to this.Another attack that all browsers now disallow was to redefine constructor functions:And for now, IE8's implementation of properties (based on the ECMAScript Fifth Edition standard and Object.defineProperty) currently does not work on Object.prototype or Array.prototype.But as well as protecting past browsers, it may be that extensions to JavaScript cause more potential leaks of a similar kind in future, and in that case chaff should protect against those too.Consider that, after checking your GMail account, that you go visit my evil page:What will happen now is that the Javascript code that comes from Google -- which the asker thought would be benign and immediately fall out of scope -- will actually be posted to my evil site. Suppose that the URL requested in the script tag sends (because your browser will present the proper cookie, Google will correctly think that you are logged in to your inbox):Now, I will be posting a serialized version of this object to my evil server. Thank you!The way to prevent this from happening is to cruft up your JSON responses, and decruft them when you, from the same domain, can manipulate that data. If you like this answer, please accept the one posted by bobince.EDIT  These strings are commonly referred to as an "unparseable cruft" and they are used to patch an information leakage vulnerability that affects the JSON specification.  This attack is real world and a vulnerability in gmail was discovered by Jeremiah Grossman.    Mozilla also believes this to be a vulnerability in the JSON specification and it has been patched in Firefox 3.  However because this issue still affects other browsers this "unparseable cruft" is required because it is a compatible patch. Bobice's answer has a technical explanation of this attack and it is correct.It's a feature that it would crash if you tried to eval it.  eval allows arbitary JavaScript code, which could be used for a cross-site scripting attack.I imagine so.  Probably something like:The "don't be evil" cruft prevents developers from using eval directly instead of a more secure alternative.

jQuery .live() vs .on() method for adding a click event after loading dynamic html

Sean Thoman

[jQuery .live() vs .on() method for adding a click event after loading dynamic html](https://stackoverflow.com/questions/8752321/jquery-live-vs-on-method-for-adding-a-click-event-after-loading-dynamic-ht)

I am using jQuery v.1.7.1 where the .live() method is apparently deprecated. The problem I am having is that when dynamically loading html into an element using:If I try and add a click event afterwards it does not register the event using either of these methods:orWhat is the correct way to achieve this functionality? It only seems to work with .live() for me, but I shouldn't be using that method. Note that #child is a dynamically loaded element. Thanks. 

2012-01-06 01:29:26Z

I am using jQuery v.1.7.1 where the .live() method is apparently deprecated. The problem I am having is that when dynamically loading html into an element using:If I try and add a click event afterwards it does not register the event using either of these methods:orWhat is the correct way to achieve this functionality? It only seems to work with .live() for me, but I shouldn't be using that method. Note that #child is a dynamically loaded element. Thanks. If you want the click handler to work for an element that gets loaded dynamically, then you set the event handler on a parent object (that does not get loaded dynamically) and give it a selector that matches your dynamic object like this:The event handler will be attached to the #parent object and anytime a click event bubbles up to it that originated on #child, it will fire your click handler.  This is called delegated event handling (the event handling is delegated to a parent object).It's done this way because you can attach the event to the #parent object even when the #child object does not exist yet, but when it later exists and gets clicked on, the click event will bubble up to the #parent object, it will see that it originated on #child and there is an event handler for a click on #child and fire your event.Try this:From the $.on() documentation:Your #child element doesn't exist when you call $.on() on it, so the event isn't bound (unlike $.live()). #parent, however, does exist, so binding the event to that is fine.The second argument in my code above acts as a 'filter' to only trigger if the event bubbled up to #parent from #child.$(document).on('click', '.selector', function() { /* do stuff */ });EDIT: I'm providing a bit more information on how this works, because... words.

With this example, you are placing a listener on the entire document. When you click on any element(s) matching .selector, the event bubbles up to the main document -- so long as there's no other listeners that call event.stopPropagation() method -- which would top the bubbling of an event to parent elements.Instead of binding to a specific element or set of elements, you are listening for any events coming from elements that match the specified selector. This means you can create one listener, one time, that will automatically match currently existing elements as well as any dynamically added elements.This is smart for a few reasons, including performance and memory utilization (in large scale applications)EDIT:Obviously, the closest parent element you can listen on is better, and you can use any element in place of document as long as the children you want to monitor events for are within that parent element... but that really does not have anything to do with the question.The equivalent of .live() in 1.7 looks like this:Basically, watch the document for click events and filter them for #child.I know it's a little late for an answer, but I've created a polyfill for the .live() method. I've tested it in jQuery 1.11, and it seems to work pretty well. I know that we're supposed to implement the .on() method wherever possible, but in big projects, where it's not possible to convert all .live() calls to the equivalent .on() calls for whatever reason, the following might work:Just include it after you load jQuery and before you call live()..on() is for jQuery version 1.7 and above.  If you have an older version, use this:I used 'live' in my project but one of my friend suggested that i should use 'on' instead of live.

And when i tried to use that i experienced a problem like you had.On my pages i create buttons table rows and many dom stuff dynamically. but when i use on the magic disappeared.The other solutions like use it like a child just calls your functions every time on  every click.

But i find a way to make it happen again and here is the solution.Write your code as:Call caller(); after you create your object in the page like this.By this way your function is called when it is supposed to not every click on the page.

