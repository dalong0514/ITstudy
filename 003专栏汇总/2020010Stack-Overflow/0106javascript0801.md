that functional and class components:"are equivalent from React’s point of view." - https://reactjs.org/docs/components-and-props.html#stateless-functionsThere is essentially no difference between a functional component and a class component that just implements the render method, other than the syntax.In the future (quoting the above link) "we [React] might add such optimizations."If you're trying to boost performance by eliminating unnecessary renders, both approaches provide support. memo for functional components and PureComponent for classes.-https://reactjs.org/docs/react-api.html#reactmemo-https://reactjs.org/docs/react-api.html#reactpurecomponentIt's really up to you. If you want less boilerplate, go functional. If you love functional programming and don't like classes, go functional. If you want consistency between all components in your codebase, go with classes. If you're tired of refactoring from functional to class based components when you need something like state, go with classes. As of React 16.8 the term Stateless Functional components is misleading and should be avoided cause they are not anymore stateless (React.SFC deprecated, Dan Abramov on React.SFC), they can have a state, they can have hooks (that act as the lifecycle methods) as well, they more or less overlap with class componentsClass based componentsFunctional components:Why i prefer Funtional componentsReact motivation on why using hooks (i.e. functional components).

Do browsers parse javascript on every page load?

Jivings

[Do browsers parse javascript on every page load?](https://stackoverflow.com/questions/1096907/do-browsers-parse-javascript-on-every-page-load)

Do browsers (IE and Firefox) parse linked javascript files every time the page refreshes?They can cache the files, so I'm guessing they won't try to download them each time, but as each page is essentially separate, I expect them to tear down any old code and re-parse it.This is inefficient, although perfectly understandable, but I wonder if modern browsers are clever enough to avoid the parsing step within sites. I'm thinking of cases where a site uses a javascript library, like ExtJS or jQuery, etc.

2009-07-08 08:49:55Z

Do browsers (IE and Firefox) parse linked javascript files every time the page refreshes?They can cache the files, so I'm guessing they won't try to download them each time, but as each page is essentially separate, I expect them to tear down any old code and re-parse it.This is inefficient, although perfectly understandable, but I wonder if modern browsers are clever enough to avoid the parsing step within sites. I'm thinking of cases where a site uses a javascript library, like ExtJS or jQuery, etc.These are the details that I've been able to dig up. It's worth noting first that although JavaScript is usually considered to be interpreted and run on a VM, this isn't really the case with the modern interpreters, which tend to compile the source directly into machine code (with the exception of IE).Chrome : V8 EngineV8 has a compilation cache. This stores compiled JavaScript using a hash of the source for up to 5 garbage collections. This means that two identical pieces of source code will share a cache entry in memory regardless of how they were included. This cache is not cleared when pages are reloaded.SourceUpdate - 19/03/2015The Chrome team have released details about their new techniques for JavaScript streaming and caching.Opera : Carakan EngineTherefore JavaScript is cached across page reloads, two requests to the same script will not result in re-compilation.SourceFirefox : SpiderMonkey EngineSpiderMonkey uses Nanojit as its native back-end, a JIT compiler. The process of compiling the machine code can be seen here. In short, it appears to recompile scripts as they are loaded. However, if we take a closer look at the internals of Nanojit we see that the higher level monitor jstracer, which is used to track compilation can transition through three stages during compilation, providing a benefit to Nanojit:This means that for hot fragments of code the native code is cached. Meaning that will not need to be recompiled.

It is not made clear is these hashed native sections are retained between page refreshes. But I would assume that they are. If anyone can find supporting evidence for this then excellent.EDIT: 

It's been pointed out that Mozilla developer Boris Zbarsky has stated that Gecko does not cache compiled scripts yet. Taken from this SO answer.Safari : JavaScriptCore/SquirelFish EngineI think that the best answer for this implementation has already been given by someone else.This was written by Maciej Stachowiak, the lead developer of Safari. So I think we can take that to be true. I was unable to find any other information but you can read more about the speed improvements of the latest SquirrelFish Extreme engine here, or browse the source code here if you're feeling adventurous.IE : Chakra EngineThere is no current information regarding IE9's JavaScript Engine (Chakra) in this field. If anyone knows anything, please comment.This is quite unofficial, but for IE's older engine implementations, Eric Lippert (a MS developer of JScript) states in a blog reply here that:This suggests that the bytecode does not persist in any way, and thus bytecode is not cached.Opera does it, as mentioned in the other answer. (source)Firefox (SpiderMonkey engine) does not cache bytecode. (source)WebKit (Safari, Konqueror) does not cache bytecode. (source)I'm not sure about IE[6/7/8] or V8 (Chrome), I think IE might do some sort of caching while V8 may not. IE is closed source so I'm not sure, but in V8 it may not make sense to cache "compiled" code since they compile straight to machine code.As far as I am aware, only Opera caches the parsed JavaScript. See the section "Cached compiled programs" here. It's worth nothing that Google Dart explicitly tackles this problem via "Snapshots" - the goal is to speed up the initialization and loading time by loading the preparsed version of the code. InfoQ has a good writeup @ http://www.infoq.com/articles/google-dartI think that the correct answer would be "not always." From what I understand, both the browser and the server play a role in determining what gets cached. If you really need files to be reloaded every time, then I think you should be able to configure that from within Apache (for example). Of course, I suppose that the user's browser could be configured to ignore that setting, but that's probably unlikely.So I would imagine that in most practical cases, the javascript files themselves are cached, but are dynamically re-interpreted each time the page loads.The browser definitely makes use of caching but yes, the browsers parse the JavaScript every time a page refreshes.

Because whenever a page is loaded by the browser, it creates 2 trees 

1.Content tree and 

2.render tree.This render tree consists of the information about the visual layout of the dom elements. So whenever a page loads, the javascript is parsed and any dynamic changes by the javascript will  like positioning the dom element, show/hide element, add/remove element will cause the browser to recreate the render tree. But the modern broswers like FF and chrome handle it slightly differently, they have the concept of incremental rendering, so whenever there are dynamic changes by the js as mentioned above, it will only cause those elements to render and repaint again.

Detect viewport orientation, if orientation is Portrait display alert message advising user of instructions

Dan

[Detect viewport orientation, if orientation is Portrait display alert message advising user of instructions](https://stackoverflow.com/questions/4917664/detect-viewport-orientation-if-orientation-is-portrait-display-alert-message-ad)

I am building a website specifically for mobile devices. There is one page in particular which is best viewed in landscape mode. Is there a way to detect if the user visiting that page is viewing it in Portrait mode and if so, display a message informing the user that the page is best viewed in landscape mode? If the user is already viewing it in landscape mode then no message will appear.So basically, I want the site to detect the viewport orientation, if orientation is Portrait, then display an alert message advising the user that this page is best viewed in Landscape mode.

2011-02-07 02:29:08Z

I am building a website specifically for mobile devices. There is one page in particular which is best viewed in landscape mode. Is there a way to detect if the user visiting that page is viewing it in Portrait mode and if so, display a message informing the user that the page is best viewed in landscape mode? If the user is already viewing it in landscape mode then no message will appear.So basically, I want the site to detect the viewport orientation, if orientation is Portrait, then display an alert message advising the user that this page is best viewed in Landscape mode.jQuery Mobile has an event that handles the change of this property... if you want to warn if someone rotates later - orientationchangeAlso, after some googling, check out window.orientation (which is I believe measured in degrees...)You can also use window.matchMedia, which I use and prefer as it closely resembles CSS syntax:Tested on iPad 2.David Walsh has a better and to the point approach.During these changes, the window.orientation property may change. A value of 0 means portrait view, -90 means a the device is landscape rotated to the right, and 90 means the device is landscape rotated to the left.http://davidwalsh.name/orientation-changeYou can use CSS3 :There are a few ways to do it, for example:You can adapt one of the methods below.Check if device is in portrait modeCheck if device is in landscape modeExample usageHow do I detect the orientation change?I think the more stable solution is to use screen instead of window, because it could be both - landscape or portrait if you will resize your browser window on desktop computer.In order to apply all of these great comments to my daily coding, for continuity between all my applications, I have decided to use the following in both my jquery and jquery mobile code.Don't try fixed window.orientation queries (0, 90 etc doesn't mean portrait, landscape etc):http://www.matthewgifford.com/blog/2011/12/22/a-misconception-about-window-orientation/Even on iOS7 depending how you come into the browser 0 isn't always portraitAfter some experimentation I have found that rotating an orientation aware device will always trigger a browser window's resize event.  So in your resize handler simply call a function like:I combined two solutions and it works fine for me.I disagree with the most voted answer. Use screen and not windowIs the proper way to do it. If you calculate with window.height, you ll have trouble on Android. When keyboard is open, window shrinks. So use screen instead of window.The screen.orientation.type is a good answer but with IE. 

https://caniuse.com/#search=screen.orientationGet the orientation (at any time in your js code) viaWhen window.orientation returns 0 or 180 then you are in portrait mode, when returning 90 or 270 then you are in landscape mode.CCS onlyIn some cases you may want to add a small piece of code to reload to page after the visitor rotated the device, so that the CSS is rendered properly:another alternative to determine orientation, based on comparison of the width/height:You use it on "resize" event:iOS doens't update screen.width & screen.height when orientation changes. Android doens't update window.orientation when it changes. My solution to this problem:You can detect this change in orientation on Android as well as iOS with the following code:If the onorientationchange event is not supported, the event bound will be the resize event.If you have the latest browsers window.orientation might not work. In that case use following code for getting angle - This is still an experimental technology, you can check the browser compatibility hereThanks to tobyodavies for guiding the way.To achieve an alert message based on the mobile device's orientation you need to implement the following script within the function setHeight() {Instead of 270, it can be -90 (minus 90).This expands on a previous answer. The best solution I've found is to make an innocuous CSS attribute that only appears if a CSS3 media query is met, and then have the JS test for that attribute.So for instance, in the CSS you'd have:You then go to JavaScript (I'm using jQuery for funsies). Color declarations may be weird, so you may want to use something else, but this is the most foolproof method I've found for testing it. You can then just use the resize event to pick up on switching. Put it all together for:The best part of this is that as of my writing this answer, it doesn't appear to have any effect on desktop interfaces, since they (generally) don't (seem to) pass any argument for orientation to the page.Here's the best method I found, based on David Walsh's article (Detect Orientation Change on Mobile Devices)Explanation: Window.matchMedia() is a native method that allows you to define a media query rule and check its validity at any point in time.I find it useful to attach an onchange listener on the return value of this method. Example:I used for Android Chrome "The Screen Orientation API"To look the current orientation call console.log(screen.orientation.type) (and maybe screen.orientation.angle).Results: portrait-primary | portrait-secondary | landscape-primary | landscape-secondaryBelow is my code, I hope it'll be helpful:The window object in JavaScript on iOS devices has an orientation property that can be used to determine the rotation of the device. The following shows the values window.orientation for iOS devices (e.g. iPhone, iPad, iPod) at different orientations.This solution also works for android devices as well. I checked in android native browser (Internet browser) and in the Chrome browser, even in the old versions of it.This is what I use.ImplementationThere's a way by which you can detect if user flipped their device to portrait mode using screen.orientationJust use the bellow code:Now, onchange will get fired when ever user flips the device and alert will pop-up when user using portrait mode.One thing to note about window.orientation is that it will return undefined if you are not on a mobile device. So a good function to check for the orientation might look like this, where x is window.orientation:Call it like so:Or you could just use this..

Remove leading comma from a string

Mircea

[Remove leading comma from a string](https://stackoverflow.com/questions/3923015/remove-leading-comma-from-a-string)

I have the following string:I want to transform this into an Array but obviously this is not valid due to the first comma. How can I remove the first comma from my string and make it a valid Array?I’d like to end up with something like this:

2010-10-13 11:15:09Z

I have the following string:I want to transform this into an Array but obviously this is not valid due to the first comma. How can I remove the first comma from my string and make it a valid Array?I’d like to end up with something like this:To remove the first character you would use:I'm not sure this will be the result you're looking for though because you will still need to split it to create an array with it. Maybe something like:Keep in mind, the ' character will be a part of each string in the split here.In this specific case (there is always a single character at the start you want to remove) you'll want:However, if you want to be able to detect if the comma is there and remove it if it is, then something like:That's assuming the string you begin with is in fact a String, like you said, and not an Array of strings.One-liner I'll be back.Assuming the string is called myStr:Note that if a string can be missing in the list without even having its quotation marks present and you want an empty spot in the corresponding location in the array, you'll need to write the splitting manually for a robust solution.Results in:  First split with commas possibly surrounded by single quotes,

then filter the non-truthy (empty) parts out.To turn a string into an array I usually use split()This is almost what you want. Now you just have to strip the first two and the last character:To extract a substring from a string I usually use slice() but substr() and substring() also do the job.You can use directly replace function on javascript with regex or define a help function as in php ltrim(left) and rtrim(right):1) With replace:2) Help functions:You can do and other things to add parameter to the help function with what you want to replace the char, etc. I like to keep stuff simple.this will remove the trailing commas and spaces

JavaScript DOM remove element

Joshua Redfield

[JavaScript DOM remove element](https://stackoverflow.com/questions/8830839/javascript-dom-remove-element)

I'm trying to test if a DOM element exists, and if it does exist delete it, and if it doesn't exist create it.Checking if it exists works, creating the element works, but deleting the element doesn't. Basically all this code does is inject an iframe into a webpage by clicking a button. What I would like to happen is if the iframe is already there to delete it. But for some reason I am failing.

2012-01-12 06:06:29Z

I'm trying to test if a DOM element exists, and if it does exist delete it, and if it doesn't exist create it.Checking if it exists works, creating the element works, but deleting the element doesn't. Basically all this code does is inject an iframe into a webpage by clicking a button. What I would like to happen is if the iframe is already there to delete it. But for some reason I am failing.removeChild should be invoked on the parent, i.e.:In your example, you should be doing something like:In most browsers, there's a slightly more succinct way of removing an element from the DOM than calling .removeChild(element) on its parent, which is to just call element.remove(). In due course, this will probably become the standard and idiomatic way of removing an element from the DOM.The .remove() method was added to the DOM Living Standard in 2011 (commit), and has since been implemented by Chrome, Firefox, Safari, Opera, and Edge. It was not supported in any version of Internet Explorer.If you want to support older browsers, you'll need to shim it. This turns out to be a little irritating, both because nobody seems to have made a all-purpose DOM shim that contains these methods, and because we're not just adding the method to a single prototype; it's a method of ChildNode, which is just an interface defined by the spec and isn't accessible to JavaScript, so we can't add anything to its prototype. So we need to find all the prototypes that inherit from ChildNode and are actually defined in the browser, and add .remove to them.Here's the shim I came up with, which I've confirmed works in IE 8.This won't work in IE 7 or lower, since extending DOM prototypes isn't possible before IE 8. I figure, though, that on the verge of 2015 most people needn't care about such things.Once you've included them shim, you'll be able to remove a DOM element element from the DOM by simply callingSeems I don't have enough rep to post a comment, so another answer will have to do.When you unlink a node using removeChild() or by setting the innerHTML property on the parent, you also need to make sure that there is nothing else referencing it otherwise it won't actually be destroyed and will lead to a memory leak. There are lots of ways in which you could have taken a reference to the node before calling removeChild() and you have to make sure those references that have not gone out of scope are explicitly removed.Doug Crockford writes here that event handlers are known a cause of circular references in IE and suggests removing them explicitly as follows before calling removeChild()And even if you take a lot of precautions you can still get memory leaks in IE as described by Jens-Ingo Farley here.And finally, don't fall into the trap of thinking that Javascript delete is the answer. It seems to be suggested by many, but won't do the job. Here is a great reference on understanding delete by Kangax.Using Node.removeChild() does the job for you, simply use something like this:In DOM 4, the remove method applied, but there is a poor browser support according to W3C:But you can use remove method if you using jQuery...Also in new frameworks like you can use conditions to remove an element, for example *ngIf in Angular and in React, rendering different views, depends on the conditions...

Uncaught TypeError: Cannot read property 'msie' of undefined - jQuery tools

Colin747

[Uncaught TypeError: Cannot read property 'msie' of undefined - jQuery tools](https://stackoverflow.com/questions/14923301/uncaught-typeerror-cannot-read-property-msie-of-undefined-jquery-tools)

I am getting the following error in Chrome dev console:My understanding is that it is because .browser is now deprecated in jQuery however I am using the latest version of jQuery tools and it is still giving the error, I checked in the js file and it is there. How can I get around this so it does not give the error?

2013-02-17 16:31:25Z

I am getting the following error in Chrome dev console:My understanding is that it is because .browser is now deprecated in jQuery however I am using the latest version of jQuery tools and it is still giving the error, I checked in the js file and it is there. How can I get around this so it does not give the error?The $.browser method has been removed as of jQuery 1.9.As stated in the Upgrade Guide you can try using the jQuery Migrate plugin to restore this functionality and let jQuery Tools work.You can check out this solution by AJ. It's pretty straightforward, just copy and paste the following lines of code.Reference:Use the following script tag in your jsp/js file:this will work for sure.I use below code after js file include and it's working now.Here is the jQuery Tools bug on GitHub.  You can try one of the patches.edit — it doesn't look to me as if jQuery Tools is getting much support.  I personally would not begin a new project with a dependency on that library unless I were prepared to take over support myself.I've simply added after jquery script, because I don't care about IE anymore.Replace Your JS withSource linkAs I don't plan to support old MS IE versions at all, I've simply replaced all references to browser.msie with false.

Not a nice solution, I know, but it works for me.(Actually, they appeared as !browser.msie, which could be omitted from the conditions.)Use like blow. . . . .then in your function you can using msie property likegoodluckUse like blow i use this command and solveI was getting this error while using JQuery 1.10 and JQuery UI 1.8. I was able to resolve this error by updating to the latest JQuery UI 1.11.4. If you have jQuery defined twice, then you could get this error. For example, if you are working with Primefaces (it already includes jQuery) and you define it in other place. 

How to check in Javascript if one element is contained within another

AJ.

[How to check in Javascript if one element is contained within another](https://stackoverflow.com/questions/2234979/how-to-check-in-javascript-if-one-element-is-contained-within-another)

How can I check if one DOM element is a child of another DOM element? Are there any built in methods for this? For example, something like:orIf not then any ideas how to do this? It also needs to be cross browser. I should also mention that the child could be nested many levels below the parent.

2010-02-10 06:55:05Z

How can I check if one DOM element is a child of another DOM element? Are there any built in methods for this? For example, something like:orIf not then any ideas how to do this? It also needs to be cross browser. I should also mention that the child could be nested many levels below the parent.Update: There's now a native way to achieve this. Node.contains(). Mentioned in comment and below answers as well.Old answer:Using the parentNode property should work. It's also pretty safe from a cross-browser standpoint. If the relationship is known to be one level deep, you could check it simply:If the the child can be nested arbitrarily deep inside the parent, you could use a function similar to the following to test for the relationship:You should use Node.contains, since it's now standard and available in all browsers.https://developer.mozilla.org/en-US/docs/Web/API/Node.containsI just had to share 'mine'.Although conceptually the same as Asaph's answer (benefiting from the same cross-browser compatibility, even IE6), it is a lot smaller and comes in handy when size is at a premium and/or when it is not needed so often. ..or as one-liner (just 64 chars!):and jsfiddle here.Usage:

childOf(child, parent) returns boolean true|false.Explanation:

while evaluates as long as the while-condition evaluates to true.

The && (AND) operator returns this boolean true/false after evaluating the left-hand side and the right-hand side, but only if the left-hand side was true (left-hand && right-hand).         The left-hand side (of &&) is: (c=c.parentNode).

This will first assign the parentNode of c to c and then the AND operator will evaluate the resulting c as a boolean.

Since parentNode returns null if there is no parent left and null is converted to false, the while-loop will correctly stop when there are no more parents.The right-hand side (of &&) is: c!==p.

The !== comparison operator is 'not exactly equal to'. So if the child's parent isn't the parent (you specified) it evaluates to true, but if the child's parent is the parent then it evaluates to false.

So if c!==p evaluates to false, then the && operator returns false as the while-condition and the while-loop stops. (Note there is no need for a while-body and the closing ; semicolon is required.)So when the while-loop ends, c is either a node (not null) when it found a parent OR it is null (when the loop ran through to the end without finding a match).Thus we simply return that fact (converted as boolean value, instead of the node) with: return !!c;: the ! (NOT operator) inverts a boolean value (true becomes false and vice-versa).

!c converts c (node or null) to a boolean before it can invert that value. So adding a second ! (!!c) converts this false back to true (which is why a double !! is often used to 'convert anything to boolean').Extra:

The function's body/payload is so small that, depending on case (like when it is not used often and appears just once in the code), one could even omit the function (wrapping) and just use the while-loop:

instead of:Another solution that wasn't mentioned:Example HereIt doesn't matter whether the element is a direct child, it will work at any depth.Alternatively, using the .contains() method:Example HereTake a look at Node#compareDocumentPosition.Other relationships include DOCUMENT_POSITION_DISCONNECTED, DOCUMENT_POSITION_PRECEDING, and DOCUMENT_POSITION_FOLLOWING.Not supported in IE<=8.You can use the contains methodvar result = parent.contains(child);or you can try to use compareDocumentPosition()var result = nodeA.compareDocumentPosition(nodeB);The last one is more powerful: it return a bitmask as result.I came across a wonderful piece of code to check whether or not an element is a child of another element. I have to use this because IE doesn't support the .contains element method. Hope this will help others as well.Below is the function:try this one: I recently came across this function which might do:Node.compareDocumentPosition()

Go to「next」iteration in JavaScript forEach loop [duplicate]

Don P

[Go to「next」iteration in JavaScript forEach loop [duplicate]](https://stackoverflow.com/questions/31399411/go-to-next-iteration-in-javascript-foreach-loop)

How do I go to the next iteration of a JavaScript Array.forEach() loop?For example:MDN docs only mention breaking out of the loop entirely, not moving to next iteration.

2015-07-14 06:38:17Z

How do I go to the next iteration of a JavaScript Array.forEach() loop?For example:MDN docs only mention breaking out of the loop entirely, not moving to next iteration.You can simply return if you want to skip the current iteration.Since you're in a function, if you return before doing anything else, then you have effectively skipped execution of the code below the return statement.JavaScript's forEach works a bit different from how one might be used to from other languages for each loops. If reading on the MDN, it says that a function is executed for each of the elements in the array, in ascending order. To continue to the next element, that is, run the next function, you can simply return the current function without having it do any computation.Adding a return and it will go to the next run of the loop:Output: 1, 2, 4just return true inside your if statement 

HTTP GET Request in Node.js Express

Travis Parks

[HTTP GET Request in Node.js Express](https://stackoverflow.com/questions/9577611/http-get-request-in-node-js-express)

How can I make an HTTP request from within Node.js or Express.js? I need to connect to another service. I am hoping the call is asynchronous and that the callback contains the remote server's response.

2012-03-06 03:43:19Z

How can I make an HTTP request from within Node.js or Express.js? I need to connect to another service. I am hoping the call is asynchronous and that the callback contains the remote server's response.Here is a snippet of some code from a sample of mine. It's asynchronous and returns a JSON object.  It can do any form of GET request.Note that there are more optimal ways (just a sample) - for example, instead of concatenating the chunks you put into an array and join it etc... Hopefully, it gets you started in the right direction:It's called by creating an options object like:And providing a callback function.For example, in a service, I require the REST module above and then do this:If you're looking for async/await (linear, no callback), promises, compile time support and intellisense, we created a lightweight HTTP and REST client that fits that bill:Microsoft typed-rest-clientTry using the simple http.get(options, callback) function in node.js:There is also a general http.request(options, callback) function which allows you to specify the request method and other request details.Request and Superagent are pretty good libraries to use.Using request:You can also use Requestify, a really cool and very simple HTTP client I wrote for nodeJS + it supports caching.Just do the following for GET method request:This version is based on the initially proposed by bryanmac function which uses promises, better error handling, and is rewritten in ES6.As a result you don't have to pass in a callback function, instead getJSON() returns a promise. In the following example the function is used inside of an ExpressJS route handlerOn error it delegates the error to the server error handling middleware.Unirest is the best library I've come across for making HTTP requests from Node.  It's aiming at being a multiplatform framework, so learning how it works on Node will serve you well if you need to use an HTTP client on Ruby, PHP, Java, Python, Objective C, .Net or Windows 8 as well.  As far as I can tell the unirest libraries are mostly backed by existing HTTP clients (e.g. on Java, the Apache HTTP client, on Node, Mikeal's Request libary) - Unirest just puts a nicer API on top.Here are a couple of code examples for Node.js:You can jump straight to the Node docs hereCheck out shred.  It's a node HTTP client created and maintained by spire.io that handles redirects, sessions, and JSON responses.  It's great for interacting with rest APIs.  See this blog post for more details.Check out httpreq: it's a node library I created because I was frustrated there was no simple http GET or POST module out there ;-)If you just need to make simple get requests and don't need support for any other HTTP methods take a look at: simple-get:Use reqclient: not designed for scripting purpose

like request or many other libraries. Reqclient allows in the constructor

specify many configurations useful when you need to reuse the same

configuration again and again: base URL, headers, auth options,

logging options, caching, etc. Also has useful features like

query and URL parsing, automatic query encoding and JSON parsing, etc.The best way to use the library is create a module to export the object

pointing to the API and the necessary configurations to connect with:Module client.js:And in the controllers where you need to consume the API use like this:reqclient supports many features, but it has some that are not supported by other

libraries: OAuth2 integration and logger integration

with cURL syntax, and always returns native Promise objects.If you ever need to send GET request to an IP as well as a Domain (Other answers did not mention you can specify a port variable), you can make use of this function:Don't miss requiring modules at the top of your file:Also bare in mind that you may use https module for communicating over secured network. so these two lines would change:

What is the shortest function for reading a cookie by name in JavaScript?

Yahel

[What is the shortest function for reading a cookie by name in JavaScript?](https://stackoverflow.com/questions/5639346/what-is-the-shortest-function-for-reading-a-cookie-by-name-in-javascript)

What is the shortest, accurate, and cross-browser compatible method for reading a cookie in JavaScript? Very often, while building stand-alone scripts (where I can't have any outside dependencies), I find myself adding a function for reading cookies, and usually fall-back on the QuirksMode.org readCookie() method (280 bytes, 216 minified.)It does the job, but its ugly, and adds quite a bit of bloat each time. The method that jQuery.cookie uses something like this (modified, 165 bytes, 125 minified):Note this is not a 'Code Golf' competition: I'm legitimately interested in reducing the size of my readCookie function, and in ensuring the solution I have is valid. 

2011-04-12 17:38:45Z

What is the shortest, accurate, and cross-browser compatible method for reading a cookie in JavaScript? Very often, while building stand-alone scripts (where I can't have any outside dependencies), I find myself adding a function for reading cookies, and usually fall-back on the QuirksMode.org readCookie() method (280 bytes, 216 minified.)It does the job, but its ugly, and adds quite a bit of bloat each time. The method that jQuery.cookie uses something like this (modified, 165 bytes, 125 minified):Note this is not a 'Code Golf' competition: I'm legitimately interested in reducing the size of my readCookie function, and in ensuring the solution I have is valid. Shorter, more reliable and more performant than the current best-voted answer:(Edit: '(^|;)\\s*' => '(^|[^;]+)\\s*', previously only worked for the first cookie)A performance comparison of various approaches is shown here:http://jsperf.com/get-cookie-value-regex-vs-array-functionsSome notes on approach:The regex approach is not only the fastest in most browsers, it yields the shortest function as well. Additionally it should be pointed out that according to the official spec (RFC 2109), the space after the semicolon which separates cookies in the document.cookie is optional and an argument could be made that it should not be relied upon. Additionally, whitespace is allowed before and after the equals sign (=) and an argument could be made that this potential whitespace should be factored into any reliable document.cookie parser. The regex above accounts for both of the above whitespace conditions.This will only ever hit document.cookie ONE time.  Every subsequent request will be instant.I'm afraid there really isn't a faster way than this general logic unless you're free to use .forEach which is browser dependent (even then you're not saving that much)Your own example slightly compressed to 120 bytes:You can get it to 110 bytes if you make it a 1-letter function name, 90 bytes if you drop the encodeURIComponent.I've gotten it down to 73 bytes, but to be fair it's 82 bytes when named readCookie and 102 bytes when then adding encodeURIComponent:Based on the question, I believe some assumptions / requirements for this function include:Under these assumptions, it's clear that encodeURIComponent / decodeURIComponent should not be used; doing so assumes that the code that set the cookie also encoded it using these functions.The regular expression approach gets problematic if the cookie name can contain special characters. jQuery.cookie works around this issue by encoding the cookie name (actually both name and value) when storing a cookie, and decoding the name when retrieving a cookie. A regular expression solution is below.Unless you're only reading cookies you control completely, it would also be advisable to read cookies from document.cookie directly and not cache the results, since there is no way to know if the cache is invalid without reading document.cookie again.(While accessing and parsing document.cookies will be slightly slower than using a cache, it would not be as slow as reading other parts of the DOM, since cookies do not play a role in the DOM / render trees.)Here goes the Code Golf answer, based on PPK's (loop-based) function:which when minified, comes to 128 characters (not counting the function name):Update: If you really want a regular expression solution:This escapes any special characters in the cookie name before constructing the RegExp object. Minified, this comes to 134 characters (not counting the function name):As Rudu and cwolves have pointed out in the comments, the regular-expression-escaping regex can be shortened by a few characters. I think it would be good to keep the escaping regex consistent (you may be using it elsewhere), but their suggestions are worth considering.Both of these functions won't handle null or undefined, i.e. if there is a cookie named "null", readCookie(null) will return its value. If you need to handle this case, adapt the code accordingly.code from google analytics ga.jsHow about this one?Counted 89 bytes without the function name.Here goes.. Cheers!Note that I made use of ES6's template strings to compose the regex expression.this in an object that you can read, write, overWrite and delete cookies.Both of these functions look equally valid in terms of reading cookie. You can shave a few bytes off though (and it really is getting into Code Golf territory here):All I did with this is collapse all the variable declarations into one var statement, removed the unnecessary second arguments in calls to substring, and replace the one charAt call into an array dereference.This still isn't as short as the second function you provided, but even that can have a few bytes taken off:I changed the first sub-expression in the regular expression to be a capturing sub-expression, and changed the result[1] part to result[2] to coincide with this change; also removed the unnecessary parens around result[2].To truly remove as much bloat as possible, consider not using a wrapper function at all:As long as you're familiar with RegEx, that code is reasonably clean and easy to read.(edit: posted the wrong version first.. and a non-functional one at that.  Updated to current, which uses an unparam function that is much like the second example.)Nice idea in the first example cwolves.  I built on both for a fairly compact cookie reading/writing function that works across multiple subdomains. Figured I'd share in case anyone else runs across this thread looking for that.Using cwolves' answer, but not using a closure nor a pre-computed hash :...and minifying......equals 127 bytes.Here is the simplest solution using javascript string functions.The following function will allow differentiating between empty strings and undefined cookies. Undefined cookies will correctly return undefined and not an empty string unlike some of the other answers here. But it won't work on IE7 and below, since they do not allow array access to string indexes.

How do I call an Angular 2 pipe with multiple arguments?

Eran Shabi

[How do I call an Angular 2 pipe with multiple arguments?](https://stackoverflow.com/questions/36816788/how-do-i-call-an-angular-2-pipe-with-multiple-arguments)

I know I can call a pipe like this:Here the date pipe takes only one argument.

What is the syntax to call a pipe with more parameters, from component's template HTML and directly in code?

2016-04-23 21:41:45Z

I know I can call a pipe like this:Here the date pipe takes only one argument.

What is the syntax to call a pipe with more parameters, from component's template HTML and directly in code?In your component's template you can use multiple arguments by separating them with colons:From your code it will look like this:And in your transform function inside your pipe you can use the arguments like this:Beta 16 and before (2016-04-26)Pipes take an array that contains all arguments, so you need to call them like this:And your transform function will look like this:You're missing the actual pipe.Multiple parameters can be separated by a colon (:).Also you can chain pipes, like so:Since beta.16 the parameters are not passed as array to the transform() method anymore but instead as individual parameters:https://github.com/angular/angular/blob/master/CHANGELOG.md#200-beta16-2016-04-26I use Pipes in Angular 2+ to filter arrays of objects. The following takes multiple filter arguments but you can send just one if that suits your needs. Here is a StackBlitz Example. It will find the keys you want to filter by and then filters by the value you supply. It's actually quite simple, if it sounds complicated it's not, check out the StackBlitz Example. Here is the Pipe being called in an *ngFor directive, Here is the Pipe,And here is the Component containing the object to filter,StackBlitz ExampleGitHub Example: Fork a working copy of this example here*Please note that in an answer provided by Gunter, Gunter states that arrays are no longer used as filter interfaces but I searched the link he provides and found nothing speaking to that claim. Also, the StackBlitz example provided shows this code working as intended in Angular 6.1.9. It will work in Angular 2+.Happy Coding :-)Extended from : user3777549Multi-value filter on one set of data(reference to title key only)HTMLfilterMultiple

Double exclamation points? [duplicate]

jpalladino84

[Double exclamation points? [duplicate]](https://stackoverflow.com/questions/9284664/double-exclamation-points)

So I was debuging some code and ran across this:Okay my questions is what is the point of !!? All that is doing is making the 0 === false. 

2012-02-14 21:47:17Z

So I was debuging some code and ran across this:Okay my questions is what is the point of !!? All that is doing is making the 0 === false. This converts a value to a boolean and ensures a boolean type.If foo.bar is passed through, then it may not be 0 but some other falsy value.  See the following truth table:Truth Table for javascriptJavascript also gets really weird when it comes to NaN values.  And this is the only case I can think of off the top of my head where !! would behave differently to ===.I think the answer is that there isn't really much point. We can speculate about how it came about:but in my subjective opinion, none of those reasons is a very good one!As stated above, it forces an object with a boolean type.  You can see for yourself:If you are simply doing comparisons, the conversion merely saves you a type coercion later on.FYI, the following values are coerced to FALSE in JavaScript:

Accessing private member variables from prototype-defined functions

morgancodes

[Accessing private member variables from prototype-defined functions](https://stackoverflow.com/questions/436120/accessing-private-member-variables-from-prototype-defined-functions)

Is there any way to make「private」variables (those defined in the constructor), available to prototype-defined methods?This works:But this doesn’t:I’m used to defining my methods inside the constructor, but am moving away from that for a couple reasons.

2009-01-12 16:59:59Z

Is there any way to make「private」variables (those defined in the constructor), available to prototype-defined methods?This works:But this doesn’t:I’m used to defining my methods inside the constructor, but am moving away from that for a couple reasons.No, there's no way to do it.  That would essentially be scoping in reverse.  Methods defined inside the constructor have access to private variables because all functions have access to the scope in which they were defined.  Methods defined on a prototype are not defined within the scope of the constructor, and will not have access to the constructor's local variables.You can still have private variables, but if you want methods defined on the prototype to have access to them, you should define getters and setters on the this object, which the prototype methods (along with everything else) will have access to. For example:Long story short, you can use the new Symbol to create private fields.

Here's a great description: https://curiosity-driven.org/private-properties-in-javascriptExample:The simplest way to construct objects is to avoid prototypal inheritance altogether. 

Just define the private variables and public functions within the closure, and all public methods will have private access to the variables.  In JavaScript, prototypal inheritance is primarily an optimization.  It allows multiple instances to share prototype methods, rather than each instance having its own methods.

The drawback is that this is the only thing that's different each time a prototypal function is called.

Therefore, any private fields must be accessible through this, which means they're going to be public.  So we just stick to naming conventions for _private fields.I think you shouldn't mix closure variables with prototype methods.  You should use one or the other.  When you use a closure to access a private variable, prototype methods cannot access the variable. So, you have to expose the closure onto this, which means that you're exposing it publicly one way or another.  There's very little to gain with this approach.For really simple objects, just use a plain object with closures.  If you need prototypal inheritance -- for inheritance, performance, etc. -- then stick with the "_private" naming convention, and don't bother with closures.I don't understand why JS developers try SO hard to make fields truly private.  When I read this, it sounded like a tough challenge so I decided to figure out a way. What I came up with was CRAAAAZY but it totally works.First, I tried defining the class in an immediate function so you'd have access to some of the private properties of that function. This works and allows you to get some private data, however, if you try to set the private data you'll soon find that all the objects will share the same value.There are plenty of cases where this would be adequate like if you wanted to have constant values like event names that get shared between instances. But essentially, they act like private static variables.If you absolutely need access to variables in a private namespace from within your methods defined on the prototype, you can try this pattern.I'd love some feedback from anyone who sees an error with this way of doing it.see Doug Crockford's page on this. You have to do it indirectly with something that can access the scope of the private variable.another example:use case:I suggest it would probably be a good idea to describe "having a prototype assignment in a constructor" as a Javascript anti-pattern. Think about it. It is way too risky.What you're actually doing there on creation of the second object (i.e. b) is redefining that prototype function for all objects that use that prototype. This will effectively reset the value for object a in your example. It will work if you want a shared variable and if you happen to create all of the object instances up front, but it feels way too risky.I found a bug in some Javascript I was working on recently that was due to this exact anti-pattern. It was trying to set a drag and drop handler on the particular object being created but was instead doing it for all instances. Not good.Doug Crockford's solution is the best.@KaiThat won't work. If you dothen t2.prototypeHello will be accessing t's private section.@AnglesCrimesThe sample code works fine, but it actually creates a "static" private member shared by all instances. It may not be the solution morgancodes looked for.So far I haven't found an easy and clean way to do this without introducing a private hash and extra cleanup functions. A private member function can be simulated to certain extent:Yes, it's possible. PPF design pattern just solves this. PPF stands for Private Prototype Functions. Basic PPF solves these issues:For the first, just:It's that simple. For example:...Read the full story here:PPF Design Pattern You can actually achieve this by using Accessor Verification:This example comes from my post about Prototypal Functions & Private Data and is explained in more detail there.In current JavaScript, I'm fairly certain that there is one and only one way to have private state, accessible from prototype functions, without adding anything public to this.  The answer is to use the "weak map" pattern.To sum it up: The Person class has a single weak map, where the keys are the instances of Person, and the values are plain objects that are used for private storage.Here is a fully functional example: (play at http://jsfiddle.net/ScottRippey/BLNVr/)Like I said, this is really the only way to achieve all 3 parts.  There are two caveats, however.  First, this costs performance -- every time you access the private data, it's an O(n) operation, where n is the number of instances.  So you won't want to do this if you have a large number of instances.

Second, when you're done with an instance, you must call destroy; otherwise, the instance and the data will not be garbage collected, and you'll end up with a memory leak.  And that's why my original answer, "You shouldn't", is something I'd like to stick to.There's a simpler way by leveraging the use of bind and call methods.By setting private variables to an object, you can leverage that object's scope.This method isn't without drawbacks. Since the scope context is effectively being overridden, you don't have access outside of the _private object. However, it isn't impossible though to still give access to the instance object's scope. You can pass in the object's context (this) as the second argument to bind or call to still have access to it's public values in the prototype function.Try it!Here's what I came up with.the main problem with this implementation is that it redefines the prototypes on every instanciation.There is a very simple way to do thisJavaScript prototypes are golden.I'm late to the party, but I think I can contribute. Here, check this out:I call this method accessor pattern. The essential idea is that we have a closure, a key inside the closure, and we create a private object (in the constructor) that can only be accessed if you have the key.If you are interested, you can read more about this in my article. Using this method, you can create per object properties that cannot be accessed outside of the closure. Therefore, you can use them in constructor or prototype, but not anywhere else. I haven't seen this method used anywhere, but I think it's really powerful.Can't you put the variables in a higher scope?You can also try to add method not directly on prototype, but on constructor function like this:Here's something I've come up with while trying to find most simple solution for this problem, perhaps it could be useful to someone. I'm new to javascript, so there might well be some issues with the code.I faced the exact same question today and after elaborating on Scott Rippey first-class response, I came up with a very simple solution (IMHO) that is both compatible with ES5 and efficient, it also is name clash safe (using _private seems unsafe).Tested with ringojs and nodejs. I'm eager to read your opinion.How's this? Using an private accessor. Only allows you to get the variables though not to set them, depends on the use case.I have one solution, but I am not sure it is without flaws.For it to work, you have to use the following structure:Here is the code:How this works is that it provides an instance function "this.getPrivateFields" to access the "privateFields" private variables object, but this function will only return the "privateFields" object inside the main closure defined (also prototype functions using "this.getPrivateFields" need to be defined inside this closure).A hash produced during runtime and difficult to be guessed is used as parameters to make sure that even if "getPrivateFields" is called outside the scope of closure will not return the "privateFields" object.The drawback is that we can not extend TestClass with more prototype functions outside the closure.Here is some test code: EDIT: Using this method, it is also possible to "define" private functions.Was playing around with this today and this was the only solution I could find without using Symbols. Best thing about this is it can actually all be completely private.The solution is based around a homegrown module loader which basically becomes the mediator for a private storage cache (using a weak map).     I know it has been more than 1 decade since this was was asked, but I just put my thinking on this for the n-th time in my programmer life, and found a possible solution that I don't know if I entirely like yet. I have not seen this methodology documented before, so I will name it the "private/public dollar pattern" or _$ / $ pattern.The concept uses a ClassDefinition function that returns a Constructor function that returns an Interface object. The interface's only method is $ which receives a name argument to invoke the corresponding function in the constructor object, any additional arguments passed after name are passed in the invocation.The globally-defined helper function ClassValues stores all fields in an object as needed. It defines the _$ function to access them by name. This follows a short get/set pattern so if value is passed, it will be used as the new variable value.The globally defined function Interface takes an object and a Values object to return an _interface with one single function $ that examines obj to find a function named after the parameter name and invokes it with values as the scoped object. The additional arguments passed to $ will be passed on the function invocation.In the sample below, ClassX is assigned to the result of ClassDefinition, which is the Constructor function. Constructor may receive any number of arguments. Interface is what external code gets after calling the constructor.There is no point in having non-prototyped functions in Constructor, although you could define them in the constructor function body. All functions are called with the public dollar pattern this.$("functionName"[, param1[, param2 ...]]). The private values are accessed with the private dollar pattern this._$("valueName"[, replacingValue]);. As Interface does not have a definition for _$, the values cannot be accessed by external objects. Since each prototyped function body's this is set to the values object in function $, you will get exceptions if you call Constructor sibling functions directly; the _$ / $ pattern needs to be followed in prototyped function bodies too. Below sample usage.And the console output.The _$ / $ pattern allows full privacy of values in fully-prototyped classes. I don't know if I will ever use this, nor if it has flaws, but hey, it was a good puzzle!By using a simple pattern based in ES6 WeakMaps is possible to obtain private member variables, reachable from the prototype functions.A more detailed explanation of this pattern can be found here You need to change 3 things in your code:The final code would be the following:You can use a prototype assignment within the constructor definition. The variable will be visible to the prototype added method but all the instances of the functions will access the same SHARED variable.I hope this can be usefull.

What is the difference between synchronous and asynchronous programming (in node.js)

Azeirah

[What is the difference between synchronous and asynchronous programming (in node.js)](https://stackoverflow.com/questions/16336367/what-is-the-difference-between-synchronous-and-asynchronous-programming-in-node)

I've been reading nodebeginner

And I came across the following two pieces of code.The first one:The second one:I get what they're supposed to do, they query the database to retrieve the answer to the query. And then console.log('Hello world').The first one is supposedly synchronous code. 

And the second one is asynchronous code.The difference between the two pieces is very vague to me. What would the output be?Googling on asynchronous programming didn't help me either. 

2013-05-02 11:00:47Z

I've been reading nodebeginner

And I came across the following two pieces of code.The first one:The second one:I get what they're supposed to do, they query the database to retrieve the answer to the query. And then console.log('Hello world').The first one is supposedly synchronous code. 

And the second one is asynchronous code.The difference between the two pieces is very vague to me. What would the output be?Googling on asynchronous programming didn't help me either. The difference is that in the first example, the program will block in the first line. The next line (console.log) will have to wait.In the second example, the console.log will be executed WHILE the query is being processed. That is, the query will be processed in the background, while your program is doing other things, and once the query data is ready, you will do whatever you want with it.So, in a nutshell: The first example will block, while the second won't.The output of the following two examples:Would be:Note

While Node itself is single threaded, there are some task that can run in parallel. For example, File System operations occur in a different process.  That's why Node can do async operations: one thread is doing file system operations, while the main Node thread keeps executing your javascript code. In an event-driven server like Node, the file system thread notifies the main Node thread of certain events such as completion, failure, or progress, along with any data associated with that event (such as the result of a database query or an error message) and the main Node thread decides what to do with that data. You can read more about this here: How the single threaded non blocking IO model works in Node.jsThe difference between these two approaches is as follows:Synchronous way:

It waits for each operation to complete, after that only it executes the next operation.

For your query:

The console.log() command will not be executed until & unless the query has finished executing to get all the result from Database.Asynchronous way:

It never waits for each operation to complete, rather it executes all operations in the first GO only. The result of each operation will be handled once the result is available.

For your query:

The console.log() command will be executed soon after the Database.Query() method. While the Database query runs in the background and loads the result once it is finished retrieving the data.Use casesThis would become a bit more clear if you add a line to both examples:The second one:Try running these, and you’ll notice that the first (synchronous) example, the result.length will be printed out BEFORE the 'Hello World' line.

In the second (the asynchronous) example, the result.length will (most likely) be printed AFTER the "Hello World" line.That's because in the second example, the database.query is run asynchronously in the background, and the script continues straightaway with the "Hello World". The console.log(result.length) is only executed when the database query has completed.First, I realize I am late in answering this question.Before discussing synchronous and asynchronous, let us briefly look at how programs run.In the synchronous case, each statement completes before the next statement is run. In this case the program is evaluated exactly in order of the statements.This is how asynchronous works in JavaScript. There are two parts in the JavaScript engine, one part that looks at the code and enqueues operations and another that processes the queue. The queue processing happens in one thread, that is why only one operation can happen at a time.When an asynchronous operation (like the second database query) is seen, the code is parsed and the operation is put in the queue, but in this case a callback is registered to be run when this operation completes. The queue may have many operations in it already. The operation at the front of the queue is processed and removed from the queue. Once the operation for the database query is processed, the request is sent to the database and when complete the callback will be executed on completion. At this time, the queue processor having "handled" the operation moves on the next operation - in this case The database query is still being processed, but the console.log operation is at the front of the queue and gets processed. This being a synchronous operation gets executed right away resulting immediately in the output "Hello World". Some time later, the database operation completes, only then the callback registered with the query is called and processed, setting the value of the variable result to rows.It is possible that one asynchronous operation will result in another asynchronous operation, this second operation will be put in the queue and when it comes to the front of the queue it will be processed. Calling the callback registered with an asynchronous operation is how JavaScript run time returns the outcome of the operation when it is done. A simple method of knowing which JavaScript operation is asynchronous is to note if it requires a callback - the callback is the code that will get executed when the first operation is complete. In the two examples in the question, we can see only the second case has a callback, so it is the asynchronous operation of the two. It is not always the case because of the different styles of handling the outcome of an asynchronous operation. To learn more, read about promises. Promises are another way in which the outcome of an asynchronous operation can be handled. The nice thing about promises is that the coding style feels more like synchronous code. Many libraries like node 'fs', provide both synchronous and asynchronous styles for some operations. In cases where the operation does not take long and is not used a lot - as in the case of reading a config file - the synchronous style operation will result in code that is easier to read.In the synchronous case, the console.log command is not executed until the SQL query has finished executing.In the asynchronous case, the console.log command will be directly executed. The result of the query will then be stored by the "callback" function sometime afterwards.The main difference is with asynchronous programming, you don't stop execution otherwise. You can continue executing other code while the 'request' is being made.The function makes the second one asynchronous.The first one forces the program to wait for each line to finish it's run before the next one can continue. The second one allows each line to run together (and independently) at once.Languages and frameworks (js, node.js) that allow asynchronous or concurrency is great for things that require real time transmission (eg. chat, stock applications).Sync ProgrammingProgramming languages like C, C#, Java are sync programming, what so ever you write will be execute in order of your writing.AsyncNodeJs comes up with async feature, it's non-blocking in nature, suppose in any I/O task which is taking time (fetching, writing, reading), nodejs won't kept idle and wait for the task to be finish, it'll start executing next tasks in the queue, and whenever that time taking task completed it will notify using callback.

Following example will help:In Short, Output is as:Difference is clear where sync will definitely take more than 600 (500 + 100 + processing time) msec, async saves time.Synchronous functions are blocking while asynchronous functions are not. In synchronous functions, statements complete before the next statement is run. In this case, the program is evaluated exactly in order of the statements and execution of the program is paused if one of the statements take a very long time.Asynchronous functions usually accept a callback as a parameter and execution continue on the next line immediately after the asynchronous function is invoked. The callback is only invoked when the asynchronous operation is complete and the call stack is empty. Heavy duty operations such as loading data from a web server or querying a database should be done asynchronously so that the main thread can continue executing other operations instead of blocking until that long operation to complete (in the case of browsers, the UI will freeze).Orginal Posted on Github: Link

Getting Unexpected Token Export

Jason

[Getting Unexpected Token Export](https://stackoverflow.com/questions/38296667/getting-unexpected-token-export)

I am trying to run some ES6 code in my project but I am getting an unexpected token export error.

2016-07-10 21:35:34Z

I am trying to run some ES6 code in my project but I am getting an unexpected token export error.You are using ES6 Module syntax.This means your environment (e.g. node.js) must support ES6 Module syntax.NodeJS uses CommonJS Module syntax (module.exports) not ES6 module syntax (export keyword).Solution:orIn case you get this error it might also be related to how you included the javascript file into your html page. When loading modules you have to explicitly declare those files as such. Here an example:When you include the script like this:You will get the error: You need to include the file with a type attribute set to "module":And then it will work as expected and you are ready to import your module in another module:To use ES6 add babel-preset-env and in your .babelrc: Answer updated thanks to @ghanbari comment to apply  babel 7. There is no need to use Babel at this moment (JS has become very powerful) when you can simply use the default JavaScript module exports. Check full tutorialMessage.jsapp.jsInstall the babel packages @babel/core and @babel/preset which will convert ES6 to a commonjs target as node js doesn't understand ES6 targets directlynpm install --save-dev @babel/core @babel/preset-envThen you need to create one configuration file with name .babelrc in your project's root directory and add this code there { 

    "presets": ["@babel/preset-env"] 

}

I fixed this by making an entry point file like.and any file I imported inside app.js and beyond worked with imports/exports

now you just run it like node index.jsNote: if app.js uses export default, this becomes require('./app.js').default when using the entry point file.My two centsES6CommonJS AlternativeES6CommonJS AlternativeHope this helpsUsing ES6 syntax does not work in node, unfortunately, you have to have babel apparently to make the compiler understand syntax such as export or import.Now we need to create a .babelrc file, in the babelrc file, we’ll set babel to use the es2015 preset we installed as its preset when compiling to ES5.At the root of our app, we’ll create a .babelrc file.

    $ npm install babel-preset-es2015 --saveAt the root of our app, we’ll create a .babelrc file.Hope it works ... :)

How do I escape a single quote ( ' ) in JavaScript? [duplicate]

Matthew

[How do I escape a single quote ( ' ) in JavaScript? [duplicate]](https://stackoverflow.com/questions/16134910/how-do-i-escape-a-single-quote-in-javascript)

UPDATE:

I want to give an updated answer to this question. First, let me state if you're attempting to accomplish what I have below, I recommend that you manage events by adding event listeners instead. I highly recommend that you utilize jQuery for your project and use their syntax to manage event listeners over using DOM.QUESTIONOkay, I am basically doing this:I don't want double quotes (") where I put the \'. I only want a single quote, so I am trying to not make it put a double when it is used. I am trying to reach this in the final outcome.Escaping isn't working for me.My marked answer works fine, however, the cleaner (and more professional-looking way, IMO) is  loganfsmyth's answer.

2013-04-21 18:49:27Z

UPDATE:

I want to give an updated answer to this question. First, let me state if you're attempting to accomplish what I have below, I recommend that you manage events by adding event listeners instead. I highly recommend that you utilize jQuery for your project and use their syntax to manage event listeners over using DOM.QUESTIONOkay, I am basically doing this:I don't want double quotes (") where I put the \'. I only want a single quote, so I am trying to not make it put a double when it is used. I am trying to reach this in the final outcome.Escaping isn't working for me.My marked answer works fine, however, the cleaner (and more professional-looking way, IMO) is  loganfsmyth's answer.You should always consider what the browser will see by the end. In this case, it will see this:In other words, the "onmouseover" attribute is just change(, and there's another "attribute" called ex1')' with no value.The truth is, HTML does not use \ for an escape character. But it does recognise &quot; and &apos; as escaped quote and apostrophe, respectively.Armed with this knowledge, use this:... That being said, you could just use JavaScript quotes:The answer here is very simple:You're already containing it in double quotes, so there's no need to escape it with \.If you want to escape single quotes in a single quote string:or if you want to escape \', you can escape the bashslash to \\ and the quote to \' like so:However, if you contain the string with a different quote type, you don't need to escape:You can escape a ' in JavaScript like \'Since the values are actually inside of an HTML attribute, you should use &apos;ORIt should be working...

HTTP headers in Websockets client API

Julien Genestoux

[HTTP headers in Websockets client API](https://stackoverflow.com/questions/4361173/http-headers-in-websockets-client-api)

Looks like it's easy to add custom HTTP headers to your websocket client with any HTTP header client which supports this, but I can't find how to do it with the JSON API. Yet, it seems that there should be support these headers in the spec.Anyone has a clue on how to achieve it? Specifically, I need to be able to send an HTTP Authorization header.

2010-12-05 21:04:47Z

Looks like it's easy to add custom HTTP headers to your websocket client with any HTTP header client which supports this, but I can't find how to do it with the JSON API. Yet, it seems that there should be support these headers in the spec.Anyone has a clue on how to achieve it? Specifically, I need to be able to send an HTTP Authorization header.Updated 2xShort answer: No, only the path and protocol field can be specified.Longer answer:There is no method in the JavaScript WebSockets API for specifying additional headers for the client/browser to send. The HTTP path ("GET /xyz") and protocol header ("Sec-WebSocket-Protocol") can be specified in the WebSocket constructor.The Sec-WebSocket-Protocol header (which is sometimes extended to be used in websocket specific authentication) is generated from the optional second argument to the WebSocket constructor:The above results in the following headers:andA common pattern for achieving WebSocket authentication/authorization is to implement a ticketing system where the page hosting the WebSocket client requests a ticket from the server and then passes this ticket during WebSocket connection setup either in the URL/query string, in the protocol field, or required as the first message after the connection is established. The server then only allows the connection to continue if the ticket is valid (exists, has not been already used, client IP encoded in ticket matches, timestamp in ticket is recent, etc). Here is a summary of WebSocket security information: https://devcenter.heroku.com/articles/websocket-securityBasic authentication was formerly an option but this has been deprecated and modern browsers don't send the header even if it is specified. Basic Auth Info (Deprecated):The Authorization header is generated from the username and password (or just username) field of the WebSocket URI:The above results in the following header with the string "username:password" base64 encoded:I have tested basic auth in Chrome 55 and Firefox 50 and verified that the basic auth info is indeed negotiated with the server (this may not work in Safari).Thanks to Dmitry Frank's for the basic auth answerHTTP Authorization header problem can be addressed with the following:Then, a proper Basic Authorization HTTP header will be set with the provided username and password. If you need Basic Authorization, then you're all set.I want to use Bearer however, and I resorted to the following trick: I connect to the server as follows:And when my code at the server side receives Basic Authorization header with non-empty username and empty password, then it interprets the username as a token.More of an alternate solution, but all modern browsers send the domain cookies along with the connection, so using:End up with the request connection headers:You cannot add headers but, if you just need to pass values to the server at the moment of the connection, you can specify a query string part on the url:That URL is valid but - of course - you'll need to modify your server code to parse it. You can not send custom header when you want to establish WebSockets connection using JavaScript WebSockets API.

You can use Subprotocols headers by using the second WebSocket class constructor:and then you can get the Subprotocols headers using Sec-WebSocket-Protocol key on the server.There is also a limitation, your Subprotocols headers values can not contain a comma (,) !Sending Authorization header is not possible. Attaching a token query parameter is an option. However, in some circumstances, it may be undesirable to send your main login token in plain text as a query parameter because it is more opaque than using a header and will end up being logged whoknowswhere. If this raises security concerns for you, an alternative is to use a secondary JWT token just for the web socket stuff. Create a REST endpoint for generating this JWT, which can of course only be accessed by users authenticated with your primary login token (transmitted via header). The web socket JWT can be configured differently than your login token, e.g. with a shorter timeout, so it's safer to send around as query param of your upgrade request. Create a separate JwtAuthHandler for the same route you register the SockJS eventbusHandler on. Make sure your auth handler is registered first, so you can check the web socket token against your database (the JWT should be somehow linked to your user in the backend).Totally hacked it like this, thanks to kanaka's answer.Client:Server (using Koa2 in this example, but should be similar wherever):My case: Setting document.cookie = "sessionid=foobar;path=/" won't help as domains don't match. The solution:Add 127.0.0.1  wsdev.company.com to /etc/hosts. This way your browser will use cookies from mycompany.com when connecting to www.mycompany.com/api/ws as you are connecting from a valid subdomain wsdev.company.com.In my situation (Azure Time Series Insights wss://) Using the ReconnectingWebsocket wrapper and was able to achieve adding headers with a simple solution:Where payload in this case is:Technically, you will be sending these headers through the connect function before the protocol upgrade phase.  This worked for me in a nodejs project:You can pass the headers as a key-value in the third parameter (options) inside an object.

Example with Authorization token. Left the protocol (second parameter) as null Edit: Seems that this approach only works with nodejs library not with standard browser implementation. Leaving it because it might be useful to some people.

How to dynamically load reducers for code splitting in a Redux application?

Pavel Teterin

[How to dynamically load reducers for code splitting in a Redux application?](https://stackoverflow.com/questions/32968016/how-to-dynamically-load-reducers-for-code-splitting-in-a-redux-application)

I'm going migrate to Redux.My application consists of a lot of parts (pages, components) so I want to create many reducers. Redux examples show that I should use combineReducers() to generate one reducer.Also as I understand Redux application should have one store and it is created once the application starts. When the store is being created I should pass my combined reducer. This makes sense if the application is not too big.But what if I build more than one JavaScript bundle? For example, each page of application has own bundle. I think in this case the one combined reducer is not good. I looked through the sources of Redux and I have found replaceReducer() function. It seems to be what I want.I could create combined reducer for each part my application and use replaceReducer() when I move between parts of application.Is this a good approach?

2015-10-06 10:45:55Z

I'm going migrate to Redux.My application consists of a lot of parts (pages, components) so I want to create many reducers. Redux examples show that I should use combineReducers() to generate one reducer.Also as I understand Redux application should have one store and it is created once the application starts. When the store is being created I should pass my combined reducer. This makes sense if the application is not too big.But what if I build more than one JavaScript bundle? For example, each page of application has own bundle. I think in this case the one combined reducer is not good. I looked through the sources of Redux and I have found replaceReducer() function. It seems to be what I want.I could create combined reducer for each part my application and use replaceReducer() when I move between parts of application.Is this a good approach?This is not a full answer but should help you get started. Note that I'm not throwing away old reducers—I'm just adding new ones to the combination list. I see no reason to throw away the old reducers—even in the largest app you're unlikely to have thousands of dynamic modules, which is the point where you might want to disconnect some reducers in your application.There may be neater way of expressing this—I'm just showing the idea.This is how I implemented it in a current app (based on code by Dan from a GitHub issue!)Create a registry instance when bootstrapping your app, passing in reducers which will be included in the entry bundle:Then when configuring the store and routes, use a function which you can give the reducer registry to:Where these functions look something like:Here's a basic live example which was created with this setup, and its source:It also covers the necessary configuration to enable hot reloading for all your reducers.There is now a module that adds injecting reducers into the redux store. It is called Redux Injector.Here is how to use it:Here is an example:Full Disclosure: I am the creator of the module.As of October 2017:There are other libraries too but they might have too many dependencies, less examples, complicated usage, are incompatible with some middlewares or require you to rewrite your state management. Copied from Reedux's intro page: We released a new library that helps modulating a Redux app and allows dynamically adding/removing Reducers and middlewares.Please take a look at

https://github.com/Microsoft/redux-dynamic-modulesModules provide the following benefits:FeaturesExample ScenariosHere is another example with code splitting and redux stores, pretty simple & elegant in my opinion. I think it may be quite useful for those who are looking for a working solution.This store is a bit simplified it doesn't force you to have a namespace (reducer.name) in your state object, of course there may be a collision with names but you can control this by creating a naming convention for your reducers and it should be fine.

Keyboard shortcuts with jQuery

npad

[Keyboard shortcuts with jQuery](https://stackoverflow.com/questions/593602/keyboard-shortcuts-with-jquery)

How can I wire an event to fire if someone presses the letter g?(Where is the character map for all the letters BTW?)

2009-02-27 05:22:10Z

How can I wire an event to fire if someone presses the letter g?(Where is the character map for all the letters BTW?)Since this question was originally asked, John Resig (the primary author of jQuery) has forked and improved the js-hotkeys project. His version is available at:http://github.com/jeresig/jquery.hotkeysWhat about jQuery Hotkeys?To bind Ctrl+c to a function (f), for example:I recently wrote a standalone library for this.  It does not require jQuery, but you can use it with jQuery no problem.  It's called Mousetrap.  You can check it out at http://craig.is/killing/miceWell there are many ways. But I am guessing you are interested in an advanced 

implementation. Few days back I was in same search, and I found one. Here.It's good for capturing events from keyboard and you will find the character maps too.

And good thing is ... it's jQuery. Check the demo on same page and decide.An alternative library is here.this site says 71 = g but the jQuery code above thought otherwiseCapital G = 71, lowercase is 103If you want just simple shortcuts (like 1 letter, for example just g) you could easily do it without a extra plugin:You could also try the shortKeys jQuery plugin. Usage example:After studying some jQuery at Codeacademy I found a solution to bind a key with the animate property. The whole idea was to animate without scrolling to jump from one section to another. The example from Codeacademy was to move Mario through the DOM but I applied this for my website sections (CSS with 100% height). Here is a part of the code:I think you could use this for any letter and property.Source: http://www.codecademy.com/forum_questions/50e85b2714bd580ab300527eThere is a new version of hotKeys.js that works with 1.10+ version of jQuery.   It is small, 100 line javascript file. 4kb or just 2kb minified.  Here are some Simple usage examples are : Clone the repo from github : https://github.com/realdanielbyrne/HoyKeys.git

or go to the github repo page https://github.com/realdanielbyrne/HoyKeys or fork and contribute.Similar to @craig, I recently built a shortcut library.https://github.com/blainekasten/shortcut.jsChainable API with support for multple functions bound to one shortcut.I Was trying to do the exact same thing, I accomplished this after a long time! Here is the code I ended up using! It works: Perfect! This was Done by using the shortcuts.js library! added a few other key presses as an example!Just Run the code snip-it, Click inside box and press the G key!Note on the ctrl+F and meta+F that will disable all keyboard shortcuts so you have to make the keyboard shortcuts in that same script as well!

also the keyboard shortcut actions can only be called in javascript!To convert html to javascript, php, or ASP.net go here!

To see all my keyboard shortcuts in a live JSFIDDLE Click Here!

Node.js get file extension

georgesamper

[Node.js get file extension](https://stackoverflow.com/questions/10865347/node-js-get-file-extension)

Im creating a file upload function in node.js with express 3.I would like to grab the file extension of the image. so i can rename the file and then append the file extension to it.How can i get the extension of the image in node.js?

2012-06-02 19:37:10Z

Im creating a file upload function in node.js with express 3.I would like to grab the file extension of the image. so i can rename the file and then append the file extension to it.How can i get the extension of the image in node.js?I believe you can do the following to get the extension of a file name.UpdateSince the original answer, extname() has been added to the path module, see Snowfish answerOriginal answer: I'm using this function to get a file extension, because I didn't find a way to do it in an easier way (but I think there is) :you must require 'path' to use it.another method which does not use the path module :If you are using express please add the following line when configuring middleware (bodyParser)It's a lot more efficient to use the substr() method instead of split() & pop()Have a look at the performance differences here: http://jsperf.com/remove-first-character-from-stringUpdate August 2019

As pointed out by @xentek in the comments; substr() is now considered a legacy function (MDN documentation). You can use substring() instead. The difference between substr() and substring() is that the second argument of substr() is the maximum length to return while the second argument of substring() is the index to stop at (without including that character). Also, substr() accepts negative start positions to be used as an offset from the end of the string while substring() does not.This solution supports querystrings!A simple solution without need for require which solves the multiple period extension problem:Or if you don't want the leading dot:Make sure to test that the file has an extension too.I do think mapping the Content-Type header in the request will also work. This will work even for cases when you upload a file with no extension.

(when filename does not have an extension in the request)Assume you are sending your data using HTTP POST:Here name Content-Type header contains the mime type of the data. 

Mapping this mime type to an extension will get you the file extension :).Restify BodyParser converts this header in to a property with name typeYou can use this header and do the extension mapping (substring etc ...) manually, but there are also ready made libraries for this. Below two were the top results when i did a google searchand their usage is simple as well:above snippet will print png to console.path.extname will do the trick in most cases. However, it will include everything after the last ., including the query string and hash fragment of an http request:In such instances, you'll want to try something like this:Note that extensions with multiple periods (such as .tar.gz), will not work at all with path.extname.The following function splits the string and returns the name and extension no matter how many dots there are in the extension. It returns an empty string for the extension if there is none. Names that start with dots and/or white space work also.import extname in order to return the extension the file:where file is the file 'name' of formYou can use path.parse(path), for example

jquery-ui-dialog - How to hook into dialog close event

Brownie

[jquery-ui-dialog - How to hook into dialog close event](https://stackoverflow.com/questions/171928/jquery-ui-dialog-how-to-hook-into-dialog-close-event)

I am using the jquery-ui-dialog pluginI am looking for way to refresh the page when in some circumstances when the dialog is closed.Is there a way to capture a close event from the dialog?I know I can run code when the close button is clicked but that doesn't cover the user closing with escape or the x in the top right corner.

2008-10-05 12:52:53Z

I am using the jquery-ui-dialog pluginI am looking for way to refresh the page when in some circumstances when the dialog is closed.Is there a way to capture a close event from the dialog?I know I can run code when the close button is clicked but that doesn't cover the user closing with escape or the x in the top right corner.I have found it!You can catch the close event using the following code:Obviously I can replace the alert with whatever I need to do.

Edit: As of Jquery 1.7, the bind() has become on()I believe you can also do it while creating the dialog (copied from a project I did):Note close: CloseFunction"close" property of dialog gives the close event for the same.U can also try thisThis is what worked for me...Because no one actually created an answer with using .on() instead of bind() i decided to create one.add option 'close' like under sample and do what you want inline functionIf I'm understanding the type of window you're talking about, wouldn't $(window).unload() (for the dialog window) give you the hook you need?

(And if I misunderstood, and you're talking about a dialog box made via CSS rather than a pop-up browser window, then all the ways of closing that window are elements you could register click handers for.)

Edit: Ah, I see now you're talking about jquery-ui dialogs, which are made via CSS.  You can hook the X which closes the window by registering a click handler for the element with the class ui-dialog-titlebar-close.

More useful, perhaps, is you tell you how to figure that out quickly.  While displaying the dialog, just pop open FireBug and Inspect the elements that can close the window.  You'll instantly see how they are defined and that gives you what you need to register the click handlers.

So to directly answer your question, I believe the answer is really "no" -- there's isn't a close event you can hook, but "yes" -- you can hook all the ways to close the dialog box fairly easily and get what you want.You may try the following code for capturing the closing event for any item : page, dialog etc.

How can I make setInterval also work when a tab is inactive in Chrome?

pimvdb

[How can I make setInterval also work when a tab is inactive in Chrome?](https://stackoverflow.com/questions/5927284/how-can-i-make-setinterval-also-work-when-a-tab-is-inactive-in-chrome)

I have a setInterval running a piece of code 30 times a second. This works great, however when I select another tab (so that the tab with my code becomes inactive), the setInterval is set to an idle state for some reason.I made this simplified test case (http://jsfiddle.net/7f6DX/3/):If you run this code and then switch to another tab, wait a few seconds and go back, the animation continues at the point it was when you switched to the other tab. So the animation isn't running 30 times a second in case the tab is inactive. This can be confirmed by counting the amount of times the setInterval function is called each second - this will not be 30 but just 1 or 2 if the tab is inactive.I guess that this is done by design so as to improve performance, but is there any way to disable this behaviour? It is actually a disadvantage in my scenario.

2011-05-08 11:58:40Z

I have a setInterval running a piece of code 30 times a second. This works great, however when I select another tab (so that the tab with my code becomes inactive), the setInterval is set to an idle state for some reason.I made this simplified test case (http://jsfiddle.net/7f6DX/3/):If you run this code and then switch to another tab, wait a few seconds and go back, the animation continues at the point it was when you switched to the other tab. So the animation isn't running 30 times a second in case the tab is inactive. This can be confirmed by counting the amount of times the setInterval function is called each second - this will not be 30 but just 1 or 2 if the tab is inactive.I guess that this is done by design so as to improve performance, but is there any way to disable this behaviour? It is actually a disadvantage in my scenario.On most browsers inactive tabs have low priority execution and this can affect JavaScript timers.If the values of your transition were calculated using real time elapsed between frames instead fixed increments on each interval, you not only workaround this issue but also can achieve a smother animation by using requestAnimationFrame as it can get up to 60fps if the processor isn't very busy.Here's a vanilla JavaScript example of an animated property transition using requestAnimationFrame:@UpTheCreek comment:If you have background tasks that needs to be precisely executed at given intervals, you can use HTML5 Web Workers. Take a look at Möhre's answer below for more details...This problem and many others could be avoided by using CSS transitions/animations instead of JavaScript based animations which adds a considerable overhead. I'd recommend this jQuery  plugin that let's you take benefit from CSS transitions just like the animate() methods.I ran into the same problem with audio fading and HTML5 player. It got stucked when tab became inactive.

So I found out a WebWorker is allowed to use intervals/timeouts without limitation. I use it to post "ticks" to the main javascript.WebWorkers Code:Main Javascript:There is a solution to use Web Workers (as mentioned before), because they run in separate process and are not slowed downI've written a tiny script that can be used without changes to your code - it simply overrides functions setTimeout, clearTimeout, setInterval, clearInterval.Just include it before all your code.more info hereJust do this:Inactive browser tabs buffer some of the setInterval or setTimeout functions.stop(true,true) will stop all buffered events and execute immediatly only the last animation.The window.setTimeout() method now clamps to send no more than one timeout per second in inactive tabs. In addition, it now clamps nested timeouts to the smallest value allowed by the HTML5 specification: 4 ms (instead of the 10 ms it used to clamp to).I think that a best understanding about this problem is in this example: http://jsfiddle.net/TAHDb/I am doing a simple thing here: Have a interval of 1 sec and each time hide the first span and move it to last, and show the 2nd span.If you stay on page it works as it is supposed. 

But if you hide the tab for some seconds, when you get back you will see a weired thing.Its like all events that didn't ucur during the time you were inactive now will ocur all in 1 time. so for some few seconds you will get like X events. they are so quick that its possible to see all 6 spans at once.So it seams chrome only delays the events, so when you get back all events will occur but all at once...A pratical application were this ocur iss for a simple slideshow. Imagine the numbers being Images, and if user stay with tab hidden when he came back he will see all imgs floating, Totally mesed.To fix this use the stop(true,true) like pimvdb told.

THis will clear the event queue.For me it's not important to play audio in the background like for others here, my problem was that I had some animations and they acted like crazy when you were in other tabs and coming back to them. My solution was putting these animations inside if that is preventing inactive tab:thanks to that my animation was running only if tab was active. 

I hope this will help someone with my case.Both setInterval and requestAnimationFrame don't work when tab is inactive or work but not at the right periods. A solution is to use another source for time events. For example web sockets or web workers are two event sources that work fine while tab is inactive. So no need to move all of your code to a web worker, just use worker as a time event source:.jsfiddle link of this sample.Heavily influenced by Ruslan Tushov's library, I've created my own small library. Just add the script in the <head> and it will patch setInterval and setTimeout with ones that use WebWorker.Playing an audio file ensures full background Javascript performance for the time beingFor me, it was the simplest and least intrusive solution - apart from playing a faint / almost-empty sound, there are no other potential side effectsYou can find the details here: https://stackoverflow.com/a/51191818/914546(From other answers, I see that some people use different properties of the Audio tag, I do wonder whether it's possible to use the Audio tag for full performance, without actually playing something)Here's my rough solutionNote: this solution is not suitable if you like your interval works on the background, for example, playing audio or ... but if you are confused for example about your animation not working properly when coming back to your page(tab) this is a good solution.There are many ways to achieve this goal, maybe the "WebWorkers" is the most standard one but certainly, it's not the easiest and handy one, especially If you don't have enough Time, so you can try this way:►BASIC CONCEPT:1- build a name for your interval(or animation) and set your interval(animation), so it would run when user first time open your page : var interval_id = setInterval(your_func, 3000);2- by $(window).focus(function() {}); and $(window).blur(function() {}); you can clearInterval(interval_id) everytime browser(tab) is deactived and ReRun your interval(animation) everytime browser(tab) would acive again by interval_id = setInterval();►SAMPLE CODE:I think that the easiest way to get this now with jQuery 3.3.x is to use this function:intervalFunction() is init instantly on page load, and then if your focus is back you try to reactivate interval, but if your page lose focus, you can always back to this.It's clear and ease. Additionally this solutions doesn't use deprecated function like .focus(), .focusin() and .focusout()It is quite old question but I encountered the same issue.

If you run your web on chrome, you could read through this post Background Tabs in Chrome 57

.  Basically the interval timer could run if it haven't run out of the timer budget.

The consumption of budget is based on CPU time usage of the task inside timer.

Based on my scenario, I draw video to canvas and transport to WebRTC.

The webrtc video connection would keep updating even the tab is inactive.  However you have to use setInterval instead of requestAnimationFrame.

it is not recommended for UI rendering though.  It would be better to listen visibilityChange event and change render mechenism accordingly. Besides, you could try @kaan-soral and it should works based on the documentation.I was able to call my callback function at minimum of 250ms using audio tag and handling its ontimeupdate event. Its called 3-4 times in a second. Its better than one second lagging setTimeout 

ngOnInit not being called when Injectable class is Instantiated

Levi Fuller

[ngOnInit not being called when Injectable class is Instantiated](https://stackoverflow.com/questions/35110690/ngoninit-not-being-called-when-injectable-class-is-instantiated)

Why isn't ngOnInit() called when an Injectable class is resolved?CodeConsole Output

2016-01-31 05:33:22Z

Why isn't ngOnInit() called when an Injectable class is resolved?CodeConsole OutputLifecycle hooks, like OnInit() work with Directives and Components. They do not work with other types, like a service in your case. From docs:I don't know about all the lifecycle hooks, but as for destruction, ngOnDestroy actually get called on Injectable when it's provider is destroyed (for example an Injectable supplied by a component).From the docs :Just in case anyone is interested in destruction check this question: Note: this answer applies only to Angular components and directives, NOT services.I had this same issue when ngOnInit (and other lifecycle hooks) were not firing for my components, and most searches led me here.The issue is that I was using the arrow function syntax (=>) like this:Apparently that does not work in Angular 6. Using non-arrow function syntax fixes the issue:I had to call a function once my dataService was initialized, instead, I called it inside the constructor, that worked for me.As others have said, ngOnInit works on Components only. Use the constructor in Injectable() services. It will serve your needs in most cases.

jQuery .ready in a dynamically inserted iframe

EtienneT

[jQuery .ready in a dynamically inserted iframe](https://stackoverflow.com/questions/205087/jquery-ready-in-a-dynamically-inserted-iframe)

We are using jQuery thickbox to dynamically display an iframe when someone clicks on a picture.  In this iframe, we are using galleria a javascript library to display multiple pictures.The problem seems to be that $(document).ready in the iframe seems to be fired too soon and the iframe content isn't even loaded yet, so galleria code is not applied properly on the DOM elements.  $(document).ready seems to use the iframe parent ready state to decide if the iframe is ready.If we extract the function called by document ready in a separate function and call it after a timeout of 100 ms. It works, but we can't take the chance in production with a slow computer.My question: which jQuery event should we bind to to be able to execute our code when the dynamic iframe is ready and not just it's a parent?

2008-10-15 15:09:22Z

We are using jQuery thickbox to dynamically display an iframe when someone clicks on a picture.  In this iframe, we are using galleria a javascript library to display multiple pictures.The problem seems to be that $(document).ready in the iframe seems to be fired too soon and the iframe content isn't even loaded yet, so galleria code is not applied properly on the DOM elements.  $(document).ready seems to use the iframe parent ready state to decide if the iframe is ready.If we extract the function called by document ready in a separate function and call it after a timeout of 100 ms. It works, but we can't take the chance in production with a slow computer.My question: which jQuery event should we bind to to be able to execute our code when the dynamic iframe is ready and not just it's a parent?I answered a similar question (see Javascript callback when IFRAME is finished loading?).

You can obtain control over the iframe load event with the following code:In dealing with iframes I found good enough to use load event instead of document ready event.Using jQuery 1.3.2 the following worked for me:REVISION:!

Actually the above code sometimes looks like it works in Firefox, never looks like it works in Opera.Instead I implemented a polling solution for my purposes. Simplified down it looks like this:This doesn't require code in the called iframe pages. All code resides and executes from the parent frame/window.In IFrames I usually solve this problem by putting a small script to the very end of the  block:This work most of the time for me. Sometimes the simplest and most naive solution is the most appropriate.Following DrJokepu's and David Murdoch idea I implemented a more complete version.

It requires jQuery on both the parent and iframe and the iframe to be in your control.iframe code:parent test code:Found the solution to the problem.When you click on a thickbox link that open a iframe, it insert an iframe with an id of TB_iframeContent.Instead of relying on the $(document).ready event in the iframe code, I just have to bind to the load event of the iframe in the parent document:This code is in the iframe but binds to an event of a control in the parent document.  It works in FireFox and IE.Basically what others have already posted but IMHO a bit cleaner:Try this,All you need to do then is create the JavaScript function testframe_loaded().I'm loading the PDF with jQuery ajax into browser cache. Then I create embedded element with data already in browser cache. I guess it will work with iframe too.You have to set your http headers correctly as well.This was the exact issue I ran into with our client. I created a little jquery plugin that seems to work for iframe readiness. It uses polling to check the iframe document readyState combined with the inner document url combined with the iframe source to make sure the iframe is in fact "ready".The issue with "onload" is that you need access to the actual iframe being added to the DOM, if you don't then you need to try to catch the iframe loading which if it is cached then you may not. What I needed was a script that could be called anytime, and determine whether or not the iframe was "ready" or not.Here's the question: Holy grail for determining whether or not local iframe has loadedand here's the jsfiddle I eventually came up with.https://jsfiddle.net/q0smjkh5/10/In the jsfiddle above, I am waiting for onload to append an iframe to the dom, then checking iframe's inner document's ready state - which should be cross domain because it's pointed to wikipedia - but Chrome seems to report "complete". The plug-in's iready method then gets called when the iframe is in fact ready. The callback tries to check the inner document's ready state again - this time reporting a cross domain request (which is correct) - anyway it seems to work for what I need and hope it helps others.

How to reload page every 5 seconds?

Wasim Shaikh

[How to reload page every 5 seconds?](https://stackoverflow.com/questions/2787679/how-to-reload-page-every-5-seconds)

I am converting one layout to html; once I make the changes in code/html/css, every time I have to hit F5. Is there any simple javascript/jQuery solution for this? I.e. after I add the script, reload the whole page every 5 seconds (or some other specific time).

2010-05-07 10:00:34Z

I am converting one layout to html; once I make the changes in code/html/css, every time I have to hit F5. Is there any simple javascript/jQuery solution for this? I.e. after I add the script, reload the whole page every 5 seconds (or some other specific time).If it has to be in the script use setTimeout like:To reload the same page you don't need the 2nd argument. You can just use:This triggers a reload every 30 seconds.For auto reload and clear cache after 3 second you can do it easily using javascript setInterval function. Here is simple codeand you can also use meta for thisBut as development tools go, you are probably better off with https://addons.mozilla.org/en-US/firefox/addon/115There's an automatic refresh-on-change tool for IE.  It's called ReloadIt, and is available at http://reloadit.codeplex.com . Free.  You choose a URL that you'd like to auto-reload, and specify one or more directory paths to monitor for changes.  Press F12 to start monitoring.After you set it, minimize it.  Then edit your content files. When you save any change, the page gets reloaded.  like this: Simple. easy. Answer provided by @jAndy should work but in Firefox you may face problem, window.location.reload(1); might not work, that's my personal experience.So i would like to suggest:This is tested and works fine.A decent alternative if you're using firefox is the XRefresh plugin. It will reload your page everytime it detect the file has been modified. So rather than just refreshing every 5 seconds, it will just refresh when you hit save in your HTML editor.Alternatively there's the application called LiveReload...If you are developing and testing in Firefox, there's a plug-in called "ReloadEvery" is available, which allows you to reload the page at the specified intervals. This will work on 5 sec.5000 milliseconds = 5 secondsUse this with target _self or what ever you want and what ever page you want including itself:Or this with automatic self and no target code with what ever page you want, including itself:Or this if it is the same page to reload itself only and targeted tow hat ever you want:All 3 do similar things, just in different ways.

fs: how do I locate a parent folder?

fancy

[fs: how do I locate a parent folder?](https://stackoverflow.com/questions/7083045/fs-how-do-i-locate-a-parent-folder)

How do I write this to go back up the parent 2 levels to find a file?

2011-08-16 18:20:24Z

How do I write this to go back up the parent 2 levels to find a file?Try this:Note the forward slash at the beginning of the relative path.Use path.join http://nodejs.org/docs/v0.4.10/api/path.html#path.joinpath.join() will handle leading/trailing slashes for you and just do the right thing and you don't have to try to remember when trailing slashes exist and when they dont.I know it is a bit picky, but all the answers so far are not quite right.The point of path.join() is to eliminate the need for the caller to know which directory separator to use (making code platform agnostic).Technically the correct answer would be something like:I would have added this as a comment to Alex Wayne's answer but not enough rep yet!EDIT: as per user1767586's observationThe easiest way would be to use path.resolve:Looks like you'll need the path module. (path.normalize in particular)If another module calls yours and you'd still like to know the location of the main file being run you can use a modification of @Jason's code: That way you'll get the location of the script actually being run. If you not positive on where the parent is, this will get you the path;You can usei'm running electron app and i can get the parent folder by path.resolve()parent 1 level:path.resolve(__dirname, '..') + '/'parent 2 levels:path.resolve(__dirname, '..', '..') + '/'this will also work:

What is an AngularJS directive?

tohster

[What is an AngularJS directive?](https://stackoverflow.com/questions/13875466/what-is-an-angularjs-directive)

I have spent quite a lot of time reading through AngularJS documentation and several tutorials, and I have been quite surprised at how unapproachable the documentation is.I have a simple, answerable question that may also be useful to others looking to pick up AngularJS:What is an AngularJS directive?There should be a simple, precise definition of a directive somewhere, but the AngularJS website offers these surprisingly useless definitions:On the home page:In the developer documentation:And there is a series of talks about directives which, ironically, seem to assume the audience already understands what they are.Would anyone be able to offer, for clear reference, a precise definition of what a directive is that explains:

2012-12-14 09:02:11Z

I have spent quite a lot of time reading through AngularJS documentation and several tutorials, and I have been quite surprised at how unapproachable the documentation is.I have a simple, answerable question that may also be useful to others looking to pick up AngularJS:What is an AngularJS directive?There should be a simple, precise definition of a directive somewhere, but the AngularJS website offers these surprisingly useless definitions:On the home page:In the developer documentation:And there is a series of talks about directives which, ironically, seem to assume the audience already understands what they are.Would anyone be able to offer, for clear reference, a precise definition of what a directive is that explains:A directive is essentially a function† that executes when the Angular compiler finds it in the DOM.  The function(s) can do almost anything, which is why I think it is rather difficult to define what a directive is.  Each directive has a name (like ng-repeat, tabs, make-up-your-own) and each directive determines where it can be used: element, attribute, class, in a comment.† A directive normally only has a (post)link function.  A complicated directive could have a compile function, a pre-link function, and a post-link function.The most powerful thing directives can do is extend HTML.  Your extensions are a Domain Specific Language (DSL) for building your application.  E.g., if your application runs an online shopping site, you can extend HTML to have "shopping-cart", "coupon", "specials", etc. directives -- whatever words or objects or concepts are more natural to use within the "online shopping" domain, rather than "div"s and "span"s (as @WTK already mentioned).Directives can also componentize HTML -- group a bunch of HTML into some reusable component.  If you find yourself using ng-include to pull in lots of HTML, it is probably time to refactor into directives.Directives are where you manipulate the DOM and catch DOM events.  This is why the directive's compile and link functions both receive the "element" as an argument.  You can Maybe a really simple and initial definition for angular directives would be Some examples of this would be Check this tutorial , at least for me it was one of the best introductions to Angular. A more complete approach would be everything that @mark-rajcok said before.Looking at the documentation, directives are structures you can write that angularjs parses in order to create objects and behaviors.In other words it's a template in which you use mix of any arbitrary nodes and pseudo-javascript and placeholders for data to express intentions of how your widget (component) is structured, how it behaves and how it is feed with data. 

Angularjs then runs against those directives to translate them into working html/javascript code.Directives are there to so you can build more complex components (widgets) using proper semantics. Just take a look at the angularjs example of directives - they're defining the tab pane (which isn't of course valid in regular HTML). It's more intuitive than using like div-s or spans to create structure which is then styled to look like a tab pane.In AngularJS Directives are html re markers for a HTML DOM element like an attribute(restrict- A), element name(restrict- E), comment(restrict- M) or CSS class(restrict - C) that tell AngularJS's HTML compiler ($compile) to perform a specified behavior to that DOM element or even transform the DOM element and its children.Some Example are ng-bind ,ng-hide/show etc.The homepage is very clear about this:

When you hover over tabs in the last section:Then in the next tab:So you can invent html elements i.e tabs and let angular handle the rendering of those elements.

$(window).scrollTop() vs. $(document).scrollTop()

frenchie

[$(window).scrollTop() vs. $(document).scrollTop()](https://stackoverflow.com/questions/5371139/window-scrolltop-vs-document-scrolltop)

What's the difference between:and Thanks.

2011-03-20 20:04:41Z

What's the difference between:and Thanks.They are both going to have the same effect.However, as pointed out in the comments: $(window).scrollTop() is supported by more web browsers than $('html').scrollTop(). First, you need to understand the difference between window and document. The window object is a top level client side object. There is nothing above the window object. JavaScript is an object orientated language. You start with an object and apply methods to its properties or the properties of its object groups. For example, the document object is an object of the window object. To change the document's background color, you'd set the document's bgcolor property.To answer your question, There is no difference in the end result between window and document scrollTop. Both will give the same output.In general use document mainly to register events and use window to do things like scroll, scrollTop, and resize. Cross browser way of doing this is I've just had some of the similar problems with scrollTop described here. In the end I got around this on Firefox and IE by using the selector $('*').scrollTop(0);Not perfect if you have elements you don't want to effect but it gets around the Document, Body, HTML and Window disparity. If it helps...

Call AngularJS from legacy code

kreek

[Call AngularJS from legacy code](https://stackoverflow.com/questions/10490570/call-angularjs-from-legacy-code)

I'm using AngularJS to build HTML controls that interact with a legacy Flex application. All callbacks from the Flex app must be attached to the DOM window.For example (in AS3)Will callFrom within the JS resize function I'd like to dispatch an event that a controller can hear. It seems that creating a service is the way to go. Can you update a service from outside of AngularJS? Can a controller listen for events from a service? In one experiment (click for fiddle) I did it seems like I can access a service but updating the service's data doesn't get reflected in the view (in the example an <option> should be added to the <select>).Thanks!

2012-05-07 23:35:52Z

I'm using AngularJS to build HTML controls that interact with a legacy Flex application. All callbacks from the Flex app must be attached to the DOM window.For example (in AS3)Will callFrom within the JS resize function I'd like to dispatch an event that a controller can hear. It seems that creating a service is the way to go. Can you update a service from outside of AngularJS? Can a controller listen for events from a service? In one experiment (click for fiddle) I did it seems like I can access a service but updating the service's data doesn't get reflected in the view (in the example an <option> should be added to the <select>).Thanks!Interop from outside of angular to angular is same as debugging angular application or integrating with third party library.For any DOM element you can do this:From the injector you can get a hold of any service in angular application. Similarly from the scope you can invoke any methods which have been published to it.Keep in mind that any changes to the angular model or any method invocations on the scope need to be wrapped in $apply() like this:Misko gave the correct answer (obviously), but some of us newbies may need it simplified further. When if comes to calling AngularJS code from within legacy apps, think of the AngularJS code as a "micro app" existing within a protected container in your legacy application. You cannot make calls to it directly (for very good reason), but you can make remote calls by way of the $scope object.To use the $scope object, you need to get the handle of $scope. Fortunately this is very easy to do. You can use the id of any HTML element within your AngularJS "micro-app" HTML to get the handle of the AngularJS app $scope. As an example, let's say we want to call a couple of functions within our AngularJS controller such as sayHi() and sayBye(). In the AngularJS HTML (view) we have a div with the id  "MySuperAwesomeApp". You can use the following code, combined with jQuery to get the handle of $scope:Now you can call your AngularJS code functions by way of the scope handle:To make things more convenient, you can use a function to grab the scope handle anytime you want to access it:Your calls would then look like this: You can see a working example here:http://jsfiddle.net/peterdrinnan/2nPnB/16/I also showed this in a slideshow for the Ottawa AngularJS group (just skip to the last 2 slides)http://www.slideshare.net/peterdrinnan/angular-for-legacyappsGreatest explanation of the concept I've found is situated here:

https://groups.google.com/forum/#!msg/angular/kqFrwiysgpA/eB9mNbQzcHwJTo save you the clicking:Further to the other answers. 

If you don't want to access a method in a controller but want to access the service directly you can do something like this:Thanks to the previous post, I can update my model with an asynchronous event.I declare my modelAnd i update my model from outside my scopeMore safe and performant way especially when debug data is off is to use a shared variable to hold a callback function. Your angular controller implements this function to return its internals to the external code. Generalized as a reusable directive :I created a 'exposeScope' directive which works in a similar fashion but usage is simpler:This stores the current scope ( that is given to the link function of the directive) in a global 'scopes' object which is a holder for all scopes. Value provided to the directive attribute is used as the property name of the scope in this global object.See the demo here. As I showed in the demo, you can trigger jQuery events when the scope is stored and removed from the global 'scopes' object.Note that, I haven't tested the on('scopeDestroyed') when the actual element is removed from the DOM. If it does not work, triggering the event on the document itself instead of the element may help. ( see the app.js ) script in the demo plunker.I know this is an old question but I was looking at options to do    this recently, so I thought I put my findings here in case it's    useful to anyone.In most cases, if there's the need for external legacy code to interact with the state of the UI or the inner workings of the application a service could be useful to abstract away those changes.  If an external code is interacting directly with your angular controller, component or directive, you're coupling your app heavily with your legacy code which is bad news.What I ended up using in my case, is a combination of browser accessible globals (i.e. window ) and event handling.  My code has a smart form generation engine which requires JSON output from a CMS to initiliase the forms.  Here's what I have done :Form Schema Service is created using angular injector as expected:And in my controllers:

function () {

    'use strict';So far this is pure angular and javascript service oriented programming.  But the legacy integration comes here : Obviously every approach has it's merits and drawbacks.  The advantages and use of this approach depends on your UI.  The previously suggested approaches don't work in my case since my form schema and legacy code have no control and knowledge of angular scopes.  Hence configuring my app based on angular.element('element-X').scope();

could potentially break the app if we change the scopes around.  But if you're app has knowledge of the scoping and can rely on it not changing often, what's suggested previously is a viable approach.Hope this helps.  Any feedback is also welcome.

How to decode jwt token in javascript without using a library?

Chrisk8er

[How to decode jwt token in javascript without using a library?](https://stackoverflow.com/questions/38552003/how-to-decode-jwt-token-in-javascript-without-using-a-library)

How can I decode the payload of JWT using JavaScript? Without a library. So the token just returns a payload object that can consumed by my front-end app.Example token: xxxxxxxxx.XXXXXXXX.xxxxxxxxAnd the result is the payload:

2016-07-24 12:26:07Z

How can I decode the payload of JWT using JavaScript? Without a library. So the token just returns a payload object that can consumed by my front-end app.Example token: xxxxxxxxx.XXXXXXXX.xxxxxxxxAnd the result is the payload:Working unicode text JWT parser function:Simple function with try - catchThanks!You can use jwt-decode, so then you could write:@Peheje will work, but you will have problem with unicode.

To fix it I use the code on https://stackoverflow.com/a/30106551/5277071;As "window" object is not present in nodejs environment,

we could use the following lines of code : It's working for me perfectly. Hope it helps.you can use pure javascript atob() function to decode token into a string:or parse directly it into a json object:read about atob() and btoa() built-in javascript functions Base64 encoding and decoding - Web APIs | MDN.I use this function to get payload , header , exp(Expiration Time), iat (Issued At) based on this answerI found this code at jwt.io and it works well.  In some cases(certain development platforms),

the best answer(for now) faces a problem of invalid base64 length.

So, I needed a more stable way.I hope it would help you.Both Guy and Peheje already answered the question. For a total beginner like me it was helpful to also have the import line defined in the example.Also it took me some minutes to figure out that the token is the full set of credentials that gets posted back (the whole JWT token, not just the idToken part of it). Straightforward once you know it..all features of jwt.io doesn't support all languages. In NodeJs you can use Simple NodeJS Solution for Decoding a JSON Web Token (JWT)Answer based from GitHub - auth0/jwt-decode. Altered the input/output to include string splitting and return object { header, payload, signature } so you can just pass the whole token.Based on answers here and here:Running Javascript node.js express I had to first install the package as follows:then in my app.js code get the package:Then run the code:Then the magic:

What is the difference between the $parse, $interpolate and $compile services?

Stepan Suvorov

[What is the difference between the $parse, $interpolate and $compile services?](https://stackoverflow.com/questions/17900588/what-is-the-difference-between-the-parse-interpolate-and-compile-services)

What is the difference between $parse, $interpolate and $compile services?

For me they all do the same thing: take template and compile it to template-function.

2013-07-27 17:27:35Z

What is the difference between $parse, $interpolate and $compile services?

For me they all do the same thing: take template and compile it to template-function.Those are all examples of services that aid in AngularJS view rendering (although $parse and  $interpolate could be used outside of this domain). To illustrate what is the role of each service let's take example of this piece of HTML:and values on the scope:Given this markup here is what each service brings to the table:All those services are working together to provide a live UI in AngularJS. But they operate on different levels:$interpolate does not have the write access to the $scope variables as we have in $eval and $parse$parse , $interpolate --->needs to be injected but $eval need not be injected in the controller or where it is used$parse , $interpolate give the function which can be evaluated against any context but $eval is always evaluated against $scope.$eval and $interpolate behind the scenes uses $parse only.Here is the cute explanation.

Casting to string in JavaScript

gdoron is supporting Monica

[Casting to string in JavaScript](https://stackoverflow.com/questions/11083254/casting-to-string-in-javascript)

I found three ways to cast a variable to String in JavaScript.

I searched for those three options in the jQuery source code, and they are all in use.

I would like to know if there are any differences between them:DEMOThey all produce the same output, but does one of them better than the others?

I would say the + "" has an advantage that it saves some characters, but that's not that big advantage, anything else? 

2012-06-18 12:49:13Z

I found three ways to cast a variable to String in JavaScript.

I searched for those three options in the jQuery source code, and they are all in use.

I would like to know if there are any differences between them:DEMOThey all produce the same output, but does one of them better than the others?

I would say the + "" has an advantage that it saves some characters, but that's not that big advantage, anything else? They do behave differently when the value is null.Very similar behaviour happens if value is undefined (see jbabey's answer).Other than that, there is a negligible performance difference, which, unless you're using them in huge loops, isn't worth worrying about.There are differences, but they are probably not relevant to your question. For example, the toString prototype does not exist on undefined variables, but you can cast undefined to a string using the other two methods:http://jsfiddle.net/f8YwA/They behave the same but toString also provides a way to convert a number binary, octal, or hexadecimal strings:Example:According to this JSPerf test, they differ in speed. But unless you're going to use them in huge amounts, any of them should perform fine.For completeness: As asawyer already mentioned, you can also use the .toString() method.In addition to all the above, one should note that, for a defined value v:So we could do something like:Tested in FF 34.0 and Node 0.10if you are ok with null, undefined, NaN, 0, and false all casting to '' then (s ? s+'' : '') is faster.see http://jsperf.com/cast-to-string/8note - there are significant differences across browsers at this time.Real world example: I've got a log function that can be called with an arbitrary number of parameters: log("foo is {} and bar is {}", param1, param2). If a DEBUG flag is set to true, the brackets get replaced by the given parameters and the string is passed to console.log(msg). Parameters can and will be Strings, Numbers and whatever may be returned by JSON / AJAX calls, maybe even null.On this page you can test the performance of each method yourself :)http://jsperf.com/cast-to-string/2here, on all machines and browsers, ' "" + str ' is the fastest one, (String)str is the slowest

Check if event exists on element [duplicate]

Corey Hart

[Check if event exists on element [duplicate]](https://stackoverflow.com/questions/1515069/check-if-event-exists-on-element)

Is there a way to check if an event exists in jQuery? I’m working on a plugin that uses custom namespaced events, and would like to be able to check if the event is binded to an element or not.

2009-10-03 22:53:04Z

Is there a way to check if an event exists in jQuery? I’m working on a plugin that uses custom namespaced events, and would like to be able to check if the event is binded to an element or not.You can inspect by feeding the object reference ( not the jQuery object though ) to $.data, and for the second argument feed 'events' and that will return an object populated with all the events such as 'click'. You can loop through that object and see what the event handler does.You may use:to make sure all click events are unbinded, then attach your eventTo check for events on an element:For example:orFull Example:A more complete way to check, that includes dynamic listeners, installed with $(document).onExample usage:use jquery event filteryou can use it like thisI wrote a plugin called hasEventListener which exactly does that.Hope this helps.Below code will provide you with all the click events on given selector:You can iterate over it using each or for ex. check the length for validation like:Thought it would help someone. :)This work for me it is showing the objects and type of event which has occurred.I ended up doing this

Disabling browser print options (headers, footers, margins) from page?

Anthony

[Disabling browser print options (headers, footers, margins) from page?](https://stackoverflow.com/questions/1960939/disabling-browser-print-options-headers-footers-margins-from-page)

I have seen this question asked in a couple of different ways on SO and several other websites, but most of them are either too specific or out-of-date. I'm hoping someone can provide a definitive answer here without pandering to speculation.Is there a way, either with CSS or javascript, to change the default printer settings when someone prints within their browser? And of course by "prints from their browser" I mean some form of HTML, not PDF or some other plug-in reliant mime-type.Please note:If some browsers offer this and others don't (or if you only know how to do it for some browsers) I welcome browser-specific solutions.Similarly, if you know of a mainstream browser that has specific restrictions against EVER doing this, that is also helpful, but some fairly up-to-date documentation would be appreciated. (simply saying "that goes against XYZ's security policy" isn't very convincing when XYZ has made significant changes in said policy in the last three years).Finally, when I say "change default print settings" I don't mean forever, just for my page, and I am referring specifically to print margins, headers, and footers.I am very aware that CSS offers the option of changing the page orientation as well as the page margins. One of the many struggles is with Firefox. If I set the page margins to 1 inch, it ADDS this to the half inch it already puts into place.I very much want to reduce the usage of PDFs on my client's site, but the infringement on presentation (as well as the lack of reliability) are their main concern.

2009-12-25 10:33:32Z

I have seen this question asked in a couple of different ways on SO and several other websites, but most of them are either too specific or out-of-date. I'm hoping someone can provide a definitive answer here without pandering to speculation.Is there a way, either with CSS or javascript, to change the default printer settings when someone prints within their browser? And of course by "prints from their browser" I mean some form of HTML, not PDF or some other plug-in reliant mime-type.Please note:If some browsers offer this and others don't (or if you only know how to do it for some browsers) I welcome browser-specific solutions.Similarly, if you know of a mainstream browser that has specific restrictions against EVER doing this, that is also helpful, but some fairly up-to-date documentation would be appreciated. (simply saying "that goes against XYZ's security policy" isn't very convincing when XYZ has made significant changes in said policy in the last three years).Finally, when I say "change default print settings" I don't mean forever, just for my page, and I am referring specifically to print margins, headers, and footers.I am very aware that CSS offers the option of changing the page orientation as well as the page margins. One of the many struggles is with Firefox. If I set the page margins to 1 inch, it ADDS this to the half inch it already puts into place.I very much want to reduce the usage of PDFs on my client's site, but the infringement on presentation (as well as the lack of reliability) are their main concern.The CSS standard enables some advanced formatting. There is a @page directive in CSS that enables some formatting that applies only to paged media (like paper). See http://www.w3.org/TR/1998/REC-CSS2-19980512/page.html.Downside is that behavior in different browsers is not consistent. Safari still does not support setting printer page margin at all, but all the other major browsers now support it.With the @page directive, you can specify printer margin of the page (which is not the same as normal CSS margin of an HTML element):This does not work in Firefox 3.6, IE 7, Safari 5.1.7 or Google Chrome 4.1.Setting the @page margin does have effect in IE 8, Opera 10, Google Chrome 21 and Firefox 19.

Although the page margins are set correctly for your content in these browsers, the behavior is not ideal in trying to solve the hiding of the header/footer.  So the conclusion is that Chrome has the best implementation of this in respect to hiding the header/footer. You can set the page margin to a size that's too small to contain the text in order to disable this (borrowing from awe's answer):You can add a mozNoMarginBoxes attribute to the <html> tag to prevent the URL, page numbers and other things Firefox adds to the page margin from being printed.It is working in Firefox 29 and onwards. You can see a screen shot of the difference here, or see here for a live example.Note that the mozDisallowSelectionPrint attribute in the example is not required to remove the text from the margins; see What does the mozdisallowselectionprint attribute in PDF.js do?.Unfortunately, there seems to be no way to resolve this problem in Internet Explorer, so you'll have to resort to PDF or ask users to disable margin texts.The same goes for Safari; according to a comment by @Luiz Perez, the most recent versions of Safari (8, 9.1 and 10) still do not support  @page for suppressing margin texts.I can't find anything on Edge and I don't have a Windows 10 installation available to test.As @Awe had said above, this is the solution, that is confirmed to work in Chrome!!Just make sure this is INSIDE the head tags:I have a similar request from a client who wants to have the header, page numbers, and html footer removed. In this case, the client is presenting an HTML page that can double as a formal certificate. The added URL, page, and, header, are irrelevant and lead to a less-than-pleasing final product. In some ways, it just looks cheap. Media=Print has not been able to disable these browser defaults. The only workaround is to tell the user to click the "Gear" button and toggle those items on/off. Seriously, I had no idea I could do that for 20 years (and we think the typical user will have a clue to click the toggle button?).If CSS supports Media=Print, it should support the ability to control the entire end-user print experience. I appreciate that the browsers provide the added fields, but, why not allow CSS to control the overall print experience-if that is what's desired. A 90% solution could be 100% with three more fields! A simple: would suffice. Again, it's not a matter whether or not the end-user wants to print it out or not (maybe your client is very private and doesn't want printed URLs floating around. Or maybe a executive team uses a private collaboration sites?). Glad to defend the end-user, but if somebody is seeking an answer, don't respond saying it's the right of the end-user to show or hide. Sometimes it's the right of the client paying the bills.Try this code, works 100% for me: 

FOR Landscape:FOR Portait:Since you mentioned "within their browser" and firefox, if you are using Internet Explorer, you can disable the page header/footer by temporarily setting of the value in the registry, see here for an example. AFAIK I have not heard of a way to do this within other browsers. Both Daniel's and Mickel's answers seems to collide with each other, I guess that there could be a similar setting somewhere in the registry for firefox to remove headers/footers or customize them. Have you checked it out?Hope this helps and Happy holidays,

Best regards,

Tom.@page margin:0mm now works in Firefox 19.0a2 (2012-12-07).I solved my problem using some css into the web page.This worked for me with about 1cm margin

How to read data From *.CSV file using javascript?

Mahesh Thumar

[How to read data From *.CSV file using javascript?](https://stackoverflow.com/questions/7431268/how-to-read-data-from-csv-file-using-javascript)

My csv data looks like this: How do you read this data and convert to an array like this using Javascript?: I've tried this code but no luck!:

2011-09-15 13:00:37Z

My csv data looks like this: How do you read this data and convert to an array like this using Javascript?: I've tried this code but no luck!:NOTE: I concocted this solution before I was reminded about all the "special cases" that can occur in a valid CSV file, like escaped quotes. I'm leaving my answer for those who want something quick and dirty, but I recommend Evan's answer for accuracy.This code will work when your data.txt file is one long string of comma-separated entries, with no newlines:data.txt:javascript:The following code will work on a "true" CSV file with linebreaks between each set of records:data.txt:javascript:http://jsfiddle.net/mblase75/dcqxr/No need to write your own...The jQuery-CSV library has a function called $.csv.toObjects(csv) that does the mapping automatically.Note: The library is designed to handle any CSV data that is RFC 4180 compliant, including all of the nasty edge cases that most 'simple' solutions overlook.Like @Blazemonger already stated, first you need to add line breaks to make the data valid CSV.Using the following dataset:Use the code:The output saved in 'data' will be:Note: Technically, the way you wrote the key-value mapping is invalid JavaScript. The objects containing the key-value pairs should be wrapped in brackets.If you want to try it out for yourself, I suggest you take a look at the Basic Usage Demonstration under the 'toObjects()' tab.Disclaimer: I'm the original author of jQuery-CSV.Update:Edited to use the dataset that the op provided and included a link to the demo where the data can be tested for validity.Update2:Due to the shuttering of Google Code. jquery-csv has moved to GitHubDon't split on commas -- it won't work for most CSV files, and this question has wayyyy too many views for the asker's kind of input data to apply to everyone. Parsing CSV is kind of scary since there's no truly official standard, and lots of delimited text writers don't consider edge cases.This question is old, but I believe there's a better solution now that Papa Parse is available. It's a library I wrote, with help from contributors, that parses CSV text or files. It's the only JS library I know of that supports files gigabytes in size. It also handles malformed input gracefully.1 GB file parsed in 1 minute:

(Update: With Papa Parse 4, the same file took only about 30 seconds in Firefox. Papa Parse 4 is now the fastest known CSV parser for the browser.)Parsing text is very easy:Parsing files is also easy:Streaming files is similar (here's an example that streams a remote file):If your web page locks up during parsing, Papa can use web workers to keep your web site reactive.Papa can auto-detect delimiters and match values up with header columns, if a header row is present. It can also turn numeric values into actual number types. It appropriately parses line breaks and quotes and other weird situations, and even handles malformed input as robustly as possible. I've drawn on inspiration from existing libraries to make Papa, so props to other JS implementations.I am using d3.js for parsing csv file. Very easy to use.

Here is the docs.Steps:Using Es6;Please see docs for more.Update -

d3-request is deprecated. you can use d3-fetchYou can use PapaParse to help.

https://www.papaparse.com/Here is a CodePen.

https://codepen.io/sandro-wiggers/pen/VxrxNJHere's a JavaScript function that parses CSV data, accounting for commas found inside quotes.Example use of the function to parse a CSV file that looks like this:into arrays:Here's how you can transform the data into objects, like D3's csv parser (which is a solid third party solution):Here's a working fiddle of this code.Enjoy! --CurranHere is another way to read an external CSV into Javascript (using jQuery).It's a little bit more long winded, but I feel by reading the data into arrays you can exactly follow the process and makes for easy troubleshooting. Might help someone else.The data file example:And here is the code:Hope this helps someone in the future!I like to have the regex do as much as possible.  This regex treats all items as either quoted or unquoted, followed by either a column delimiter, or a row delimiter.  Or the end of text.Which is why that last condition -- without it it would be an infinite loop since the pattern can match a zero length field (totally  valid in csv).  But since $ is a zero length assertion, it won't progress to a non match and end the loop.And FYI, I had to make the second alternative exclude quotes surrounding the value; seems like it was executing before the first alternative on my javascript engine and considering the quotes as part of the unquoted value.  I won't ask -- just got it to work.Per the accepted answer,I got this to work by changing the 1 to a 0 here:changed toIt will compute the a file with one continuous line as having an allTextLines.length of 1. So if the loop starts at 1 and runs as long as it's less than 1, it never runs. Hence the blank alert box.

Javascript foreach loop on associative array object

Szymon Toda

[Javascript foreach loop on associative array object](https://stackoverflow.com/questions/18804592/javascript-foreach-loop-on-associative-array-object)

Why my for for-each loop is not iterating over my JavaScript associative array object?EDIT: jQuery each() could be helpful: https://api.jquery.com/jQuery.each/

2013-09-14 17:42:15Z

Why my for for-each loop is not iterating over my JavaScript associative array object?EDIT: jQuery each() could be helpful: https://api.jquery.com/jQuery.each/The .length property only tracks properties with numeric indexes (keys).  You're using strings for keys.You can do this:To be safe, it's a good idea in loops like that to make sure that none of the properties are unexpected results of inheritance:edit — it's probably a good idea now to note that the Object.keys() function is available on modern browsers and in Node etc. That function returns the "own" keys of an object, as an array:The callback function passed to .forEach() is called with each key and the key's index in the array returned by Object.keys(). It's also passed the array through which the function is iterating, but that array is not really useful to us; we need the original object.  That can be accessed directly by name, but (in my opinion) it's a little nicer to pass it explicitly, which is done by passing a second argument to .forEach() — the original object — which will be bound as this inside the callback. (Just saw that this was noted in a comment below.)This is very simple approach. The Advantage is you can get keys as well:For ES6:For ES6: (If you want value, index and the array itself)There are some straightforward examples already, but I notice from how you've worded your question that you probably come from a PHP background, and you're expecting JavaScript to work the same way -- it does not. A PHP array is very different from a JavaScript Array.In PHP, an associative array can do most of what a numerically-indexed array can (the array_* functions work, you can count() it, etc.) You simply create an array and start assigning to string-indexes instead of numeric.In JavaScript, everything is an object (except for primitives: string, numeric, boolean), and arrays are a certain implementation that lets you have numeric indexes. Anything pushed to an array will effect its length, and can be iterated over using Array methods (map, forEach, reduce, filter, find, etc.) However, because everything is an object, you're always free to simply assign properties, because that's something you do to any object. Square-bracket notation is simply another way to access a property, so in your case:is actually equivalent to:From your description, my guess is that you want an 'associative array', but for JavaScript, this is a simple case of using an object as a hashmap. Also, I know it's an example, but avoid non-meaningful names that only describe the variable type (e.g. array), and name based on what it should contain (e.g. pages). Simple objects don't have many good direct ways to iterate, so often we'll turn then into arrays first using Object methods (Object.keys in this case -- there's also entries and values being added to some browsers right now) which we can loop.arr_jq_TabContents[key] sees the array as an 0-index form.Here is a simple way to use an associative array as a generic Object type:If the node.js or browser supported Object.entries(), it can be used as an alternative to using Object.keys() (https://stackoverflow.com/a/18804596/225291). in this example, forEach uses Destructuring assignment of an array. This is (essentially) incorrect in most cases:That creates a non-element property on the array with the name Main. Although arrays are objects, normally you don't want to create non-element properties on them.If you want to index into array by those names, typically you'd use a Map or a plain object, not an array.With a Map (ES2015+), which I'll call map because I'm creative:you then iterate it using the iterators from its values, keys, or entries methods, for instance:Using a plain object, which I'll creatively call obj:you'd then iterate its contents using Object.keys, Object.values, or Object.entries, for instance:in this code i used brackets method for call values in array because it contained array , however briefly the idea which a variable i has a key of property and with a loop called both values of associate arrayperfect Method ,

if you interested,

press like

Access a variable outside the scope of a Handlebars.js each loop

lucke84

[Access a variable outside the scope of a Handlebars.js each loop](https://stackoverflow.com/questions/13645084/access-a-variable-outside-the-scope-of-a-handlebars-js-each-loop)

I have a handlebars.js template, just like this:And this is the generated output:As expected, I can access the id and title fields of every element of myCollection to generate my select. And outside the select, my externalValue variable is correctly printed ("myExternalValue").Unfortunately, in options' texts, externalValue value is never printed out.My question is: how can I access a variable outside the scope of the handlebars.js each from within the loop? 

2012-11-30 12:17:04Z

I have a handlebars.js template, just like this:And this is the generated output:As expected, I can access the id and title fields of every element of myCollection to generate my select. And outside the select, my externalValue variable is correctly printed ("myExternalValue").Unfortunately, in options' texts, externalValue value is never printed out.My question is: how can I access a variable outside the scope of the handlebars.js each from within the loop? TryThe ../ path segment references the parent template scope that should be what you want.Or you can use absolute path like this:

Can I get the name of the currently running function in JavaScript?

sprugman

[Can I get the name of the currently running function in JavaScript?](https://stackoverflow.com/questions/1013239/can-i-get-the-name-of-the-currently-running-function-in-javascript)

Is it possible to do this:I've got the Dojo and jQuery frameworks in my stack, so if either of those make it easier, they're available.

2009-06-18 15:10:34Z

Is it possible to do this:I've got the Dojo and jQuery frameworks in my stack, so if either of those make it easier, they're available.In ES5 and above, there is no access to that information.In older versions of JS you can get it by using arguments.callee.You may have to parse out the name though, as it will probably include some extra junk.  Though, in some implementations you can simply get the name using arguments.callee.name.Parsing:For non-anonymous functions But in case of an error handler the result would be the name of the error handler function, wouldn't it?All what you need is simple.

Create function:After that whenever you need, you simply use:According to MDN As noted this applies only if your script uses "strict mode".  This is mainly for security reasons and sadly currently there's no alternative for this.This should do it:For the caller, just use caller.toString().This has to go in the category of "world's ugliest hacks", but here you go.First up, printing the name of the current function (as in the other answers) seems to have limited use to me, since you kind of already know what the function is!However, finding out the name of the calling function could be pretty useful for a trace function.  This is with a regexp, but using indexOf would be about 3x faster:Here's a way that will work:Then in your tests:Note that the third test will only work if the test is located in /util/functionsThe getMyName function in the snippet below returns the name of the calling function. It's a hack and relies on non-standard feature: Error.prototype.stack. Note that format of the string returned by Error.prototype.stack is implemented differently in different engines, so this probably won't work everywhere:About other solutions: arguments.callee is not allowed in strict mode and Function.prototype.calleris non-standard and not allowed in strict mode.Another use case could be an event dispatcher bound at runtime:The advantage here is the dispatcher can be easily reused and doesn't have to receive the dispatch queue as an argument, instead it comes implicit with the invocation name...In the end, the general case presented here would be "using the function name as an argument so you don't have to pass it explicitly", and that could be useful in many cases, such as the jquery animate() optional callback, or in timeouts/intervals callbacks, (ie you only pass a funcion NAME).Since you have written a function named foo and you know it is in myfile.js why do you need to get this information dynamically?That being said you can use arguments.callee.toString() inside the function (this is a string representation of the entire function) and regex out the value of the function name.Here is a function that will spit out its own name:A combination of the few responses I've seen here.  (Tested in FF, Chrome, IE11)Calling randomFunction() will alert a string that contains the function name.JS Fiddle Demo: http://jsfiddle.net/mjgqfhbe/An updated answer to this can can be found over at this answer:

https://stackoverflow.com/a/2161470/632495and, if you don't feel like clicking:Information is actual on 2016 year.Result in the OperaResult in the ChromeResult in the NodeJSDoes not work in the Firefox. Untested on the IE and the Edge.Result in the NodeJSResult in the ChromeDoes not work in the Firefox, Opera. Untested on the IE and the Edge.Notes:The name of the current function and how it can be obtained seems to have changed over the past 10 years, since this question was asked. Now, not being a pro web developer who knows about all the histories of all browsers ever having existed, here is how it works for me in a 2019 chrome browser:Some of the other answers ran into some chrome errors about strict javascript code and whatnot. Here is a one liner:Like this:Typescript variation:Note only available in ES6/ES2015 compliant engines.  For more seeThis a variant of Igor Ostroumov's answer:If you would like to use it as a default value for a parameter, you need to consider a second level call to 'caller':This would dynamically allow for a reusable implementation in multiple functions.If you want the file name too, here is that solution using the answer from F-3000 on another question:Try:The answer is short: alert(arguments.callee.name);

Count immediate child div elements using jQuery

Dónal

[Count immediate child div elements using jQuery](https://stackoverflow.com/questions/250688/count-immediate-child-div-elements-using-jquery)

I have the following HTML node structure:How do I count the number of immediate children of foo, that are of type div? In the example above, the result should be two (bar and baz).

2008-10-30 15:47:52Z

I have the following HTML node structure:How do I count the number of immediate children of foo, that are of type div? In the example above, the result should be two (bar and baz).Direct children of the element with the id 'foo' which are divs. Then retrieving the size of the wrapped set produced.I recommend using $('#foo').children().size() for better performance.I've created a jsperf test to see the speed difference and the children() method beaten the child selector (#foo > div) approach by at least 60% in Chrome (canary build v15) 20-30% in Firefox (v4).By the way, needless to say, these two approaches produce same results (in this case, 1000).[Update] I've updated the test to include the size() vs length test, and they doesn't make much difference (result: length usage is slightly faster (2%) than size())[Update] Due to the incorrect markup seen in the OP (before 'markup validated' update by me), both $("#foo > div").length & $('#foo').children().length resulted the same (jsfiddle). But for correct answer to get ONLY 'div' children, one SHOULD use child selector for correct & better performanceselects all divs that are immediate descendants of #foo

once you have the set of children you can either use the size function:or you can use Both will return you the same resultIn response to mrCoders answer using jsperf why not just use the dom node ?You can try the test here: http://jsperf.com/jquery-child-ele-size/7This method gets 46,095 op/s while the other methods at best 2000 op/sjQuery has a .size() function which will return the number of times that an element appears but, as specified in the jQuery documentation, it is slower and returns the same value as the .length property so it is best to simply use the .length property.

From here: http://www.electrictoolbox.com/get-total-number-matched-elements-jquery/With the most recent version of jquery, you can use $("#superpics div").children().length.orAs was already said, both return the same result.

But the size() function is more jQuery "P.C".

I had a similar problem with my page.

For now on, just omit the > and it should work fine.Try this for immediate child elements of type div

Angular 2 Hover event

Ronin

[Angular 2 Hover event](https://stackoverflow.com/questions/37686772/angular-2-hover-event)

In the new Angular2 framework, does anyone know the proper way to do a hover like an event? In Angular1 there was ng-Mouseover, but that doesn't seem to have been carried over. I've looked through the docs and haven't found anything.

2016-06-07 18:32:30Z

In the new Angular2 framework, does anyone know the proper way to do a hover like an event? In Angular1 there was ng-Mouseover, but that doesn't seem to have been carried over. I've looked through the docs and haven't found anything.If you want to perform a hover like event on any HTML element, then you can do it like this.HTMLComponentYou should use both mouseenter and mouseleave events inorder to implement fully functional hover events in angular 2.yes there is on-mouseover in angular2 instead of ng-Mouseover like in angular 1.x so you have to write this :- As @Gunter Suggested in comment there is alternate of on-mouseover we can use this too. Some people prefer the on- prefix alternative, known as the canonical form.HTML Code -Controller/.TS Code -Working ExampleSome other Mouse events can be used in Angular -You can do it with a host: Just adapt it to your code (found at: https://angular.io/docs/ts/latest/guide/attribute-directives.html )If you are interested in the mouse entering or leaving one of your components you can use the @HostListener decorator:As explained in the link in @Brandon comment to OP (https://angular.io/docs/ts/latest/guide/attribute-directives.html)Simply do (mouseenter) attribute in Angular2+...In your HTML do:  and in your component do:For handling the event on overing, you can try something like this 

(it works for me):In the Html template:In the angular component:If the mouse over for all over the component is your option, you can directly is @hostListener to handle the events to perform the mouse over al below.Its available in @angular/core. I tested it in angular 4.x.xhttp://lishman.io/angular-2-event-bindingIn your js/ts file for the html that will be hoveredIn your HTML that will be hoveredIn your js/ts file that will receive info of the hoveringIn your HTML element that is connected with catching js/ts file

How to programmatically send a 404 response with Express/Node?

Randomblue

[How to programmatically send a 404 response with Express/Node?](https://stackoverflow.com/questions/8393275/how-to-programmatically-send-a-404-response-with-express-node)

I want to simulate a 404 error on my Express/Node server. How can I do that?

2011-12-05 23:15:30Z

I want to simulate a 404 error on my Express/Node server. How can I do that?Nowadays there's a dedicated status function for this on the response object. Just chain it in somewhere before you call send.Rather than using res.send(404) as in old versions of Express, the new method is:Express will send a very basic 404 response with "Not Found" text:You don't have to simulate it. The second argument to res.send I believe is the status code. Just pass 404 to that argument.Let me clarify that: Per the documentation on expressjs.org it seems as though any number passed to res.send() will be interpreted as the status code. So technically you could get away with:Edit: My bad, I meant res instead of req. It should be called on the response Edit: As of Express 4, the send(status) method has been deprecated. If you're using Express 4 or later, use: res.sendStatus(404) instead. (Thanks @badcc for the tip in the comments)According to the site I'll post below, it's all how you set up your server. One example they show is this:and their route function:This is one way.

http://www.nodebeginner.org/From another site, they create a page and then load it. This might be more of what you're looking for.http://blog.poweredbyalt.net/?p=81From the Express site, define a NotFound exception and throw it whenever you want to have a 404 page OR redirect to /404 in the below case:

Resize svg when window is resized in d3.js

mthpvg

[Resize svg when window is resized in d3.js](https://stackoverflow.com/questions/16265123/resize-svg-when-window-is-resized-in-d3-js)

I'm drawing a scatterplot with d3.js. With the help of this question :

Get the size of the screen, current web page and browser windowI'm using this answer :So I'm able to fit my plot to the user's window like this :Now I'd like that something takes care of resizing the plot when the user resize the window.PS : I'm not using jQuery in my code.

2013-04-28 16:37:32Z

I'm drawing a scatterplot with d3.js. With the help of this question :

Get the size of the screen, current web page and browser windowI'm using this answer :So I'm able to fit my plot to the user's window like this :Now I'd like that something takes care of resizing the plot when the user resize the window.PS : I'm not using jQuery in my code.Look for 'responsive SVG' it is pretty simple to make a SVG responsive and you don't have to worry about sizes any more.Here is how I did it:Note: Everything in the SVG image will scale with the window width. This includes stroke width and font sizes (even those set with CSS). If this is not desired, there are more involved alternate solutions below.More info / tutorials: http://thenewcode.com/744/Make-SVG-Responsivehttp://soqr.fr/testsvg/embed-svg-liquid-layout-responsive-web-design.phpUse window.onresize:http://jsfiddle.net/Zb85u/1/UPDATE just use the new way from @cminattiold answer for historic purposesIMO it's better to use select() and on() since that way you can have multiple resize event handlers... just don't get too crazyhttp://eyeseast.github.io/visible-data/2013/08/28/responsive-charts-with-d3/It's kind of ugly if the resizing code is almost as long as the code for building the graph in first place. So instead of resizing every element of the existing chart, why not simply reloading it? Here is how it worked for me:The crucial line is d3.select('svg').remove();. Otherwise each resizing will add another SVG element below the previous one. In force layouts simply setting the 'height' and 'width' attributes will not work to re-center/move the plot into the svg container. However, there's a very simple answer that works for Force Layouts found here. In summary: Use same (any) eventing you like.Then assuming you have svg & force variables: In this way, you don't re-render the graph entirely, we set the attributes and d3 re-calculates things as necessary. This at least works when you use a point of gravity. I'm not sure if that's a prerequisite for this solution. Can anyone confirm or deny ? Cheers, gIf you want to bind custom logic to resize event, nowadays you may start using ResizeObserver browser API for the bounding box of an SVGElement.

This will also handle the case when container is resized because of the nearby elements size change.

There is a polyfill for broader browser support.This is how it may work in UI component:For those using force directed graphs in D3 v4/v5, the size method doesn't exist any more. Something like the following worked for me (based on this github issue):

Write / add data in JSON file using Node.js

Isoftmaster

[Write / add data in JSON file using Node.js](https://stackoverflow.com/questions/36856232/write-add-data-in-json-file-using-node-js)

I am trying to write JSON file using node from loop data, e.g.:outPut in loop.json is:but I want output file like this (below) and also if I run that code again it should add that new output as elements in same existing JSON file:I want to use same file that I created 1st time but whenever I run that code new elements should add in that same file

2016-04-26 05:48:29Z

I am trying to write JSON file using node from loop data, e.g.:outPut in loop.json is:but I want output file like this (below) and also if I run that code again it should add that new output as elements in same existing JSON file:I want to use same file that I created 1st time but whenever I run that code new elements should add in that same fileIf this json file won't become too big over the time you should try:This will work for data big as 100 MB max effectively. Over this limit, you should use a database engine.     UPDATE:Create a function which returns the current date (year+month+day) as a string. Create the file named this string + .json. the fs module has a function which can check for file existence named fs.stat(path, callback).

With this, you can check if the file exists. If it exists, use the read function if it's not, use the create function. Use the date string as the path cuz the file will be named as the today date + .json. the callback will contain a stats object which will be null if the file does not exist.Please try the following program. You might be expecting this output.Save this program in a javascript file, say, square.js.Then run the program from command prompt using the command node square.jsWhat it does is, simply overwriting the existing file with new set of data, every time you execute the command.Happy Coding.you should read the file, every time you want to add a new property to the json, and then add the the new propertiesAbove example is also correct, but i provide simple example:For formatting jsonfile gives spaces option which you can pass as a parameter:Or use jsonfile.spaces = 4. Read details here.I would not suggest writing to file each time in the loop, instead construct the JSON object in the loop and write to file outside the loop.tryFor synchronous approach

jQuery selector for inputs with square brackets in the name attribute

aidan

[jQuery selector for inputs with square brackets in the name attribute](https://stackoverflow.com/questions/2364982/jquery-selector-for-inputs-with-square-brackets-in-the-name-attribute)

I'm trying to select this element which has square brackets in the name attribute:I've tried this (which doesn't work):and neither does this:or this:EDIT: As some of you have pointed out, $('input[inputName=someValue]') would never work. What I was trying to do was: $('input[name=inputName][value=someValue]'). (But with [] in the name attribute).

2010-03-02 16:57:05Z

I'm trying to select this element which has square brackets in the name attribute:I've tried this (which doesn't work):and neither does this:or this:EDIT: As some of you have pointed out, $('input[inputName=someValue]') would never work. What I was trying to do was: $('input[name=inputName][value=someValue]'). (But with [] in the name attribute).Per the jQuery documentation, try this:[EDIT]

However, I'm not sure that's the right syntax for your selector. You probably want:You can use backslash to quote "funny" characters in your jQuery selectors:For attribute values, you can use quotes:Now, I'm a little confused by your example; what exactly does your HTML look like?  Where does the string "inputName" show up, in particular?edit fixed bogosity; thanks @DancrumbThe attribute selector syntax is [name=value] where name is the attribute name and value is the attribute value.So if you want to select all input elements with the attribute name having the value inputName[]:And if you want to check for two attributes (here: name and value):If the selector is contained within a variable, the code below may be helpful:In this case we prefix all special characters with double backslash.Just separate it with different quotes:JQuery:

How do I uniquely identify computers visiting my web site?

thatisvaliant

[How do I uniquely identify computers visiting my web site?](https://stackoverflow.com/questions/216542/how-do-i-uniquely-identify-computers-visiting-my-web-site)

I need to figure out a way uniquely identify each computer which visits the web site I am creating. Does anybody have any advice on how to achieve this? Because i want the solution to work on all machines and all browsers (within reason) I am trying to create a solution using javascript.I appreciate the help. Thanks.EDIT:Cookies will not do. I need the ability to basically create a guid which is unique to a computer and repeatable, assuming no hardware changes have happened to the computer. Directions i am thinking of are getting the MAC of the network card and other information of this nature which will id the machine visiting the web site.

2008-10-19 15:34:21Z

I need to figure out a way uniquely identify each computer which visits the web site I am creating. Does anybody have any advice on how to achieve this? Because i want the solution to work on all machines and all browsers (within reason) I am trying to create a solution using javascript.I appreciate the help. Thanks.EDIT:Cookies will not do. I need the ability to basically create a guid which is unique to a computer and repeatable, assuming no hardware changes have happened to the computer. Directions i am thinking of are getting the MAC of the network card and other information of this nature which will id the machine visiting the web site.These people have developed a fingerprinting method for recognising a user with a high level of accuracy:https://panopticlick.eff.org/static/browser-uniqueness.pdfI don't know if there is or ever will be a way to uniquely identify machines using a browser alone. The main reasons are:Even if there are ways to track a computer without using cookies there will always be a way to bypass it and software that will do this automatically. If you really need to track something based on a computer you will have to write a native application (Apple Store / Android Store / Windows Program / etc).I might not be able to give you an answer to the question you asked but I can show you how to implement session tracking. With session tracking you try to track the browsing session instead of the computer visiting your site. By tracking the session, your database schema will look like this:Advantages of session based tracking:Disadvantages of session based tracking:There are many ways of implementing this. I don't think I can cover them all I'll just list my favorite which would make this an opinionated answer. Bear that in mind.I will track the session by using what is known as a forever cookie. This is data which will automagically recreate itself even if the user deletes his cookies or updates his browser. It will not however survive the user deleting both their cookies and their browsing cache.To implement this I will use the browsers caching mechanism (RFC), WebStorage API (MDN) and browser cookies (RFC, Google Analytics).In order to utilize tracking ids you need to add them to both your privacy policy and your terms of use preferably under the sub-heading Tracking. We will use the following keys on both document.cookie and  window.localStorage:Make sure you include links to your Privacy policy and terms of use on all pages that use tracking.You can either store your session data in your website database or on the users computer. Since I normally work on smaller sites (let than 10 thousand continuous connections) that use 3rd party applications (Google Analytics / Clicky / etc) it's best for me to store data on clients computer. This has the following advantages:and disadvantages:The other day I was watching the wendy williams show with my girlfriend and was completely horrified when the host advised her viewers to delete their browser history at least once a month. Deleting browser history normally has the following effects:Most modern browsers make this option readily available but fear not friends. For there is a solution. The browser has a caching mechanism to store scripts / images and other things. Usually even if we delete our history, this browser cache still remains. All we need is a way to store our data here. There are 2 methods of doing this. The better one is to use a SVG image and store our data inside its tags. This way data can still be extracted even if JavaScript is disabled using flash. However since that is a bit complicated I will demonstrate the other approach which uses JSONP (Wikipedia)example.com/assets/js/tracking.js (actually tracking.php)Now we can get our session key any time:window.__sid || window.localStorage.getItem("sid") || getCookie("sid") || ""How do I make tracking.js stick in browser?We can achieve this using Cache-Control, Last-Modified and ETag HTTP headers. We can use the SessionID as value for etag header:Last-Modified header tells the browser that this file is basically never modified. Cache-Control tells proxies and gateways not to cache the document but tells the browser to cache it for 1 year.The next time the browser requests the document, it will send If-Modified-Since and If-None-Match headers. We can use these to return a 304 Not Modified response.example.com/assets/js/tracking.phpNow every time the browser requests tracking.js our server will respond with a 304 Not Modified result and force an execute of the local copy of tracking.js.I still don't understand. Explain it to meLets suppose the user clears their browsing history and refreshes the page. The only thing left on the users computer is a copy of tracking.js in browser cache. When the browser requests tracking.js it recieves a 304 Not Modified response which causes it to execute the 1st version of tracking.js it recieved. tracking.js executes and restores the SessionID that was deleted.Suppose Haxor X steals our customers cookies while they are still logged in. How do we protect them? Cryptography and Browser fingerprinting to the rescue. Remember our original definition for SessionID was:We can change this to:Where hk = sign(Timestamp|BrowserID|ComputerID, serverKey).Now we can validate our SessionID using the following algorithm:Now in order for Haxor's attack to work they must:We can improve validation by forwarding GoogleID and FingerprintID (via ajax or hidden fields) and matching against those.It's not possible to identify the computers accessing a web site without the cooperation of their owners. If they let you, however, you can store a cookie to identify the machine when it visits your site again. The key is, the visitor is in control; they can remove the cookie and appear as a new visitor any time they wish.A possibility is using flash cookies:You'll need to build a small (hidden) flash movie to read and write them.Whatever route you pick, make sure your users opt IN to being tracked, otherwise you're invading their privacy and become one of the bad guys.You may want to try setting a unique ID in an evercookie (it will work cross browser, see their FAQs):

http://samy.pl/evercookie/There is also a company called ThreatMetrix that is used by a lot of big companies to solve this problem:

http://threatmetrix.com/our-solutions/solutions-by-product/trustdefender-id/

They are quite expensive and some of their other products aren't very good, but their device id works well.Finally, there is this open source jquery implementation of the panopticlick idea:

https://github.com/carlo/jquery-browser-fingerprint

It looks pretty half baked right now but could be expanded upon.Hope it helps!There is a popular method called canvas fingerprinting, described in this scientific article: The Web Never Forgets:

Persistent Tracking Mechanisms in the Wild. Once you start looking for it, you'll be surprised how frequently it is used. The method creates a unique fingerprint, which is consistent for each browser/hardware combination.The article also reviews other persistent tracking methods, like evercookies, respawning http and Flash cookies, and cookie syncing.More info about canvas fingerprinting here: There is only a small amount of information that you can get via an HTTP connection.So, the correct response is that you cannot achieve what you would live via the HTTP over IP protocols alone. However, using a combination of cookies, as well as IP, and the fields in the HTTP request, you have a good chance at guessing, sort of, what machine it is. Users tend to use only one browser, and often from one machine, so this may be fairly relieable, but this will vary depending on the audience...techies are more likely to mess with this stuff, and use more machines/browsers.  Additionally, this could even be coupled with some attempt to geo-locate the IP, and use that data as well. But in any case, there is no solution that will be correct all of the time.There are flaws with both cookie and non-cookie approaches.  But if you can forgive the shortcomings of the cookie approach, here's an idea.If you're already using Google Analytics on your site, then you don't need to write code to track unique users yourself.  Google Analytics does that for you via the __utma cookie value, as described in Google's documentation.  And by reusing this value you're not creating additional cookie payload, which has efficiency benefits with page requests.And you could write some code easily enough to access that value, or use this script's getUniqueId() function.As with the previous solutions cookies are a good method, be aware that they identify browsers though. If I visited a website in Firefox and then in Internet Explorer cookies would be stored for both attempts seperately. Some users also disable cookies (but more people disable JavaScript).Another method to consider would be I.P. and hostname identification (be aware these can vary for dial-up/non-static IP users, AOL also uses blanket IPs). However since this only identifies networks this might not work as well as cookies.The suggestions to use cookies aside, the only comprehensive set of identifying attributes available to interrogate are contained in the HTTP request header. So it is possible to use some subset of these to create a pseudo-unique identifier for a user agent (i.e., browser). Further, most of this information is possibly already being logged in the so-called "access log" of your web server software by default and, if not, can be easily configured to do so.  Then, a utlity could be developed that simply scans the content of this log, creating fingerprints of each request comprised of, say, the IP address and User Agent string, etc.  The more data available, even including the contents of specific cookies, adds to the quality of the uniqueness of this fingerprint.  Though, as many others have stated already, the HTTP protocol doesn't make this 100% foolproof - at best it can only be a fairly good indicator.This is a pretty common type of authentication used by banks.Say you're accessing your bank website via example-isp.com. The first time you're there, you'll be asked for your password, as well as additional authentication. Once you've passed, the bank knows that user "thatisvaliant" is authenticated to access the site via example-isp.com.In the future, it won't ask for extra authentication (beyond your password) when you're accessing the site via example-isp.com. If you try to access the bank via another-isp.com, the bank will go through the same routine again.So to summarize, what the bank's identifying is your ISP and/or netblock, based on your IP address. Obviously not every user at your ISP is you, which is why the bank still asks you for your password.Have you ever had a credit card company call to verify that things are OK when you use a credit card in a different country? Same concept.Really, what you want to do cannot be done because the protocols do not allow for this.  If static IPs were universally used then you might be able to do it.  They are not, so you cannot.If you really want to identify people, have them log in.Since they will probably be moving around to different pages on your web site, you need a way to keep track of them as they move about.So long as they are logged in, and you are tracking their session within your site via cookies/link-parameters/beacons/whatever, you can be pretty sure that they are using the same computer during that time.Ultimately, it is incorrect to say this tells you which computer they are using if your users are not using your own local network and do not have static IP addresses.If what you want to do is being done with the cooperation of the users and there is only one user per cookie and they use a single web browser, just use a cookie.Cookies won't be useful for determining unique visitors. A user could clear cookies and refresh the site - he then is classed as a new user again.I think that the best way to go about doing this is to implement a server side solution (as you will need somewhere to store your data). Depending on the complexity of your needs for such data, you will need to determine what is classed as a unique visit. A sensible method would be to allow an IP address to return the following day and be given a unique visit. Several visits from one IP address in one day shouldn't be counted as uniques.Using PHP, for example, it is trivial to get the IP address of a visitor, and store it in a text file (or a sql database).A server side solution will work on all machines, because you are going to track the user when he first loads up your site. Don't use javascript, as that is meant for client side scripting, plus the user may have disabled it in any case.Hope that helps.Isn't that a really good reason not to use javascript?As others have said - cookies are probably your best option - just be aware of the limitations.You can use fingerprintjs2After that you can check all your users against existing and check JSON similarity, so even if their fingerprint mutates, you still can track themI guess the verdict is i cannot programmatically uniquely identify a computer which is visiting my web site.I have the following question. When i use a machine which has never visited my online banking web site i get asked for additional authentification. then, if i go back a second time to the online banking site i dont get asked the additional authentification. reading the answers to my question i decided it must be a cookie involved. therefore, i deleted all cookies in IE and relogged onto my online banking site fully expecting to be asked the authentification questions again. to my surprise i was not asked. doesnt this lead one to believe the bank is doing some kind of pc tagging which doesnt involve cookies?further, after much googling today i found the following company who claims to sell a solution which does uniquely identify machines which visit a web site. http://www.the41.com/products.asp.i appreciate all the good information if you could clarify further this conflicting information i found i would greatly appreciate it.I would do this using a combination of cookies and flash cookies. Create a GUID and store it in a cookie. If the cookie doesn't exist, try to read it from the flash cookie. If it's still not found, create it and write it to the flash cookie. This way you can share the same GUID across browsers. I think cookies might be what you are looking for; this is how most websites uniquely identify visitors. Assuming you don't want the user to be in control, you can't. The web doesn't work like that, the best you can hope for is some heuristics.If it is an option to force your visitor to install some software and use TCPA you may be able to pull something off.My post might not be a solution, but I can provide an example, where this feature has been implemented.If you visit the signup page of www.supertorrents.org for the first time from you computer, it's fine. But if you refresh the page or open the page again, it identifies you've previously visited the page. The real beauty comes here - it identifies even if you re-install Windows or other OS.I read somewhere that they store the CPU ID. Although I couldn't find how do they do it, I seriously doubt it, and they might use MAC Address to do it.I'll definitely share if I find how to do it.A Trick:Please note: (First Registration Page) and (Second Registration Page) should not be in separated pages. you make just 1 page. (for example: register.php) and make it smart to switch between First PHP Style and Second PHP Style

jQuery returning「parsererror」for ajax request

dkarzon

[jQuery returning「parsererror」for ajax request](https://stackoverflow.com/questions/5061310/jquery-returning-parsererror-for-ajax-request)

Been getting a "parsererror" from jquery for an Ajax request, I have tried changing the POST to a GET, returning the data in a few different ways (creating classes, etc.) but I cant seem to figure out what the problem is.My project is in MVC3 and I'm using jQuery 1.5

I have a Dropdown and on the onchange event I fire off a call to get some data based on what was selected.Dropdown: (this loads the "Views" from the list in the Viewbag and firing the event works fine)Javascript:The above code successfully calls the MVC method and returns:But jquery fires the error event for the $.ajax() method saying "parsererror".

2011-02-21 00:54:28Z

Been getting a "parsererror" from jquery for an Ajax request, I have tried changing the POST to a GET, returning the data in a few different ways (creating classes, etc.) but I cant seem to figure out what the problem is.My project is in MVC3 and I'm using jQuery 1.5

I have a Dropdown and on the onchange event I fire off a call to get some data based on what was selected.Dropdown: (this loads the "Views" from the list in the Viewbag and firing the event works fine)Javascript:The above code successfully calls the MVC method and returns:But jquery fires the error event for the $.ajax() method saying "parsererror".I recently encountered this problem and stumbled upon this question.I resolved it with a much easier way.Method OneYou can either remove the dataType: 'json' property from the object literal...Method TwoOr you can do what @Sagiv was saying by returning your data as Json.The reason why this parsererror message occurs is that when you simply return a string or another value, it is not really Json, so the parser fails when parsing it.So if you remove the dataType: json property, it will not try to parse it as Json. With the other method if you make sure to return your data as Json, the parser will know how to handle it properly.See the answer by @david-east for the correct way to handle the issueThis answer is only relevant to a bug with jQuery 1.5 when using the file: protocol.I had a similar problem recently when upgrading to jQuery 1.5. Despite getting a correct response the error handler fired. I resolved it by using the complete event and then checking the status value. e.g:You have specified the ajax call response dataType as: where as the actual ajax response is not a valid JSON and as a result the JSON parser is throwing an error. The best approach that I would recommend is to change the dataType to:and within the success callback validate whether a valid JSON is being returned or not, and if JSON validation fails, alert it on the screen so that its obvious for what purpose the ajax call is actually failing. Have a look at this:the problem is that your controller returning string or other object that can't be parsed. 

the ajax call expected to get Json in return. try to return JsonResult in the controller like that:hope it helps :)Your JSON data might be wrong. http://jsonformatter.curiousconcept.com/ to validate it. There are lots of suggestions to removeWhile I grant that this works it's ignoring the underlying issue. If you're confident the return string really is JSON then look for errant whitespace at the start of the response. Consider having a look at it in fiddler. Mine looked like this:In my case this was a problem with PHP spewing out unwanted characters (in this case UTF file BOMs). Once I removed these it fixed the problem while also keepingMake sure that you remove any debug code or anything else that might be outputting unintended information.  Somewhat obvious, but easy to forgot in the moment.I don't know if this is still actual but problem was with Encoding. Changing to ANSI resolved the problem for me.If you get this problem using HTTP GET in IE I solved this issue by setting the cache: false.

As I used the same url for both HTML and json requests it hit the cache instead of doing a json call.you should remove the dataType: "json". Then see the magic... the reason of doing such thing is that you are converting json object to simple string.. so json parser is not able to parse that string due to not being a json object.  I was also getting "Request return with error:parsererror." in the javascript console.

In my case it wasn´t a matter of Json, but I had to pass to the view text area a valid encoding.I have encountered such error but after modifying my response before sending it to the client it worked fine.I had the same problem, turned out my web.config was not the same with my teammates.

So please check your web.config.Hope this helps someone.The problemwindow.JSON.parse raises an error in $.parseJSON function.My solutionOverloading JQuery using requirejs tool.jquery.overload.js file contentIf you don't want to remove/change dataType: json, you can override jQuery's strict parsing by defining a custom converter:Using this, you can customize the behavior when the response cannot be parsed as JSON (even if you get an empty response body!)  With this custom converter, .done()/success will be triggered as long as the request was otherwise successful (1xx or 2xx response code).

Recursion in Angular directives

Benny Bottema

[Recursion in Angular directives](https://stackoverflow.com/questions/14430655/recursion-in-angular-directives)

There are a couple of popular recursive angular directive Q&A's out there, which all come down to one of the following solutions:The first one has the problem that you can't remove previously compiled code unless you comprehensibly manage the manual compile process. The second approach has the problem of... not being a directive and missing out on its powerful capabilities, but more urgently, it can't be parameterised the same way a directive can be; it's simply bound to a new controller instance.I've been playing with manually doing an angular.bootstrap or @compile() in the link function, but that leaves me with the problem of manually keeping track of elements to remove and add.Is there a good way to have a parameterized recursive pattern that manages adding/removing elements to reflect runtime state? That is to say, a tree with a add/delete node button and some input field whose value is passed down a node's child nodes. Perhaps a combination of the second approach with chained scopes (but I have no idea how to do this)?

2013-01-20 23:40:51Z

There are a couple of popular recursive angular directive Q&A's out there, which all come down to one of the following solutions:The first one has the problem that you can't remove previously compiled code unless you comprehensibly manage the manual compile process. The second approach has the problem of... not being a directive and missing out on its powerful capabilities, but more urgently, it can't be parameterised the same way a directive can be; it's simply bound to a new controller instance.I've been playing with manually doing an angular.bootstrap or @compile() in the link function, but that leaves me with the problem of manually keeping track of elements to remove and add.Is there a good way to have a parameterized recursive pattern that manages adding/removing elements to reflect runtime state? That is to say, a tree with a add/delete node button and some input field whose value is passed down a node's child nodes. Perhaps a combination of the second approach with chained scopes (but I have no idea how to do this)?Inspired by the solutions described in the thread mentioned by @dnc253, I abstracted the recursion functionality into a service.Which is used as follows:See this Plunker for a demo.

I like this solution best because:Update:

  As of Angular 1.5.x, no more tricks are required, but works only with template, not with templateUrlManually adding elements and compiling them is definitely a perfect approach. If you use ng-repeat then you will not have to manually remove elements.  Demo: http://jsfiddle.net/KNM4q/113/I don't know for sure if this solution is found in one of the examples you linked or the same basic concept, but I had a need of a recursive directive, and I found a great, easy solution.You should create the recursive directive and then wrap it around the element that makes the recursive call.As of Angular 1.5.x, no more tricks are required, the following has been made possible. No more need for dirty work arounds!This discovery was a by product of my hunt for a better/cleaner solution for a recursive directive. You can find it here https://jsfiddle.net/cattails27/5j5au76c/. It supports as far is 1.3.x.After using several workarounds for a while, I've repeatedly come back to this issue.I'm not satisfied by the service solution since it works for directives that can inject the service but does not work for anonymous template fragments.Similarly, solutions which depend upon specific template structure by doing DOM manipulation in the directive are too specific and brittle.I have what I believe is a generic solution that encapsulates the recursion as a directive of its own that interferes minimally with any other directives and can be used anonymously.Below is a demonstration that you can also play around with at plnkr: http://plnkr.co/edit/MSiwnDFD81HAOXWvQWIMNow that Angular 2.0 is out in preview I think it's ok to add an Angular 2.0 alternative into the mix. At least it will benefit people later:The key concept is to build a recursive template with a self reference:You then bind a tree object to the template and watch the recursion take care of the rest.

Here is a full example: http://www.syntaxsuccess.com/viewarticle/recursive-treeview-in-angular-2.0There is a really really simple workaround for this that does not require directives at all. Well, in that sense, maybe it is not even a solution of the original problem if you assume you need directives, but it IS a solution if you want a recursive GUI structure with parametrized sub-structures of the GUI. Which is probably what you want.The solution is based on just using ng-controller, ng-init and ng-include. Just do it as follows, assume that your controller is called "MyController", your template is located in myTemplate.html and that you have an initialization function on your controller called init that takes argument A, B, and C, making it possible to parametrize your controller. Then the solution is as follows:myTemplate.htlm:I found by plain conincidence that this kind of structure can be made recursive as you like in plain vanilla angular. Just follow this design pattern and you can use recursive UI-structures without any advanced compilation tinkering etc. Inside your controller:The only downside I can see is the clunky syntax you have to put up with. You can use angular-recursion-injector for that: https://github.com/knyga/angular-recursion-injectorAllows you to do unlimited depth nesting with conditioning. Does recompilation only if needed and compiles only right elements. No magic in code.One of the things that allows it to work faster and simpler then the other solutions is "--recursion" suffix.I ended up creating a set of basic directives for recursion.IMO It is far more basic than the solution found here, and just as flexible if not more, so we are not bound to using UL/LI structures etc... But obviously those make sense to use, however the directives are unaware of this fact...A Super simple example would be:The implementation of 'dx-start-with' an 'dx-connect' is found at: https://github.com/dotJEM/angular-treeThis means you don't have to create 8 directives if you need 8 different layouts.To create a tree-view on top of that where you can add or delete nodes would then be rather simple. As in: http://codepen.io/anon/pen/BjXGbY?editors=1010From this point on, the controller and template could be wrapped in it's own directive if one would wish for it.

blur vs focusout — any real differences? [duplicate]

Laguna

[blur vs focusout — any real differences? [duplicate]](https://stackoverflow.com/questions/8973532/blur-vs-focusout-any-real-differences)

Is there any difference between JS events blur vs focusout?I have two textboxes: pwd and confirm pwd. I want to check password match when user tabs out of the confirm pwd textbox, for example. In this case which event should I use or does it matter?

2012-01-23 14:53:09Z

Is there any difference between JS events blur vs focusout?I have two textboxes: pwd and confirm pwd. I want to check password match when user tabs out of the confirm pwd textbox, for example. In this case which event should I use or does it matter?The documentation for focusout says (emphasis mine):The same distinction exists between the focusin and focus events.As stated in the JQuery documentation

How to use arrow functions (public class fields) as class methods?

Ben

[How to use arrow functions (public class fields) as class methods?](https://stackoverflow.com/questions/31362292/how-to-use-arrow-functions-public-class-fields-as-class-methods)

I'm new to using ES6 classes with React, previously I've been binding my methods to the current object (show in first example), but does ES6 allow me to permanently bind a class function to a class instance with arrows? (Useful when passing as a callback function.) I get errors when I try to use them as you can with CoffeeScript:So that if I were to pass SomeClass.handleInputChange to, for instance setTimeout, it would be scoped to the class instance, and not the window object.

2015-07-11 22:05:21Z

I'm new to using ES6 classes with React, previously I've been binding my methods to the current object (show in first example), but does ES6 allow me to permanently bind a class function to a class instance with arrows? (Useful when passing as a callback function.) I get errors when I try to use them as you can with CoffeeScript:So that if I were to pass SomeClass.handleInputChange to, for instance setTimeout, it would be scoped to the class instance, and not the window object.Your syntax is slightly off, just missing an equals sign after the property name.This is an experimental feature. You will need to enable experimental features in Babel to get this to compile. Here is a demo with experimental enabled. To use experimental features in babel you can install the relevant plugin from here. For this specific feature, you need the transform-class-properties plugin:You can read more about the proposal for Class Fields and Static Properties hereNo, if you want to create bound, instance-specific methods you will have to do that in the constructor. However, you can use arrow functions for that, instead of using .bind on a prototype method:There is an proposal which might allow you to omit the constructor() and directly put the assignment in the class scope with the same functionality, but I wouldn't recommend to use that as it's highly experimental.Alternatively, you can always use .bind, which allows you to declare the method on the prototype and then bind it to the instance in the constructor. This approach has greater flexibility as it allows modifying the method from the outside of your class.I know this question has been sufficiently answered, but I just have a small contribution to make (for those who don't want to use the experimental feature). Because of the problem of having to bind multiple function binds in the constructor and making it look messy, I came up with a utility method that once bound and called in the constructor, does all the necessary method bindings for you automatically.Assume I have this class with the constructor:It looks messy, doesn't it?

Now I created this utility methodAll I now need to do is import that utility, and add a call to my constructor, and I don't need to bind each new method in the constructor anymore.

New constructor now looks clean, like this:You are using arrow function and also binding it in constructor. So you no need to do binding when you use arrow functions OR you need to bind a function only in constructor when you use normal function like belowAlso binding a function directly in render is not recommended. It should always be in constructor

How to fix the error; 'Error: Bootstrap tooltips require Tether (http://github.hubspot.com/tether/)'

Michael LB

[How to fix the error; 'Error: Bootstrap tooltips require Tether (http://github.hubspot.com/tether/)'](https://stackoverflow.com/questions/34567939/how-to-fix-the-error-error-bootstrap-tooltips-require-tether-http-github-h)

I'm using Bootstrap V4 and the following error is logged in the console;I have tried to remove the error by installing Tether but it hasn't worked. I have 'installed' Tether by including the following lines of code;Have I 'installed' tether correctly?Can anyone help me remove this error?If you wish to view the error on my site, please click here and load your console.

2016-01-02 16:18:57Z

I'm using Bootstrap V4 and the following error is logged in the console;I have tried to remove the error by installing Tether but it hasn't worked. I have 'installed' Tether by including the following lines of code;Have I 'installed' tether correctly?Can anyone help me remove this error?If you wish to view the error on my site, please click here and load your console.Since beta Bootstrap 4 doesn't depend on Tether but Popper.js. All scripts (must be in this order):See the current documentation for the newest script versions.Bootstrap 4 alpha needs Tether, so you need to include tether.min.js before you include bootstrap.min.js, eg.If you're using Webpack:webpack.config.js:SourceIf you are using npm and browserify:Personally I use small subset of Bootstrap functionality and don't need to attach Tether.This should help:If you want to avoid the error message and you are not using Bootstrap tool tips, you can define window.Tether before loading Bootstrap.You should done my guideline:

1. Add bellow source into GemfileInstall tether via npm like below    then add tether to your html above bootstrap like belowFor webpack I resolved this with webpack.config.js:An additional note. If you check uncompressed javascript file, you will find the condition:So the error message contains the required information. Uncompressed version: https://rawgit.com/HubSpot/tether/master/src/js/tether.js

https://rawgit.com/HubSpot/tether/master/dist/css/tether.cssUsing webpack I used this in webpack.config.js:It seems like Tether was the one it was looking for:I was having this issue with requirejs using the newest boostrap 4 build. I ended up just defining:in my html head tag to fool bootstrap's check. I then added a second require statement just before the require that loads my app, and subsequently, my bootstrap dependency:Using both of these in tandem and you should have no problem using current bootstrap 4 alpha build.Works for generator-aspnetcore-spa and bootstrap 4.For webpack 1 or 2 with Bootstrap 4 you needIf you are using Brunch, you can add this at the end of your brunch-config.js:If you use require.js AMD loader:For you Laravel Mix users out there running Bootstrap4, you will need to run Then update you resources/assets/js/bootstrap.js to load Tether and bring it to the window object.Here is what mine looks like: (Note I also had to run npm install popper.js --save)To add to @adilapapaya's answer. For ember-cli users specifically, install tether with and then include it in your ember-cli-build.js file before bootstrap, like so:And if using webpack, you will need the expose plugin. In your webpack.config.js, add this loaderI had the same problem and this is how I solved it.

I'm on rails 5.1.0rc1 Make sure to add require jquery and tether inside your application.js file they must be at the very top like thisJust make sure to have tether installedMethod #1: Download from Here and insert it to your projects, or Method #2: use below code before your bootstrap script source:I recommend following the instructions in the Bootstrap 4 documentation:For those guys, who are doing it through UMD, and compile via require.js, there is a laconic solution.In the module, which requires tether as the dependency, which loads Tooltip as UMD, in front of module definition, just put short snippet on definition of Tether:This short snippet at the very beginning, actually may be put on any higher level of your application, the most important thing - to invoke it before actual usage of bootstrap components with Tether dependency.UPD: In Boostrap 4.1 Stable they replaced Tether, with Popper.js, see the documentation on usage.I had the same problem and i solved it by including jquery-3.1.1.min before including any js and it worked like a charm. Hope it helps.

How to remove leading and trailing white spaces from a given html string?

Sunil

[How to remove leading and trailing white spaces from a given html string?](https://stackoverflow.com/questions/10032024/how-to-remove-leading-and-trailing-white-spaces-from-a-given-html-string)

I've the following HTML string. What would be sample code in JavaScript to remove leading and trailing white spaces from this string?

2012-04-05 16:04:07Z

I've the following HTML string. What would be sample code in JavaScript to remove leading and trailing white spaces from this string?See the String method trim() - https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/TrimEditAs noted in other comments, it is possible to use the regex approach. The trim method is effectively just an alias for a regex:... this will inject the method into the native prototype for those browsers who are still swimming in the shallow end of the pool.for old browsers, use regexIf you're working with a multiline string, like a code file:And want to replace all leading lines, to get this result:You must add the multiline flag to your regex, ^ and $ match line by line:Relevant quote from docs:I know this is a very old question but it still doesn't have an accepted answer. I see that you want the following removed: html tags that are "empty" and white spaces based on an html string.I have come up with a solution based on your comment for the output you are looking for:.trim() removes leading and trailing whitespace.replace(/&nbsp;/g, '') removes &nbsp;.replace(/<[^\/>][^>]*><\/[^>]+>/g, "")); removes empty tags01). If you need to remove only leading and trailing white space use this:this will return string "No.255 Colombo"02). If you need to remove all the white space use this:this will return string "No.255Colombo"

How do I correctly detect orientation change using Phonegap on iOS?

ajpalma

[How do I correctly detect orientation change using Phonegap on iOS?](https://stackoverflow.com/questions/5284878/how-do-i-correctly-detect-orientation-change-using-phonegap-on-ios)

I found this orientation test code below looking for JQTouch reference material. This works correctly in the iOS simulator on mobile Safari but doesn’t get handled correctly in Phonegap. My project is running into the same issue that is killing this test page. Is there a way to sense the orientation change using JavaScript in Phonegap?

2011-03-12 19:26:01Z

I found this orientation test code below looking for JQTouch reference material. This works correctly in the iOS simulator on mobile Safari but doesn’t get handled correctly in Phonegap. My project is running into the same issue that is killing this test page. Is there a way to sense the orientation change using JavaScript in Phonegap?This is what I do:Update May 2019: window.orientation is a deprecated feature and not supported by most browsers according to MDN. The orientationchange event is associated with window.orientation and therefore should probably not be used.I use window.onresize = function(){ checkOrientation(); }

And in checkOrientation you can employ window.orientation or body width checking

but the idea is, the "window.onresize" is the most cross browser method, at least with the majority of the mobile and desktop browsers that I've had an opportunity to test with.I'm pretty new to iOS and Phonegap as well, but I was able to do this by adding in an eventListener. I did the same thing (using the example you reference), and couldn't get it to work. But this seemed to do the trick:You may have some luck searching the PhoneGap Google Group for the term "orientation". One example I read about as an example on how to detect orientation was Pie Guy: (game, js file). It's similar to the code you've posted, but like you... I couldn't get it to work.One caveat: the eventListener worked for me, but I'm not sure if this is an overly intensive approach. So far it's been the only way that's worked for me, but I don't know if there are better, more streamlined ways.UPDATE fixed the code above, it works nowWhile working with the orientationchange event, I needed a timeout to get the correct dimensions of the elements in the page, but matchMedia worked fine. My final code:I believe that the correct answer has already been posted and accepted, yet there is an issue that I have experienced myself and that some others have mentioned here.On certain platforms, various properties such as window dimensions (window.innerWidth, window.innerHeight) and the window.orientation property will not be updated by the time that the event "orientationchange" has fired. Many times, the property window.orientation is undefined for a few milliseconds after the firing of "orientationchange" (at least it is in Chrome on iOS).The best way that I found to handle this issue was:I am checking to see if the orientation is either undefined or if the orientation is equal to the last orientation detected. If either is true, I wait ten milliseconds and then parse the orientation again. If the orientation is a proper value, I call the showXOrientation functions. If the orientation is invalid, I continue to loop my checking function, waiting ten milliseconds each time, until it is valid.Now, I would make a JSFiddle for this, as I usually did, but JSFiddle has not been working for me and my support bug for it was closed as no one else is reporting the same problem. If anyone else wants to turn this into a JSFiddle, please go ahead.Thanks! I hope this helps!here is what i did:I've found this code to detect if the device is in landscape orientation and in this case add a splash page saying "change orientation to see the site". It's working on iOS, android and windows phones. I think that this is very useful since it's quite elegant and avoid to set a landscape view for the mobile site.

The code is working very well. The only thing not completely satisfying is that if someone load the page being in landscape view the splash page doesn't appears.And the HTML: <div id="alert" class="hide"> <div id="content">This site is not thought to be viewed in landscape mode, please turn your device </div> </div>Although the question refers to only PhoneGap and iOS usage, and although it was already answered, I can add a few points to the broader question of detecting screen orientation with JS in 2019:In my use-case, I didn't care much about the actual orientation, but rather about the actual width and height of the window, which obviously changes with orientation. So I used resize event to avoid dealing with delays between orientationchange event and actualizing window dimensions:Note 1: I used EcmaScript 6 syntax here, make sure to compile it to ES5 if needed.Note 2: window.onresize event is also fired when virtual keyboard is toggled, not only when orientation changes.The following worked for me:I needed the timeout because the value of window.orientation does not update right awayI'm creating a jQTouch app in PhoneGap for the iPhone. I've been battling with this issue for days. I've seen the eventlistener solution suggested a few times, but just could not get it to work.In the end I came up with a different solution. It basically checks the width of the body periodically using settimeout. If the width is 320 then the orientation is portrait, if 480 then landscape. Then, if the orientation has changed since the last check, it will fire either a portrait stuff function or a landscape stuff function where you can do your thing for each orientation.Code (note, I know there is some repetition in the code, just haven't bothered to trim it down yet!):

What is NODE_ENV in Express?

TIMEX

[What is NODE_ENV in Express?](https://stackoverflow.com/questions/16978256/what-is-node-env-in-express)

This is my app. I'm currently running it in production.  However, someone told me about NODE_ENV. Do I have to add it to this code? How do I add it?

2013-06-07 07:10:04Z

This is my app. I'm currently running it in production.  However, someone told me about NODE_ENV. Do I have to add it to this code? How do I add it?NODE_ENV is an environment variable made popular by the express webserver framework. When a node application is run, it can check the value of the environment variable and do different things based on the value. NODE_ENV specifically is used (by convention) to state whether a particular environment is a production or a development environment. A common use-case is running additional debugging or logging code if running in a development environment.You can use the following code to access the environment variable yourself so that you can perform your own checks and logic:var environment = process.env.NODE_ENVOr alternatively using express' app.get('env') (note: this defaults to "development")Be aware that if you haven't explicitly set NODE_ENV for your environment, it will be undefined.How to actually set the environment variable varies from operating system to operating system, and also depend on your user setup.If you want to set the environment variable as a one-off, you can do so from the command line:In the long term you should persist this so that it doesn't unset if you reboot - rather than list all the possible methods to do this, I'll let you search how to do that yourself!Convention has dictacted that there are only two values you should use for NODE_ENV, either production or development, all lowercase. There's nothing stopping you adding more values, but it's probably not a good idea, as I see a lot of this sort of code in many of the node_modules that I use:Note that it's a really bad idea to try to set NODE_ENV from within a node application itself - if you do it will only apply to the process from which it was set, so things probably won't work like you expect them to. Don't do it - you'll regret it.NODE_ENV is an environmental variable that stands for node environment in express server.It's how we set and detect which environment we are in.It's very common using production and development.Set:Get:You can get it using app.get('env')I assume the original question included how does Express use this environment variable.Express uses NODE_ENV to alter its own default behavior.  For example, in development mode, the default error handler will send back a stacktrace to the browser.  In production mode, the response is simply Internal Server Error, to avoid leaking implementation details to the world.

How to access a DOM element in React? What is the equilvalent of document.getElementById() in React

user504909

[How to access a DOM element in React? What is the equilvalent of document.getElementById() in React](https://stackoverflow.com/questions/38093760/how-to-access-a-dom-element-in-react-what-is-the-equilvalent-of-document-getele)

How do I select certain bars in react.js?This is my code:I want to use this React component:I want to execute the handleClick10 function and perform the operation for my selected progressbar.

But the result I get is:How do I select the certain Element in react.js?

2016-06-29 08:05:16Z

How do I select certain bars in react.js?This is my code:I want to use this React component:I want to execute the handleClick10 function and perform the operation for my selected progressbar.

But the result I get is:How do I select the certain Element in react.js?You can do that by specifying the refEDIT:In React 16.3+, use React.createRef() to create your ref:In order to access the element, use:DOC for using React.createRef()EDITHowever facebook advises against it because string refs have some issues, are considered legacy, and are likely to be removed in one of the future releases. From the docs:A recommended way for React 16.2 and earlier is to use the callback pattern:DOC for using callbackEven older versions of react defined refs using string like belowIn order to get the element just doRemember to use this inside an arrow function block like: and so on...For getting the element in react you need to use ref and inside the function you can use the ReactDOM.findDOMNode method.But what I like to do more is to call the ref right inside the eventThis is some good link to help you figure out.You can replace bySince React uses JSX code to create an HTML we cannot refer dom using regulation methods like documment.querySelector or getElementById.Instead we can use React ref system to access and manipulate Dom as shown in below example:}

How to get a DOM Element from a JQuery Selector

BillRob

[How to get a DOM Element from a JQuery Selector](https://stackoverflow.com/questions/1677880/how-to-get-a-dom-element-from-a-jquery-selector)

I'm having an impossibly hard time finding out to get the actual DOMElement from a jquery selector.  Sample Code:and in another piece of code I'm trying to determine the checked value of the checkbox.And please, I do not want to do:That get's me around the checkbox, but other times I've needed the real DOMElement.

2009-11-05 02:00:19Z

I'm having an impossibly hard time finding out to get the actual DOMElement from a jquery selector.  Sample Code:and in another piece of code I'm trying to determine the checked value of the checkbox.And please, I do not want to do:That get's me around the checkbox, but other times I've needed the real DOMElement.You can access the raw DOM element with:or more simply:There isn't actually a lot you need this for however (in my experience). Take your checkbox example:is more "jquery'ish" and (imho) more concise. What if you wanted to number them?Some of these features also help mask differences in browsers too. Some attributes can be different. The classic example is AJAX calls. To do this properly in raw Javascript has about 7 fallback cases for XmlHttpRequest.Edit: seems I was wrong in assuming you could not get the element.  As others have posted here, you can get it with:I have verified this actually returns the DOM element that was matched.  I needed to get the element as a string.Which will give you something like:...as a string rather than a DOM element.If you need to interact directly with the DOM element, why not just use document.getElementById since, if you are trying to interact with a specific element you will probably know the id, as assuming that the classname is on only one element or some other option tends to be risky.But, I tend to agree with the others, that in most cases you should learn to do what you need using what jQuery gives you, as it is very flexible.UPDATE: Based on a comment:

Here is a post with a nice explanation: http://www.mail-archive.com/jquery-en@googlegroups.com/msg04461.htmlThis will return the value if it's checked, or 0 if it's not.$(this).val() is just reaching into the dom and getting the attribute "value" of the element, whether or not it's checked.

Which way is best for creating an object in JavaScript? Is `var` necessary before an object property?

Jamna

[Which way is best for creating an object in JavaScript? Is `var` necessary before an object property?](https://stackoverflow.com/questions/6843951/which-way-is-best-for-creating-an-object-in-javascript-is-var-necessary-befor)

So far I saw three ways for creating an object in JavaScript. Which way is best for creating an object and why?I also saw that in all of these examples the keyword var is not used before a property — why? Is it not necessary to declare var before the name of a property as it mentioned that properties are variables?In the second and third way, the name of the object is in upper-case whereas in the first way the name of the object is in lower-case. What case should we use for an object name?

2011-07-27 12:03:18Z

So far I saw three ways for creating an object in JavaScript. Which way is best for creating an object and why?I also saw that in all of these examples the keyword var is not used before a property — why? Is it not necessary to declare var before the name of a property as it mentioned that properties are variables?In the second and third way, the name of the object is in upper-case whereas in the first way the name of the object is in lower-case. What case should we use for an object name?There is no best way, it depends on your use case.Update: As requested examples for the third way.Dependent properties:The following does not work as this does not refer to book. There is no way to initialize a property with values of other properties in a object literal:instead, you could do:Dynamic property names:If the property name is stored in some variable or created through some expression, then you have to use bracket notation:There is various way to define a function. It is totally based upon your requirement. Below are the few styles :-You can try it on console, if you have any confusion.There is no "best way" to create an object.  Each way has benefits depending on your use case.The constructor pattern (a function paired with the new operator to invoke it) provides the possibility of using prototypal inheritance, whereas the other ways don't.  So if you want prototypal inheritance, then a constructor function is a fine way to go.However, if you want prototypal inheritance, you may as well use Object.create, which makes the inheritance more obvious.Creating an object literal (ex: var obj = {foo: "bar"};) works great if you happen to have all the properties you wish to set on hand at creation time.For setting properties later, the NewObject.property1 syntax is generally preferable to NewObject['property1'] if you know the property name.  But the latter is useful when you don't actually have the property's name ahead of time (ex: NewObject[someStringVar]).Hope this helps!I guess it depends on what you want. For simple objects, I guess you could use the second methods. When your objects grow larger and you're planning on using similar objects, I guess the first method would be better. That way you can also extend it using prototypes.Example:I am not a big fan of the third method, but it's really useful for dynamically editing properties, for example var foo='bar'; var bar = someObject[foo];.There are a many ways to create your objects in JavaScript.

Using a constructer function to create an object or object literal notation is using alot in JavaScript. Also creating an instance of Object and then adding properties and methods to it, there are three common ways to do create objects in JavaScript.Constructer functionsThere are built-in constructer functions that we all may use them time to time, like Date(), Number(), Boolean() etc, all constructer functions start with Capital letter, in the meantime we can create custom constructor function in JavaScript like this:and you can invoke it, simply using new(), to create a new instance of the constructor, create something like below and call the constructor function with filled parameters:Object literalsUsing object literals are very used case creating object in JavaScript, this an example of creating a simple object, you can assign anything to your object properties as long as they are defined:PrototypingAfter creating an Object, you can prototype more members to that, for example adding colour to our Box, we can do this:While many people here say there is no best way for object creation, there is a rationale as to why there are so many ways to create objects in JavaScript, as of 2019, and this has to do with the progress of JavaScript over the different iterations of EcmaScript releases dating back to 1997.Prior to ECMAScript 5, there were only two ways of creating objects: the constructor function or the literal notation ( a better alternative to new Object()). With the constructor function notation you create an object that can be instantiated into multiple instances (with the new keyword), while the literal notation delivers a single object, like a singleton.Regardless of the method you use, JavaScript objects are simply properties of key value pairs:In early versions of JavaScript, the only real way to mimic class-based inheritance was to use constructor functions. the constructor function is a special function that is invoked with the 'new' keyword. By convention, the function identifier is capitalized, albiet it is not required. Inside of the constructor, we refer to the 'this' keyword to add properties to the object that the constructor function is implicitly creating. The constructor function implicitly returns the new object with the populated properties back to the calling function implicitly, unless you explicitly use the return keyword and return something else.There is a problem with the sayName method. Typically, in Object-Oriented Class-based programming languages, you use classes as factories to create objects. Each object will have its own instance variables, but it will have a pointer to the methods defined in the class blueprint. Unfortunately, when using JavaScript's constructor function, every time it is called, it will define a new sayName property on the newly created object. So each object will have its own unique sayName property. This will consume more memory resources.In addition to increased memory resources, defining methods inside of the constructor function eliminates the possibility of inheritance. Again, the method will be defined as a property on the newly created object and no other object, so inheritance cannot work like. Hence, JavaScript provides the prototype chain as a form of inheritance, making JavaScript a prototypal language.If you have  a parent and a parent shares many properties of a child, then the child should inherit those properties. Prior to ES5, it was accomplished as follows:The way we utilized the prototype chain above has a quirk. Since the prototype is a live link, by changing the property of one object in the prototype chain, you'd be changing same property of another object as well. Obviously, changing a child's inherited method should not change the parent's method. Object.create resolved this issue by using a polyfill. Thus, with Object.create, you can safely modify a child's property in the prototype chain without affecting the parent's same property in the prototype chain.ECMAScript 5 introduced Object.create to solve the aforementioned bug in the constructor function for object creation. The Object.create() method CREATES a new object, using an existing object as the prototype of the newly created object. Since a new object is created, you no longer have the issue where modifying the child property in the prototype chain will modify the parent's reference to that property in the chain. Prior to ES6, here was a common creational pattern to utilize function constructors and Object.create:  Now Object.create coupled with constructor functions have been widely used for object creation and inheritance in JavaScript. However, ES6 introduced the concept of classes, which are primarily syntactical sugar over JavaScript's existing prototype-based inheritance. The class syntax does not introduce a new object-oriented inheritance model to JavaScript. Thus, JavaScript remains a prototypal language.ES6 classes make inheritance much easier. We no longer have to manually copy the parent class's prototype functions and reset the child class's constructor.All in all, these 5 different strategies of Object Creation in JavaScript coincided the evolution of the EcmaScript standard.In the example above you can see that an empty object actually has properties.Ok first let's see which is the best way:In the example above the log will output false.Now let's see why the other object creation ways are incorrect.As you can see above,all examples log true.Which means if you have a case that you have a for in loop to see if the object has a property will lead you to wrong results probably.Note that the best way it is not easy.You have to define all properties of object line by line.The other ways are more easier and will have less code to create an object but you have to be aware in some cases.

I always use the "other ways" by the way and one solution to above warning if you don't use the best way is: Majorly there are 3 ways of creating Objects-Simplest one is using object literals.Though this method is the simplest but has a disadvantage i.e if your object has behaviour(functions in it),then in future if you want to make any changes to it you would have to change it in all the objects.So in that case it is better to use Factory or Constructor Functions.(anyone that you like)Factory Functions are those functions that return an object.e.g-Constructor Functions are those functions that assign properties to objects using "this" keyword.e.g-

How Many Seconds Between Two Dates?

steven

[How Many Seconds Between Two Dates?](https://stackoverflow.com/questions/2024198/how-many-seconds-between-two-dates)

So I have two dates YYYY-MM-DD and ZZZZ-NN-EEHow can I find out how many seconds there are between them?

2010-01-07 22:35:19Z

So I have two dates YYYY-MM-DD and ZZZZ-NN-EEHow can I find out how many seconds there are between them?I'm taking YYYY & ZZZZ to mean integer values which mean the year, MM & NN to mean integer values meaning the month of the year and DD & EE as integer values meaning the day of the month. A handy source for future reference is the MDN siteAlternatively, if your dates come in a format javascript can parseand then you can use that value as the difference in milliseconds (dif in both my examples has the same meaning)Just subtract: If one or both of your dates are in the future, then I'm afraid you're SOL if you want to-the-second accuracy.  UTC time has leap seconds that aren't known until about 6 months before they happen, so any dates further out than that can be inaccurate by some number of seconds (and in practice, since people don't update their machines that often, you may find that any time in the future is off by some number of seconds).This gives a good explanation of the theory of designing date/time libraries and why this is so: http://www.boost.org/doc/libs/1_41_0/doc/html/date_time/details.html#date_time.tradeoffsYou can do it simply.create two Date objects and call valueOf() on both, then compare them.JavaScript Date Object ReferenceEasy Way:In bash:It does require having bc and gnu date installed..Net provides the TimeSpan class to do the math for you.

Should I use window.navigate or document.location in JavaScript?

dthrasher

[Should I use window.navigate or document.location in JavaScript?](https://stackoverflow.com/questions/948227/should-i-use-window-navigate-or-document-location-in-javascript)

What's the preferred method to use to change the location of the current web page using JavaScript? I've seen both window.navigate and document.location used. Are there any differences in behavior? Are there differences in browser implementations? 

2009-06-04 01:47:15Z

What's the preferred method to use to change the location of the current web page using JavaScript? I've seen both window.navigate and document.location used. Are there any differences in behavior? Are there differences in browser implementations? is the standard implementation for changing the current window's location.document.location is a (deprecated but still present) read-only string property, replaced by document.url.window.location also affects to the frame, the best form i found is:And the worse is:I did a massive browser test, and some rare IE with several plugins get undefined with the second form.window.location will affect to your browser target.

document.location will only affect to your browser and frame/iframe.window.navigate is NOT supported in some browsers, so that one should be avoided. Any of the other methods using the location property are the most reliable and consistent approachI'd go with window.location = "http://...";. I've been coding cross-browser JavaScript for a few years, and I've never experienced problems using this approach.window.navigate and window.location.href seems a bit odd to me.There really isn't a difference; there are about 5 different methods of doing it. However, the ones I see most often are document.location and window.location because they're supported by all major browsers. (I've personally never seen window.navigate used in production code, so maybe it doesn't have very good support?)support for document.location is also good though its a deprecated method.

I've been using this method for a while with no problems.

you can refer here for more details:https://developer.mozilla.org/en-US/docs/Web/API/document.location You can move your page using

Do HTML5 custom data attributes「work」in IE 6?

Paul D. Waite

[Do HTML5 custom data attributes「work」in IE 6?](https://stackoverflow.com/questions/2412947/do-html5-custom-data-attributes-work-in-ie-6)

Custom data attributes: http://dev.w3.org/html5/spec/Overview.html#embedding-custom-non-visible-dataWhen I say「work」, I mean, if I’ve got HTML like this:will the following JavaScript:produce, in IE 6, an alert with「geoff de geoff」in it?

2010-03-09 22:09:31Z

Custom data attributes: http://dev.w3.org/html5/spec/Overview.html#embedding-custom-non-visible-dataWhen I say「work」, I mean, if I’ve got HTML like this:will the following JavaScript:produce, in IE 6, an alert with「geoff de geoff」in it?You can retrieve values of custom (or your own) attributes using getAttribute. Following your example withI can get the value of data-geoff usingSee MSDN. And although it is mentioned there that you need IE7 to get this to work, I tested this a while ago with IE6 and it functioned correctly (even in quirks mode).But this has nothing to do with HTML5-specific attributes, of course.Yes, they work.IE has supported getAttribute() from IE4 which is what jQuery uses internally for data().So you can either use jQuery's .data() method or plain vanilla JavaScript:Sample HTMLJavascriptjQueryNot only does IE6 not support the HTML5 Data Attribute feature, in fact virtually no current browser supports them! The only exception at the moment is Chrome.You are perfectly at liberty to use data-geoff="geoff de geoff" as an attribute, but only Chrome of the current browser versions will give you the .dataGeoff property.Fortunately, all current browsers - including IE6 - can reference unknown attributes using the standard DOM .getAttribute() method, so .getAttribute("data-geoff") will work everywhere.In the very near future, new versions of Firefox and Safari will start to support the data attributes, but given that there's a perfectly good way of accessessing it that works in all browsers, then there's really no reason to be using the HTML5 method that will only work for some of your visitors.You can see more about the current state of support for this feature at CanIUse.com.Hope that helps.I think IE has always supported this (at least starting from IE4) and you can access them from JS. They were called 'expando properties'. See old MSDN articleThis behaviour can be disabled by setting the expando property to false on a DOM element (it's true by default, so the expando properties work by default).Edit: fixed the URLIf you wanted to retrieve all of the custom data attributes at once like the dataset property in newer browsers, you could do the following. This is what I did and works great for me in ie7+.In IE6, it may not work. For reference: MSDNI suggest using jQuery to handle most of the cases:Try this in your coding.

How to get the value of an input field using ReactJS?

JoeTidee

[How to get the value of an input field using ReactJS?](https://stackoverflow.com/questions/36683770/how-to-get-the-value-of-an-input-field-using-reactjs)

I have the following React component:The console is giving me undefined - any ideas what's wrong with this code?

2016-04-18 00:34:08Z

I have the following React component:The console is giving me undefined - any ideas what's wrong with this code?You should use constructor under the class MyComponent extends React.ComponentThen you will get the result of titleThere are three answers here, depending on the version of React you're (forced to) work(ing) with, and whether you want to use hooks.It's important to understand how React works, so you can do things properly (protip: it's is super worth running through the React tutorial exercise on the React website. It's well written, and covers all the basics in a way that actually explains how to do things). "Properly" here means that you're writing an application interface that happens to be rendered in a browser; all the interface work happens in React, not in "what you're used to if you're writing a web page" (this is why React apps are "apps", not "web pages").React applications are rendered based off of two things:What you're expressly not doing when you use React is generating HTML elements and then using those: when you tell React to use an <input>, for instance, you are not creating an HTML input element, you are telling React to create a React input object that happens to render as an HTML input element, and whose event handling looks at, but is not controlled by, the HTML element's input events. When using React, what you're doing is generating application UI elements that present the user with (often manipulable) data, with user interaction changing the Component's state, which may cause a rerender of part of your application interface to reflect the new state. In this model, the state is always the final authority, not "whatever UI library is used to render it", which on the web is the browser's DOM. The DOM is almost an afterthought in this programming model: it's just the particular UI framework that React happens to be using.So in the case of an input element, the logic is:All of that happens in a matter of milliseconds, if not less, so it looks like you typed into the input element in the same way you're used to from "just using an input element on a page", but that's absolutely not what happened.So, with that said, on to how to get values from elements in React:To do things properly, your component has a state value, which is shown via an input field, and we can update it by making that UI element send change events back into the component:So we tell React to use the updateInputValue function to handle the user interaction, use setState to schedule the state update, and the fact that render taps into this.state.inputValue means that when it rerenders after updating the state, the user will see the update text based on what they typed.addendum based on commentsGiven that UI inputs represent state values (consider what happens if a user closes their tab midway, and the tab is restored. Should all those values they filled in be restored? If so, that's state). That might make you feel like a large form needs tens or even a hundred input forms, but React is about modeling your UI in a maintainable way: you do not have 100 independent input fields, you have groups of related inputs, so you capture each group in a component and then build up your "master" form as a collection of groups.This is also much easier to maintain than a giant single form component. Split up groups into Components with state maintenance, where each component is only responsible for tracking a few input fields at a time.You may also feel like it's "a hassle" to write out all that code, but that's a false saving: developers-who-are-not-you, including future you, actually benefit greatly from seeing all those inputs hooked up explicitly, because it makes code paths much easier to trace. However, you can always optimize. For instance, you can write a state linkerOf course, there are improved versions of this, so hit up https://npmjs.com and search for a React state linking solution that you like best. Open Source is mostly about finding what others have already done, and using that instead of writing everything yourself from scratch.As of React 16 (and soft-starting with 15.5) the createClass call is no longer supported, and class syntax needs to be used. This changes two things: the obvious class syntax, but also the thiscontext binding that createClass can do "for free", so to ensure things still work make sure you're using "fat arrow" notation for this context preserving anonymous functions in onWhatever handlers, such as the onChange we use in the code here:You may also have seen people use bind in their constructor for all their event handling functions, like this:Don't do that.Almost any time you're using bind, the proverbial "you're doing it wrong" applies. Your class already defines the prototype, and so as programming model already defines the instance context. Don't put bind of top of that an use normal event forwarding instead of duplicating all your function calls in the constructor. Now you've increased your bug surface, and made it much harder to trace errors because the problem might be in your constructor instead of where you call your code. In addition of placing a burden of maintenance on others you (have or choose) to work with.Yes, I know the react docs say it's fine. It's not, don't do it. As of React 16.8 the function component (i.e. literally just a function that takes some props as argument can be used as if it's an instance of a component class, without ever writing a class) can also be given state, through the use of hooks.If you don't need full class code, and a single instance function will do, then you can now use the useState hook to get yourself a single state variable, and its update function, which works roughly the same as the above examples, except without the setState function call:Previously the unofficial distinction between classes and function components was "function components don't have state", so we can't hide behind that one anymore: the difference between function components and classes components can be found spread over several pages in the very well-written react documentation (no shortcut one liner explanation to conveniently misinterpret for you!) which you should read so that you know what you're doing and can thus know whether you picked the best (whatever that means for you) solution to program yourself out of a problem you're having.Managed to get the input field value by doing something like this:In react 16, I useI succeeded in doing this by binding the "this" to the function 

updateInputValue(evt) with this.updateInputValue = this.updateInputValue.bind(this);However input value={this.state.inputValue} ...

turned out to be no good idea. Here's the full code in babel ES6 : your error is because of you use class and when use class we need to bind the functions with This in order to work well. anyway there are a lot of tutorial why we should "this" and what is "this" do in javascript.if you correct your submit button it should be work:and also if you want to show value of that input in console you should use var title = this.title.value;You can get an input value without adding 'onChange' function.Just add to the input element a 'ref attr:And then use this.refs to get the input value when you need it.Change your ref into: ref='title' and delete name='title'

Then delete var title = this.title and write:Also you should add .bind(this) to this.onSubmit(It worked in my case which was quite similar, but instead of onClick I had onSubmit={...} and it was put in form ( <form onSubmit={...} ></form>))

How can I determine the type of an HTML element in JavaScript?

AdamTheHutt

[How can I determine the type of an HTML element in JavaScript?](https://stackoverflow.com/questions/254302/how-can-i-determine-the-type-of-an-html-element-in-javascript)

I need a way to determine the type of an HTML element in JavaScript. It has the ID, but the element itself could be a <div>, a <form> field, a <fieldset>, etc. How can I achieve this?

2008-10-31 17:29:22Z

I need a way to determine the type of an HTML element in JavaScript. It has the ID, but the element itself could be a <div>, a <form> field, a <fieldset>, etc. How can I achieve this?nodeName is the attribute you are looking for. For example:Note that nodeName returns the element name capitalized and without the angle brackets, which means that if you want to check if an element is an <div> element you could do it as follows:While this would not give you the expected results:What about element.tagName?See also tagName docs on MDN.Sometimes you want element.constructor.nameYou can use generic code inspection via instanceof:Look here for a complete list of interfaces.

Converting string「true」/「false」to boolean value [duplicate]

user160820

[Converting string「true」/「false」to boolean value [duplicate]](https://stackoverflow.com/questions/3976714/converting-string-true-false-to-boolean-value)

I have a JavaScript string containing "true" or "false".How may I convert it to boolean without using the eval function?

2010-10-20 10:09:23Z

I have a JavaScript string containing "true" or "false".How may I convert it to boolean without using the eval function?You could simply have: var result = (str == "true").If you're using the variable result:

Angular: Can't find Promise, Map, Set and Iterator

Stav Alfi

[Angular: Can't find Promise, Map, Set and Iterator](https://stackoverflow.com/questions/35660498/angular-cant-find-promise-map-set-and-iterator)

After installing Angular, the Typescript compiler keep getting some errors about not finding Promise, Map, Set and Iterator.Until now I ignored them but now I need Promise so my code can work.The errors:

2016-02-26 19:52:33Z

After installing Angular, the Typescript compiler keep getting some errors about not finding Promise, Map, Set and Iterator.Until now I ignored them but now I need Promise so my code can work.The errors:This should also work the same with earlier versions of Angular 2+.To get this to work with typescript 2.0.0, I did the following.npm install --save-dev @types/core-jstsconfig.jsonMore about @types with typescript 2.0.0.Install Example:Duplicate Identifier errorsThis is most likely because duplicate ecmascript 6 typings are already being imported from somewhere else most likely an old es6-shim. Double check typings.d.ts make sure there are no references to es6. Remove any reference to es6 from your typings directory if you have one. For Example:This will conflict with types:['core-js'] in typings.json.Including core-js in the types array in tsconfig.json should be the only place it is imported from. Angular CLI 1.0.0-beta.30If you are using the Angular-CLI, remove the lib array in typings.json. This seems to conflict with declaring core-js in types.Webstorm/Intellij Users using the Angular CLIMake sure the built in typescript compiler is disabled. This will conflict with the CLI. To compile your typescript with the CLI you can setup a ng serve configuration.Tsconfig compilerOptions lib vs typesIf you prefer not to install core js type definitions there are some es6 libraries that come included with typescript. Those are used via the lib: [] property in tsconfig. See here for example: https://www.typescriptlang.org/docs/handbook/compiler-options.htmltl;dr Short answer either "lib": [ "es6", "dom" ] or "types": ["core-js"] can be used to resolve can't find Promise,Map, Set and Iterator. Using both however will cause duplicate identifier errors.I also have the same problem--"Promise not found"--when the code wants to create a Promise object.Tried some solution found on stackoverflow, including the one to take out  System.config({ ... }) to form system.js and have it included in index.html.Finally I solved the problem. The issue is that, in index.html, es6-shim.min.js is included. However, in tsconfig.json, the "target" property under "compilerOptions" has the value of "es5". After I changed it to "es6", error is gone.Per update es6-shim isn't supported now, if you have both typings installed together es6-shim & core-js together. Remove es6-shim typing by mentioning in tsconfig.json. You could now refer below core-js typing for es5 support inside main.tstsconfig.jsonYou just need to set "target" property to es6, then all will error go away. And the transpiled code will be in es6 format.TLDR;For the readers:tsconfig.json:Keep in mind uglifyjs does not support es6 at the moment.  This could affect you making production bundles.tsconfig.json:Install typings, then install es6-shim:If you go this route, you need to make sure that the typescript compiler can find the .d.ts file.  You have two options:a. Make sure your tsconfig.json is at the same level as the typings folder.b. Include a reference in your main.ts file where your angular2 application is bootstrapped.Note: DO NOT use the exclude flag to exclude typings folder.As shown in other answers, this file is no longer included by Angularmain.ts:When having Typescript >= 2 the "lib" option in tsconfig.json will do the job. No need for Typings. https://www.typescriptlang.org/docs/handbook/compiler-options.htmlThis is what worked for me.check if there exists a typings.json file, Install typings package globally.after installing typings, runthen restart the server.I had similar issue where it was not recognizing Promise.resolve() method. I changed "target" value from ES5 to ES6 in tsconfig.json. That solved the problem.Hope this helps.Since Angular 2 went to RC 0, /angular2/typings/browser.d.ts is no longer part of the Angular 2 distribution. The file can be installed separately. From here:

https://github.com/angular/angular/issues/8513 there are a few options. The one that worked for me was:If using Angular2 RC1 with typings v1.0+ use the command:to install the core-js definition and then reference your global index in your main.ts:If using es6-shim or some other shim library, install typings for that insteadRefer to https://github.com/typings/typings/issues/517I managed to fix this issue without having to add any triple-slash reference to the TS bootstrap file, change to ES6 (which brings a bunch of issues, just as @DatBoi said) update VS2015's NodeJS and/or NPM bundled builds or install typings globally.Here's what I did in few steps:Here's how the package.json file should look like (relevant lines only):And here's the typings.json file:(Jasmine and Node are not required, but I suggest to keep them in case you'll need to in the future).This fix is working fine with Angular2 RC1 to RC4, which is what I needed, but I think it will also fix similar issues with other ES6-enabled library packages as well.AFAIK, I think this is the cleanest possible way of fixing it without messing up the VS2015 default settings.For more info and a detailed analysis of the issue, I also suggest to read this post on my blog.I noticed these problems showing up after upgrading from Angular 5 to Angular 6. I was able to fix this by doing the following in VS2017:tsconfig.json:I had a same problem when creating a promise object inside my class.

By changing target name to "es5" from "es6" solved my issue.Another Possible solution is to reinstall typings:

This works for me for "angular2": "2.0.0-beta.15"  Another good solution.

You need create a file typings.json in root directory of project with content:Then install global or local typings package, if it not installed (i am install it global):In project root directory run command:After that problem is solved. Not needed to change tsconfig target to es6 or es7. Your web application do not support after that some old version of browsers.If you came here because you see these errors in Visual Studio 2017 then you have a different problem as above, if you succeed in compiling. This is because the language service doesn't pick your tsconfig.json.https://developercommunity.visualstudio.com/content/problem/208941/vs-156-ignores-tsconfigjson-and-typescriptcompileb.htmlYou have to set the Build Action of your tsconfig.json to "Content"(Right click -> Properties), then VS will pick it up.I found the reference in boot.ts wasn't the correct path. Updating that path to /// <reference path=">../../../node_modules/angular2/typings/browser.d.ts" /> resolved the Promise errors.I am training with a angular2 tutorial(hero).

After installing @types/core-js commented in theses answers, I got a "Duplicate identifier" error.

In my case, it was solved as removing lib line in tsconfig.json.my file structure is as below:paste the below into the top of your app.ts and your problem solvedI got the same issue, and able to find it in github https://github.com/angular/angular-cli/issues/1901, which state that it was an issue with typescript@2.0.2.Downgrade typescript to 2.0.0 both globally and locally helped me to resolve it.Globally:Locally: GO into the project folder you created by ng newI also changed the version of typescript within package.json from ^2.0.0 to 2.0.0, but it didn't work until I downgrade the local typescript installation.

How can I check if a checkbox is checked?

Steaphann

[How can I check if a checkbox is checked?](https://stackoverflow.com/questions/9887360/how-can-i-check-if-a-checkbox-is-checked)

I am building a mobile web app with jQuery Mobile and I want to check if a checkbox is checked. Here is my code.But for some reason or another it doesn't execute it.Please help !----EDIT-----

This is what I have for the moment.----EDIT--Solved it, the problem was that the fieldcontain was also named 'remember'

2012-03-27 10:04:11Z

I am building a mobile web app with jQuery Mobile and I want to check if a checkbox is checked. Here is my code.But for some reason or another it doesn't execute it.Please help !----EDIT-----

This is what I have for the moment.----EDIT--Solved it, the problem was that the fieldcontain was also named 'remember'checked is boolean property so you can directly use it in IF condition:-Try this:Your script doesn't know what the variable remember is. You need to get the element first using getElementById().This should allow you to check if element with id='remember' is 'checked'If you are using this form for mobile app then you may use the required attribute html5. 

you dont want to use any java script validation for this. It should workuse like thisI am using this and it works for me with Jquery:Jquery:Is very simple, but work's.Regards!remember is undefined … and the checked property is a boolean not a number.Use this below simple code:

https://jsfiddle.net/Divyesh_Patel/v7a4h3kr/7/You can try this:Use this below simple code:

https://jsfiddle.net/Divyesh_Patel/v7a4h3kr/7/Try ThisYou can also use JQuery methods to accomplish this:

Using `window.location.hash.includes` throws「Object doesn't support property or method 'includes'」in IE11

Erik Grosskurth

[Using `window.location.hash.includes` throws「Object doesn't support property or method 'includes'」in IE11](https://stackoverflow.com/questions/31119300/using-window-location-hash-includes-throws-object-doesnt-support-property-or)

I am checking the URL to see if it contains or includes a ? in it to control the hash pop state in the window. All other browsers aren’t having an issue, only IE.The debugger gives me this error when I try to load in this way:I get no error when I load the page in through the popstate.

2015-06-29 15:12:39Z

I am checking the URL to see if it contains or includes a ? in it to control the hash pop state in the window. All other browsers aren’t having an issue, only IE.The debugger gives me this error when I try to load in this way:I get no error when I load the page in through the popstate.According to the MDN reference page, includes is not supported on Internet Explorer. The simplest alternative is to use indexOf, like this:IE11 does implement String.prototype.includes so why not using the official  Polyfill?Source: polyfill sourceAdding import 'core-js/es7/array'; to my polyfill.ts fixed the issue for me.I had a similar issue with an Angular project. In my polyfills.ts I had to add both: In addition to enabling all the other IE 11 defaults. (See comments in polyfills.ts if using angular)After adding these imports the error went away and my Object data populated as intended.As in Internet Explorer, the javascript method "includes" doesn't support which is leading to the error as belowdijit.form.FilteringSelect TypeError: Object doesn't support property or method 'includes'So I have changed the JavaScript string method from "includes" to "indexOf" as belowI've used includes from Lodash which is really similar to the native.I'm using ReactJs and used import 'core-js/es6/string'; at the start of index.js to solve my problem. I'm also using import 'react-app-polyfill/ie11'; to support running React in IE11.https://github.com/facebook/create-react-app/blob/master/packages/react-app-polyfill/README.mdThis question and its answers led me to my own solution (with help from SO), though some say you shouldn't tamper with native prototypes:Then I just replaced all .includes() with .doesInclude() and my problem was solved.

How to determine if object is in array [duplicate]

Caspar Kleijne

[How to determine if object is in array [duplicate]](https://stackoverflow.com/questions/4587061/how-to-determine-if-object-is-in-array)

I need to determine if an object already exists in an array in javascript.eg (dummycode):now the "carBrands" array contains all instances. 

I'm now looking a fast solution to check if an instance of car1, car2, car3 or car4 is already in the carBrands array.eg:car1 and car4 contain the same data but are different instances they should be     tested as not equal.Do I have add something like a hash to the objects on creation? Or is there a faster way to do this in Javascript.I am looking for the fastest solution here, if dirty, so it has to be ;) In my app it has to deal with around 10000 instances.no jquery

2011-01-03 18:16:35Z

I need to determine if an object already exists in an array in javascript.eg (dummycode):now the "carBrands" array contains all instances. 

I'm now looking a fast solution to check if an instance of car1, car2, car3 or car4 is already in the carBrands array.eg:car1 and car4 contain the same data but are different instances they should be     tested as not equal.Do I have add something like a hash to the objects on creation? Or is there a faster way to do this in Javascript.I am looking for the fastest solution here, if dirty, so it has to be ;) In my app it has to deal with around 10000 instances.no jqueryUse something like this:In this case, containsObject(car4, carBrands) is true.  Remove the carBrands.push(car4); call and it will return false instead.  If you later expand to using objects to store these other car objects instead of using arrays, you could use something like this instead:This approach will work for arrays too, but when used on arrays it will be a tad slower than the first option.Why don't you use the indexOf method of javascript arrays?Check this out: MDN indexOf ArraysSimply do:It will return you the index (position in the array) of car1. It will return -1 if car1 was not found in the array.http://jsfiddle.net/Fraximus/r154cd9oEdit: Note that in the question, the requirements are to check for the same object referenced in the array, and NOT a new object. Even if the new object is identical in content to the object in the array, it is still a different object.

As mentioned in the comments, objects are passed by reference in JS and the same object can exist multiple times in multiple structures.

If you want to create a new object and check if the array contains objects identical to your new one, this answer won't work (Julien's fiddle below), if you want to check for that same object's existence in the array, then this answer will work. Check out the fiddles here and in the comments.You could use jQuery's grep method:But as you specify no jQuery, you could just make a derivative of the function. From the source code:Having been recently bitten by the FP bug reading many wonderful accounts of how neatly the functional paradigm fits with Javascript I replicate the code for completeness sake and suggest two ways this can be done functionally.If you need to support older browsers use the polyfill, it seems IE9+ and Edge do NOT support it. Located in polyfill section of MSDN pageAlternatively I would like to propose an updated answer to cdhowie try Array.prototype.some()MDN Array.prototype.someYou can just use the equality operator: ==. Objects are checked by reference by default, so you don't even need to use the === operator.try this, just make sure you're using the correct variable reference in the place of car1:Edit to add:An array extension was mentioned, so here's the code for it:Note that I'm caching the length value, as the Array's length property is actually an accessor, which is marginally slower than an internal variable.I used underscore javascript library to tweak this issue.please refer to underscore.js documentation for the underscore functions used in the above example.note: This is not a pure javascript solution. Shared for educational purposes.I would use a generic iterator of property/value over the array. No jQuery required.You could try sorting the array based on a property, like so:Then you can use an iterative routine to check whetheris greater or lesser than the target, and so on, which will let you go through the array quickly to find whether the object exists or not.i know this is an old post, but i wanted to provide a JQuery plugin version and my code.usage:This function is to check for a unique field.

Arg 1: the array with selected data

Arg 2: key to check

Arg 3: value that must be "validated"

How to calculate date difference in JavaScript?

Farhan Siddiqui

[How to calculate date difference in JavaScript?](https://stackoverflow.com/questions/7763327/how-to-calculate-date-difference-in-javascript)

I want to calculate date difference in days, hours, minutes, seconds, milliseconds, nanoseconds. How can I do it?

2011-10-14 05:12:56Z

I want to calculate date difference in days, hours, minutes, seconds, milliseconds, nanoseconds. How can I do it?Assuming you have two Date objects, you can just subtract them to get the difference in milliseconds:From there, you can use simple arithmetic to derive the other values.Code sample taken from here.Another solution is convert difference to a new Date object and get that date's year(diff from 1970), month, day etc.So difference is like "3 years and 6 months and 4 days". If you want to take difference in a human readable style, that can help you.Expressions like "difference in days" are never as simple as they seem. If you have the following dates:the difference in time is 2 minutes, should the "difference in days" be 1 or 0? Similar issues arise for any expression of the difference in months, years or whatever since years, months and days are of different lengths and different times (e.g. the day that daylight saving starts is 1 hour shorter than usual and two hours shorter than the day that it ends).Here is a function for a difference in days that ignores the time, i.e. for the above dates it returns 1.This can be more concise:use Moment.js for all your JavaScript related date-time calculationAnswer to your question is:Complete details can be found hereWith momentjs it's simple:Sorry but flat millisecond calculation is not reliable

Thanks for all the responses, but few of the functions I tried are failing either on 

1. A date near today's date 

2. A date in 1970 or 

3. A date in a leap year. Approach that best worked for me and covers all scenario e.g. leap year, near date in 1970, feb 29 etc.If you are using moment.js then it is pretty simple to find date difference.This is how you can implement difference between dates without a framework.I think this should do it.

Is there a native jQuery function to switch elements?

juan

[Is there a native jQuery function to switch elements?](https://stackoverflow.com/questions/698301/is-there-a-native-jquery-function-to-switch-elements)

Can I easily swap two elements with jQuery?I'm looking to do this with one line if possible.I have a select element and I have two buttons to move up or down the options, and I already have the selected and the destination selectors in place, I do it with an if, but I was wondering if there is an easier way.

2009-03-30 17:57:08Z

Can I easily swap two elements with jQuery?I'm looking to do this with one line if possible.I have a select element and I have two buttons to move up or down the options, and I already have the selected and the destination selectors in place, I do it with an if, but I was wondering if there is an easier way.I've found an interesting way to solve this using only jQuery:or :)Paulo's right, but I'm not sure why he's cloning the elements concerned. This isn't really necessary and will lose any references or event listeners associated with the elements and their descendants.Here's a non-cloning version using plain DOM methods (since jQuery doesn't really have any special functions to make this particular operation easier):No, there isn't, but you could whip one up:Usage:Note this only works if the selectors only match 1 element each, otherwise it could give weird results.There are a lot of edge cases to this problem, which are not handled by the accepted answer or bobince's answer. Other solutions that involve cloning are on the right track, but cloning is expensive and unnecessary. We're tempted to clone, because of the age-old problem of how to swap two variables, in which one of the steps is to assign one of the variables to a temporary variable. The assignment, (cloning), in this case is not needed. Here is a jQuery-based solution:Many of these answers are simply wrong for the general case, others are unnecessarily complicated if they in fact even work.  The jQuery .before and .after methods do most of what you want to do, but you need a 3rd element the way many swap algorithms work.  It's pretty simple - make a temporary DOM element as a placeholder while you move things around.  There is no need to look at parents or siblings, and certainly no need to clone...1) put the temporary div temp before this 2) move this before that3) move that after temp3b) remove tempThen simplyDEMO: http://codepen.io/anon/pen/akYajEYou shouldn't need two clones, one will do. Taking Paolo Bergantino answer we have:Should be quicker. Passing in the smaller of the two elements should also speed things up.I used a technique like this before. I use it for the connector list on http://mybackupbox.com I've made a function which allows you to move multiple selected options up or downDependencies:First it checks whether the first/last selected option is able to move up/down.

Then it loops through all the elements and callsan other one without cloning:I have an actual and a nominal element to swap:then insert <div> before and the remove afterwards are only needed, if you cant ensure, that there is always an element befor (in my case it is)take a look at jQuery plugin "Swapable"http://code.google.com/p/jquery-swapable/it's built on "Sortable" and looks like sortable (drag-n-drop, placeholder, etc.) but  only swap two elements: dragged and dropped. All other elements are not affected and stay on their current position. This is an answer based on @lotif's answer logic, but bit more generalizedIf you append/prepend after/before the elements are actually moved

=> no clonning needed

=> events kept  This code could be done even shorter, but I kept it this way for readability. Note that prestoring parents (if needed) and previous elements is mandatory....feel free to wrap the inner code in a function :)Example fiddle has extra click events attached to demonstrate event preservation...

Example fiddle: https://jsfiddle.net/ewroodqa/ ...will work for various cases - even one such as:This is my solution to move multiple children elements up and down inside the parent element.

Works well for moving selected options in listbox (<select multiple></select>)Move up:Move down:If you're wanting to swap two items selected in the jQuery object, you can use this method http://www.vertstudios.com/blog/swap-jquery-plugin/I wanted a solution witch does not use clone() as it has side effect with attached events, here is what I ended up to doit must not be used with jQuery objects containing more than one DOM elementIf you have multiple copies of each element you need to do something in a loop naturally.   I had this situation recently.  The two repeating elements I needed to switch had classes and a container div as so:The following code allowed me to iterate through everything and reverse...I have done it with this snippetI did a table for changing order of obj in database used .after() .before(), so this is from what i have experiment.Is insert obj1 before obj2 anddo the vice versa.So if obj1 is after obj3 and obj2 after of obj4, and if you want to change place obj1 and obj2 you will do it likeThis should do it

BTW you can use .prev() and .next() to find obj3 and obj4 if you didn't have some kind of index for it already.if nodeA and nodeB are siblings, likes two <tr> in the same <tbody>, you can just use $(trA).insertAfter($(trB)) or $(trA).insertBefore($(trB)) to swap them, it works for me. and you don't need to call $(trA).remove() before, else you need to re-bind some click events on $(trA)The best option is to clone them with clone() method.I think you can do it very simple. For example let's say you have next structure:

...and the result should be jquery:I hope it helps!

How to convert a string of numbers to an array of numbers?

Ashwin

[How to convert a string of numbers to an array of numbers?](https://stackoverflow.com/questions/15677869/how-to-convert-a-string-of-numbers-to-an-array-of-numbers)

I have below string -when I do -I get b as ["1", "2", "3", "4"]can I do something to get b as [1, 2, 3, 4] ?

2013-03-28 09:08:40Z

I have below string -when I do -I get b as ["1", "2", "3", "4"]can I do something to get b as [1, 2, 3, 4] ?My 2 cents for golfers:You can use Array.map to convert each element into a number.Check the DocsOr more elegantly as pointed out by User: thg435Where Number() would do the rest:check hereNote: For older browsers that don't support map, you can add an implementation yourself like:Map it to integers:map looks at every array item, passes it to the function provided and returns an array with the return values of that function. map isn't available in old browsers, but most libraries like jQuery or underscore include a cross-browser version.Or, if you prefer loops:+string will try to change the string to a number. Then use Array.map function to change every element.A more shorter solution: map and pass the arguments to Number:Array.from() for details go to MDNb is an array of numbersAs a variant you can use combiantion _.map and _.ary methods from the lodash library. Whole transformation will be a more compact. Here is example from the official documentation:There's no need to use lambdas and/or give radix parameter to parseInt, just use parseFloat or Number instead.Reasons:Notice: In Firefox parseInt works about 4 times faster, but still slower than others. In total: +e < Number < parseFloat < parseIntThe underscore js way - Matt Zeunert's version with use arraw function (ES6)Since all the answers allow NaN to be included, I thought I'd add that if you want to quickly cast an array of mixed values to numbers you can do.

How can I check if a var is a string in JavaScript?

vitto

[How can I check if a var is a string in JavaScript?](https://stackoverflow.com/questions/6286542/how-can-i-check-if-a-var-is-a-string-in-javascript)

How can I check if a var is a string in JavaScript?I've tried this and it doesn't work...

2011-06-08 23:42:11Z

How can I check if a var is a string in JavaScript?I've tried this and it doesn't work...You were close:On a related note: the above check won't work if a string is created with new String('hello') as the type will be Object instead. There are complicated solutions to work around this, but it's better to just avoid creating strings  that way, ever.The typeof operator isn't an infix (so the LHS of your example doesn't make sense).You need to use it like so...Remember, typeof is an operator, not a function. Despite this, you will see typeof(var) being used a lot in the wild. This makes as much sense as var a = 4 + (1).Also, you may as well use == (equality comparison operator) since both operands are Strings (typeof always returns a String), JavaScript is defined to perform the same steps had I used === (strict comparison operator).As Box9 mentions, this won't detect a instantiated String object. You can detect for that with....jsFiddle....or...jsFiddle.But this won't work in a multi window environment (think iframes).You can get around this with...jsFiddle.But again, (as Box9 mentions), you are better off just using the literal String format, e.g. var str = 'I am a string';.Further Reading.Combining the previous answers provides these solutions:or Following expression returns true:Following expression returns true:Following expression returns false (sic!):Following expression returns true:Best and right way (imho):Now days I believe it's preferred to use a function form of typeof() so...check for null or undefined in all cases a_stringMy personal approach, which seems to work for all cases, is testing for the presence of members that will all only be present for strings.See: http://jsfiddle.net/x75uy0o6/I'd like to know if this method has flaws, but it has served me well for years.

JavaScript - Get Portion of URL Path

BuddyJoe

[JavaScript - Get Portion of URL Path](https://stackoverflow.com/questions/6944744/javascript-get-portion-of-url-path)

What is the correct way to pull out just the path from a URL using JavaScript?Example:

I have URL

http://www.somedomain.com/account/search?filter=a#top

but I would just like to get this portion

/account/searchI am using jQuery if there is anything there that can be leveraged.

2011-08-04 16:04:34Z

What is the correct way to pull out just the path from a URL using JavaScript?Example:

I have URL

http://www.somedomain.com/account/search?filter=a#top

but I would just like to get this portion

/account/searchI am using jQuery if there is anything there that can be leveraged.There is a property of the built-in window.location object that will provide that for the current window.It turns out that this schema is being standardized as an interface called URLUtils, and guess what?  Both the existing window.location object and anchor elements implement the interface.So you can use the same properties above for any URL — just create an anchor with the URL and access the properties:[1]: Browser support for the properties that include port is not consistent, See: http://jessepollak.me/chrome-was-wrong-ie-was-rightThis works in the latest versions of Chrome and Firefox. I do not have versions of Internet Explorer to test, so please test yourself with the JSFiddle example.There's also a coming URL object that will offer this support for URLs themselves, without the anchor element.  Looks like no stable browsers support it at this time, but it is said to be coming in Firefox 26.  When you think you might have support for it, try it out here.Will give you an array containing all the URL parts, which you can access like a normal array.Or an ever more elegant solution suggested by @Dylan, with only the path parts:If this is the current url use window.location.pathname otherwise use this regular expression:There is a useful Web API method called URLIn case you want to get parts of an URL that you have stored in a variable, I can recommend URL-ParseAccording to the documentation, it extracts the following parts:If you have an abstract URL string (not from the current window.location), you can use this trick:Thanks to jlong

Capitalize words in string

vsync

[Capitalize words in string](https://stackoverflow.com/questions/2332811/capitalize-words-in-string)

What is the best approach to capitalize words in a string?

2010-02-25 09:12:13Z

What is the best approach to capitalize words in a string?Usage:ADD-ON I find it usefulThe shortest implementation for capitalizing words within a string is the following using ES6's arrow functions: ES5 compatible implementation:The regex basically matches the first letter of each word within the given string and transforms only that letter to uppercase:This regex matches the first letter and every non-whitespace letter preceded by whitespace within the given string and transforms only that letter to uppercase:A non-capturing group could have been used here as follows /(?:^|\s)\S/g though the g flag within our regex wont capture sub-groups by design anyway.Cheers!output: "This Is The Worst String Ever"It appears this solution supersedes mine: https://stackoverflow.com/a/7592235/104380The answer provided by vsync works as long as you don't have accented letters in the input string.I don't know the reason, but apparently the \b in regexp matches also accented letters (tested on IE8 and Chrome), so a string like "località" would be wrongly capitalized converted into "LocalitÀ" (the à letter gets capitalized cause the regexp thinks it's a word boundary)A more general function that works also with accented letters is this one:You can use it like this:Since everyone has given you the JavaScript answer you've asked for, I'll throw in that the CSS property text-transform: capitalize will do exactly this.I realize this might not be what you're asking for - you haven't given us any of the context in which you're running this - but if it's just for presentation, I'd definitely go with the CSS alternative.John Resig (of jQuery fame ) ported a perl script, written by John Gruber, to JavaScript. This script capitalizes in a more intelligent way, it doesn't capitalize small words like 'of' and 'and' for example.  You can find it here: Title Capitalization in JavaScriptUsing JavaScript and htmlBasically, you can do string.capitalize() and it'll capitalize every 1st letter of each word.Source: http://www.mediacollege.com/internet/javascript/text/case-capitalize.htmlA concise ES6 way of doing it might look something like this.This only uppercases the first letter and doesn't affect the rest of the sentence's casing.My solution:Example:This should cover most basic use cases.Edit: Improved readability of mapping.This solution dose not use regex, supports accented characters and also supported by almost every browser.Usage: Output: Ivo's answer is good, but I prefer to not match on \w because there's no need to capitalize 0-9 and A-Z. We can ignore those and only match on a-z.It's the same output, but I think clearer in terms of self-documenting code.http://www.mediacollege.com/internet/javascript/text/case-capitalize.html is one of many answers out there.Google can be all you need for such problems.A naïve approach would be to split the string by whitespace, capitalize the first letter of each element of the resulting array and join it back together. This leaves existing capitalization alone (e.g. HTML stays HTML and doesn't become something silly like Html). If you don't want that affect, turn the entire string into lowercase before splitting it up.This code capitalize words after dot:I like to go with easy process. First Change string into Array for easy iterating, then using map function change each word as you want it to be.Jquery or Javascipt doesn't provide a built-in method to achieve this.CSS test transform (text-transform:capitalize;) doesn't really capitalize the string's data but shows a capitalized rendering on the screen.If you are looking for a more legit way of achieving this in the data level using plain vanillaJS, use this solution =>Use This:You can use the following to capitalize words in a string:

Check if all values of array are equal

Marvin3

[Check if all values of array are equal](https://stackoverflow.com/questions/14832603/check-if-all-values-of-array-are-equal)

I need to find arrays where all values are equal. What's the fastest way to do this? Should I loop through it and just compare values?

2013-02-12 12:29:28Z

I need to find arrays where all values are equal. What's the fastest way to do this? Should I loop through it and just compare values?Or one-liner:Array.prototype.every (from MDN) :

    The every() method tests whether all elements in the array pass the test implemented by the provided function.Edit: Be a Red ninja: Results: Warning:This is because we do not pass an initialValue. So, you may wish to check array.length first.This works. You create a method on Array by using prototype.Call this in this way:In JavaScript 1.6, you can use Array.every:You probably need some sanity checks, e.g. when the array has no elements. (Also, this won't work when all elements are NaN since NaN !== NaN, but that shouldn't be an issue... right?)You can turn the Array into a Set. If the size of the Set is equal to 1, then all elements of the Array are equal. And for performance comparison I also did a benchmark: Results: So apparently using builtin array.some() is the fastest method of the ones sampled. Shortest answer using underscore/lodashspec:edit:Or even shorter, inspired by Tom's answer:spec:If you're already using underscore.js, then here's another option using _.uniq:_.uniq returns a duplicate-free version of the array. If all the values are the same, then the length will be 1.As mentioned in the comments, given that you may expect an empty array to return true, then you should also check for that case:Yes, you can check it also using filter as below, very simple, checking every values are the same as the first one:also can be done using every method on the array:and you can check your arrays like below:Or you can add it to native Array functionalities in JavaScript if you reuse it a lot:and you can check your arrays like below:You can use Array.every if supported:Alternatives approach of a loop could be something like sortOr, if the items are like the question, something dirty like:Also works.You can get this one-liner to do what you want using Array.prototype.every, Object.is, and ES6 arrow functions:I think the simplest way to do this is to create a loop to compare the each value to the next.  As long as there is a break in the "chain" then it would return false.  If the first is equal to the second, the second equal to the third and so on, then we can conclude that all elements of the array are equal to each other.given an array data[], then you can use:You can use this:The function first checks whether the array is empty. If it is it's values are equals..

Otherwise it filter the array and takes all elements which are different from the first one. If there are no such values => the array contains only equal elements otherwise it doesn't.Update new solution: check indexUpdated with ES6:

Use list.every is the fastest way: old version:Underscore's _.isEqual(object, other) function seems to work well for arrays.  The order of items in the array matter when it checks for equality.  See http://underscorejs.org/#isEqual.Its Simple.

Create a function and pass a parameter.

In that function copy the first index into a new variable.

Then Create a for loop and loop through the array.

Inside a loop create an while loop with a condition checking whether the new created variable is equal to all the elements in the loop.

if its equal return true after the for loop completes else return false inside the while loop. The accepted answer worked great but I wanted to add a tiny bit. It didn't work for me to use === because I was comparing arrays of arrays of objects, however throughout my app I've been using the fast-deep-equal package which I highly recommend. With that, my code looks like this: and my data looks like this:Well, this is really not very complicated. I have strong suspicion you didn't even try. What you do is that you pick the first value, save it in the variable, and then, within a for loop, compare all subsequent values with the first one.

I intentionally didn't share any code. Find how for is used and how variables are compared.Simple one line solution, just compare it to an array filled with the first entry.Another interesting way when you use ES6 arrow function syntax: And when you don't want to reuse the variable for array (x): IMO previous poster who used array.every(...) has the cleanest solution.this might work , you can use the comment out code as well that also woks well with the given scenerio.Another way with delimited size and organized list:array1 = [1,2,3];

array2 = [1,2,3];And you are DONE ! Now you can make use of sets to do that easily.In PHP, there is a solution very simple, one line method :(count(array_count_values($array)) == 1)For example :That's all.

HTML text-overflow ellipsis detection

deanoj

[HTML text-overflow ellipsis detection](https://stackoverflow.com/questions/7738117/html-text-overflow-ellipsis-detection)

I have a collection of block elements on a page. They all have the CSS rules white-space, overflow, text-overflow set so that overflowing text is trimmed and an ellipsis is used.However, not all the elements overflow.Is there anyway I can use javascript to detect which elements are overflowing?Thanks.Added: example HTML structure I am working with.The SPAN elements always fit in the cells, they have the ellipsis rule applied. I want to detect when the ellipsis is applied to the text content of the SPAN.

2011-10-12 09:43:26Z

I have a collection of block elements on a page. They all have the CSS rules white-space, overflow, text-overflow set so that overflowing text is trimmed and an ellipsis is used.However, not all the elements overflow.Is there anyway I can use javascript to detect which elements are overflowing?Thanks.Added: example HTML structure I am working with.The SPAN elements always fit in the cells, they have the ellipsis rule applied. I want to detect when the ellipsis is applied to the text content of the SPAN.Once upon a time I needed to do this, and the only cross-browser reliable solution I came across was hack job. I'm not the biggest fan of solutions like this, but it certainly produces the correct result time and time again. The idea is that you clone the element, remove any bounding width, and test if the cloned element is wider than the original. If so, you know it's going to have been truncated.For example, using jQuery:I made a jsFiddle to demonstrate this, http://jsfiddle.net/cgzW8/2/You could even create your own custom pseudo-selector for jQuery:Then use it to find elementsDemo: http://jsfiddle.net/cgzW8/293/Hopefully this helps, hacky as it is. Try this JS function, passing the span element as argument:Adding to italo's answer, you can also do this using jQuery.Also, as Smoky pointed out, you may want to use jQuery outerWidth() instead of width().For those using (or planning to use) the accepted answer from Christian Varga, please be aware of the performance issues.Cloning/manipulating the DOM in such a way causes DOM Reflow (see an explanation on DOM reflow here) which is extremely resource intensive.Using Christian Varga's solution on 100+ elements on a page caused a 4 second reflow delay during which the JS thread is locked. Considering JS is single-threaded this means a significant UX delay to the end user.Italo Borssatto's answer should be the accepted one, it was approximately 10 times quicker during my profiling.The simplest (and cross-browser) solution is actually comparing scrollWidth with clientWidthWorking code here : https://stackoverflow.com/a/19156627/1213445elem.offsetWdith VS ele.scrollWidth

This work for me! 

https://jsfiddle.net/gustavojuan/210to9p1/This sample show tooltip on cell table with text truncated. Is dynamic based on table width:Demo: https://jsfiddle.net/t4qs3tqs/It works on all version of jQueryAnswer from italo is very good! However let me refine it a little:If, in fact, you try the above code and use console.log to print out the values of e.offsetWidth and e.scrollWidth, you will notice, on IE, that, even when you have no text truncation, a value difference of 1px or 2px is experienced.So, depending on the font size you use, allow a certain tolerance!I think the better way to detect it is use getClientRects(), it seems each rect has the same height, so we can caculate lines number with the number of different top value.getClientRects work like thisgetRowRects work like thisyou can detect like thisAll the solutions did not really work for me, what did work was compare the elements scrollWidth to the scrollWidth of its parent (or child, depending on which element has the trigger).When the child's scrollWidth is higher than its parents, it means .text-ellipsis is active.When event is the parent elementWhen event is the child elementThe e.offsetWidth < e.scrollWidth solution is not always working.And if you want to use pure JavaScript, I recommend to use this:(typescript)The solution @ItaloBorssatto is perfect. But before looking at SO - I made my decision. Here it is :)My implementation)

How do I promisify native XHR?

SomeKittens

[How do I promisify native XHR?](https://stackoverflow.com/questions/30008114/how-do-i-promisify-native-xhr)

I want to use (native) promises in my frontend app to perform XHR request but without all the tomfoolery of a massive framework.I want my xhr to return a promise but this doesn't work (giving me: Uncaught TypeError: Promise resolver undefined is not a function)

2015-05-02 22:18:32Z

I want to use (native) promises in my frontend app to perform XHR request but without all the tomfoolery of a massive framework.I want my xhr to return a promise but this doesn't work (giving me: Uncaught TypeError: Promise resolver undefined is not a function)I'm assuming you know how to make a native XHR request (you can brush up here and here)Since any browser that supports native promises will also support xhr.onload, we can skip all the onReadyStateChange tomfoolery.  Let's take a step back and start with a basic XHR request function using callbacks:Hurrah!  This doesn't involve anything terribly complicated (like custom headers or POST data) but is enough to get us moving forwards.We can construct a promise like so:The promise constructor takes a function that will be passed two arguments (let's call them resolve and reject).  You can think of these as callbacks, one for success and one for failure.  Examples are awesome, let's update makeRequest with this constructor:Now we can tap into the power of promises, chaining multiple XHR calls (and the .catch will trigger for an error on either call):We can improve this still further, adding both POST/PUT params and custom headers.  Let's use an options object instead of multiple arguments, with the signature:makeRequest now looks something like this:A more comprehensive approach can be found at MDN.Alternatively, you could use the fetch API (polyfill).This could be as simple as the following code.Keep in mind that this code will only fire the reject callback when onerror is called (network errors only) and not when the HTTP status code signifies an error. This will also exclude all other exceptions. Handling those should be up to you, IMO.Additionally, it is recommended to call the reject callback with an instance of Error and not the event itself, but for sake of simplicity, I left as is.And invoking it could be this:For anyone who searches for this now, you can use the fetch function. 

It has some pretty good support.I've firstly used @SomeKittens's answer, but then discovered fetch that does it for me out of the box :)I think we can make the top answer much more flexible and reusable by not having it create the XMLHttpRequest object. The only benefit of doing so is that we don't have to write 2 or 3 lines of code ourselves to do it, and it has the enormous drawback of taking away our access to many of the API's features, like setting headers. It also hides properties of the original object from the code that's supposed to handle the response (for both successes and errors). So we can make a more flexible, more widely applicable function by just accepting the XMLHttpRequest object as input and passing it as the result.This function converts an arbitrary XMLHttpRequest object into a promise, treating non-200 status codes as an error by default:This function fits very naturally into a chain of Promises, without sacrificing the flexibility of the XMLHttpRequest API:catch was omitted above to keep the sample code simpler. You should always have one, and of course we can:And disabling the HTTP status code handling doesn't require much change in the code:Our calling code is longer, but conceptually, it's still simple to understand what's going on. And we don't have to rebuild the entire web request API just to support its features.We can add a few convenience functions to tidy up our code, as well:Then our code becomes:jpmc26's answer is quite close to perfect in my opinion. It has some drawbacks, though:Monkey patching the xhr-object tackles these issues:Now the usage is as simple as:Of course, this introduces a different drawback: Monkey-patching does hurt performance. However this should not be a problem assuming that the user is waiting mainly for the result of the xhr, that the request itself takes orders of magnitude longer than setting up the call and xhr requests not being sent frequently.PS: And of course if targeting modern browsers, use fetch!PPS: It has been pointed out in the comments that this method changes the standard API which can be confusing. For better clarity one could patch a different method onto the xhr object sendAndGetPromise().

How to detect scroll position of page using jQuery

Maven

[How to detect scroll position of page using jQuery](https://stackoverflow.com/questions/17441065/how-to-detect-scroll-position-of-page-using-jquery)

I am having trouble with jQuery functionality on my website. What it does, is that it uses the window.scroll()  function to recognize when the windows changes its scroll position and at the change calls a few functions to load data from the server.The problem is the .scroll() function is called as soon as there is even a little change in the scroll position and loads data at the bottom; however, what I wish to achieve is to load new data when the scroll/page position reaches at the bottom, like it happens for Facebook feed.But I am not sure how to detect scroll position using jQuery?

2013-07-03 06:24:45Z

I am having trouble with jQuery functionality on my website. What it does, is that it uses the window.scroll()  function to recognize when the windows changes its scroll position and at the change calls a few functions to load data from the server.The problem is the .scroll() function is called as soon as there is even a little change in the scroll position and loads data at the bottom; however, what I wish to achieve is to load new data when the scroll/page position reaches at the bottom, like it happens for Facebook feed.But I am not sure how to detect scroll position using jQuery?You can extract the scroll position using jQuery's .scrollTop() methodYou are looking for the window.scrollTop() function.Check here DEMO http://jsfiddle.net/yeyene/Uhm2J/This is another way of getting the value of scroll. Now that works for me... it works well... and then you can use JQuery/TweenMax to track elements and control them.Store the value of the scroll as changes in HiddenField when around the PostBack retrieves the value and adds the scroll.    You can add all pages with this code:JS code:CSS CODE This code for chat_boxes for loading previous messagesGET Scroll Position:DETECT Scroll Position:

How does one capture a Mac's command key via JavaScript?

DataGreed

[How does one capture a Mac's command key via JavaScript?](https://stackoverflow.com/questions/3902635/how-does-one-capture-a-macs-command-key-via-javascript)

How does one capture a Mac's Cmd key via JavaScript?

2010-10-10 23:26:47Z

How does one capture a Mac's Cmd key via JavaScript?EDIT: As of 2019, e.metaKey is supported on all major browsers as per the MDN.Note that on Windows, although the ⊞ Windows key is considered to be the "meta" key, it is not going to be captured by browsers as such.This is only for the command key on MacOS/keyboards.Unlike Shift/Alt/Ctrl, the Cmd (「Apple」) key is not considered a modifier key—instead, you should listen on keydown/keyup and record when a key is pressed and then depressed based on event.keyCode.Unfortunately, these key codes are browser-dependent:You might be interested in reading the article JavaScript Madness: Keyboard Events, from which I learned that knowledge.You can also look at the event.metaKey attribute on the event if you are working with keydown events. Worked wonderfully for me! You can try it here.I found that you can detect the command key in the latest version of Safari (7.0: 9537.71) if it is pressed in conjunction with another key. For example, if you want to detect ⌘+x:, you can detect the x key AND check if event.metaKey is set to true. For example:When pressing x on it's own, this will output 120, false. When pressing ⌘+x, it will output 120, trueThis only seems to work in Safari - not ChromeBasing on Ilya's data, I wrote a Vanilla JS library for supporting modifier keys on Mac: https://github.com/MichaelZelensky/jsLibraries/blob/master/macKeys.jsJust use it like this, e.g.:Tested on Chrome, Safari, Firefox, Opera on Mac. Please check if it works for you.For people using jQuery, there is an excellent plugin for handling key events:jQuery hotkeys on GitHubFor capturing ⌘+S and Ctrl+S I'm using this:Here is how I did it in AngularJSif you use Vuejs, just make it by vue-shortkey plugin, everything will be simplehttps://www.npmjs.com/package/vue-shortkey

Best place to insert the Google Analytics code [duplicate]

Marky34

