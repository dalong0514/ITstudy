jQuery - multiple $(document).ready …?

rlb.usa

[jQuery - multiple $(document).ready …?](https://stackoverflow.com/questions/5263385/jquery-multiple-document-ready)

Question:If I link in two JavaScript files, both with $(document).ready functions, what happens? Does one overwrite the other? Or do both $(document).ready get called?For example,jquery1.js :jquery2.js:

I'm sure it is best practice to simply combine both calls into a single $(document).ready but it's not quite possible in my situation.

2011-03-10 17:26:55Z

Question:If I link in two JavaScript files, both with $(document).ready functions, what happens? Does one overwrite the other? Or do both $(document).ready get called?For example,jquery1.js :jquery2.js:

I'm sure it is best practice to simply combine both calls into a single $(document).ready but it's not quite possible in my situation.All will get executed and On first Called first run basis!!Demo As you can see they do not replace each otherAlso one thing i would like to mentionin place of thisyou can use this shortcutIt is important to note that each jQuery() call must actually return.  If an exception is thrown in one, subsequent (unrelated) calls will never be executed.This applies regardless of syntax.  You can use jQuery(), jQuery(function() {}), $(document).ready(), whatever you like, the behavior is the same.  If an early one fails, subsequent blocks will never be run.This was a problem for me when using 3rd-party libraries.  One library was throwing an exception, and subsequent libraries never initialized anything.$(document).ready(); is the same as any other function. it fires once the document is ready - ie loaded. the question is about what happens when multiple $(document).ready()'s are fired not when you fire the same function within multiple $(document).ready()'s    both will behave exactly the same. the only difference is that although the former will achieve the same results. the latter will run a fraction of a second faster and requires less typing. :)in conclusion where ever possible only use 1 $(document).ready();//old answerThey will both get called in order. Best practice would be to combine them.

but dont worry if its not possible. the page will not explode.Execution is top-down. First come, first served.If execution sequence is important, combine them.Both will get called, first come first served. Take a look here.Output:Not to necro a thread, but under the latest version of jQuery the suggested syntax is:Using an anonymous function, this would look likeSee this link:https://api.jquery.com/ready/

Seeding the random number generator in Javascript

weepy

[Seeding the random number generator in Javascript](https://stackoverflow.com/questions/521295/seeding-the-random-number-generator-in-javascript)

Is it possible to seed the random number generator (Math.random) in Javascript?

2009-02-06 17:37:39Z

Is it possible to seed the random number generator (Math.random) in Javascript?No, it is not, but it's fairly easy to write your own generator, or better yet use an existing one. Check out: this related question.Also, see David Bau's blog for more information on seeding.NOTE: Despite (or rather, because of) succinctness and apparent elegance, this algorithm is by no means a high-quality one in terms of randomness. Look for e.g. those listed in this answer for better results.(Originally adapted from a clever idea presented in a comment to another answer.)You can set seed to be any number, just avoid zero (or any multiple of Math.PI).The elegance of this solution, in my opinion, comes from the lack of any "magic" numbers (besides 10000, which represents about the minimum amount of digits you must throw away to avoid odd patterns - see results with values 10, 100, 1000).  Brevity is also nice.It's a bit slower than Math.random() (by a factor of 2 or 3), but I believe it's about as fast as any other solution written in JavaScript.I've implemented a number of good, short and fast Pseudorandom number generator (PRNG) functions in plain JavaScript. All of them can be seeded and provide good quality numbers.First of all, take care to initialize your PRNGs properly. Most of the generators below have no built-in seed generating procedure (for sake of simplicity), but accept one or more 32-bit values as the initial state of the PRNG. Similar seeds (e.g. a simple seed of 1 and 2) can cause correlations in weaker PRNGs, resulting in the output having similar properties (such as randomly generated levels being similar). To avoid this, it is best practice to initialize PRNGs with a well-distributed seed.Thankfully, hash functions are very good at generating seeds for PRNGs from short strings. A good hash function will generate very different results even when two strings are similar. Here's an example based on MurmurHash3's mixing function:Each subsequent call to the return function of xmur3 produces a new "random" 32-bit hash value to be used as a seed in a PRNG. Here's how you might use it:Alternatively, simply choose some dummy data to pad the seed with, and advance the generator a few times (12-20 iterations) to mix the initial state thoroughly. This is often seen in reference implementations of PRNGs, but it does limit the number of initial states.Another thing to note is that these are all 32-bit generators, which means everything is bound by 32-bit operations, simulating 32-bit C code. 64-bit generators exist, and are usually the better choice in languages such as C/C++, but JS is not optimized for 64-bit math. JS has a limit of 53-bit integers, but bitwise operations are limited to 32-bit integers, so even efficient usage of all 53 bits is tricky. Luckily, 32-bit operations get an optimization boost in modern JS engines. That is likely why Baagøe's supposedly super-fast 53-bit Alea generator ends up slower than these implementations.This generator is part of the PractRand random number testing suite, of which it passes without issue. PractRand is purportedly even more stringent than TestU01. sfc32 has a 128-bit state and is also very fast in JS (xoshiro128** is slightly faster, but has some linearity issues). sfc32 is probably my PRNG of choice.Mulberry32 is a simple generator, but is quite fast and has good quality (author states it passes all tests of gjrand). I would recommend this if you just need a simple but decent PRNG. It has a state of 32-bits and a full period of 232. Ideal if you only want to seed with one 32-bit integer and don't care about the birthday problem. There is 4.3 billion possible states in Mulberry32 compared to the 340 undecillion in sfc32/xoshiro128**.As of May 2018, xoshiro128** is the new member of the Xorshift family. It offers a 128-bit state, and is super fast.This PRNG is the latest by Blackman/Vigna who also wrote the PRNGs xorshift128+ and xoroshiro that were used in Google Chrome back in 2015. It is notable as one of the few modern PRNGs with a 32-bit version. xoroshiro64** is also a promising option, but only has a 64-bit state and has largely been replaced by xoshiro.The authors claim it passes randomness tests well (albeit with caveats). Other researchers have pointed out that fails some tests in BigCrush (particularly LinearComp and BinaryRank). But it should not matter in practice, especially if the 32-bit value is converted to a float between 0-1 like these PRNGs are. However, it may cause an issue if you rely on the low-order bits.This is JSF or 'smallprng' by Bob Jenkins (2007), the guy who made ISAAC and SpookyHash. It performs well on PractRand tests and should be quite fast. The average period length is assumed to be 2^126 but 'hasn't been formally determined'.While not entirely necessary, the author of JSF suggests seeding it this way, as its period length guarantees are based on the following construction:This one is only here to provide a better alternative to options mentioned in other answers such as the Math.sin or Math.PI methods, which are less consistent or reliable across platforms. This LCG implementation is extremely fast but only has a 31-bit state and fails some statistical tests that previously mentioned generators pass with flying colors. It's a one-liner though—which is nice :).This is called the minimal standard RNG as proposed by Park–Miller in 1988 & 1993 and implemented in C++11 as minstd_rand. Keep in mind that the state and period are only 31-bit (31 bits give 2 billion possible states, 32 bits give double that). This is the very type of PRNG that others are trying to replace.It'll work, but I wouldn't use it unless you really need speed and don't care about randomness quality (what is random anyway?) or if you don't mind the 31-bit state/period size. Great for a game jam or a demo or something. LCGs suffer from seed correlations, so it is best to discard the first result of an LCG.There seems to be other multipliers that do offer a full 32-bit state. I have no clue if these are any better/worse statistically than the Park-Miller one, but here they are for completeness.These LCG values are from: P. L'Ecuyer: A table of Linear Congruential Generators of different sizes and good lattice structure, April 30 1997.No, but here's a simple pseudorandom generator, an implementation of Multiply-with-carry I adapted from Wikipedia (has been removed since):EDIT: fixed seed function by making it reset m_z

EDIT2: Serious implementation flaws have been fixedAntti Sykäri's algorithm is nice and short. I initially made a variation that replaced Javascript's Math.random when you call Math.seed(s), but then Jason commented that returning the function would be better:This gives you another functionality that Javascript doesn't have: multiple independent random generators. That is especially important if you want to have multiple repeatable simulations running at the same time.Please see Pierre L'Ecuyer's work going back to the late 1980s and early 1990s.  There are others as well.  Creating a (pseudo) random number generator on your own, if you are not an expert, is pretty dangerous, because there is a high likelihood of either the results not being statistically random or in having a small period.  Pierre (and others) have put together some good (pseudo) random number generators that are easy to implement.  I use one of his LFSR generators.https://www.iro.umontreal.ca/~lecuyer/myftp/papers/handstat.pdfPhil TroyCombining some of the previous answers, this is the seedable random function you are looking for:To write your own pseudo random generator is quite simple.The suggestion of Dave Scotese is useful but, as pointed out by others, it is not quite uniformly distributed.However, it is not because of the integer arguments of sin. It's simply because of the range of sin, which happens to be a one dimensional projection of a circle. If you would take the angle of the circle instead it would be uniform.So instead of sin(x) use arg(exp(i * x)) / (2 * PI).If you don't like the linear order, mix it a bit up with xor. The actual factor doesn't matter that much either.To generate n pseudo random numbers one could use the code:Please also note that you cannot use pseudo random sequences when real entropy is needed.Many people who need a seedable random-number generator in Javascript these days are using David Bau's seedrandom module.Math.random no, but the ran library solves this. It has almost all distributions you can imagine and supports seeded random number generation. Example:I have written a function that returns a seeded random number, it uses Math.sin to have a long random number and uses the seed to pick numbers from that.Use :it will return your seeded number

the first parameter is any string value ; your seed.

the second parameter is how many digits will return.A simple approach for a fixed seed:For a number between 0 and 100.

JavaScript global event mechanism

Ionuț G. Stan

[JavaScript global event mechanism](https://stackoverflow.com/questions/951791/javascript-global-event-mechanism)

I would like to catch every undefined function error thrown. Is there a global error handling facility in JavaScript? The use case is catching function calls from flash that are not defined.

2009-06-04 16:53:06Z

I would like to catch every undefined function error thrown. Is there a global error handling facility in JavaScript? The use case is catching function calls from flash that are not defined.Does this help you:I'm not sure how it handles Flash errors though...Update: it doesn't work in Opera, but I'm hacking Dragonfly right now to see what it gets. Suggestion about hacking Dragonfly came from this question:Mimic Window. onerror in Opera using javascriptAssign the window.onerror event to an event handler like:As commented in the code, if the return value of window.onerror is true then the browser should suppress showing an alert dialog.In a nutshell, the event is raised when either 1.) there is an uncaught exception or 2.) a compile time error occurs.Example of the onerror code above in action after adding this to a test page:https://jsfiddle.net/nzfvm44d/If your error handling is very sophisticated and therefore might throw an error itself, it is useful to add a flag indicating if you are already in "errorHandling-Mode". Like so:Otherwise you could find yourself in an infinite loop.Try Atatus which provides Advanced Error Tracking and Real User Monitoring for modern web apps.Let me explain how to get stacktraces that are reasonably complete in all browsers. Modern Chrome and Opera fully support the HTML 5 draft spec for ErrorEvent and window.onerror. In both of these browsers you can either use window.onerror, or bind to the 'error' event properly:Unfortunately Firefox, Safari and IE are still around and we have to support them too. As the stacktrace is not available in window.onerror we have to do a little bit more work.It turns out that the only thing we can do to get stacktraces from errors is to wrap all of our code in a try{ }catch(e){ } block and then look at e.stack. We can make the process somewhat easier with a function called wrap that takes a function and returns a new function with good error handling.This works. Any function that you wrap manually will have good error handling, but it turns out that we can actually do it for you automatically in most cases.By changing the global definition of addEventListener so that it automatically wraps the callback we can automatically insert try{ }catch(e){ } around most code. This lets existing code continue to work, but adds high-quality exception tracking.We also need to make sure that removeEventListener keeps working. At the moment it won't because the argument to addEventListener is changed. Again we only need to fix this on the prototype object:You can send error data using image tag as followsDisclaimer: I am a web developer at https://www.atatus.com/.It seems that window.onerror doesn't provide access to all possible errors. Specifically it ignores:Here is the start of a script that catches many of these errors, so that you may add more robust debugging to your app during development.It could be used like this:The full script has a default implementation that tries to print out a semi-readable "display" version of the entity/error that it receives. Can be used for inspiration for an app-specific error handler. The default implementation also keeps a reference to the last 100 error entities, so you can inspect them in the web console after they occur like:Note: This works by overriding methods on several browser/native constructors. This can have unintended side-effects. However, it has been useful to use during development, to figure out where errors are occurring, to send logs to services like NewRelic or Sentry during development so we can measure errors during development, and on staging so we can debug what is going on at a deeper level. It can then be turned off in production.Hope this helps.One should preserve the previously associated onerror callback as wellIf you want unified way to handle both uncaught errors and unhandled promise rejections you may have a look on uncaught library.EDITIt listens window.unhandledrejection in addition to window.onerror.I would recommend giving Trackjs a try.It's error logging as a service.It's amazingly simple to set up. Just add one <script> line to each page and that's it. This also means it will be amazingly simple to remove if you decide you don't like it.There are other services like Sentry (which is open-source if you can host your own server), but it doesn't do what Trackjs does. Trackjs records the user's interaction between their browser and your webserver so that you can actually trace the user steps that led to the error, as opposed to just a file and line number reference (and maybe stack trace).You listen to the onerror event by assigning a function to window.onerror:

Detect click outside React component

Thijs Koerselman

[Detect click outside React component](https://stackoverflow.com/questions/32553158/detect-click-outside-react-component)

I'm looking for a way to detect if a click event happened outside of a component, as described in this article. jQuery closest() is used to see if the the target from a click event has the dom element as one of its parents. If there is a match the click event belongs to one of the children and is thus not considered to be outside of the component.So in my component I want to attach a click handler to window. When the handler fires I need to compare the target with the dom children of my component.The click event contains properties like "path" which seems to hold the dom path that the event has travelled. I'm not sure what to compare or how to best traverse it, and I'm thinking someone must have already put that in a clever utility function... No?

2015-09-13 18:34:00Z

I'm looking for a way to detect if a click event happened outside of a component, as described in this article. jQuery closest() is used to see if the the target from a click event has the dom element as one of its parents. If there is a match the click event belongs to one of the children and is thus not considered to be outside of the component.So in my component I want to attach a click handler to window. When the handler fires I need to compare the target with the dom children of my component.The click event contains properties like "path" which seems to hold the dom path that the event has travelled. I'm not sure what to compare or how to best traverse it, and I'm thinking someone must have already put that in a clever utility function... No?The following solution uses ES6 and follows best practices for binding as well as setting the ref through a method.To see it in action: Class Implementation:Hooks Implementation:Here is the solution that best worked for me without attaching events to the container:Certain HTML elements can have what is known as "focus", for example input elements. Those elements will also respond to the blur event, when they lose that focus. To give any element the capacity to have focus, just make sure its tabindex attribute is set to anything other than -1. In regular HTML that would be by setting the tabindex attribute, but in React you have to use tabIndex (note the capital I).You can also do it via JavaScript with element.setAttribute('tabindex',0)This is what I was using it for, to make a custom DropDown menu.I was stuck on the same issue. I am a bit late to the party here, but for me this is a really good solution. Hopefully it will be of help to someone else. You need to import findDOMNode from react-domYou can create a reusable hook called useComponentVisible.Then in the component you wish to add the functionality to do the following:Find a codesandbox example here.After trying many methods here, I decided to use github.com/Pomax/react-onclickoutside because of how complete it is.I installed the module via npm and imported it into my component:Then, in my component class I defined the handleClickOutside method:And when exporting my component I wrapped it in onClickOutside():That's it.I found a solution thanks to Ben Alpert on discuss.reactjs.org. The suggested approach attaches a handler to the document but that turned out to be problematic. Clicking on one of the components in my tree resulted in a rerender which removed the clicked element on update. Because the rerender from React happens before the document body handler is called, the element was not detected as "inside" the tree.The solution to this was to add the handler on the application root element. main:component:iOS treats only certain elements as clickable. To circumvent this behavior, choose a different outer click listener than document - nothing upwards including body. E.g. you could add a listener on the React root div in above example and expand its height (height: 100vh or similar) to catch all outside clicks. Sources: quirksmode.org and this answerHope, that helps.None of the other answers here worked for me. I was trying to hide a popup on blur, but since the contents were absolutely positioned, the onBlur was firing even on the click of inner contents too.Here is an approach that did work for me:Hope this helps.[Update] Solution with React ^16.8 using HooksCodeSandboxSolution with React ^16.3:CodeSandboxHere is my approach (demo - https://jsfiddle.net/agymay93/4/):I've created special component called WatchClickOutside and it can be used like (I assume JSX syntax):Here is code of WatchClickOutside component:This already has many answers but they don't address e.stopPropagation() and preventing clicking on react links outside of the element you wish to close.Due to the fact that React has it's own artificial event handler you aren't able to use document as the base for event listeners. You need to e.stopPropagation() before this as React uses document itself. If you use for example document.querySelector('body') instead. You are able to prevent the click from the React link. Following is an example of how I implement click outside and close.

This uses ES6 and React 16.3.For those who need absolute positioning, a simple option I opted for is to add a wrapper component that is styled to cover the whole page with a transparent background. Then you can add an onClick on this element to close your inside component. As it is right now if you add a click handler on content, the event will also be propagated to the upper div and therefore trigger the handlerOutsideClick. If this is not your desired behavior, simply stop the event progation on your handler.`To extend on the accepted answer made by Ben Bud, if you are using styled-components, passing refs that way will give you an error such as "this.wrapperRef.contains is not a function".The suggested fix, in the comments, to wrap the styled component with a div and pass the ref there, works.

Having said that, in their docs they already explain the reason for this and the proper use of refs within styled-components:Like so:Then you can access it directly within the "handleClickOutside" function:This also applies for the "onBlur" approach:My biggest concern with all of the other answers is having to filter click events from the root/parent down.  I found the easiest way was to simply set a sibling element with position: fixed, a z-index 1 behind the dropdown and handle the click event on the fixed element inside the same component.  Keeps everything centralized to a given component.Example codeEvent path[0] is the last item clickedI used this module (I have no association with the author)It did the job nicely.I did this partly by following this and by following the React official docs on handling refs which requires react ^16.3. This is the only thing that worked for me after trying some of the other suggestions here...I like the provided solutions that use to do the same thing by creating a wrapper around the component.Since this is more of a behavior I thought of Strategy and came up with the following.  I'm new with React and I need a bit of help in order to save some boilerplate in the use cases  Please review and tell me what you think.I thought of storing the passed component lifecycle hooks and override them with methods simillar to this:component is the component passed to the constructor of ClickOutsideBehavior.

This will remove the enable/disable boilerplate from the user of this behavior but it doesn't look very nice thoughMaterial-UI has a small component to solve this problem: https://material-ui.com/components/click-away-listener/ that you can cherry-pick it. It weights 1.5 kB gzipped, it supports mobile, IE 11 and portals.If you want to use a tiny component (466 Byte gzipped) that already exists for this functionality then you can check out this library react-outclick.The good thing about the library is that it also lets you detect clicks outside of a component and inside of another. It also supports detecting other types of events.If you want to use a tiny component (466 Byte gzipped) that already exists for this functionality then you can check out this library react-outclick. It captures events outside of a react component or jsx element.The good thing about the library is that it also lets you detect clicks outside of a component and inside of another. It also supports detecting other types of events.I found this from the article below:render() {

    return (

       { this.node = node; }}

      >

        

          Toggle Popover

        

        {this.state.popupVisible && (

         

            I'm a popover!

          

         )}

      

    );

  }

}Here is a great article about this issue:

"Handle clicks outside of React components"

https://larsgraubner.com/handle-outside-clicks-react/Add an onClick handler to your top level container and increment a state value whenever the user clicks within. Pass that value to the relevant component and whenever the value changes you can do work.In this case we're calling this.closeDropdown() whenever the clickCount value changes.The incrementClickCount method fires within the .app container but not the .dropdown because we use event.stopPropagation() to prevent event bubbling.Your code may end up looking something like this:To make the 'focus' solution work for dropdown with event listeners you can add them with onMouseDown event instead of onClick. That way the event will fire and after that the popup will close like so:I made a solution for all occasions.You should use a High Order Component to wrap the component that you would like to listen for clicks outside it.This component example has only one prop: "onClickedOutside" that receives a function.Create a general useOnOutsideClick functionThen use the hook in any functional component. Link to demoPartially inspired by @pau1fitzgerald answer. Non of the above answers worked for me so here is what I did eventually:import React, { Component } from 'react';Bit late to the party, but I was having issues getting any of these to work with a React.Select dropdown as the option clicked would no longer be contained within the parent I was looking to click out of by the time onClick was fired.I got round this issue by using:You could just install a double click handler on the body and another one on this element. In the handler of this element just return false to prevent the event from propagating. So when a double click happens if it is on the element it will be caught and will not propagate to the handler on the body. Otherwise it will be caught by the handler on the body.Update: if you really do not want to prevent event propagation, you just need to use closest to check whether the click happened on your element or one of his children:Update: without jQuery:

How to set value of input text using jQuery

raberana

[How to set value of input text using jQuery](https://stackoverflow.com/questions/10611170/how-to-set-value-of-input-text-using-jquery)

I have an input text which is this:Which produce following htmlI want to set the value of this input text using jquery so i did this:however, it is not working... what is the error in my syntax?

2012-05-16 02:17:24Z

I have an input text which is this:Which produce following htmlI want to set the value of this input text using jquery so i did this:however, it is not working... what is the error in my syntax?Your selector is retrieving the text box's surrounding <div class='textBoxEmployeeNumber'> instead of the input inside it.If the ASP.NET code reliably outputs the HTML <input> with an id attribute id='EmployeeId', you can more simply just use:Failing this, you will need to verify in your browser's error console that you don't have other script errors causing this to fail.  The first example above works correctly in this demonstration.Using jQuery, we can use the following code:Select by input name:Select by input class:Select by input id:For element with idYou can set the value asDocumentation here.this is for classesfor idsnow if u have an iput in a form u can use Here is another variation for a file upload that has a nicer looking bootstrap button than the default file upload browse button.  This is the html:Here is the script:In pure js it will be simpler

Redirecting to a relative URL in JavaScript

user199337

[Redirecting to a relative URL in JavaScript](https://stackoverflow.com/questions/1655065/redirecting-to-a-relative-url-in-javascript)

I have a problem:

I want to redirect via JavaScript to a directory above.

My code:The URL looks like this:The redirect affect just this:But want to have this:How could I do that?

2009-10-31 17:43:53Z

I have a problem:

I want to redirect via JavaScript to a directory above.

My code:The URL looks like this:The redirect affect just this:But want to have this:How could I do that?You can do a relative redirect:orIf you use location.hostname you will get your domain.com part. Then location.pathname will give you /path/folder. I would split location.pathname by / and reassemble the URL. But unless you need the querystring, you can just redirect to .. to go a directory above.redirect to ../<a href="..">no JS needed</a>.. means parent directory.https://developer.mozilla.org/en-US/docs/Web/API/Location/assignI'm trying to redirect my current web site to other section on the same page, using JavaScript.  This follow code work for me:try following js code

Download File Using Javascript/jQuery

Mithun Sreedharan

[Download File Using Javascript/jQuery](https://stackoverflow.com/questions/3749231/download-file-using-javascript-jquery)

I have a very similar requirement specified here.I need to have the user's browser start a download manually when $('a#someID').click();But I cannot use the window.href method, since it replaces the current page contents with the file you're trying to download. Instead I want to open the download in new window/tab. How is this possible?

2010-09-20 06:58:25Z

I have a very similar requirement specified here.I need to have the user's browser start a download manually when $('a#someID').click();But I cannot use the window.href method, since it replaces the current page contents with the file you're trying to download. Instead I want to open the download in new window/tab. How is this possible?Use an invisible <iframe>:To force the browser to download a file it would otherwise be capable of rendering (such as HTML or text files), you need the server to set the file's MIME Type to a nonsensical value, such as application/x-please-download-me or alternatively application/octet-stream, which is used for arbitrary binary data.If you only want to open it in a new tab, the only way to do this is for the user to a click on a link with its target attribute set to _blank.In jQuery:Whenever that link is clicked, it will download the file in a new tab/window.2019 modern browsers updateThis is the approach I'd now recommend with a few caveats:2012 original jQuery/iframe/cookie based approachI have created the jQuery File Download plugin (Demo) (GitHub) which could also help with your situation. It works pretty similarly with an iframe but has some cool features that I have found quite handy:Here is a simple use case demo using the plugin source with promises. The demo page includes many other, 'better UX' examples as well.Check if your target browser(s) will run the above snippet smoothly: http://caniuse.com/#feat=downloadI'm surprised not a lot of people know about the download attribute for a elements. Please help spread the word about it! You can have a hidden html link, and fake a click on it. If the html link has the download attribute it downloads the file, not views it, no matter what. Here's the code. It will download a cat picture if it can find it.Note:

This is not supported on all browsers: http://www.w3schools.com/tags/att_a_download.aspI recommend using the download attribute for download instead of jQuery:This will download your file, without opening it.If you are already using jQuery, you could take adventage of it to produce a smaller snippet

A jQuery version of Andrew's answer:Works on Chrome, Firefox and IE8 and above. Simple example using an iframeThen just call the function wherever you want:downloadURL('path/to/my/file');Only seven years later here comes a one line jQuery solution using a form instead of an iframe or link:I've tested this inIf anyone knows of any downsides with this solution I'd be very happy to hear about them.Full demo:This could be helpful if you are not require to navigate another page.

This is base javascript function, so can be used in any platform where backend is in JavascriptI don't know if the question is just too old, but setting window.location to a download url will work, as long as the download mime type is correct (for example a zip archive). To improve Imagine Breaker 's answer, this is supported on FF & IE :In other words, just use a dispatchEvent function instead of click();Maybe just have your javascript open a page that just downloads a file, like when you drag a download link to a new tab:With the opened window open a download page that auto closes.Most Complete and Working (Tested) Code for Downloading Data For FireFox, Chrome and IE Code is Following. Assume that Data is in texarea field, that has id='textarea_area' and filename is name of file where data will be downloaded.and then just call For Download Initiating.Array for setting correct MIME type for download dialog CAN BE following:for me this is working ok tested in chrome v72I ended up using the below snippet and it works in most browsers, not tested in IE though.I have had good results with using a FORM tag since it works everywhere and you don't have to create temporarily files on server. The method works like this.On the client side (page HTML) you create an invisible form like thisThen you add this Javascript code to your button:The on the server-side you have the following PHP code in download.php:You can even create zip files of your data like this:The best part is it does not leave any residual files on your server since everything is created and destroyed on the fly!The answer submitted by hitesh on Dec 30 '13 does in fact work.  It just requires a little adjusting:The PHP file can call itself.  In other words, just create a file named saveAs.php, and put this code into it...These functions are used in stacktrace.js:I suggest you use the mousedown event, which is called BEFORE the click event. That way, the browser handles the click event naturally, which avoids any code weirdness:Excelent solution from Corbacho, I just adapted to get rid o the varFirefox and Chrome tested:This is actually the "chrome" way solution for firefox (I am not tested it on other browsers, so please leave comments about the compilability)There are so many little things that can happen when trying to download a file. The inconsistency between browsers alone is a nightmare. I ended up using this great little library.

https://github.com/rndme/downloadNice thing about it is that its flexible for not only urls but for client side data you want to download.Using anchor tag and PHP it can be done, Check this answerJQuery Ajax call for PDF file downloadI am checking for file size because if you load pdf from CDN cloudfront, you won`t get the size of document which forces the document to download in 0kb, To avoid this i am checking with this conditionI know I'm late for the party, but I'd like to share my solution which is variation of Imagine Breaker's solution above. I tried to use his solution, because his solution seems most simple and easy to me. But like other said, it didn't work for some browsers, so I put some variation on it by using jquery.Hope this could help someone out there.Note: Not supported in all browsers.I was looking for a way to download a file using jquery without having to set the file url in the href attribute from the beginning.I use @rakaloof's solution without JQuery (because you don't need it here). Thank you for the idea! Here is a vanillaJS form-based solution:

Replacing spaces with underscores in JavaScript?

Click Upvote

[Replacing spaces with underscores in JavaScript?](https://stackoverflow.com/questions/441018/replacing-spaces-with-underscores-in-javascript)

I'm trying to use this code to replace spaces with _, it works for the first space in the string but all the other instances of spaces remain unchanged. Anybody know why?

2009-01-13 22:07:30Z

I'm trying to use this code to replace spaces with _, it works for the first space in the string but all the other instances of spaces remain unchanged. Anybody know why?Try .replace(/ /g,"_"); Edit: or .split(' ').join('_') if you have an aversion to REsEdit: John Resig said:try this:that'll do a global find/replacejavascript replaceTo answer Prasanna's question below:You would use the same function replace with a different regular expression.  The expression for whitespace is \s and the expression for "1 or more times" is + the plus sign, so you'd just replace Adam's answer with the following:You can try thisIt will even replace multiple spaces with single '-'.I created JS performance test for it http://jsperf.com/split-and-join-vs-replace2Replace spaces with underscore  Output: How_are_youI know this is old but I didn't see anyone mention extending the String prototype.Just using replace:

Jasmine JavaScript Testing - toBe vs toEqual

Lloyd Banks

[Jasmine JavaScript Testing - toBe vs toEqual](https://stackoverflow.com/questions/22413009/jasmine-javascript-testing-tobe-vs-toequal)

Let's say I have the following:Both of the above tests will pass. Is there a difference between toBe() and toEqual() when it comes to evaluating numbers? If so, when I should use one and not the other?

2014-03-14 18:29:23Z

Let's say I have the following:Both of the above tests will pass. Is there a difference between toBe() and toEqual() when it comes to evaluating numbers? If so, when I should use one and not the other?For primitive types (e.g. numbers, booleans, strings, etc.), there is no difference between toBe and toEqual; either one will work for 5, true, or "the cake is a lie".To understand the difference between toBe and toEqual, let's imagine three objects.Using a strict comparison (===), some things are "the same":But some things, even though they are "equal", are not "the same", since they represent objects that live in different locations in memory.Jasmine's toBe matcher is nothing more than a wrapper for a strict equality comparisonis the same thing asDon't just take my word for it; see the source code for toBe.But b and c represent functionally equivalent objects; they both look likeWouldn't it be great if we could say that b and c are "equal" even if they don't represent the same object?Enter toEqual, which checks "deep equality" (i.e. does a recursive search through the objects to determine whether the values for their keys are equivalent). Both of the following tests will pass:Hope that helps clarify some things.toBe() versus toEqual(): toEqual() checks equivalence. toBe(), on the other hand, makes sure that they're the exact same object.I would say use toBe() when comparing values, and toEqual() when comparing objects.When comparing primitive types, toEqual() and toBe() will yield the same result. When comparing objects, toBe() is a stricter comparison, and if it is not the exact same object in memory this will return false. So unless you want to make sure it's the exact same object in memory, use toEqual() for comparing objects.Check this link out for more info : http://evanhahn.com/how-do-i-jasmine/Now when looking at the difference between toBe() and toEqual() when it comes to numbers, there shouldn't be any difference so long as your comparison is correct. 5 will always be equivalent to 5.A nice place to play around with this to see different outcomes is hereAn easy way to look at toBe() and toEqual() is to understand what exactly they do in JavaScript. According to Jasmine API, found here:Essentially what that is saying is toEqual() and toBe() are similar Javascripts === operator except toBe() is also checking to make sure it is the exact same object, in that for the example below objectOne === objectTwo //returns false as well. However, toEqual() will return true in that situation.Now, you can at least understand why when given:expect(objectOne).toBe(objectTwo); //returns falseThat is because, as stated in this answer to a different, but similar question, the === operator actually means that both operands reference the same object, or in case of value types, have the same value.To quote the jasmine github project,Looking at the Jasmine source code sheds more light on the issue. toBe is very simple and just uses the identity/strict equality operator, ===:toEqual, on the other hand, is nearly 150 lines long and has special handling for built in objects like String, Number, Boolean, Date, Error, Element and RegExp. For other objects it recursively compares properties.This is very different from the behavior of the equality operator, ==. For example:toEqual() compares values if Primitive or contents if Objects.

toBe() compares references.Following code / suite should be self explanatory :Thought someone might like explanation by (annotated) example:Below, if my deepClone() function does its job right, the test (as described in the 'it()' call) will succeed:Of course this is not a complete test suite for my deepClone(), as I haven't tested here if the object literal in the array (and the one nested therein) also have distinct identity but same values.Points to note: That's why for primitive types, toBe and toEqual do not have much difference when testing for equality, but for reference types like objects, you'd rather be using toEqual to test for equality.

How can I determine the direction of a jQuery scroll event?

Zach

[How can I determine the direction of a jQuery scroll event?](https://stackoverflow.com/questions/4326845/how-can-i-determine-the-direction-of-a-jquery-scroll-event)

I'm looking for something to this effect:Any ideas?

2010-12-01 16:57:58Z

I'm looking for something to this effect:Any ideas?Check current scrollTop vs previous scrollTop You can do it without having to keep track of the previous scroll top, as all the other examples require:I am not an expert on this so feel free to research it further, but it appears that when you use $(element).scroll, the event being listened for is a 'scroll' event. But if you specifically listen for a mousewheel event by using bind, the originalEvent attribute of the event parameter to your callback contains different information.  Part of that information is wheelDelta.  If it's positive, you moved the mousewheel up.  If it's negative, you moved the mousewheel down. My guess is that mousewheel events will fire when the mouse wheel turns, even if the page does not scroll; a case in which 'scroll' events probably are not fired.  If you want, you can call event.preventDefault() at the bottom of your callback to prevent the page from scrolling, and so that you can use the mousewheel event for something other than a page scroll, like some type of zoom functionality.Store the previous scroll location, then see if the new one is greater than or less than that.Here's a way to avoid any global variables (fiddle available here):There could be 3 solution from this posting and other answer.Solution 1Solution 2Solution 3I couldn't tested it on Safarichrome 42 (Win 7)Firefox 37 (Win 7)IE 11 (Win 8)IE 10 (Win 7)IE 9 (Win 7)IE 8 (Win 7)From the multi browser test, I decided to use Solution 3 for common browsers and Solution 1 for firefox and IE 11.I referred this answer to detect IE 11.I understand there has already been an accepted answer, but wanted to post what I am using in case it can help anyone. I get the direction like cliphex with the mousewheel event but with support for Firefox. It's useful doing it this way in case you are doing something like locking scroll and can't get the current scroll top.See a live version here.The scroll event behaves oddly in FF (it is fired a lot of times because of the smoothness scrolling) but it works.Note: The scroll event actually is fired when dragging the scroll bar, using cursor keys or mousewheel.

You also may take a look at MDN, it exposes a great information about the Wheel Event.Note: The wheel event is fired only when using the mousewheel; cursor keys and dragging the scroll bar does not fire the event.I read the document and the example: Listening to this event across browser

and after some tests with FF, IE, chrome, safari, I ended up with this snippet:

In case you just want to know if you scroll up or down using a pointer device (mouse or track pad) you can use the deltaY property of the wheel event.or use the mousewheel extension, see here.I have seen many version of good answers here but it seems some folks are having cross browser issues so this is my fix.I have used this successfully to detect direction in FF, IE and Chrome ... I haven't tested it in safari  as I use windows typically.Keep in mind I also use this to stop any scrolling so if you want scrolling to still occur you must remove the e.preventDefault(); e.stopPropagation();To ignore any snap / momentum / bounce back at the top and bottom of the page, here is a modified version of Josiah's accepted answer:You can determin mousewhell direction.this code work fine with IE, Firefox, Opera and Chrome:'wheel mousewheel' and the property deltaY must be use in bind() function.Remember : You're user must update their system and browsers for security reasons. In 2018, the excuses of "I have IE 7" is a nonsense. We must educate users.Have a good day :)Keep it super simple:jQuery Event Listener Way:Vanilla JavaScript Event Listener Way:Function Remains The Same:I wrote a more indepth post on it here

​​​​​​​You can use both scroll and mousewheel option to track up and down movement at once.You can replace 'body' with (window) as well.Use this to find the scroll direction. This is only to find the direction of the Vertical Scroll. Supports all cross browsers.Examplestock an increment in the .data () of element scrolled, you will then be able to test number of times the scroll reached top.Why nobody use the event object returned by jQuery on scroll ?I'm using chromium and I didn't checked on other browsers if they have the dir property.Since bind has been deprecated on v3 ("superseded by on") and wheel is now supported, forget wheelDelta:wheel event's Browser Compatibility on MDN's (2019-03-18):You can use this as well

in the .data() of the element you can store a JSON and test values to launch eventsThis is simple and easy detection for when the user scrolls away from the top of the page and for when they return to the top.This is an optimal solution for detecting the direction just when the user end scrolling.You Should try this I had problems with elastic scrolling (scroll bouncing, rubber-banding).

Ignoring the down-scroll event if close to the page top worked for me.This works in all pc or phones browsers, expanding on the top answers. One can build a more complex event object window["scroll_evt"] then call it in the handleScroll() function. This one triggers for 2 concurrent conditions, if certain delay has elapsed or certain delta is passed to eliminate some unwanted triggers. 

In Javascript, how to conditionally add a member to an object?

viebel

[In Javascript, how to conditionally add a member to an object?](https://stackoverflow.com/questions/11704267/in-javascript-how-to-conditionally-add-a-member-to-an-object)

I would like to create an object with a member added conditionally.

The simple approach is:Now, I would like to write a more idiomatic code. I am trying:But now, b is a member of a whose value is undefined. This is not the desired result.Is there a handy solution?UpdateI seek for a solution that could handle the general case with several members.

2012-07-28 20:07:24Z

I would like to create an object with a member added conditionally.

The simple approach is:Now, I would like to write a more idiomatic code. I am trying:But now, b is a member of a whose value is undefined. This is not the desired result.Is there a handy solution?UpdateI seek for a solution that could handle the general case with several members.In pure Javascript, I cannot think of anything more idiomatic than your first code snippet.If, however, using the jQuery library is not out of the question, then $.extend() should meet your requirements because, as the documentation says:Therefore, you can write:And obtain the results you expect (if conditionB is false, then b will not exist in a).I think @InspiredJW did it with ES5, and as @trincot pointed out, using es6 is a better approach.  But we can add a bit more sugar, by using the spread operator, and logical AND short circuit evaluation:With EcmaScript2015 you can use Object.assign:Some remarks:Taking the second point further, you could shorten it as follows (as @Jamie has pointed out), as falsy values have no own enumerable properties (false, 0, NaN, null, undefined, '', except document.all):Live Demo:Using spread syntax with boolean (as suggested here) is not valid syntax.

Spread can only be use with iterables.I suggest the following:What about using Enhanced Object Properties and only set the property if it is truthy, e.g.:So if the condition is not met it doesn't create the preferred property and thus you can discard it.

See: http://es6-features.org/#ComputedPropertyNamesUPDATE:

It is even better to follow the approach of Axel Rauschmayer in his blog article about conditionally adding entries inside object literals and arrays (http://2ality.com/2017/04/conditional-literal-entries.html):Quite helped me a lot.If the goal is to have the object appear self-contained and be within one set of braces, you could try this:If you wish to do this server side (without jquery), you can use lodash 4.3.0:And this works using lodash 3.10.1I hope this is the much efficient way to add an entry based on the condition.

For more info on how to conditionally add entries inside an object literals.This has long been answered, but looking at other ideas I came up with some interesting derivative:Create your object using an anonymous constructor and always assign undefined members to the same dummy member which you remove at the very end. This will give you a single line (not too complex I hope) per member + 1 additional line at the end.I would do thisEdited with one line code versionYou can add all your undefined values with no condition and then use JSON.stringify to remove them all :Using lodash library, you can use _.omitByThis results handy when you have requests that are optionalI think your first approach to adding members conditionally is perfectly fine. I don't really agree with not wanting to have a member b of a with a value of undefined. It's simple enough to add an undefined check with usage of a for loop with the in operator. But anyways, you could easily write a function to filter out undefined members.You could also use the delete operator to edit the object in place.Wrap into an objectSomething like this is a bit cleanerWrap into an arrayOr if you want to use Jamie Hill's method and have a very long list of conditions then you must write ... syntax multiple times. To make it a bit cleaner, you can just wrap them into an array, then use reduce() to return them as a single object.Or using map() functionThis is the most succinct solution I can come up with:    Using lodash library, you can use _.merge

How to store arbitrary data for some HTML tags

nickf

[How to store arbitrary data for some HTML tags](https://stackoverflow.com/questions/432174/how-to-store-arbitrary-data-for-some-html-tags)

I'm making a page which has some interaction provided by javascript. Just as an example: links which send an AJAX request to get the content of articles and then display that data in a div. Obviously in this example, I need each link to store an extra bit of information: the id of the article. The way I've been handling it in case was to put that information in the href link this:I then use jQuery to find the a.article elements and attach the appropriate event handler. (don't get too hung up on the usability or semantics here, it's just an example)Anyway, this method works, but it smells a bit, and isn't extensible at all (what happens if the click function has more than one parameter? what if some of those parameters are optional?)The immediately obvious answer was to use attributes on the element. I mean, that's what they're for, right? (Kind of).In my recent question I asked if this method was valid, and it turns out that short of defining my own DTD (I don't), then no, it's not valid or reliable. A common response was to put the data into the class attribute (though that might have been because of my poorly-chosen example), but to me, this smells even more. Yes it's technically valid, but it's not a great solution.Another method I'd used in the past was to actually generate some JS and insert it into the page in a <script> tag, creating a struct which would associate with the object.But this can be a real pain in butt to maintain and is generally just very messy.So, to get to the question, how do you store arbitrary pieces of information for HTML tags?

2009-01-11 02:02:14Z

I'm making a page which has some interaction provided by javascript. Just as an example: links which send an AJAX request to get the content of articles and then display that data in a div. Obviously in this example, I need each link to store an extra bit of information: the id of the article. The way I've been handling it in case was to put that information in the href link this:I then use jQuery to find the a.article elements and attach the appropriate event handler. (don't get too hung up on the usability or semantics here, it's just an example)Anyway, this method works, but it smells a bit, and isn't extensible at all (what happens if the click function has more than one parameter? what if some of those parameters are optional?)The immediately obvious answer was to use attributes on the element. I mean, that's what they're for, right? (Kind of).In my recent question I asked if this method was valid, and it turns out that short of defining my own DTD (I don't), then no, it's not valid or reliable. A common response was to put the data into the class attribute (though that might have been because of my poorly-chosen example), but to me, this smells even more. Yes it's technically valid, but it's not a great solution.Another method I'd used in the past was to actually generate some JS and insert it into the page in a <script> tag, creating a struct which would associate with the object.But this can be a real pain in butt to maintain and is generally just very messy.So, to get to the question, how do you store arbitrary pieces of information for HTML tags?Which version of HTML are you using?In HTML 5, it is totally valid to have custom attributes prefixed with data-, e.g.In XHTML, this is not really valid. If you are in XHTML 1.1 mode, the browser will probably complain about it, but in 1.0 mode, most browsers will just silently ignore it.If I were you, I would follow the script based approach. You could make it automatically generated on server side so that it's not a pain in the back to maintain.If you are using jQuery already then you should leverage the "data" method which is the recommended method for storing arbitrary data on a dom element with jQuery.To store something:To retrieve data:That is all that there is to it but take a look at the jQuery documentation for more info/examples.Just another way, I personally wouldn't use this but it works (assure your JSON is valid because eval() is dangerous).Arbitrary attributes are not valid, but are perfectly reliable in modern browsers. If you are setting the properties via javascript, than you don't have to worry about validation as well.An alternative is to set attributes in javascript. jQuery has a nice utility method just for that purpose, or you can roll your own.A hack that's going to work with pretty much every possible browser is to use open classes like this: <a class='data\_articleid\_5' href="link/for/non-js-users.html>; This is not all that elegant to the purists, but it's universally supported, standard-compliant, and very easy to manipulate. It really seems like the best possible method. If you serialize, modify, copy your tags, or do pretty much anything else, data will stay attached, copied etc. The only problem is that you cannot store non-serializable objects that way, and there might be limits if you put something really huge there.A second way is to use fake attributes like: <a articleid='5' href="link/for/non-js-users.html"> This is more elegant, but breaks standard, and I'm not 100% sure about support. Many browsers support it fully, I think IE6 supports JS access for it but not CSS selectors (which doesn't really matter here), maybe some browsers will be completely confused, you need to check it. Doing funny things like serializing and deserializing would be even more dangerous.Using ids to pure JS hash mostly works, except when you try to copy your tags. If you have tag <a href="..." id="link0">, copy it via standard JS methods, and then try to modify data attached to just one copy, the other copy will be modified. It's not a problem if you don't copy tags, or use read only data. If you copy tags and they're modified you'll need to handle that manually.Using jquery,to store: $('#element_id').data('extra_tag', 'extra_info');to retrieve: $('#element_id').data('extra_tag');I know that you're currently using jQuery, but what if you defined the onclick handler inline.  Then you could do:You could use hidden input tags. I get no validation errors at w3.org with this:With jQuery you'd get the article ID with something like (not tested):But I'd recommend HTML5 if that is an option.Why not make use of the meaningful data already there, instead of adding arbitrary data?i.e. use <a href="/articles/5/page-title" class="article-link">, and then you can programmatically get all article links on the page (via the classname) and the article ID (matching the regex /articles\/(\d+)/ against this.href).As a jQuery user I would use the Metadata plugin. The HTML looks clean, it validates, and you can embed anything that can be described using JSON notation.So there should be four choices to do so:http://www.shanison.com/?p=321I advocate use of the "rel" attribute. The XHTML validates, the attribute itself is rarely used, and the data is efficiently retrieved.This is good advice.  Thanks to @PrestaulVery true, but what if you want to store arbitrary data in plain-old HTML?  Here's yet another alternative...Put your data in the name and value attributes of a hidden input element.  This might be useful if the server is generating HTML (i.e. a PHP script or whatever), and your JavaScript code is going to use this information later.Admittedly, not the cleanest, but it's an alternative.  It's compatible with all 

browsers and is valid XHTML.  You should NOT use custom attributes, nor should you really use attributes with the 'data-' prefix, as it might not work on all browsers.  And, in addition, your document will not pass W3C validation.You could use the data- prefix of your own made attribute of a random element (<span data-randomname="Data goes here..."></span>), but this is only valid in HTML5. Thus browsers may complain about validity.You could also use a <span style="display: none;">Data goes here...</span> tag. But this way you can not use the attribute functions, and if css and js is turned off, this is not really a neat solution either.But what I personally prefer is the following:The input will in all cases be hidden, the attributes are completely valid, and it will not get sent if it is within a <form> tag, since it has not got any name, right?

Above all, the attributes are really easy to remember and the code looks nice and easy to understand. You could even put an ID-attribute in it, so you can easily access it with JavaScript as well, and access the key-value pair with input.title; input.value.One possibility might be:Another approach can be to store a key:value pair as a simple class using the following syntax :This is valid and can easily be retrieved with jQuery selectors or a custom made function.At my previous employer, we used custom HTML tags all the time to hold info about the form elements. The catch: We knew that the user was forced to use IE.It didn't work well for FireFox at the time. I don't know if FireFox has changed this or not, but be aware that adding your own attributes to HTML elements may or may-not be supported by your reader's browser.If you can control which browser your reader is using (i.e. an internal web applet for a corporation), then by all means, try it. What can it hurt, right?This is how I do you ajax pages... its a pretty easy method...How this works is it basically looks at all URLs that have the class 'ajx' and it replaces a keyword and adds the # sign... so if js is turned off then the urls would act as they normally do... all "apps" (each section of the site) has its own keyword... so all i need to do is add to the js array above to add more pages...So for example my current settings are set to:So if i have a url such as:www.domain.com/ads/3923/bla/dada/blathe js script would replace the /ads/ part so my URL would end up beingwww.domain.com/ads/#p=3923/bla/dada/blaThen I use jquery bbq plugin to load the page accordingly...http://benalman.com/projects/jquery-bbq-plugin/I have found the metadata plugin to be an excellent solution to the problem of storing arbitrary data with the html tag in a way that makes it easy to retrieve and use with jQuery. Important: The actual file you include is is only 5 kb and not 37 kb (which is the size of the complete download package)Here is an example of it being used to store values I use when generating a google analytics tracking event (note: data.label and data.value happen to be optional params)In html, we can store custom attributes with the prefix 'data-' before the attribute name like <p data-animal='dog'>This animal is a dog.</p>.

Check documentationWe can use this property to dynamically set and get attributes using jQuery like:

If we have a p tag like<p id='animal'>This animal is a dog.</p>Then to create an attribute called 'breed' for the above tag, we can write:$('#animal').attr('data-breed', 'pug');To retrieve the data anytime, we can write:var breedtype = $('#animal').data('breed');As long as you're actual work is done serverside, why would you need custom information in the html tags in the output anyway? all you need to know back on the server is an index into whatever kind of list of structures with your custom info. I think you're looking to store the information in the wrong place. I will recognize, however unfortunate, that in lots of cases the right solution isn't the right solution. In which case I would strongly suggest generating some javascript to hold the extra information.Many years later:This question was posted roughly three years before data-... attributes became a valid option with the advent of html 5 so the truth has shifted and the original answer I gave is no longer relevant. Now I'd suggest to use data attributes instead.

Origin is not allowed by Access-Control-Allow-Origin

Ricardo

[Origin is not allowed by Access-Control-Allow-Origin](https://stackoverflow.com/questions/10143093/origin-is-not-allowed-by-access-control-allow-origin)

I'm making an Ajax.request to a remote PHP server in a Sencha Touch 2 application (wrapped in PhoneGap).The response from the server is the following:How can I fix this problem?

2012-04-13 14:50:19Z

I'm making an Ajax.request to a remote PHP server in a Sencha Touch 2 application (wrapped in PhoneGap).The response from the server is the following:How can I fix this problem?I wrote an article on this issue a while back, Cross Domain AJAX.The easiest way to handle this if you have control of the responding server is to add a response header for:This will allow cross-domain Ajax. In PHP, you'll want to modify the response like so:You can just put the Header set Access-Control-Allow-Origin * setting in the Apache configuration or htaccess file.It should be noted that this effectively disables CORS protection, which very likely exposes your users to attack. If you don't know that you specifically need to use a wildcard, you should not use it, and instead you should whitelist your specific domain:If you don't have control of the server, you can simply add this argument to your Chrome launcher: --disable-web-security.Note that I wouldn't use this for normal "web surfing". For reference, see this post: Disable same origin policy in Chrome.One you use Phonegap to actually build the application and load it onto the device, this won't be an issue.If you're using Apache just add:in your configuration. This will cause all responses from your webserver to be accessible from any other site on the internet. If you intend to only allow services on your host to be used by a specific server you can replace the * with the URL of the originating server:If you have an ASP.NET / ASP.NET MVC application, you can include this header via the Web.config file:This was the first question/answer that popped up for me when trying to solve the same problem using ASP.NET MVC as the source of my data. I realize this doesn't solve the PHP question, but it is related enough to be valuable.I am using ASP.NET MVC. The blog post from Greg Brant worked for me. Ultimately, you create an attribute, [HttpHeaderAttribute("Access-Control-Allow-Origin", "*")], that you are able to add to controller actions.For example:And then using it with:As Matt Mombrea is correct for the server side, you might run into another problem which is whitelisting rejection.You have to configure your phonegap.plist. (I am using a old version of phonegap)For cordova, there might be some changes in the naming and directory. But the steps should be mostly the same.First select Supporting files > PhoneGap.plistthen under "ExternalHosts"Add a entry, with a value of perhaps "http://nqatalog.negroesquisso.pt"

I am using * for debugging purposes only.This might be handy for anyone who needs to an exception for both 'www' and 'non-www' versions of a referrer:I will give you a simple solution for this one. In my case I don't have access to a server. In that case you can change the security policy in your Google Chrome browser to allow Access-Control-Allow-Origin. This is very simple:Simple paste in "C:\Program Files\Google\Chrome\Application\chrome.exe" --allow-file-access-from-files --disable-web-security.The location may differ. Now open Chrome by clicking on that shortcut.I've run into this a few times when working with various APIs. Often a quick fix is to add "&callback=?" to the end of a string. Sometimes the ampersand has to be a character code, and sometimes a "?": "?callback=?" (see Forecast.io API Usage with jQuery)If you're writing a Chrome Extension and get this error, then be sure you have added the API's base URL to your manifest.json's permissions block, example:This is because of same-origin policy. See more at Mozilla Developer Network or Wikipedia.Basically, in your example, you need load the http://nqatalog.negroesquisso.pt/login.php page only from nqatalog.negroesquisso.pt, not localhost.if you're under apache, just add an .htaccess file to your directory with this content:In Ruby on Rails, you can do in a controller:You may make it work without modifiying the server by making the broswer including the header Access-Control-Allow-Origin: * in the HTTP OPTIONS' responses.In Chrome, use this extension. If you are on Mozilla check this answer.If you get this in Angular.js, then make sure you escape your port number like this:See here for more info on it.We also have same problem with phonegap application tested in chrome.

One windows machine we use below batch file everyday before Opening Chrome.

Remember before running this you need to clean all instance of chrome from task manager or you can select chrome to not to run in background.BATCH: (use cmd)In Ruby Sinatrafor everyone orWhen you receive the request you can than when you have to response go with something like that:

Changing website favicon dynamically

SqlRyan

[Changing website favicon dynamically](https://stackoverflow.com/questions/260857/changing-website-favicon-dynamically)

I have a web application that's branded according to the user that's currently logged in. I'd like to change the favicon of the page to be the logo of the private label, but I'm unable to find any code or any examples of how to do this. Has anybody successfully done this before?I'm picturing having a dozen icons in a folder, and the reference to which favicon.ico file to use is just generated dynamically along with the HTML page. Thoughts?

2008-11-04 04:11:55Z

I have a web application that's branded according to the user that's currently logged in. I'd like to change the favicon of the page to be the logo of the private label, but I'm unable to find any code or any examples of how to do this. Has anybody successfully done this before?I'm picturing having a dozen icons in a folder, and the reference to which favicon.ico file to use is just generated dynamically along with the HTML page. Thoughts?Why not?Firefox should be cool with it.edited to properly overwrite existing iconsHere’s some code that works in Firefox, Opera, and Chrome (unlike every other answer posted here). Here is a different demo of code that works in IE11 too. The following example might not work in Safari or Internet Explorer.You would then use it as follows:Fork away or view a demo.If you have the following HTML snippet:You can change the favicon using Javascript by changing the HREF element on this link, for instance (assuming you're using JQuery):You can also create a Canvas element and set the HREF as a ToDataURL() of the canvas, much like the Favicon Defender does.jQuery Version:or even better:Vanilla JS version:A more modern approach:You can then use it like this:The favicon is declared in the head tag with something like:You should be able to just pass the name of the icon you want along in the view data and throw it into the head tag.Here's some code I use to add dynamic favicon support to Opera, Firefox and Chrome. I couldn't get IE or Safari working though. Basically Chrome allows dynamic favicons, but it only updates them when the page's location (or an iframe etc in it) changes as far as I can tell:To change favicons, just go favicon.change("ICON URL") using the above.(credits to http://softwareas.com/dynamic-favicons for the code I based this on.)I would use Greg's approach and make a custom handler for favicon.ico

Here is a (simplified) handler that works:Then you can use that handler in the httpHandlers section of the web config in IIS6 or use the 'Handler Mappings' feature in IIS7.The only way to make this work for IE is to set you web server to treat requests for *.ico to call your server side scripting language (PHP, .NET, etc).  Also setup *.ico to redirect to a single script and have this script deliver the correct favicon file.  I'm sure there is still going to be some interesting issues with cache if you want to be able to bounce back and forth in the same browser between different favicons.There is a single line solution for those who use jQuery:According to WikiPedia, you can specify which favicon file to load using the link tag in the head section, with a parameter of rel="icon". For example:I imagine if you wanted to write some dynamic content for that call, you would have access to cookies so you could retrieve your session information that way and present appropriate content.You may fall foul of file formats (IE reportedly only supports it's .ICO format, whilst most everyone else supports PNG and GIF images) and possibly caching issues, both on the browser and through proxies. This would be because of the original itention of favicon, specifically, for marking a bookmark with a site's mini-logo.Yes totally possiblee.g. Then whatever server side language / framework you use should easily be able to find the file based on the userId and serve it up in response to that request.  But to do favicons properly (its actually a really complex subject) please see the answer here https://stackoverflow.com/a/45301651/661584 A lot lot easier than working out all the details yourself. Enjoy. Or if you want an emoticon :)Props to https://koddsson.com/posts/emoji-favicon/I use favico.js in my projects.It allows to change the favicon to a range of predefined shapes and also custom ones.Internally it uses canvas for rendering and base64 data URL for icon encoding.The library also has nice features: icon badges and animations; purportedly, you can even stream the webcam video into the icon :)

How can I remove a character from a string using Javascript?

user1293504

[How can I remove a character from a string using Javascript?](https://stackoverflow.com/questions/9932957/how-can-i-remove-a-character-from-a-string-using-javascript)

I am so close to getting this, but it just isn't right. 

All I would like to do is remove the character r from a string. 

The problem is, there is more than one instance of r in the string.

However, it is always the character at index 4 (so the 5th character).example string: crt/r2002_2What I want: crt/2002_2This replace function removes both rProduces: ct/2002_2I tried this function:It only works if I replace it with another character. It will not simply remove it.Any thoughts?

2012-03-29 20:24:42Z

I am so close to getting this, but it just isn't right. 

All I would like to do is remove the character r from a string. 

The problem is, there is more than one instance of r in the string.

However, it is always the character at index 4 (so the 5th character).example string: crt/r2002_2What I want: crt/2002_2This replace function removes both rProduces: ct/2002_2I tried this function:It only works if I replace it with another character. It will not simply remove it.Any thoughts?will replace /r with / using String.prototype.replace.Alternatively you could use regex with a global flag (as suggested by Erik Reppen & Sagar Gala, below) to replace all occurrences withEDIT:

Since everyone's having so much fun here and user1293504 doesn't seem to be coming back any time soon to answer clarifying questions, here's a method to remove the Nth character from a string:Since user1293504 used the normal count instead of a zero-indexed count, we've got to remove 1 from the index, if you wish to use this to replicate how charAt works do not subtract 1 from the index on the 3rd line and use tmp.splice(i, 1) instead.A simple functional javascript way would be mystring = mystring.split('/r').join('/')simple, fast, it replace globally and no need for functions or prototypesThere's always the string functions, if you know you're always going to remove the fourth character:Your first func is almost right. Just remove the 'g' flag which stands for 'global' (edit) and give it some context to spot the second 'r'.Edit: didn't see it was the second 'r' before so added the '/'. Needs \/ to escape the '/' when using a regEx arg. Thanks for the upvotes but I was wrong so I'll fix and add more detail for people interested in understanding the basics of regEx better but this would work:Now for the excessive explanation:When reading/writing a regEx pattern think in terms of: <a character or set of charcters> followed by <a character or set of charcters> followed by <...In regEx <a character or set of charcters> could be one at a time:So read as e, followed by a, followed by c, etc...Or a single <a character or set of charcters> could be characters described by a character class:Or expanded on to match a quantity of characters (but still best to think of as a single element in terms of the sequential pattern):So smoosh a bunch together:And of course I've over-elaborated but my  point was simply that this:is a series of 3 pattern elements (a thing followed by a thing followed by a thing).And so is this:As wacky as regEx starts to look, it all breaks down to series of things (potentially multi-character things) following each other sequentially. Kind of a basic point but one that took me a while to get past so I've gone overboard explaining it here as I think it's one that would help the OP and others new to regEx understand what's going on. The key to reading/writing regEx is breaking it down into those pieces.For global replacement of '/r', this code worked for me.Just fix your replaceAt:I'd call it  removeAt instead. :)char.length is zero. You need to add 1 in this case in order to skip character.If it is always the 4th char in yourString you can try:    This is because when char is equal to "", char.length is 0, so your substrings combine to form the original string. Going with your code attempt, the following will work:Create function like below To replace give character like belowand to remove character at definite index, give second parameter as empty stringI dislike using replace function to remove characters from string. This is not logical to do it like that. Usually I program in C# (Sharp), and whenever I want to remove characters from string, I use the Remove method of the String class, but no Replace method, even though it exists, because when I am about to remove, I remove, no replace. This is logical!In Javascript, there is no remove function for string, but there is substr function. You can use the substr function once or twice to remove characters from string. You can make the following function to remove characters at start index to the end of string, just like the c# method first overload String.Remove(int startIndex):and/or you also can make the following function to remove characters at start index and count, just like the c# method second overload String.Remove(int startIndex, int count):and then you can use these two functions or one of them for your needs!Example:Output: crt/2002_2Achieving goals by doing techniques with no logic might cause confusions in understanding of the code, and future mistakes, if you do this a lot in a large project!The following function worked best for my case:The shortest way would be to use spliceYou can use this: if ( str[4] === 'r' ) str = str.slice(0, 4) + str.slice(5)Explanation:Minified: s=s[4]=='r'?s.slice(0,4)+s.slice(5):s [37 bytes!]

DEMO:If you just want to remove single character and

If you know index of a character you want to remove, you can use following function:This is improvement of simpleigh answer (omit length)In C# (Sharp), you can make an empty character as '\0'.

Maybe you can do this:Search on google or surf on the interent and check if javascript allows you to make empty characters, like C# does. If yes, then learn how to do it, and maybe the replaceAt function will work at last, and you'll achieve what you want!Finally that 'r' character will be removed!

Open URL in same window and in same tab

user1065055

[Open URL in same window and in same tab](https://stackoverflow.com/questions/8454510/open-url-in-same-window-and-in-same-tab)

I want to open a link in the same window and in the same tab that contains the page with the link.When I try to open a link by using window.open, then it opens in new tab—not in the same tab in the same window.

2011-12-10 05:00:15Z

I want to open a link in the same window and in the same tab that contains the page with the link.When I try to open a link by using window.open, then it opens in new tab—not in the same tab in the same window.You need to use the name attribute:Edit: Url should be prepended with protocol. Without it tries to open relative url. Tested in Chrome 59, Firefox 54 and IE 11.Use this:In order to ensure that the link is opened in the same tab, you should use window.location.replace() See the example below: Source: http://www.w3schools.com/jsref/met_loc_replace.aspYou can have it go to the same page without specifying the url:If you have your pages inside "frame" then 

    "Window.open('logout.aspx','_self')" will be redirected inside same frame. So by using we can load the page as new request.One of the most prominent javascript features is to fire onclick handlers on the fly. I found following mechanism more reliable than using location.href='' or location.reload() or window.open:Above code is also helpful to open new tab/window and bypassing all pop-up blockers!!! E.g.Open another url like a click in linkDo you have to use window.open? What about using window.location="http://example.com"?window.open(url, wndname, params), it has three arguments. if you don't want it open in the same window, just set a different wndname. such as :Here is the details about window.open(), you can trust it!

https://developer.mozilla.org/en/DOM/window.openhave a try ~~With html 5 you can use history API.Then on the next page you can access state object like soThats pretty easy. Open first window as window.open(url, <tabNmae>)Example: window.open("abc.com",'myTab')and for next all window.open, use same tab name instead of _self, _parent etc.Exactly like this

window.open("www.youraddress.com","_self")https://developer.mozilla.org/en-US/docs/Web/API/Window/open#Syntax

Equivalent of jQuery .hide() to set visibility: hidden

TMS

[Equivalent of jQuery .hide() to set visibility: hidden](https://stackoverflow.com/questions/9614622/equivalent-of-jquery-hide-to-set-visibility-hidden)

In jQuery, there are .hide() and .show() methods which sets the CSS display: none setting. Is there an equivalent function which would set the visibility: hidden setting? I know I can use .css() but I prefer some function like .hide() or so. Thanks.

2012-03-08 08:17:21Z

In jQuery, there are .hide() and .show() methods which sets the CSS display: none setting. Is there an equivalent function which would set the visibility: hidden setting? I know I can use .css() but I prefer some function like .hide() or so. Thanks.You could make your own plugins.If you want to overload the original jQuery toggle(), which I don't recommend...jsFiddle.There isn't one built in but you could write your own quite easily:You can then call this like so:Here's a working example.An even simpler way to do this is to use jQuery's toggleClass() methodCSSHTMLJSIf you only need the standard functionality of hide only with visibility:hidden to keep the current layout you can use the callback function of hide to alter the css in the tag. Hide docs in jqueryAn example :This will use the normal cool animation to hide the div, but after the animation finish you set the visibility to hidden and display to block.An example : http://jsfiddle.net/bTkKG/1/I know you didnt want the $("#aa").css() solution, but you did not specify if it was because using only the css() method you lose the animation.Pure JS equivalent for jQuery hide()/show() :We use return el due to satisfy fluent interface "desing pattern".  Here is working example.Below I also provide HIGHLY unrecommended alternative, which is however probably more "close to question" answer:of course this not implement jQuery 'each' (given in @JamesAllardice answer) because we use pure js here. Working example is here.Here's one implementation, what works like $.prop(name[,value]) or $.attr(name[,value]) function. If b variable is filled, visibility is set according to that, and this is returned (allowing to continue with other properties), otherwise it returns visibility value.Example:

How to create a <style> tag with Javascript?

Christoph

[How to create a <style> tag with Javascript?](https://stackoverflow.com/questions/524696/how-to-create-a-style-tag-with-javascript)

I'm looking for a way to insert a <style> tag into an HTML page with JavaScript.The best way I found so far:This works in Firefox, Opera and Internet Explorer but not in Google Chrome. Also it's a bit ugly with the <br> in front for IE.Does anyone know of a way to create a <style> tag thatOr maybe

2009-02-07 22:12:30Z

I'm looking for a way to insert a <style> tag into an HTML page with JavaScript.The best way I found so far:This works in Firefox, Opera and Internet Explorer but not in Google Chrome. Also it's a bit ugly with the <br> in front for IE.Does anyone know of a way to create a <style> tag thatOr maybeTry adding the style element to the head rather than the body.This was tested in IE (7-9), Firefox, Opera and Chrome:Here's a script which adds IE-style createStyleSheet() and addRule() methods to browsers which don't have them:You can add external files viaand dynamically create rules viaI'm assuming that you're wanting to insert a style tag versus a link tag (referencing an external CSS), so that's what the following example does:Also, I noticed in your question that you are using innerHTML. This is actually a non-standard way of inserting data into a page. The best practice is to create a text node and append it to another element node.With respect to your final question, you're going to hear some people say that your work should work across all of the browsers. It all depends on your audience. If no one in your audience is using Chrome, then don't sweat it; however, if you're looking to reach the biggest audience possible, then it's best to support all major A-grade browsers<style> tags should be places within the <head> element, and each added tag should be added to the bottom of the <head> tag.Using insertAdjacentHTML to inject a style tag into the document head tag:An example that works and are compliant with all browsers :Oftentimes there's a need to override existing rules, so appending new styles to the HEAD doesn't work in every case.I came up with this simple function that summarizes all not valid "append to the BODY" approaches and is just more convenient to use and debug (IE8+).Demo: codepen, jsfiddleThis object variable will append style tag to the head tag with type attribute and one simple transition rule inside that matches every single id/class/element. Feel free to modify content property and inject as many rules as you need. Just make sure that css rules inside content remain in one line (or 'escape' each new line, if You prefer so). Here is a variant for dynamically adding a class All good, but for styleNode.cssText to work in IE6 with node created by javascipt, you need to append the node to the document before you set the cssText;further info @ http://msdn.microsoft.com/en-us/library/ms533698%28VS.85%29.aspxThis function will inject css whenever you call the function appendStyle like this:

appendStyle('css you want to inject')This works by injecting a style node into the head of the document. This is a similar technique to what is commonly used to lazy-load JavaScript.

It works consistently in most modern browsers.You can also lazy-load external CSS files by using the following snippet:You wrote:Why not this?Henceforward you can append CSS rules easily to the HTML code:...or directly to the DOM:I expect this to work everywhere except archaic browsers.Definitely works in Chrome in year 2019.If the problem you're facing is injecting a string of CSS into a page it is easier to do this with the <link> element than the <style> element.The following adds p { color: green; } rule to the page.You can create this in JavaScript simply by URL encoding your string of CSS and adding it the HREF attribute. Much simpler than all the quirks of <style> elements or directly accessing stylesheets.This will work in IE 5.5 upwardsBy far the most straightforward solution. All you have to do is type the same as how you'd normally declare style tags, between the backtickshttp://jonraasch.com/blog/javascript-style-node

When do items in HTML5 local storage expire?

user280427

[When do items in HTML5 local storage expire?](https://stackoverflow.com/questions/2326943/when-do-items-in-html5-local-storage-expire)

For how long is data stored in localStorage (as part of DOM Storage in HTML5) available? Can I set an expiration time for the data which I put into localStorage?

2010-02-24 15:02:36Z

For how long is data stored in localStorage (as part of DOM Storage in HTML5) available? Can I set an expiration time for the data which I put into localStorage?It's not possible to specify expiration. It's completely up to the user.https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorageOf course, it's possible that something your application stores on the client may not be there later. The user can explicitly get rid of local storage, or the browser may run into space considerations.  It's good to program defensively. Generally however things remain "forever" based on some practical definition of that word.edit — obviously, your own application can actively remove stuff if it decides it's too old. That is, you can explicitly include some sort of timestamp in what you've got saved, and then use that later to decide whether or not information should be flushed.I would suggest to store timestamp in the object you store in the localStorage You can parse the object, get the timestamp and compare with the current Date, and if necessary, update the value of the object.You can use lscache. It handles this for you automatically, including instances where the storage size exceeds the limit. If that happens, it begins pruning items that are the closest to their specified expiration.From the readme:This is the only real difference between the regular storage methods. Get, remove, etc work the same. If you don't need that much functionality, you can simply store a time stamp with the value (via JSON) and check it for expiry.Noteworthy, there's a good reason why local storage is left up to the user. But, things like lscache do come in handy when you need to store extremely temporary data.  Brynner Ferreira, has brought a good point: storing a sibling key where expiration info resides. This way, if you have a large amount of keys, or if your values are large Json objects, you don't need to parse them to access the timestamp.here follows an improved version:While local storage does not supply an expiration mechanism, cookies do. Simply pairing a local storage key with a cookie provides an easy way to ensure that local storage can be updated with the same expiration parameters as a cookie.Example in jQuery:This example sets a cookie with the default parameter to expire when the browser is closed. Thus, when the browser is closed and re-opened, the local data store for your_data gets refreshed by a server-side call.Note that this is not exactly the same as removing the local data store, it is instead updating the local data store whenever the cookie expires. However, if your main goal is to be able to store more than 4K client-side (the limitation for cookie size), this pairing of cookie and local storage will help you to accomplish a larger storage size using the same expiration parameters as a cookie.click here for view apiThe lifecycle is controlled by the application/user.From the standard:From the W3C draft:You'll want to do your updates on your schedule using setItem(key, value); that will either add or update the given key with the new data.If someone using jStorage Plugin of jQuery the it can be add expiry with setTTL function if jStorage pluginIf anyone still looking for a quick solution and don't want dependencies like jquery etc I wrote a mini lib that add expiration to local / session / custom storage, you can find it with source here: https://github.com/RonenNess/ExpiredStorageYou can try this one.Workaround using angular and localforage:@sebarmeli's approach is the best in my opinion, but if you only want data to persist for the life of a session then sessionStorage is probably a better option:MDN: sessionStorageFor the benefit of searchers: Like Fernando, I didn't want to add a load of json when the values stored were simple. I just needed to track some UI interaction and keep the data relevant (e.g. how a user used an ecommerce site before checking out).This will not meet everyones criteria, but will hopefully be a quick copy+paste starter for someone and save adding another lib.NOTE: This would not be good if you need to retrieve the items individually.

How can I process each letter of text using Javascript?

Nic Hubbard

[How can I process each letter of text using Javascript?](https://stackoverflow.com/questions/1966476/how-can-i-process-each-letter-of-text-using-javascript)

I would like to alert each individual letter of a string, but I am unsure how to do this.So, if I have:I would like to be able to separately alert T, h, i, s, etc.  This is just the beginning of an idea that I am working on, but I need to know how to process each letter separately.I want to use jQuery and was thinking I might need to use the split function after testing what the length of the string is.Ideas?

2009-12-27 17:29:28Z

I would like to alert each individual letter of a string, but I am unsure how to do this.So, if I have:I would like to be able to separately alert T, h, i, s, etc.  This is just the beginning of an idea that I am working on, but I need to know how to process each letter separately.I want to use jQuery and was thinking I might need to use the split function after testing what the length of the string is.Ideas?If the order of alerts matters, use this:If the order of alerts doesn't matter, use this:It's probably more than solved. Just want to contribute with another simple solution:One possible solution in pure javascript:https://jsperf.com/str-for-in-of-foreach-map-2Classic and by far the one with the most performance. You should go with this one if you are planning to use it in a performance critical algorithm, or that it requires the maximum compatibility with browser versions.for...of is the new ES6 for iterator. Supported by most modern browsers. It is visually more appealing and is less prone to typing mistakes. If you are going for this one in a production application, you should be probably using a transpiler like Babel.Functional approach. Airbnb approved. The biggest downside of doing it this way is the split(), that creates a new array to store each individual letter of the string.orThe following are the ones I dislike.Unlike for...of, you get the letter index instead of the letter. It performs pretty badly.Function approach, which is good. However, map isn't meant to be used for that. It should be used when needing to change the values inside an array, which is not the case.orMost if not all of the answers here are wrong because they will break whenever there is a character in the string outside the Unicode BMP (Basic Multilingual Plane). That means all Emoji will be broken.JavaScript uses UTF-16 Unicode for all strings. In UTF-16, characters beyond the BMP are made out of two parts, called a "Surrogate Pair" and most of the answers here will process each part of such pairs individually instead of as a single character.One way in modern JavaScript since at least 2016 is to use the new String iterator. Here's the example (almost) straight out of MDN:You can try thisOne more solution...When I need to write short code or a one-liner, I use this "hack":This won't count newlines so that can be a good thing or a bad thing. If you which to include newlines, replace: /./ with /[\S\s]/. The other one-liners you may see probably use .split() which has many problemsNew JS allows this:It is better to use the for...of statement, if the string contains unicode characters, because of the different byte size.You can now use in keyword. short answer: Array.from(string) will give you what you probably want and then you can iterate on it or whatever since it's just an array.ok let's try it with this string: abc|⚫️\n⚪️|👨‍👩‍👧‍👧.codepoints are:so some characters have one codepoint (byte) and some have two or more, and a newline added for extra testing.so after testing there are two ways:You can get an array of the individual characters like soand then loop using regular Javascript, or else you can iterate over the string's characters using jQuery byIf you want to do a transformation on the text on a character level, and get the transformed text back at the end, you would do something like this:So the steps:You can now iterate over individual Unicode code points contained in a String by using String.prototype[@@iterator], which returns a value of well known Symbol type Symbol.iterator - the default iterator for array-like Objects (String in this case).Example code:This works with Unicode characters such as emoji or non-roman characters that would trip up legacy constructs.Reference: MDN Link to String.prototype@@iterator.you can convert this string into an array of chars using split(), then iterate through it.In today's JavaScript you can Array.prototype.map.call('This is my string', (c) => c+c)

Obviously, c+c represents whatever you want to do with c.This returns ["TT", "hh", "ii", "ss", "  ", "ii", "ss", "  ", 

  "mm", "yy", "  ", "ss", "tt", "rr", "ii", "nn", "gg"]This should work in older browsers and with UTF-16 characters like 💩.This should be the most compatible solution. However, it is less performant than a for loop would be.I generated the regular expression using regexpuHope this helps!You can access single characters with str.charAt(index) or str[index]. But the latter way is not part of ECMAScript so you better go with the former one.If you want to animate each character you might need to wrap it in span element;I think this is the best way to do it, then process the spans. ( for example with TweenMax)TweenMax.staggerFromTo( $demoText.find("span"), 0.2, {autoAlpha:0}, {autoAlpha:1}, 0.1 );Try this code

Remove duplicates from an array of objects in JavaScript

Travis

[Remove duplicates from an array of objects in JavaScript](https://stackoverflow.com/questions/2218999/remove-duplicates-from-an-array-of-objects-in-javascript)

I have an object that contains an array of objects.I'm wondering what is the best method to remove duplicate objects from an array.  So for example, things.thing would become...

2010-02-08 00:40:33Z

I have an object that contains an array of objects.I'm wondering what is the best method to remove duplicate objects from an array.  So for example, things.thing would become...A primitive method would be:How about with some es6 magic?Reference URLA more generic solution would be:Stackblitz ExampleIf you can use Javascript libraries such as underscore or lodash, I recommend having a look at _.uniq function in their libraries. From lodash:Basically, you pass in the array that in here is an object literal and you pass in the attribute that you want to remove duplicates with in the original data array, like this:UPDATE: Lodash now has introduced a .uniqBy as well. I had this exact same requirement, to remove duplicate objects in a array, based on duplicates on a single field.  I found the code here: Javascript: Remove Duplicates from Array of ObjectsSo in my example, I'm removing any object from the array that has a duplicate licenseNum string value.The results:uniqueArray is: One liner using SetExplanation:Here's another option to do it using Array iterating methods if you need comparison only by one field of an object:Shortest one liners for ES6+Find unique id's in an array.Unique by multiple properties ( place and name )Unique by all properties (This will be slow for large arrays)Keep the last occurrence. Add slice and reverse to beginning and reverse again in the end.If you can wait to eliminate the duplicates until after all the additions, the typical approach is to first sort the array and then eliminate duplicates. The sorting avoids the N * N approach of scanning the array for each element as you walk through them.The "eliminate duplicates" function is usually called unique or uniq. Some existing implementations may combine the two steps, e.g., prototype's uniqThis post has few ideas to try (and some to avoid :-) ) if your library doesn't already have one! Personally I find this one the most straight forward:one liner is hereThe simplest way is use filter:Using ES6 in a single line you can get a unique list of objects by key:It can be put into a function and used like in the below example:This is a generic way of doing this: you pass in a function that tests whether two elements of an array are considered equal. In this case, it compares the values of the name and place properties of the two objects being compared.ES5 answerOriginal ES3 answerTo add one more to the list. Using ES6 and Array.reduce with Array.find.

In this example filtering objects based on a guid property.  Extending this one to allow selection of a property and compress it into a one liner:To use it pass an array of objects and the name of the key you wish to de-dupe on as a string value:You could also use a Map:Full sample:Result:Dang, kids, let's crush this thing down, why don't we?A TypeScript solutionThis will remove duplicate objects and also preserve the types of the objects.Considering lodash.uniqWithAnother option would be to create a custom indexOf function, which compares the values of your chosen property for each object and wrap this in a reduce function.   One-liner using ES6 and new Map().Details:-Here is a solution for es6 where you only want to keep the last item. This solution is functional and Airbnb style compliant.removeDuplicates() takes in an array of objects and returns a new array without any duplicate objects (based on the id property).Expected outcome:First, we set value of variable uniq to an empty object.Next, we filter through the array of objects. Filter creates a new array with all elements that pass the test implemented by the provided function.Above, we use the short-circuiting functionality of &&. If the left side of the && evaluates to true, then it returns the value on the right of the &&. If the left side is false, it returns what is on the left side of the &&.For each object(obj) we check uniq for a property named the value of obj.id (In this case, on the first iteration it would check for the property '1'.) We want the opposite of what it returns (either true or false) which is why we use the ! in !uniq[obj.id]. If uniq has the id property already, it returns true which evaluates to false (!) telling the filter function NOT to add that obj. However, if it does not find the obj.id property, it returns false which then evaluates to true (!) and returns everything to the right of the &&, or (uniq[obj.id] = true). This is a truthy value, telling the filter method to add that obj to the returned array, and it also adds the property {1: true} to uniq. This ensure that any other obj instance with that same id will not be added again.Multiple Ways to remove duplicate objects from array es6 magic in one line... readable at that!Simple solution with ES6 'reduce' and 'find' array helper methodsWorks efficiently and perfectly fine!I believe a combination of reduce with JSON.stringify to perfectly compare Objects and selectively adding those who are not already in the accumulator is an elegant way.Keep in mind that JSON.stringify might become a performance issue  in extreme cases where the array has many Objects and they are complex, BUT for majority of the time, this is the shortest way to go IMHO.If you don't mind your unique array being sorted afterwards, this would be an efficient solution:This way, you only have to compare the current element with the previous element in the array. Sorting once before filtering (O(n*log(n))) is cheaper than searching for a duplicate in the entire array for every array element (O(n²)).This is simple way how to remove duplicity from array of objects.I work with data a lot and this is useful for me.will print into console :str is an array of objects. There exists objects having same value (here a small example, there are two objects having same item_id as 2). check(id) is a function that checks if any object having same item_id exists or not. if it exists return false otherwise return true. According to that result, push the object into a new array obj

The output of the above code is

[{"item_id":1},{"item_id":2}]Have you heard of Lodash library? 

I recommend you this utility, when you don't really want to apply your logic to the code, and use already present code which is optimised and reliable. Consider making an array like thisNote that if you want to keep one attribute unique, you may very well do that by using lodash library. Here, you may use _.uniqByThis method is like _.uniq (which returns a duplicate-free version of an array, in which only the first occurrence of each element is kept) except that it accepts iteratee which is invoked for each element in array to generate the criterion by which uniqueness is computed.So, for example, if you want to return an array having unique attribute of 'place'Similarly, if you want unique attribute as 'name'Hope this helps.Cheers!

AngularJS: How can I pass variables between controllers?

dopatraman

[AngularJS: How can I pass variables between controllers?](https://stackoverflow.com/questions/12008908/angularjs-how-can-i-pass-variables-between-controllers)

I have two Angular controllers:I can't use Ctrl1 inside Ctrl2 because it is undefined. However if I try to pass it in like so…I get an error. Does anyone know how to do this?Doing Also fails.NOTE: These controllers are not nested inside each other.

2012-08-17 15:42:45Z

I have two Angular controllers:I can't use Ctrl1 inside Ctrl2 because it is undefined. However if I try to pass it in like so…I get an error. Does anyone know how to do this?Doing Also fails.NOTE: These controllers are not nested inside each other.One way to share variables across multiple controllers is to create a service and inject it in any controller where you want to use it.Simple service example:Using the service in a controller:This is described very nicely in this blog (Lesson 2 and on in particular).I've found that if you want to bind to these properties across multiple controllers it works better if you bind to an object's property instead of a primitive type (boolean, string, number) to retain the bound reference. Example: var property = { Property1: 'First' }; instead of var property = 'First';.UPDATE: To (hopefully) make things more clear here is a fiddle that shows an example of:I like to illustrate simple things by simple examples :)Here is a very simple Service example:And here the jsbinAnd here is a very simple Factory example:And here the jsbinIf that is too simple, here is a more sophisticated exampleAlso see the answer here for related best practices comments--- I know this answer is not for this question, but I want people who reads this question  and want to handle Services such as Factories to avoid trouble doing this ----For this you will need to use a Service or a Factory.The services are the BEST PRACTICE to share data between not nested controllers.A very very good annotation on this topic about data sharing is how to declare objects. I was unlucky because I fell in a AngularJS trap before I read about it, and I was very frustrated. So let me help you avoid this trouble.I read from the "ng-book: The complete book on AngularJS" that AngularJS ng-models that are created in controllers as bare-data are WRONG!A $scope element should be created like this:And not like this:This is because it is recomended(BEST PRACTICE) for the DOM(html document) to contain the calls asThis is very helpful for nested controllers if you want your child controller to be able to change an object from the parent controller....But in your case you don't want nested scopes, but there is a similar aspect to get objects from services to the controllers.Lets say you have your service 'Factory' and in the return space there is an objectA that contains objectB that contains objectC.If from your controller you want to GET the objectC into your scope, is a mistake to say:That wont work...

Instead use only one dot.Then, in the DOM you can call objectC from objectA. This is a best practice related to factories, and most important, it will help to avoid unexpected and non-catchable errors.Solution without creating Service, using $rootScope:To share properties across app Controllers you can use Angular $rootScope. This is another option to share data, putting it so that people know about it.The preferred way to share some functionality across Controllers is Services, to read or change a global property you can use $rootscope.Using $rootScope in a template (Access properties with $root):The sample above worked like a charm. I just did a modification just in case I need to manage multiple values. I hope this helps!I tend to use values, happy for anyone to discuss why this is a bad idea..Then inject the value as per a service.Set in ctrl1:and access from ctrl2:I'd like to contribute to this question by pointing out that the recommended way to share data between controllers, and even directives, is by using services (factories) as it has been already pointed out, but also I'd like to provide a working practical example of how to that should be done.Here is the working plunker: http://plnkr.co/edit/Q1VdKJP2tpvqqJL1LF6m?p=infoFirst, create your service, that will have your shared data:Then, simply inject it on your controllers and grab the shared data on your scope:You can also do that for your directives, it works the same way:Hope this practical and clean answer can be helpful to someone.The following example shows how to pass variables between siblings controllers and take an action when the value changes. Use case example: you have a filter in a sidebar that changes the content of another view.You could do that with services or factories. They are essentially the same apart for some core differences. I found this explanation on thinkster.io to be the easiest to follow. Simple, to the point and effective.Couldn't you also make the property part of the scopes parent?  I'm not saying it's right but it works.Ah, have a bit of this new stuff as another alternative. It's localstorage, and works where angular works. You're welcome. (But really, thank the guy)https://github.com/gsklee/ngStorageDefine your defaults:Access the values:Store the valuesRemember to inject ngStorage in your app and $localStorage in your controller.There are two ways to do this 1) Use get/set service 2)

$scope.$emit('key', {data: value}); //to set the valueSecond Approach :Html : 

  For more details see plunker : http://plnkr.co/edit/cKVsPcfs1A1Wwlud2jtO?p=previewIf you don't want to make service then you can do like this. Besides $rootScope and services, there is a clean and easy alternative solution to extend angular to add the shared data:in the controllers:This properties belong to 'angular' object, separated from the scopes, and can be shared in scopes and services.1 benefit of it that you don't have to inject the object: they are accessible anywhere immediately after your defination!

Converting user input string to regular expression

Gordon Gustafson

[Converting user input string to regular expression](https://stackoverflow.com/questions/874709/converting-user-input-string-to-regular-expression)

I am designing a regular expression tester in HTML and JavaScript. The user will enter a regex, a string, and choose the function they want to test with (e.g. search, match, replace, etc.) via radio button and the program will display the results when that function is run with the specified arguments. Naturally there will be extra text boxes for the extra arguments to replace and such. My problem is getting the string from the user and turning it into a regular expression. If I say that they don't need to have //'s around the regex they enter, then they can't set flags, like g and i. So they have to have the //'s around the expression, but how can I convert that string to a regex? It can't be a literal since its a string, and I can't pass it to the RegExp constructor since its not a string without the //'s. Is there any other way to make a user input string into a regex? Will I have to parse the string and flags of the regex with the //'s then construct it another way? Should I have them enter a string, and then enter the flags separately? 

2009-05-17 14:20:18Z

I am designing a regular expression tester in HTML and JavaScript. The user will enter a regex, a string, and choose the function they want to test with (e.g. search, match, replace, etc.) via radio button and the program will display the results when that function is run with the specified arguments. Naturally there will be extra text boxes for the extra arguments to replace and such. My problem is getting the string from the user and turning it into a regular expression. If I say that they don't need to have //'s around the regex they enter, then they can't set flags, like g and i. So they have to have the //'s around the expression, but how can I convert that string to a regex? It can't be a literal since its a string, and I can't pass it to the RegExp constructor since its not a string without the //'s. Is there any other way to make a user input string into a regex? Will I have to parse the string and flags of the regex with the //'s then construct it another way? Should I have them enter a string, and then enter the flags separately? Use the RegExp object constructor to create a regular expression from a string:orHere is a one-liner: str.replace(/[|\\{}()[\]^$+*?.]/g, '\\$&')I got it from the escape-string-regexp NPM module.Trying it out:Use the JavaScript RegExp object constructor.You can pass flags as a second string argument to the constructor. See the documentation for details.In my case the user input somethimes was sorrounded by delimiters and sometimes not. therefore I added another case..I suggest you also add separate checkboxes or a textfield for the special flags. That way it is clear that the user does not need to add any //'s. In the case of a replace, provide two textfields. This will make your life a lot easier.Why? Because otherwise some users will add //'s while other will not. And some will make a syntax error. Then, after you stripped the //'s, you may end up with a syntactically valid regex that is nothing like what the user intended, leading to strange behaviour (from the user's perspective).This will work also when the string is invalid or does not contain flags etc:Thanks to earlier answers, this blocks serves well as a general purpose solution for applying a configurable string into a RegEx .. for filtering text:You can ask for flags using checkboxes then do something like this:If you really want to convert a string to a regex, try using the following function:You can use it like so:For reference, here is the formatted and more modern version:I use eval to solve this problem.For example:

How to update parent's state in React?

wklm

[How to update parent's state in React?](https://stackoverflow.com/questions/35537229/how-to-update-parents-state-in-react)

My structure looks as follows:Component 3 should display some data depending on state of Component 5.

Since props are immutable, I can't simply save it's state in Component 1 and forward it, right? And yes, I've read about redux, but don't want to use it. I hope that it's possible to solve it just with react. Am I wrong?

2016-02-21 14:17:52Z

My structure looks as follows:Component 3 should display some data depending on state of Component 5.

Since props are immutable, I can't simply save it's state in Component 1 and forward it, right? And yes, I've read about redux, but don't want to use it. I hope that it's possible to solve it just with react. Am I wrong?For child-parent communication you should pass a function setting the state from parent to child, like thisThis way the child can update the parent's state with the call of a function passed with props.But you will have to rethink your components' structure, because as I understand components 5 and 3 are not related.One possible solution is to wrap them in a higher level component which will contain the state of both component 1 and 3. This component will set the lower level state through props.I found the following working solution to pass onClick function argument from child to the parent component:Version with passing a method()Look at JSFIDDLEVersion with passing an Arrow functionLook at JSFIDDLEI want to thank the most upvoted answer for giving me the idea of my own problem basically the variation of it with arrow function and passing param from child component:Hope it helps someone.I like the answer regarding passing functions around, its a very handy technique.On the flip side you can also achieve this using pub/sub or using a variant, a dispatcher, as Flux does. The theory is super simple, have component 5 dispatch a message which component 3 is listening for. Component 3 then updates its state which triggers the re-render. This requires stateful components, which, depending on your viewpoint, may or may not be an anti-pattern. I'm against them personally and would rather that something else is listening for dispatches and changes state from the very top-down (Redux does this, but adds additional terminology).The dispatcher bundles with Flux is very simple, it simply registers callbacks and invokes them when any dispatch occurs, passing through the contents on the dispatch (in the above terse example there is no payload with the dispatch, simply a message id). You could adapt this to traditional pub/sub (e.g. using the EventEmitter from events, or some other version) very easily if that makes more sense to you.I found the following working solution to pass onClick function argument from child to the parent component with param:parent class :child class :When ever you require to communicate between child to parent at any level down, then it's better to make use of  context. In parent component  define the context that can be invoked by the child such as you can find Demo project at repoIt seems that we can only pass data from parent to child as react promotes Unidirectional Data Flow, but to make parent update itself when something happens in its "child component", we generally use what is called a "callback function". In this example we can make data pass from SubChild -> Child -> Parent by passing function to its direct Child.-We can create ParentComponent and with handleInputChange method to update the ParentComponent state. Import the ChildComponent and we pass two props from parent to child component ie.handleInputChange function and count.   I've used a top rated answer from this page many times, but while learning React, i've found a better way to do that, without binding and without inline function inside props.Just look here:The key is in an arrow function:You can read more here. Hope this will be useful for somebody =)If this same scenario is not spread everywhere you can use React's context, specially if you don't want to introduce all the overhead that state management libraries introduce. Plus, it's easier to learn. But be careful, you could overuse it and start writing bad code. Basically you define a Container component (that will hold and keep that piece of state for you)  making all the components interested in writing/reading that piece of data its children (not necessarily direct children)https://reactjs.org/docs/context.html You could also use plain React properly instead. pass doSomethingAbout5 up to Component 1If this a common problem you should starting thinking moving the whole state of the application to someplace else. You have a few options, the most common are:https://redux.js.org/ https://facebook.github.io/flux/Basically, instead of managing the application state in your component you send commands when something happens to get the state updated. Components pull the state from this container as well so all the data is centralized. This doesn't mean can't use local state anymore, but that's a more advanced topic.so, if you want to update parent component,Here onChange is an attribute with "handler" method bound to it's instance. 

we passed the method handler to the Child class component, to receive via onChange property in its props argument.The attribute onChange will be set in a props object like this:  and passed to the child componentSo the Child component can access the value of name in the props object like this props.onChangeIts done through the use of render props.Now the Child component has a button「Click」with an onclick event set to call the handler method passed to it via onChnge in its props argument object. So now this.props.onChange in Child holds the output method in the Parent class

Reference and credits: Bits and PiecesThis the way I do it. 

jQuery animate backgroundColor

SteveCl

[jQuery animate backgroundColor](https://stackoverflow.com/questions/190560/jquery-animate-backgroundcolor)

I am trying to animate a change in backgroundColor using jQuery on mouseover.I have checked some example and I seem to have it right, it works with other properties like fontSize, but with backgroundColor I get and "Invalid Property" js error.

The element I am working with is a div.Any ideas?

2008-10-10 08:49:28Z

I am trying to animate a change in backgroundColor using jQuery on mouseover.I have checked some example and I seem to have it right, it works with other properties like fontSize, but with backgroundColor I get and "Invalid Property" js error.

The element I am working with is a div.Any ideas?The color plugin is only 4kb so much cheaper than the UI library.  Of course you'll want to use a decent version of the plugin and not some buggy old thing which doesn't handle Safari and crashes when the transitions are too fast.  Since a minified version isn't supplied you might like test various compressors and make your own min version.  YUI gets the best compression in this case needing only 2317 bytes and since it is so small - here it is:I had the same problem and fixed it by including jQuery UI. Here is the complete script : Do it with CSS3-Transitions. Support is great (all modern browsers, even IE). With Compass and SASS this is quickly done:Pure CSS:I've wrote an german article about this topic: http://www.solife.cc/blog/animation-farben-css3-transition.htmlBitstorm has the best jquery color animation plugin I've seen. It's an improvement to the jquery color project. It also supports rgba.http://www.bitstorm.org/jquery/color-animation/You can use jQuery UI to add this functionality. You can grab just what you need, so if you want to animate color, all you have to include is the following code. I got if from latest jQuery UI (currently 1.8.14)It's only 1.43kb after compressing with YUI:You can also animate colors using CSS3 transitions but it's only supported by modern browsers. Using shorthand property:Unlike regular javascript transitions, CSS3 transitions are hardware accelerated and therefore smoother. You can use Modernizr, to find out if the browser supports CSS3 transitions, if it didn't then you can use jQuery as a fallback:Remember to use stop() to stop the current animation before starting a new one otherwise when you pass over the element too fast, the effect keeps blinking for a while.For anyone finding this. Your better off using the jQuery UI version because it works on all browsers. The color plugin has issues with Safari and Chrome. It only works sometimes.You can use 2 divs:You could put a clone on top of it and fade the original out while fading the clone in.When the fades are done, restore the original with the new bg..toggleClass()

.offset()

.fadeIn()

.fadeOut()I used a combination of CSS transitions with JQuery for the desired effect; obviously browsers which don't support CSS transitions will not animate but its a lightweight option which works well for most browsers and for my requirements is acceptable degradation.Jquery to change the background color: CSS using transition to fade background-color changeThese days jQuery color plugin supports following named colors:I like using delay() to get this done, here's an example:This can be called by a function, with "element" being the element class/name/etc. The element will instantly appear with the #FCFCD8 background, hold for a second, then fade into #EFEAEA. Simply add the following snippet bellow your jquery script and enjoy:See the exampleReference for more infoI stumbled across this page with the same issue, but the following problems:With the above that pretty much ruled out every answer. Considering my fade of colour was very simple, I used the following quick hack instead:The above creates a temporary div that is never placed in the document flow. I then use jQuery's built-in animation to animate a numeric property of that element - in this case width - which can represent a percentage (0 to 100). Then, using the step function, I transfer this numeric animation to the text colour with a simple hex cacluation.The same could have been achieved with setInterval, but by using this method you can benefit from jQuery's animation methods - like .stop() - and you can use easing and duration.Obivously it's only of use for simple colour fades, for more complicated colour conversions you'll need to use one of the above answers - or code your own colour fade math :)Try this one:you can preview example here: http://jquerydemo.com/demo/jquery-animate-background-color.aspxColorBlend plug in does exactly what u wanthttp://plugins.jquery.com/project/colorBlendHere is the my highlight codeIf you wan't to animate your background using only core jQuery functionality, try this:Try to use itTry this one:Revised way with effects:

How to set a value to a file input in HTML?

Alon Gubkin

[How to set a value to a file input in HTML?](https://stackoverflow.com/questions/1696877/how-to-set-a-value-to-a-file-input-in-html)

How can I set the value of this?

2009-11-08 15:32:27Z

How can I set the value of this?You cannot due to security reasons.Imagine:You don't want the websites you visit to be able to do this, do you? =)You can't.The only way to set the value of a file input is by the user to select a file.This is done for security reasons. Otherwise you would be able to create a Javascript that automatically uploads a specific file from the clients computer.Not an answer to your question (which others have answered), but if you want to have some edit functionality of an uploaded file field, what you probably want to do is:You can't. And it's a security measure. Imagine if someone writes a JS that sets file input value into some sensitive data file?As everyone else here has stated: You cannot upload a file automatically with JavaScript.HOWEVER!  If you have access to the information you want to send in your code (i.e., not passwords.txt), then you can upload it as a blob-type, and then treat it as a file.What the server will end up seeing will be indistinguishable from someone actually setting the value of <input type="file" />.  The trick, ultimately, is to begin a new XMLHttpRequest() with the server...1) The problem of default value in a file input IS NOT "done for security reasons", but the browsers "just failed to implement it, for no good reason": see this deep report2) A simple solution can be to use a text input on top of file input, like here. Of course you need some code to send the file, using now the value in text input and not the file input.In my case, doing HTA application, that is not a problem, I don't use form at all.Define in html:In JS:After:Actually we can do it.

we can set the file value default by using webbrowser control in c# using FormToMultipartPostData Library.We have to download and include this Library in our project. Webbrowser enables the user to navigate Web pages inside form.

Once the web page loaded , the script inside the webBrowser1_DocumentCompleted will be executed.

So,Refer the below link for downloading and complete reference.https://www.codeproject.com/Articles/28917/Setting-a-file-to-upload-inside-the-WebBrowser-com

How do I generate sourcemaps when using babel and webpack?

Rollo

[How do I generate sourcemaps when using babel and webpack?](https://stackoverflow.com/questions/30870830/how-do-i-generate-sourcemaps-when-using-babel-and-webpack)

I'm new to webpack, and I need a hand in setting up to generate sourcemaps. I'm running webpack serve from the command line, which compiles successfully. But I really need sourcemaps. This is my webpack.config.js.I'm really new to webpack, and looking though the docs hasn't really helped as I'm not sure what this problem is specific to.

2015-06-16 14:41:42Z

I'm new to webpack, and I need a hand in setting up to generate sourcemaps. I'm running webpack serve from the command line, which compiles successfully. But I really need sourcemaps. This is my webpack.config.js.I'm really new to webpack, and looking though the docs hasn't really helped as I'm not sure what this problem is specific to.In order to use source map, you should change devtool option value from true to the value which available in this list, for instance source-mapMaybe someone else has this problem at one point. If you use the UglifyJsPlugin in webpack 2 you need to explicitly specify the sourceMap flag. For example:Minimal webpack config for jsx with sourcemaps:Running it:If optimizing for dev + production, you could try something like this in your config:From the docs:I am using webpack 2.1.0-beta.19On Webpack 2 I tried all 12 devtool options. The following options link to the original file in the console and preserve line numbers. See the note below re: lines only.https://webpack.js.org/configuration/devtooldevtool best dev optionslines onlySource Maps are simplified to a single mapping per line.

This usually means a single mapping per statement (assuming you author is this way).

This prevents you from debugging execution on statement level and from settings breakpoints on columns of a line.

Combining with minimizing is not possible as minimizers usually only emit a single line.REVISITING THISOn a large project I find ... eval-source-map rebuild time is ~3.5s ... inline-source-map rebuild time is ~7sEven same issue I faced, in browser it was showing compiled code. I have made below changes in webpack config file and it is working fine now.and in loaders I kept babel-loader as first option 

How to handle anchor hash linking in AngularJS

Rasmus

[How to handle anchor hash linking in AngularJS](https://stackoverflow.com/questions/14712223/how-to-handle-anchor-hash-linking-in-angularjs)

Do any of you know how to nicely handle anchor hash linking in AngularJS?I have the following markup for a simple FAQ-pageWhen clicking on any of the above links AngularJS intercepts and routes me to a completely different page (in my case, a 404-page as there are no routes matching the links.)My first thought was to create a route matching "/faq/:chapter" and in the corresponding controller check $routeParams.chapter after a matching element and then use jQuery to scroll down to it.But then AngularJS shits on me again and just scrolls to the top of the page anyway.So, anyone here done anything similar in the past and knows a good solution to it?Edit: Switching to html5Mode should solve my problems but we kinda have to support IE8+ anyway so I fear it's not an accepted solution :/

2013-02-05 16:29:38Z

Do any of you know how to nicely handle anchor hash linking in AngularJS?I have the following markup for a simple FAQ-pageWhen clicking on any of the above links AngularJS intercepts and routes me to a completely different page (in my case, a 404-page as there are no routes matching the links.)My first thought was to create a route matching "/faq/:chapter" and in the corresponding controller check $routeParams.chapter after a matching element and then use jQuery to scroll down to it.But then AngularJS shits on me again and just scrolls to the top of the page anyway.So, anyone here done anything similar in the past and knows a good solution to it?Edit: Switching to html5Mode should solve my problems but we kinda have to support IE8+ anyway so I fear it's not an accepted solution :/You're looking for $anchorScroll().Here's the (crappy) documentation.And here's the source.Basically you just inject it and call it in your controller, and it will scroll you to any element with the id found in $location.hash()Here is a plunker to demonstrateEDIT: to use this with routingSet up your angular routing as usual, then just add the following code.and your link would look like this:Here is a Plunker demonstrating scrolling with routing and $anchorScrollAnd even simpler:and your link would look like this:In my case, I noticed that the routing logic was kicking in if I modified the $location.hash(). The following trick worked..There is no need to change any routing or anything else just need to use target="_self" when creating the links Example:And use the id attribute in your html elements like this:    There is no need to use ## as pointed/mentioned in comments ;-)If you always know the route, you can simply append the anchor like this:where route is the current angular route and anchorID matches an <a id="anchorID"> somewhere on the page$anchorScroll works for this, but there's a much better way to use it in more recent versions of Angular. Now, $anchorScroll accepts the hash as an optional argument, so you don't have to change $location.hash at all. (documentation)This is the best solution because it doesn't affect the route at all. I couldn't get any of the other solutions to work because I'm using ngRoute and the route would reload as soon as I set $location.hash(id), before $anchorScroll could do its magic.Here is how to use it... first, in the directive or controller:and then in the view:Also, if you need to account for a fixed navbar (or other UI), you can set the offset for $anchorScroll like this (in the main module's run function):This was my solution using a directive which seems more Angular-y because we're dealing with the DOM:Plnkr over heregithubI used the $anchorScroll service. To counteract the page-refresh that goes along with the hash changing I went ahead and cancelled the locationChangeStart event. This worked for me because I had a help page hooked up to an ng-switch and the refreshes would esentially break the app. Try to set a hash prefix for angular routes $locationProvider.hashPrefix('!')Full example:I got around this in the route logic for my app. This is an old post, but I spent a long time researching various solutions so I wanted to share one more simple one. Just adding target="_self" to the <a> tag fixed it for me. The link works and takes me to the proper location on the page.However, Angular still injects some weirdness with the # in the URL so you may run into trouble using the back button for navigation and such after using this method.This may be a new attribute for ngView, but I've been able to get it anchor hash links to work with angular-route using the ngView autoscroll attribute and 'double-hashes'. ngView (see autoscroll)(The following code was used with angular-strap)I could do this like so:Here is kind of dirty workaround by creating custom directive that will scrolls to specified element (with hardcoded "faq")http://plnkr.co/edit/Po37JFeP5IsNoz5ZycFs?p=previewIf you don't like to use ng-click here's an alternate solution. It uses a filter to generate the correct url based on the current state. My example uses ui.router.The benefit is that the user will see where the link goes on hover.The filter:My solution with ng-route was this simple directive:The html is looking like:You could try to use anchorScroll.ExampleSo the controller would be:And the view:...and no secret for the anchor id:I was trying to make my Angular app scroll to an anchor opon loading and ran into the URL rewriting rules of $routeProvider.After long experimentation I settled on this:I am not 100% sure if this works all the time, but in my application this gives me the expected behavior. Lets say you are on ABOUT page and you have the following route:Now, in you HTMLIn conclusionIncluding the page name before the anchor did the trick for me.

Let me know about your thoughts.Downside This will re-render the page and then scroll to the anchor.UPDATEA better way is to add the following:Get your scrolling feature easily.  It also supports Animated/Smooth scrolling as an additional feature.  Details for Angular Scroll library:Github - https://github.com/oblador/angular-scrollBower: bower install --save angular-scrollnpm : npm install --save angular-scrollMinfied version - only 9kbSmooth Scrolling (animated scrolling) - yesScroll Spy - yesDocumentation - excellentDemo - http://oblador.github.io/angular-scroll/Hope this helps.Based on @Stoyan I came up with the following solution:On Route change it will scroll to the top of the page.put this code on your controller.In my mind @slugslog had it, but I would change one thing. I would use replace instead so you don't have to set it back.Docs Search for "Replace method"None of the solution above works for me, but I just tried this, and it worked,So I realized I need to notify the page to start with the index page and then use the traditional anchor. Sometime in angularjs application hash navigation not work and bootstrap jquery javascript libraries make extensive use of this type of navigation, to make it work add target="_self" to anchor tag.

e.g. <a data-toggle="tab" href="#id_of_div_to_navigate" target="_self">See https://code.angularjs.org/1.4.10/docs/api/ngRoute/provider/$routeProviderSetting this to false did the trick without all of the above for me.I'm using AngularJS 1.3.15 and looks like I don't have to do anything special.https://code.angularjs.org/1.3.15/docs/api/ng/provider/$anchorScrollProviderSo, the following works for me in my html:I didn't have to make any changes to my controller or JavaScript at all.

Create a custom callback in JavaScript

Amgad Fahmi

[Create a custom callback in JavaScript](https://stackoverflow.com/questions/2190850/create-a-custom-callback-in-javascript)

All I need to do is to execute a callback function when my current function execution ends.A consumer for this function should be like this:How do I implement this?

2010-02-03 09:22:41Z

All I need to do is to execute a callback function when my current function execution ends.A consumer for this function should be like this:How do I implement this?Actually, your code will pretty much work as is, just declare your callback as an argument and you can call it directly using the argument name.That will call doSomething, which will call foo, which will alert "stuff goes here".Note that it's very important to pass the function reference (foo), rather than calling the function and passing its result (foo()). In your question, you do it properly, but it's just worth pointing out because it's a common error.Sometimes you want to call the callback so it sees a specific value for this. You can easily do that with the JavaScript call function:You can also pass arguments:Sometimes it's useful to pass the arguments you want to give the callback as an array, rather than individually. You can use apply to do that:It is good practice to make sure the callback is an actual function before attempting to execute it:My 2 cent. Same but different...============================================================================================Result is:If you want to execute a function when something is done. One of a good solution is to listen to events.

For example, I'll implement a Dispatcher, a DispatcherEvent class with ES6,then:Dispatcher:DispatcherEvent:Happy coding!p/s: My code is missing handle some error exceptionsWhen calling the callback function, we could use it like below:consumingFunction(callbackFunctionName)Example:This is the Codepend with full example.Try:Functions are first class in JavaScript; you can just pass them around.Some of the answers, while correct may be a little tricky to understand. Here is an example in layman's terms:The callback means, "Jake" is always added to the users before displaying the list of users with console.log.Source (YouTube)

How to deep merge instead of shallow merge?

Mike

[How to deep merge instead of shallow merge?](https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge)

Both Object.assign and Object spread only do a shallow merge.An example of the problem:The output is what you'd expect. However if I try this:Instead ofyou getx is completely overwritten because the spread syntax only goes one level deep. This is the same with Object.assign().Is there a way to do this?

2015-01-14 06:07:35Z

Both Object.assign and Object spread only do a shallow merge.An example of the problem:The output is what you'd expect. However if I try this:Instead ofyou getx is completely overwritten because the spread syntax only goes one level deep. This is the same with Object.assign().Is there a way to do this?No, it does not.I know this is a bit of an old issue but the easiest solution in ES2015/ES6 I could come up with was actually quite simple, using Object.assign(),Hopefully this helps:Example usage:You'll find an immutable version of this in the answer below. Note that this will lead to infinite recursion on circular references. There's some great answers on here on how to detect circular references if you think you'd face this issue.You can use Lodash merge:The problem is non-trivial when it comes to host objects or any kind of object that's more complex than a bag of valuesAnother thing to keep in mind: Object graphs that contain cycles. It's usually not difficult to deal with - simply keep a Set of already-visited source objects - but often forgotten.You probably should write a deep-merge function that only expects primitive values and simple objects - at most those types that the structured clone algorithm can handle - as merge sources. Throw if it encounters anything it cannot handle or just assign by reference instead of deep merging.In other words, there is no one-size-fits-all algorithm, you either have to roll your own or look for a library method that happens to cover your use-cases.Here is an immutable (does not modify the inputs) version of @Salakar's answer. Useful if you're doing functional programming type stuff.Since this issue is still active, here's another approach:I know there's a lot of answers already and as many comments arguing they won't work. The only consensus is that it's so complicated that nobody made a standard for it. However, most of accepted answers in SO expose "simple tricks" that are widely used. So, for all of us like me who are no experts but want to write safer code by grasping a little more about javascript's complexity, I'll try to shed some light.Before getting our hands dirty, let me clarify 2 points:Making a deep copy seems so basic and common practice that we expect to find a one-liner or, at least, a quick win via simple recursion. We don't expect we should need a library or write a custom function of 100 lines.When I first read Salakar's answer, I genuinely thought I could do better and simpler (you can compare it with Object.assign on x={a:1}, y={a:{b:1}}). Then I read the8472's answer and I thought... there is no getting away so easily, improving already given answers won't get us far.Let's let deep copy and recursive aside an instant. Just consider how (wrongly) people parse properties to copy a very simple object.Object.keys will omit own non-enumerable properties, own symbol-keyed properties and all prototype's properties. It may be fine if your objects don't have any of those. But keep it mind that Object.assign handles own symbol-keyed enumerable properties. So your custom copy lost its bloom.for..in will provide properties of the source, of its prototype and of the full prototype chain without you wanting it (or knowing it). Your target may end up with too many properties, mixing up prototype properties and own properties.If you're writing a general purpose function and you're not using Object.getOwnPropertyDescriptors, Object.getOwnPropertyNames, Object.getOwnPropertySymbols or Object.getPrototypeOf, you're most probably doing it wrong.First, make sure you understand what a Javascript object is. In Javascript, an object is made of its own properties and a (parent) prototype object. The prototype object in turn is made of its own properties and a prototype object. And so on, defining a prototype chain.A property is a pair of key (string or symbol) and descriptor (value or get/set accessor, and attributes like enumerable).Finally, there are many types of objects. You may want to handle differently an object Object from an object Date or an object Function.So, writing your deep copy, you should answer at least those questions:For my example, I consider that only the object Objects are deep, because other objects created by other constructors may not be proper for an in-depth look. Customized from this SO.And I made an options object to choose what to copy (for demo purpose).You can test it in this plunker.That can be used like this:I use lodash:Here is TypeScript implementation:And Unit Tests:The deepmerge npm package appears to be the most widely used library for solving this problem:

https://www.npmjs.com/package/deepmergeI would like to present a pretty simple ES5 alternative. The function gets 2 parameters - target and source that must be of type "object". Target will be the resulting object. Target keeps all its original properties but their values may be modified though.cases:also consider the following:It is predictable, supports primitive types as well as arrays and objects. Also as we can merge 2 objects, I think that we can merge more than 2 via reduce function.take a look at an example (and play around with it if you want):There is a limitation - browser's call stack length. Modern browsers will throw an error at some really deep level of recursion (think of thousands of nested calls). Also you are free to treat situations like array + object etc. as you wish by adding new conditions and type checks.If your are using ImmutableJS you can use mergeDeep :Here is another ES6 solution, works with objects and arrays.If npm libraries can be used as a solution, object-merge-advanced from yours truly allows to merge objects deeply and customise/override every single merge action using a familiar callback function. The main idea of it is more than just deep merging — what happens with the value when two keys are the same? This library takes care of that — when two keys clash, object-merge-advanced weighs the types, aiming to retain as much data as possible after merging:First input argument's key is marked #1, second argument's — #2. Depending on each type, one is chosen for the result key's value. In diagram, "an object" means a plain object (not array etc).When keys don't clash, they all enter the result.From your example snippet, if you used object-merge-advanced to merge your code snippet:It's algorithm recursively traverses all input object keys, compares and builds and returns the new merged result.The following function makes a deep copy of objects, it covers copying primitive, arrays as well as objectA simple solution with ES5 (overwrite existing value):Most examples here seem too complex, I'm using one in TypeScript I created, I think it should cover most cases (I'm handling arrays as regular data, just replacing them).Same thing in plain JS, just in case:Here are my test cases to show how you could use itPlease let me know if you think I'm missing some functionality.We can use $.extend(true,object1,object2) for deep merging. Value true denotes merge two objects recursively, modifying the first.$extend(true,target,object)I was having this issue when loading a cached redux state. If I just load the cached state, I'd run into errors for new app version with an updated state structure.It was already mentioned, that lodash offers the merge function, which I used:I found only 2 line solution to get deep merge in javascript. Do let me know how this works out for you.Temp object will print { a: { b: 'd', e: 'f', x: 'y' } }Here's another one I just wrote that supports arrays. It concats them.Use this function:Ramda which is a nice library of javascript functions has mergeDeepLeft and mergeDeepRight. Any of these work pretty well for this problem. Please take a look on the documentation here: https://ramdajs.com/docs/#mergeDeepLeftFor the specific example in question we can use:Unit test:If you want to have a one liner without requiring a huge library like lodash, I suggest you to use deepmerge. (npm install deepmerge)Then, you can do to get The nice thing is it comes with typings for TypeScript right away.Sometimes you don't need deep merge, even if you think so. For example, if you have a default config with nested objects and you want to extend it deeply with your own config, you can create a class for that. The concept is very simple:You can convert it to a function (not a constructor).This is a cheap deep merge that uses as little code as I could think of. Each source overwrites the previous property when it exists.Many answers use tens of lines of code, or require adding a new library to the project, but if you use recursion, this is just 4 lines of code.Arrays handling: The above version overwrites old array values with new ones. If you want it to keep the old array values and add the new ones, just add a else if (current[key] instanceof Array && updates[key] instanceof Array) current[key] = current[key].concat(updates[key]) block above the else statament and you're all set.I am using the following short function for deep merging objects.

It works great for me.

The author completely explains how it works here.Object.assign documentation suggests it doesn't do deep clone.

Sound effects in JavaScript / HTML5

Stéphan Kochen

[Sound effects in JavaScript / HTML5](https://stackoverflow.com/questions/1933969/sound-effects-in-javascript-html5)

I'm using HTML5 to program games; the obstacle I've run into now is how to play sound effects.The specific requirements are few in number:My first approach was to use the HTML5 <audio> element and define all sound effects in my page. Firefox plays the WAV files just peachy, but calling #play multiple times doesn't really play the sample multiple times. From my understanding of the HTML5 spec, the <audio> element also tracks playback state, so that explains why.My immediate thought was to clone the audio elements, so I created the following tiny JavaScript library to do that for me (depends on jQuery):So now I can do Snd.boom(); from the Firebug console and play snd/boom.wav, but I still can't play the same sample multiple times. It seems that the <audio> element is really more of a streaming feature rather than something to play sound effects with.Is there a clever way to make this happen that I'm missing, preferably using only HTML5 and JavaScript?I should also mention that, my test environment is Firefox 3.5 on Ubuntu 9.10. The other browsers I've tried - Opera, Midori, Chromium, Epiphany - produced varying results. Some don't play anything, and some throw exceptions.

2009-12-19 19:57:00Z

I'm using HTML5 to program games; the obstacle I've run into now is how to play sound effects.The specific requirements are few in number:My first approach was to use the HTML5 <audio> element and define all sound effects in my page. Firefox plays the WAV files just peachy, but calling #play multiple times doesn't really play the sample multiple times. From my understanding of the HTML5 spec, the <audio> element also tracks playback state, so that explains why.My immediate thought was to clone the audio elements, so I created the following tiny JavaScript library to do that for me (depends on jQuery):So now I can do Snd.boom(); from the Firebug console and play snd/boom.wav, but I still can't play the same sample multiple times. It seems that the <audio> element is really more of a streaming feature rather than something to play sound effects with.Is there a clever way to make this happen that I'm missing, preferably using only HTML5 and JavaScript?I should also mention that, my test environment is Firefox 3.5 on Ubuntu 9.10. The other browsers I've tried - Opera, Midori, Chromium, Epiphany - produced varying results. Some don't play anything, and some throw exceptions.You don't need to bother with <audio> elements. HTML 5 lets you access Audio objects directly:There's no support for mixing in current version of the spec. To play same sound multiple times, create multiple instances of the Audio object. You could also set snd.currentTime=0 on the object after it finishes playing.Since the JS constructor doesn't support fallback <source> elements, you should use to test whether the browser supports Ogg Vorbis.If you're writing a game or a music app (more than just a player), you'll want to use more advanced Web Audio API, which is now supported by most browsers.As of July 2012, the WebAudio API is now supported in Chrome, and at least partly supported in Firefox, and is slated to be added to IOS as of version 6.Although it is robust enough to be used programatically for basic tasks, the Audio element was never meant to provide full audio support for games, etc.  It was designed to allow a single piece of media to be embedded in a page, similar to an img tag.  There are a lot of issues with trying to use the Audio tag for games:I used this Getting Started With WebAudio article to get started with the WebAudio API.  The FieldRunners WebAudio Case Study is also a good read.For game authoring, one of the best solutions is to use a library which solves the many problems we face when writing code for the web, such as howler.js. howler.js abstracts the great (but low-level) Web Audio API into an easy to use framework. It will attempt to fall back to HTML5 Audio Element if Web Audio API is unavailable.Another great library is wad.js, which is especially useful for producing synth audio, such as music and effects. For example:Another library similar to Wad.js is "Sound for Games", it has more focus on effects production, while providing a similar set of functionality through a relatively distinct (and perhaps more concise feeling) API:Each of these libraries are worth a look, whether you need to play back a single sound file, or perhaps create your own html-based music editor, effects generator, or video game.You may also want to use this to detect HTML 5 audio in some cases:http://diveintohtml5.ep.io/everything.htmlHTML 5 JS Detect functionHere's one method for making it possible to play even same sound simultaneously. Combine with preloader, and you're all set. This works with Firefox 17.0.1 at least, haven't tested it with anything else yet.Bind this to a keyboard key, and enjoy:Sounds like what you want is multi-channel sounds.  Let's suppose you have 4 channels (like on really old 16-bit games), I haven't got round to playing with the HTML5 audio feature yet, but don't you just need 4 <audio> elements, and cycle which is used to play the next sound effect?  Have you tried that?  What happens?  If it works:  To play more sounds simultaneously, just add more <audio> elements.I have done this before without the HTML5 <audio> element, using a little Flash object from http://flash-mp3-player.net/ - I wrote a music quiz (http://webdeavour.appspot.com/) and used it to play clips of music when the user clicked the button for the question.  Initially I had one player per question, and it was possible to play them over the top of each other, so I changed it so there was only one player, which I pointed at different music clips.Have a look at the jai (-> mirror) (javascript audio interface) site. From looking at their source, they appear to be calling play() repeatedly, and they mention that their library might be appropriate for use in HTML5-based games.To play the same sample multiple times, wouldn't it be possible to do something like this:(e is the audio element)Perhaps I completely misunderstood your problem, do you want the sound effect to play multiple times at the same time? Then this is completely wrong.Here's an idea. Load all of your audio for a certain class of sounds into a single individual audio element where the src data is all of your samples in a contiguous audio file (probably want some silence between so you can catch and cut the samples with a timeout with less risk of bleeding to the next sample). Then, seek to the sample and play it when needed. If you need more than one of these to play you can create an additional audio element with the same src so that it is cached. Now, you effectively have multiple "tracks". You can utilize groups of tracks with your favorite resource allocation scheme like Round Robin etc. You could also specify other options like queuing sounds into a track to play when that resource becomes available or cutting a currently playing sample.http://robert.ocallahan.org/2011/11/latency-of-html5-sounds.htmlhttp://people.mozilla.org/~roc/audio-latency-repeating.htmlWorks OK in Firefox and Chrome for me.To stop a sound that you started, do

    var sound = document.getElementById("shot").cloneNode(true);

    sound.play();

and later

    sound.pause();I would recommend using SoundJS, a library I've help develop.  It allows you to write a single code base that works everywhere, with SoundJS picking web audio, html audio, or flash audio as appropriate.It will allow you to do all of the thing you want:Hope that helps.It's not possible to do multi-shot playing with a single <audio> element. You need to use multiple elements for this.I ran into this while programming a musicbox card generator. Started with different libraries but everytime there was a glitch somehow. The lag on normal audio implementation was bad, no  multiple plays... eventually ended up using lowlag library + soundmanager:http://lowlag.alienbill.com/

and 

http://www.schillmania.com/projects/soundmanager2/You can check out the implementation here:

http://musicbox.grit.it/I generated wav + ogg files for multi browser plays. This musicbox player works responsive on ipad, iphone, Nexus, mac, pc,... works for me.I know this is a total hack but thought I should add this sample open source audio library I put on github awhile ago...https://github.com/run-time/jThumpAfter clicking the link below, type on the home row keys to play a blues riff (also type multiple keys at the same time etc.)Sample using jThump library  >>  http://davealger.com/apps/jthump/It basically works by making invisible <iframe> elements that load a page that plays a sound onReady().This is certainly not ideal but you could +1 this solution based on creativity alone (and the fact that it is open source and works in any browser that I've tried it on)  I hope this gives someone else searching some ideas at least.:)The selected answer will work in everything except IE. I wrote a tutorial on how to make it work cross browser = http://www.andy-howard.com/how-to-play-sounds-cross-browser-including-ie/index.htmlHere is the function I wrote;You also need to add the following tag to the html page:Finally you can call the function and simply pass through the path here:You can always try AudioContext it has limited support but it's a part of the web audio api working draft.  It might be worth it if you are planing to release something in the future.  And if you are only programing for chrome and Firefox you're golden.Web Audio API is right tool for this job. There is little bit of work involved in loading sounds files and playing it. Luckily there are plenty of libraries out there that simplify the job. Being interested in sounds I also created a library called musquito you can check out that as well.Currently it supports only fading sound effect and I'm working on other things like 3D spatialization.

Execute the setInterval function without delay the first time

Jorge

[Execute the setInterval function without delay the first time](https://stackoverflow.com/questions/6685396/execute-the-setinterval-function-without-delay-the-first-time)

It's there a way to configure the setInterval method of javascript to execute the method immediately and then executes with the timer

2011-07-13 20:44:43Z

It's there a way to configure the setInterval method of javascript to execute the method immediately and then executes with the timerIt's simplest to just call the function yourself directly the first time:However there are good reasons to avoid setInterval - in particular in some circumstances a whole load of setInterval events can arrive immediately after each other without any delay.  Another reason is that if you want to stop the loop you have to explicitly call clearInterval which means you have to remember the handle returned from the original setInterval call.So an alternative method is to have foo trigger itself for subsequent calls using setTimeout instead:This guarantees that there is at least an interval of delay between calls.  It also makes it easier to cancel the loop if required - you just don't call setTimeout when your loop termination condition is reached.Better yet, you can wrap that all up in an immediately invoked function expression which creates the function, which then calls itself again as above, and automatically starts the loop:which defines the function and starts the cycle all in one go.I'm not sure if I'm understanding you correctly, but you could easily do something like this:There's obviously any number of ways of doing this, but that's the most concise way I can think of.I stumbled upon this question due to the same problem but none of the answers helps if you need to behave exactly like setInterval() but with the only difference that the function is called immediately at the beginning.Here is my solution to this problem:The advantage of this solution:Example:To be cheeky, if you really need to use setInterval then you could also replace the original setInterval. Hence, no change of  code required when adding this before your existing code:Still, all advantages as listed above apply here but no substitution is necessary.You could wrap setInterval() in a function that provides that behavior:...then use it like this:Here's a wrapper to pretty-fy it if you need it:Set the third argument of setInterval to true and it'll run for the first time immediately after calling setInterval:Or omit the third argument and it will retain its original behaviour:Some browsers support additional arguments for setInterval which this wrapper doesn't take into account; I think these are rarely used, but keep that in mind if you do need them.For someone needs to bring the outer this inside as if it's an arrow function.If the above producing garbage bothers you, you can make a closure instead.Or maybe consider using the @autobind decorator depending on your code.I will suggest calling the functions in the following sequenceYou can also pass the _timer to the foo, if you want to clearInterval(_timer) on a certain conditionHere's a simple version for novices without all the messing around. It just declares the function, calls it, then starts the interval. That's it.To solve this problem , I run the function a first time after the page has loaded.There's a convenient npm package called firstInterval (full disclosure, it's mine).Many of the examples here don't include parameter handling, and changing default behaviors of setInterval in any large project is evil.  From the docs:This patternis identical toIf you're old school in the browser and don't want the dependency, it's an easy cut-and-paste from the code.There's a problem with immediate asynchronous call of your function, because standard setTimeout/setInterval has a minimal timeout about several milliseconds even if you directly set it to 0. It caused by a browser specific work.An example of code with a REAL zero delay wich works in Chrome, Safari, OperaYou can find more information hereAnd after the first manual call you can create an interval with your function.actually the quickest is to dothis will call myfunction, and then will do it agaian every 45 seconds which is different than doingwhich won't call it, but schedule it only

How do I get Month and Date of JavaScript in 2 digit format?

srini

[How do I get Month and Date of JavaScript in 2 digit format?](https://stackoverflow.com/questions/6040515/how-do-i-get-month-and-date-of-javascript-in-2-digit-format)

When we call getMonth() and getDate() on date object, we will get the single digit number.

For example :For january, it displays 1, but I need to display it as 01. How to do that?

2011-05-18 06:04:16Z

When we call getMonth() and getDate() on date object, we will get the single digit number.

For example :For january, it displays 1, but I need to display it as 01. How to do that?for the date, and similar:for the month.If you want a format like "YYYY-MM-DDTHH:mm:ss", then this might be quicker:Or the commonly used MySQL datetime format "YYYY-MM-DD HH:mm:ss":I hope this helpsExample for month:  You can also extend Date object with such function:  The best way to do this is to create your own simple formatter (as below):getDate() returns the day of the month (from 1-31)

getMonth() returns the month (from 0-11) < zero-based, 0=January, 11=December

getFullYear() returns the year (four digits) < don't use getYear()  Why not use padStart ?This will always return 2 digit numbers even if the month or day is less than 10.Notes:The following is used to convert db2 date format

 i.e  YYYY-MM-DD using ternary operatorJust another example, almost one liner.This was my solution:Using Moment.js it can be done like that:I would do this:Not an answer but here is how I get the date format I require in a variableHope this helps!If it might spare some time I was looking to get:for today, and got along with:Tip from MDN :http://jsfiddle.net/v4qcf5x6/new Date().getMonth() method returns the month as a number (0-11)You can get easily correct month number with this function.And another version here https://jsfiddle.net/ivos/zcLxo8oy/1/, hope to be useful.The answers here were helpful, however I need more than that: not only month, date, month, hours & seconds, for a default name.Interestingly, though prepend of "0" was needed for all above, " + 1" was needed only for month, not others.As example:My solution:Usage:jsfiddle: http://jsfiddle.net/8xy4Q/1/if u want getDate() function to return the date as 01 instead of 1, here is the code for it....

Lets assume Today's date is 01-11-2018I wanted to do something like this and this is what i didp.s. i know there are right answer(s) on top, but just wanted to add something of my own hereIf you'll check smaller than 10, you haven't to create a new function for that. Just assign a variable into brackets and return it with ternary operator.I would suggest you use a different library called Moment https://momentjs.com/This way you are able to format the date directly without having to do extra workMake sure you import moment as well to be able to use it.Hope this helps :D 

How to trigger the window resize event in JavaScript?

zhongshu

[How to trigger the window resize event in JavaScript?](https://stackoverflow.com/questions/1818474/how-to-trigger-the-window-resize-event-in-javascript)

I have registered a trigger on window resize. I want to know how I can trigger the event to be called. For example, when hide a div, I want my trigger function to be called.I found window.resizeTo() can trigger the function, but is there any other solution?

2009-11-30 08:16:29Z

I have registered a trigger on window resize. I want to know how I can trigger the event to be called. For example, when hide a div, I want my trigger function to be called.I found window.resizeTo() can trigger the function, but is there any other solution?Where possible, I prefer to call the function rather than dispatch an event. This works well if you have control over the code you want to run, but see below for cases where you don't own the code.In this example, you can call the doALoadOfStuff function without dispatching an event.In your modern browsers, you can trigger the event using:This doesn't work in Internet Explorer, where you'll have to do the longhand:jQuery has the trigger method, which works like this:And has the caveat:You can also simulate events on a specific element...With jQuery, you can try to call trigger:A pure JS that also works on IE (from @Manfred comment)Or for angular:Combining pomber's and avetisk's answers to cover all browsers and not causing warnings:I wasn't actually able to get this to work with any of the above solutions. Once I bound the event with jQuery then it worked fine as below:justis what I use... unless I misunderstand what you're asking for. Response with RxJSSay Like something in AngularIf manual subscription desired (Or Not Angular)Since my intial startWith Value might be incorrect (dispatch for correction)In say Angular (I could..)I believe this should work for all browsers:You can do this with this library. https://github.com/itmor/events-jswindow.resizeBy() will trigger window's onresize event. This works in both Javascript or VBScript.window.resizeBy(xDelta, yDelta) called like window.resizeBy(-200, -200) to shrink page 200px by 200px. 

jQuery first child of「this」

macca1

[jQuery first child of「this」](https://stackoverflow.com/questions/2275702/jquery-first-child-of-this)

I'm trying to pass "this" from a clicked span to a jQuery function that can then execute jQuery on that clicked element's first child. Can't seem to get it right...Javascript:How do I reference the :first-child of element?

2010-02-16 19:31:34Z

I'm trying to pass "this" from a clicked span to a jQuery function that can then execute jQuery on that clicked element's first child. Can't seem to get it right...Javascript:How do I reference the :first-child of element?If you want to apply a selector to the context provided by an existing jQuery set, try the find() function:Jørn Schou-Rode noted that you probably only want to find the first direct descendant of the context element, hence the child selector (>). He also points out that you could just as well use the children() function, which is very similar to find() but only searches one level deep in the hierarchy (which is all you need...): Use the children function with the :first selector to get the single first child of element:I've added jsperf test to see the speed difference for different approaches to get the first child (total 1000+ children)given, notif = $('#foo')jQuery ways:Native ways:So, first 3 jQuery approaches are not recommended, at least for first-child (I doubt that would be the case with many other too). If you have a jQuery object and need to get the first-child, then get the native DOM element from the jQuery object, using array reference [0] (recommended) or .get(0) and use the ele.firstChild. This gives the same identical results as regular JavaScript usage.all tests are done in Chrome Canary build v15.0.854.0Find all children and get first of them.Have you triedI think you want to set your element as a context for your search. There might be a better way to do this which some other jQuery guru will hop in here and throw out at you :)I've just written a plugin which uses .firstElementChild if possible, and falls back to iterating over each individual node if necessary:It's not as fast as a pure DOM solution, but in jsperf tests under Chrome 24 it was a couple of orders of magnitude faster than any other jQuery selector-based method.you can use DOMThis can be done with a simple magic like this:Reference: http://www.snoopcode.com/jquery/jquery-first-child-selectorplease use it like this

first thing give a class name to tag p like "myp"then on use the following codeIf you want immediate first child you needIf you want particular first element in the dom from your element then use belowtry out : http://jsfiddle.net/vgGbc/2/

jQuery count child elements

gautamlakum

[jQuery count child elements](https://stackoverflow.com/questions/4291151/jquery-count-child-elements)

I want to count the total number of <li> elements in <div id="selected"></div>. How is that possible using jQuery's .children([selector])?

2010-11-27 10:22:33Z

I want to count the total number of <li> elements in <div id="selected"></div>. How is that possible using jQuery's .children([selector])?You can use .length with just a descendant selector, like this:If you have to use .children(), then it's like this:You can test both versions here.or:fastest one:You probably could also omit li in the children's selector.See .length.You can use JavaScript (don't need jQuery)or even betterIt is simply possible with childElementCount in pure javascript pure js

How can I add a custom HTTP header to ajax request with js or jQuery?

Txugo

[How can I add a custom HTTP header to ajax request with js or jQuery?](https://stackoverflow.com/questions/7686827/how-can-i-add-a-custom-http-header-to-ajax-request-with-js-or-jquery)

Does anyone know how to add or create a custom HTTP header using JavaScript or jQuery?

2011-10-07 11:51:04Z

Does anyone know how to add or create a custom HTTP header using JavaScript or jQuery?There are several solutions depending on what you need...If you want to add a custom header (or set of headers) to an individual request then just add the headers property:If you want to add a default header (or set of headers) to every request then use $.ajaxSetup():If you want to add a header (or set of headers) to every request  then use the beforeSend hook with $.ajaxSetup():Edit (more info): One thing to be aware of is that with ajaxSetup you can only define one set of default headers and you can only define one beforeSend.  If you call ajaxSetup multiple times, only the last set of headers will be sent and only the last before-send callback will execute.Or, if you want to send the custom header for every future request, then you could use the following:This way every future ajax request will contain the custom header, unless explicitly overridden by the options of the request. You can find more info on ajaxSetup hereAssuming JQuery ajax, you can add custom headers like - Here's an example using XHR2:Hope that helps.If you create your object, you can use the setRequestHeader function to assign a name, and a value before you send the request.You can also do this without using jQuery. Override XMLHttpRequest's send method and add the header there: You should avoid the usage of $.ajaxSetup() as described in the docs. Use the following instead:Assuming that you mean "When using ajax" and "An HTTP Request header", then use the headers property in the object you pass to ajax()— http://api.jquery.com/jQuery.ajax/"setRequestHeader" method of XMLHttpRequest object should be usedhttp://help.dottoro.com/ljhcrlbv.phpYou can use js fetch 

How do I tell if an object is a Promise?

theram

[How do I tell if an object is a Promise?](https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise)

Whether it's an ES6 Promise or a bluebird Promise, Q Promise, etc.How do I test to see if a given object is a Promise?

2015-01-02 17:47:48Z

Whether it's an ES6 Promise or a bluebird Promise, Q Promise, etc.How do I test to see if a given object is a Promise?If it has a .then function - that's the only standard promise libraries use. The Promises/A+ specification has a notion called thenable which is basically "an object with a then method". Promises will and should assimilate anything with a then method. All of the promise implementation you've mentioned do this.If we look at the specification:It also explains the rationale for this design decision:You shouldn't - instead call Promise.resolve(x) (Q(x) in Q) that will always convert any value or external thenable into a trusted promise. It is safer and easier than performing these checks yourself. You can always run it through the test suite :DChecking if something is promise unnecessarily complicates the code, just use Promise.resolveHere's my original answer, which has since been ratified in the spec as the way to test for a promise:This works because the algorithm explicitly demands that Promise.resolve must return the exact object passed in if and only if it is a promise by the definition of the spec.I have another answer here, which used to say this, but I changed it to something else when it didn't work with Safari at that time. That was a year ago, and this now works reliably even in Safari.I would have edited my original answer, except that felt wrong, given that more people by now have voted for the altered solution in that answer than the original. I believe this is the better answer, and I hope you agree.Update: This is no longer the best answer. Please vote up my other answer instead.should do it. Note that this may only work reliably with native es6 promises.If you're using a shim, a promise library or anything else pretending to be promise-like, then it may be more appropriate to test for a "thenable" (anything with a .then method), as shown in other answers here.To see if the given object is a ES6 Promise, we can make use of this predicate:Calling toString directly from the Object.prototype returns a native string representation of the given object type which is "[object Promise]" in our case. This ensures that the given objectHowever, any particular host object, that has its tag modified via Symbol.toStringTag, can return "[object Promise]". This may be the intended result or not depending on the project (e.g. if there is a custom Promise implementation).To see if the object is from a native ES6 Promise, we can use:According to this and this section of the spec, the string representation of function should be:which is handled accordingly above. The FunctionBody is [native code] in all major browsers.MDN: Function.prototype.toStringThis works across multiple environment contexts as well.Not an answer to the full question but I think it's worth to mention that in Node.js 10 a new util function called isPromise was added which checks if an object is a native Promise or not:This is how graphql-js package detects promises:value is the returned value of your function. I'm using this code in my project and have no problem so far.Here is the code form https://github.com/ssnau/xkit/blob/master/util/is-promise.jsif an object with a then method, it should be treat as a Promise.In case you are using Typescript, I'd like to add that you can use the "type predicate" feature. Just should wrap the logical verification in a function that returns x is Promise<any> and you won't need to do typecasts. Below on my example, c is either a promise or one of my types which I want to convert into a promise by calling the c.fetch() method.More info: https://www.typescriptlang.org/docs/handbook/advanced-types.htmlIf you are in an async method you can do this and avoid any ambiguity.If the function returns promise, it will await and return with the resolved value.  If the function returns a value, it will be treated as resolved.If the function does not return a promise today, but tomorrow returns one or is declared async, you will be future-proof.after searching for a reliable way to detect Async functions or even Promises, i ended up using the following test : ES6:

Loading local JSON file

Patrick Browne

[Loading local JSON file](https://stackoverflow.com/questions/7346563/loading-local-json-file)

I'm trying to load a local JSON file but it won't work. Here is my JavaScript code (using jQuery:The test.json file:Nothing is displayed and Firebug tells me that data is undefined. In Firebug I can see json.responseText and it is good and valid, but it's strange when I copy the line:in Firebug's console, it works and I can access data.Anyone have a solution?

2011-09-08 10:27:27Z

I'm trying to load a local JSON file but it won't work. Here is my JavaScript code (using jQuery:The test.json file:Nothing is displayed and Firebug tells me that data is undefined. In Firebug I can see json.responseText and it is good and valid, but it's strange when I copy the line:in Firebug's console, it works and I can access data.Anyone have a solution?$.getJSON is asynchronous so you should do:I had the same need (to test my angularjs app), and the only way I found is to use require.js:note: the file is loaded once, further calls will use the cache.More on reading files with nodejs: http://docs.nodejitsu.com/articles/file-system/how-to-read-files-in-nodejsrequire.js: http://requirejs.org/In a more modern way, you can now use the Fetch API:All modern browsers support Fetch API. (Internet Explorer doesn't, but Edge does!)source:If you want to let the user select the local json file (anywhere on the filesystem), then the following solution works.It uses uses FileReader and JSON.parser (and no jquery).Here is a good intro on FileReader: http://www.html5rocks.com/en/tutorials/file/dndfiles/If you're looking for something quick and dirty just load the data in the head of your HTML document.data.jsindex.htmlmain.jsI should mention that your heap size (in Chrome) is about 4GBs, so if your data is larger than that you should find another method. If you want to check another browser try this:I can't believe how many times this question has been answered without understanding and/or addressing the problem with the Original Poster's actual code. That said, I'm a beginner myself (only 2 months of coding). My code does work perfectly, but feel free to suggest any changes to it.  Here's the solution: Here's a shorter way of writing the same code I provided above:You can also use $.ajax instead of $.getJSON to write the code exactly the same way:Finally, the last way to do this is to wrap  $.ajax in a function.  I can't take credit for this one, but I did modify it a bit.  I tested it and it works and produces the same results as my code above.   I found this solution here --> load json into variableThe test.json file you see in my code above is hosted on my server and contains the same json data object that he (the original poster) had posted. I'm surprised import from es6 has not been mentioned (use with small files)Ex: import test from './test.json'webpack 2< uses the json-loader as default for .json files.https://webpack.js.org/guides/migrating/#json-loader-is-not-required-anymoreFor TypeScript:To get it working I had to declare the module first. I hope this will save a few hours for someone.If I tried to omit loader from json-loader I got the following error from webpack:Try is such way (but also please note that JavaScript don't have access to the client file system):Recently D3js is able to handle local json file.This is the issue

https://github.com/mbostock/d3/issues/673This is the patch inorder for D3 to work with local json files.

https://github.com/mbostock/d3/pull/632Found this thread when trying (unsuccessfully) to load a local json file. This solution worked for me...... and is used like this......and this is the <head>...In TypeScript you can use import to load local JSON files. For example loading a font.json:This requires a tsconfig flag --resolveJsonModule:For more information  see the release notes of typescript: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.htmlIn angular (or any other framework), you can load using http get

I use it something like this:Hope this helps.If you are using a local array for JSON - as you showed in your exmaple in the question (test.json) then you can is the parseJSON method of JQuery ->getJSON is used for getting JSON from a remote site - it will not work locally (unless you are using a local HTTP Server)An approach I like to use is to pad/wrap the json with an object literal, and then save the file with a .jsonp file extension. This method also leaves your original json file (test.json) unaltered, as you will be working with the new jsonp file (test.jsonp) instead. The name on the wrapper can be anything, but it does need to be the same name as the callback function you use to process the jsonp. I'll use your test.json posted as an example to show the jsonp wrapper addition for the 'test.jsonp' file.Next, create a reusable variable with global scope in your script to hold the returned JSON. This will make the returned JSON data available to all other functions in your script instead of just the callback function.Next comes a simple function to retrieve your json by script injection. Note that we can not use jQuery here to append the script to the document head, as IE does not support the jQuery .append method. The jQuery method commented out in the code below will work on other browsers that do support the .append method. It is included as a reference to show the difference.Next is a short and simple callback function (with the same name as the jsonp wrapper) to get the json results data into the global variable.The json data can now be accessed by any functions of the script using dot notation. As an example:This method may be a bit different from what you are used to seeing, but has many advantages. First, the same jsonp file can be loaded locally or from a server using the same functions. As a bonus, jsonp is already in a cross-domain friendly format and can also be easily used with REST type API's.Granted, there are no error handling functions, but why would you need one? If you are unable to get the json data using this method, then you can pretty much bet you have some problems within the json itself, and I would check it on a good JSON validator.What I did was editing the JSON file little bit.myfile.json => myfile.jsIn the JSON file, (make it a JS variable){name: "Whatever"} => var x = {name: "Whatever"}At the end,export default x;Then,import JsonObj from './myfile.js';I haven't found any solution using Google's Closure library. So just to complete the list for future vistors, here's how you load a JSON from local file with Closure library:You can put your json in a javascript file. This can be loaded locally (even in Chrome) using jQuery's getScript() function.map-01.js file:main.jsoutput:Notice that the json variable is declared and assigned in the js file.I did this for my cordova app, like I created a new javascript file for the JSON and pasted the JSON data into String.raw then parse it with JSON.parseWhat I did was, first of all, from network tab, record the network traffic for the service, and from response body, copy and save the json object in a local file. Then call the function with the local file name, you should be able to see the json object in jsonOutout above. What worked for me is the following:Input: Javascript Code: If you have Python installed on your local machine (or you don't mind install one), here is a browser-independent workaround for local JSON file access problem that I use:Transform the JSON file into a JavaScript by creating a function that returns the data as JavaScript object. Then you can load it with <script> tag and call the function to get the data you want.Here comes the Python code

Resizing an image in an HTML5 canvas

Telanor

[Resizing an image in an HTML5 canvas](https://stackoverflow.com/questions/2303690/resizing-an-image-in-an-html5-canvas)

I'm trying to create a thumbnail image on the client side using javascript and a canvas element, but when I shrink the image down, it looks terrible.  It looks as if it was downsized in photoshop with the resampling set to 'Nearest Neighbor' instead of Bicubic.  I know its possible to get this to look right, because this site can do it just fine using a canvas as well.  I've tried using the same code they do as shown in the "[Source]" link, but it still looks terrible.  Is there something I'm missing, some setting that needs to be set or something?EDIT:I'm trying to resize a jpg.  I have tried resizing the same jpg on the linked site and in photoshop, and it looks fine when downsized.Here is the relevant code:EDIT2:Seems I was mistaken, the linked website wasn't doing any better of a job of downsizing the image.  I tried the other methods suggested and none of them look any better.  This is what the different methods resulted in:Photoshop:Canvas:Image with image-rendering: optimizeQuality set and scaled with width/height:Image with image-rendering: optimizeQuality set and scaled with -moz-transform:Canvas resize on pixastic:I guess this means firefox isn't using bicubic sampling like its supposed to.  I'll just have to wait until they actually add it.EDIT3:Original Image

2010-02-20 20:58:29Z

I'm trying to create a thumbnail image on the client side using javascript and a canvas element, but when I shrink the image down, it looks terrible.  It looks as if it was downsized in photoshop with the resampling set to 'Nearest Neighbor' instead of Bicubic.  I know its possible to get this to look right, because this site can do it just fine using a canvas as well.  I've tried using the same code they do as shown in the "[Source]" link, but it still looks terrible.  Is there something I'm missing, some setting that needs to be set or something?EDIT:I'm trying to resize a jpg.  I have tried resizing the same jpg on the linked site and in photoshop, and it looks fine when downsized.Here is the relevant code:EDIT2:Seems I was mistaken, the linked website wasn't doing any better of a job of downsizing the image.  I tried the other methods suggested and none of them look any better.  This is what the different methods resulted in:Photoshop:Canvas:Image with image-rendering: optimizeQuality set and scaled with width/height:Image with image-rendering: optimizeQuality set and scaled with -moz-transform:Canvas resize on pixastic:I guess this means firefox isn't using bicubic sampling like its supposed to.  I'll just have to wait until they actually add it.EDIT3:Original ImageSo what do you do if all the browsers (actually, Chrome 5 gave me quite good one) won't give you good enough resampling quality? You implement them yourself then! Oh come on, we're entering the new age of Web 3.0, HTML5 compliant browsers, super optimized JIT javascript compilers, multi-core(†) machines, with tons of memory, what are you afraid of? Hey, there's the word java in javascript, so that should guarantee the performance, right? Behold, the thumbnail generating code:...with which you can produce results like these!so anyway, here is a 'fixed' version of your example:Now it's time to pit your best browsers out there and see which one will least likely increase your client's blood pressure!Umm, where's my sarcasm tag?(since many parts of the code is based on Anrieff Gallery Generator is it also covered under GPL2? I dunno)† actually due to limitation of javascript, multi-core is not supported.Fast image resize/resample algorithm using Hermite filter with JavaScript. Support transparency, gives good quality. Preview: 

Update: version 2.0 added on GitHub (faster, web workers + transferable objects). Finally i got it working!  Git: https://github.com/viliusle/Hermite-resize

Demo: http://viliusle.github.io/miniPaint/Try pica - that's a highly optimized resizer with selectable algorythms. See demo. For example, original image from first post is resized in 120ms with Lanczos filter and 3px window or 60ms with Box filter and 0.5px window. For huge 17mb image 5000x3000px resize takes ~1s on desktop and 3s on mobile.All resize principles were described very well in this thread, and pica does not add rocket science. But it's optimized very well for modern JIT-s, and is ready to use out of box (via npm or bower). Also, it use webworkers when available to avoid interface freezes.I also plan to add unsharp mask support soon, because it's very useful after downscale.I know this is an old thread but it might be useful for some people such as myself that months after are hitting this issue for the first time.Here is some code that resizes the image every time you reload the image. I am aware this is not optimal at all, but I provide it as a proof of concept. Also, sorry for using jQuery for simple selectors but I just feel too comfortable with the syntax.My createImage function is called once when the document is loaded and after that it is called every time the window receives a resize event.I tested it in Chrome 6 and Firefox 3.6, both on the Mac. This "technique" eats processor as it if was ice cream in the summer, but it does the trick.I've put up some algorithms to do image interpolation on html canvas pixel arrays that might be useful here:https://web.archive.org/web/20170104190425/http://jsperf.com:80/pixel-interpolation/2These can be copy/pasted and can be used inside of web workers to resize images (or any other operation that requires interpolation - I'm using them to defish images at the moment).I haven't added the lanczos stuff above, so feel free to add that as a comparison if you'd like.This is a javascript function adapted from @Telanor's code. When passing a image base64 as first argument to the function, it returns the base64 of the resized image. maxWidth and maxHeight are optional.I'd highly suggest you check out this link and make sure it is set to true.If you're simply trying to resize an image, I'd recommend setting width and height of the image with CSS.  Here's a quick example:Note that the height and width can also be set using JavaScript.  Here's quick code sample:Also, to ensure that the resized image looks good, add the following css rules to image selector:As far as I can tell, all browsers except IE using an bicubic algorithm to resize images by default, so your resized images should look good in Firefox and Chrome.If setting the css width and height doesn't work, you may want to play with a css transform:If for whatever reason you need to use a canvas, please note that there are two ways an image can be resize: by resizing the canvas with css or by drawing the image at a smaller size.See this question for more details.For resizing to image with width less that original, i use:and it works =).i got this image by right clicking the canvas element in firefox and saving as.so anyway, here is a 'fixed' version of your example:The problem with some of this solutions is that they access directly the pixel data and loop through it to perform the downsampling. Depending on the size of the image this can be very resource intensive, and it would be better to use the browser's internal algorithms.The drawImage() function is using a linear-interpolation, nearest-neighbor resampling method. That works well when you are not resizing down more than half the original size.If you loop to only resize max one half at a time, the results would be quite good, and much faster than accessing pixel data.This function downsample to half at a time until reaching the desired size:Credits to this postSo something interesting that I found a while ago while working with canvas that might be helpful:To resize the canvas control on its own, you need to use the height="" and width="" attributes (or canvas.width/canvas.height elements). If you use CSS to resize the canvas, it will actually stretch (i.e.: resize) the content of the canvas to fit the full canvas (rather than simply increasing or decreasing the area of the canvas.It'd be worth a shot to try drawing the image into a canvas control with the height and width attributes set to the size of the image and then using CSS to resize the canvas to the size you're looking for. Perhaps this would use a different resizing algorithm.It should also be noted that canvas has different effects in different browsers (and even different versions of different browsers). The algorithms and techniques used in the browsers is likely to change over time (especially with Firefox 4 and Chrome 6 coming out so soon, which will place heavy emphasis on canvas rendering performance).In addition, you may want to give SVG a shot, too, as it likely uses a different algorithm as well.Best of luck!I have a feeling the module I wrote will produce similar results to photoshop, as it preserves color data by averaging them, not applying an algorithm.  It's kind of slow, but to me it is the best, because it preserves all the color data.https://github.com/danschumann/limby-resize/blob/master/lib/canvas_resize.jsIt doesn't take the nearest neighbor and drop other pixels, or sample a group and take a random average.  It takes the exact proportion each source pixel should output into the destination pixel.  The average pixel color in the source will be the average pixel color in the destination, which these other formulas, I think they will not be.an example of how to use is at the bottom of 

https://github.com/danschumann/limby-resizeUPDATE OCT 2018: These days my example is more academic than anything else. Webgl is pretty much 100%, so you'd be better off resizing with that to produce similar results, but faster. PICA.js does this, I believe. –I converted @syockit's answer as well as the step-down approach into a reusable Angular service for anyone who's interested:  https://gist.github.com/fisch0920/37bac5e741eaec60e983I included both solutions because they both have their own pros / cons.  The lanczos convolution approach is higher quality at the cost of being slower, whereas the step-wise downscaling approach produces reasonably antialiased results and is significantly faster.Example usage:Fast and simple Javascript image resizer:https://github.com/calvintwr/Hermite-resizeUse:This is really after many rounds of research, reading and trying. The resizer algorithm uses @ViliusL's Hermite script (Hermite resizer is really the fastest and gives reasonably good output). Extended with features you need. Forks 1 worker to do the resizing so that it doesn't freeze your browser when resizing, unlike all other JS resizers out there.Thanks @syockit for an awesome answer. however, I had to reformat a little as follows to make it work. Perhaps due to DOM scanning issues:I just ran a page of side by sides comparisons and unless something has changed recently, I could see no better downsizing (scaling) using canvas vs. simple css. I tested in FF6 Mac OSX 10.7. Still slightly soft vs. the original.I did however stumble upon something that did make a huge difference and that was using image filters in browsers that support canvas. You can actually manipulate images much like you can in Photoshop with blur, sharpen, saturation, ripple, grayscale, etc.I then found an awesome jQuery plug-in which makes application of these filters a snap:

http://codecanyon.net/item/jsmanipulate-jquery-image-manipulation-plugin/428234I simply apply the sharpen filter right after resizing the image which should give you the desired effect. I didn't even have to use a canvas element.Looking for another great simple solution?This solution will use the resize algorith of browser! :)

Convert date to another timezone in JavaScript

Rizky Ramadhan

[Convert date to another timezone in JavaScript](https://stackoverflow.com/questions/10087819/convert-date-to-another-timezone-in-javascript)

I am looking for a function to convert date in one timezone to another. It need two parameters, The timezone string is described in http://en.wikipedia.org/wiki/Zone.tabIs there an easy way to do this?

2012-04-10 11:25:05Z

I am looking for a function to convert date in one timezone to another. It need two parameters, The timezone string is described in http://en.wikipedia.org/wiki/Zone.tabIs there an easy way to do this?https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleStringFor moment.js users, you can now use moment-timezone.  Using it, your function would look something like this:Stolen shamelessly from: http://www.techrepublic.com/article/convert-the-local-time-to-another-time-zone-with-this-javascript/6016329  this function is useful to calculate time zone value by providing name of a city/country and offset valueMost desktop (not mobile) browsers except Safari support the toLocaleString function with arguments, older browsers usually ignore the arguments.Okay, found it!I'm using timezone-js. this is the code:If you don't want to import some big library you could just use Intl.DateTimeFormat to convert Date objects to different timezones. Offsets, daylight saving, and changes in the past will be taken care of for you.Got it !Wanted to force the date shown = server date, no mattter the local settings (UTC).My server is GMT-6 --> new Date().getTimezoneOffset() = 360.You can use to toLocaleString() method for setting the timezone.For India you can use "Indian/Christmas" and the following are the various timeZones,If you just need to convert timezones I have uploaded a stripped-down version of moment-timezone with just the bare minimum functionallity. Its ~1KB + data:Here is my code, it is working perfectly, you can try with give below demo: Set a variable with year, month, and day separated with '-' symbols, plus a 'T' and the time in HH:mm:ss pattern, followed by +01:00 at the end of the string (in my case the time zone is +1). Then use this string as the argument for the date constructor.I should note that I am restricted with respect to which external libraries that I can use.  moment.js and timezone-js were NOT an option for me.The js date object that I have is in UTC.  I needed to get the date AND time from this date in a specific timezone('America/Chicago' in my case).  UTC is currently 6 hours ahead of 'America/Chicago'. Output is:You can try this also for convert date timezone to India:Having looked around a lot including links from this page i found this great article, using moment timezone:https://www.webniraj.com/2016/11/23/javascript-using-moment-js-to-display-dates-times-in-users-timezone/To summarise it:Get the user's timezoneReturns eg: Timezone: Europe/LondonSet the default user timezoneSet custom timezoneConvert date / time to local timezone, assumes original date/time is in UTCReturns: Sun, 25th December 2016, 7:00amConvert date/time to LA TimeReturns: Sat, 24th December 2016, 11:00pmConvert from LA time to LondonReturns: Sun, 25th December 2016, 3:00pmYou can also use 

https://www.npmjs.com/package/ctoc_timezoneIt has got much simple implementation and format customisation.Changing format in toTimeZone: CtoC.toTimeZone(new Date(),"EST","Do MMM YYYY hh:mm:ss #{EST}");Output :28th Feb 2013 19:00:00 ESTYou can explore multiple functionalities in the doc.there is an npm module called 'timezones.json' you can use for this; it basically consists of a json file with objects containing information on daylight savings and offset,....for asia/jakarta it would be able to return this object:you can find it here:https://github.com/dmfilipenko/timezones.jsonhttps://www.npmjs.com/package/timezones.jsonhope it's usefulPeople familiar with the java 8 java.time package, or joda-time will probably love the new kid on the block: the js-joda library.Install  Example  In true java nature, it's pretty verbose lol. But, being a ported java library, especially considering they ported 1800'ish test cases, it also probably works superbly accurately.Chrono manipulation is hard. That's why many other libraries are buggy in edge cases. Moment.js seems to get timezones right, but the other js libs I've seen, including timezone-js, don't seem trustworthy. I recently did this in Typescript :I Use "en-UK" format because it is a simple one. Could have been "en-US" or whatever works.If first argument is your locale timezone and seconde is your target timezone it returns a Date object with the correct offset. I was having trouble using Moment Timezone. I am adding this answer just so if somebody else faces the same issue. So I have a date string 2018-06-14 13:51:00 coming from my API. I know that this is stored in UTC but the string doesn't speak for itself.I let moment timezone know, what timezone this date is from by doing:Now I would like to convert it to a specific timezone by doing:I don't know an easy method to convert a date object to any time zone, but if you want to convert it to the local time zone, you can just convert it with Date.prototype.getTime() to the corresponding number of milliseconds, and back again. For example, date.getHours() will now return 15 instead of 13 if you are, like me, in Austria (and it's summer). I've read that the various datetime functions may exhibit non-standard behaviour in some browsers, so test this first. I can confirm that it works in Chrome. Time Zone Offset for your current timezoneFor my GMT+10 timezone (Australia) it returned -36000quick and dirty manual hour changer and return:

Convert UTC date time to local date time

Amr Elgarhy

[Convert UTC date time to local date time](https://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time)

From the server I get a datetime variable in this format: 6/29/2011 4:52:48 PM and it is in UTC time. I want to convert it to the current user’s browser time using JavaScript.How this can be done using JavaScript or jQuery?

2011-06-29 18:35:04Z

From the server I get a datetime variable in this format: 6/29/2011 4:52:48 PM and it is in UTC time. I want to convert it to the current user’s browser time using JavaScript.How this can be done using JavaScript or jQuery?Append 'UTC' to the string before converting it to a date in javascript:In my point of view servers should always in the general case return a datetime in the standardized ISO 8601-format.More info here:IN this case the server would return '2011-06-29T16:52:48.000Z' which would feed directly into the JS Date object.The localDate will be in the right local time which in my case would be two hours later (DK time).You really don't have to do all this parsing which just complicates stuff, as long as you are consistent with what format to expect from the server.This is an universal solution:Usage:Display the date based on the client local setting:You should get the (UTC) offset (in minutes) of the client:And then do the correspondent adding or substraction to the time you get from the server.  Hope this helps.For me above solutions didn't work.With IE the UTC date-time conversion to local is little tricky. 

For me, the date-time from web API is '2018-02-15T05:37:26.007' and I wanted to convert as per local timezone so I used below code in JavaScript.Put this function in your head:Then generate the following for each date in the body of your page:To remove the GMT and time zone, change the following line:This works for me:After trying a few others posted here without good results, this seemed to work for me:And this works to go the opposite way, from Local Date to UTC:In case you don't mind usingmoment.js and your time is in UTC just use the following:if your time is not in utc but any other locale known to you, then use following:if your time is already in local, then use following:Add the time zone at the end, in this case 'UTC':after that, use toLocale()* function families to display the date in the correct locale Matt's answer is missing the fact that the daylight savings time could be different between Date() and the date time it needs to convert - here is my solution:And the results in the debugger:This is a simplified solution based on Adorjan Princ´s answer:Usage:To me the simplest seemed using(i thought the first line could be enough but there are timezones which are off in fractions of hours)A JSON date string (serialized in C#) looks like "2015-10-13T18:58:17". In angular, (following Hulvej) make a localdate filter:Then, display local time like:Using YYYY-MM-DD hh:mm:ss format :For converting from the YYYY-MM-DD hh:mm:ss format, make sure your date follow the ISO 8601 format.Important things to note@Adorojan's answer is almost correct. But addition of offset is not correct since offset value will be negative if browser date is ahead of GMT and vice versa.

Below is the solution which I came with and is working perfectly fine for me:For me, this works wellI Answering This If Any one want function that display converted time to specific id element and apply date format string yyyy-mm-dd

here date1 is string and ids is id of element that time going to display.i know that answer has been already accepted but i get here cause of google and i did solve with getting inspiration from accepted answer so i did want to just share it if someone need.Based on @digitalbath answer, here is a small function to grab the UTC timestamp and display the local time in a given DOM element (using jQuery for this last part):https://jsfiddle.net/moriz/6ktb4sv8/1/I wrote a nice little script that takes a UTC epoch and converts it the client system timezone and returns it in d/m/Y H:i:s (like the PHP date function) format:You can use momentjs ,moment(date).format() will always give result in local date. Bonus , you can format in any way you want. For eg. For more details you can refer Moment js websiteYou can get it done using moment.js file.Its simple you have just mention the place of the timezone.Example: If you to convert your datetime to Asia/Kolkata timezone,you have to just mention the name of the timezone place obtained from moment.js I've created one function which converts all the timezones into local time.I did not used getTimezoneOffset(), because it does not returns proper offset valueRequirements:For others who visit - use this function to get a Local date  object from a UTC string, should take care of DST and will work on IE, IPhone etc.We split the string (Since JS Date parsing is not supported on some browsers)

We get difference from UTC and subtract it from the UTC time, which gives us local time. Since offset returned is calculated with DST (correct me if I am wrong), so it will set that time back in the variable "utc". Finally return the date object.In Angular I used Ben's answer this way: Edit: Angular 1.3.0 added UTC support to date filter, I haven't use it yet but it should be easier, here is the format:Angular 1.4.3 Date API

Why calling react setState method doesn't mutate the state immediately?

tarrsalah

[Why calling react setState method doesn't mutate the state immediately?](https://stackoverflow.com/questions/30782948/why-calling-react-setstate-method-doesnt-mutate-the-state-immediately)

I'm reading Forms section of reactjs documentation and just tried this code to demonstrate onChange usage (JSBIN).When I update the <input/> value in the browser, the second console.log inside the handleChange callback prints the same value as the first console.log, Why I can't see the result of this.setState({value: event.target.value}) in the scope of handleChange callback?

2015-06-11 13:58:26Z

I'm reading Forms section of reactjs documentation and just tried this code to demonstrate onChange usage (JSBIN).When I update the <input/> value in the browser, the second console.log inside the handleChange callback prints the same value as the first console.log, Why I can't see the result of this.setState({value: event.target.value}) in the scope of handleChange callback?From React's documentation:If you want a function to be executed after the state change occurs, pass it in as a callback.As mentioned in the React documentation, there is no guarantee of setState being fired synchronously, so your console.log may return the state prior to it updating.Michael Parker mentions passing a callback within the setState. Another way to handle the logic after state change is via the componentDidUpdate lifecycle method, which is the method recommended in React docs.This is particularly useful when there may be successive setStates fired, and you would like to fire the same function after every state change. Rather than adding a callback to each setState, you could place the function inside of the componentDidUpdate, with specific logic inside if necessary.You could try using ES7 async/await. For instance using your example:Watch out the react lifecycle methods！I worked for several hours to find out that getDerivedStateFromProps will be called after every setState(). 😂async-await syntax works perfectly for something like the following...Please read about Event Loop to have a clear picture about Asynchronous nature in JS and why it takes time to update - Hence - as it takes time to update.

To achieve the above process - 

How to have a default option in Angular.js select box

iConnor

[How to have a default option in Angular.js select box](https://stackoverflow.com/questions/18194255/how-to-have-a-default-option-in-angular-js-select-box)

I have searched Google and can't find anything on this.I have this code.With some data like this And the output is something like this.How is it possible to set the first option in the data as the default value so you would get a result like this.

2013-08-12 18:38:54Z

I have searched Google and can't find anything on this.I have this code.With some data like this And the output is something like this.How is it possible to set the first option in the data as the default value so you would get a result like this.You can simply use ng-init like thisIf you want to make sure your $scope.somethingHere value doesn't get overwritten when your view initializes, you'll want to coalesce (somethingHere = somethingHere || options[0].value) the value in your ng-init like so:Try this:HTMLJavascriptPlunker here.If you really want to set the value that will be bound to the model, then change the ng-options attribute toand the Javascript toAnother Plunker here considering the above.Only one answer by Srivathsa Harish Venkataramana mentioned track by which is indeed a solution for this!Here is an example along with Plunker (link below) of how to use track by in select ng-options:If selectedCity is defined on angular scope, and it has id property with the same value as any id of any city on the cities list, it'll be auto selected on load.See source documentation for more details:

https://code.angularjs.org/1.3.15/docs/api/ng/directive/selectI think, after the inclusion of 'track by', you can use it in ng-options to get what you wanted, like the followingThis way of doing it is better because when you want to replace the list of strings with list of objects you will just change this to where somethingHere is an object with the properties name and id, of course. Please note, 'as' is not used in this way of expressing the ng-options, because it will only set the value and you will not be able to change it when you are using track byThe accepted answer use ng-init, but document says to avoid ng-init if possible. You also can use ng-repeat  instead of ng-options for your options. With ng-repeat, you can use ng-selected with ng-repeat special properties. i.e. $index, $odd, $even to make this work without any coding. $first is one of the ng-repeat special properties.---------------------- EDIT ----------------

Although this works, I would prefer @mik-t's answer when you know what value to select, https://stackoverflow.com/a/29564802/454252, which uses track-by and ng-options without using ng-init or ng-repeat.This answer should only be used when you must select the first item without knowing what value to choose. e.g., I am using this for auto completion which requires to choose the FIRST item all the time.My solution to this was use html to hardcode my default option. Like so:In HAML:In HTML:I want my default option to return all values from my api, that's why I have a blank value. Also excuse my haml. I know this isn't directly an answer to the OP's question, but people find this on Google. Hope this helps someone else.Use below code to populate selected option from your model.Depending on how many options you have, you could put your values in an array and auto-populate your options like thisIn my case, I was need to insert a initial value only to tell to user to select an option, so, I do like the code below:When I tryed an option with the value != of an empty string (null) the option was substituted by angular, but, when put an option like that (with null value), the select apear with this option.Sorry by my bad english and I hope that I help in something with this.See the ngOptions documentation for more ngOptions usage examples.plnkr.coOfficial documentation about HTML SELECT element with angular data-binding.plnkr.cojsfiddleThis worked for me.In my case since the default varies from case to case in the form.

I add a custom attribute in the select tag.in the directives I created a script that checks the value and when angular fills it in sets the option with that value to selected.}) just translated this from coffescript on the fly at least the jist of it is correct if not the hole thing.It's not the simplest way but get it done when the value variesIn response to Ben Lesh's answer, there should be this lineinstead ofThat is,Simply use ng-selected="true" as follows:I would set the model in the controller. Then the select will default to that value. Ex: 

html:Angular controller (using resource):This working for meIf you are using ng-options to render you drop down than option having same value as of ng-modal is default selected.

Consider the example:So option having same value of  list.key and selectedItem, is default selected.I needed the default「Please Select」to be unselectable.  I also needed to be able to conditionally set a default selected option. I achieved this the following simplistic way:

JS code:

    // Flip these 2 to test selected default or no default with default「Please Select」text

    //$scope.defaultOption = 0;

    $scope.defaultOption = { key: '3', value: 'Option 3' };HTML:I hope this helps someone else that has similar requirements.The "Please Select" was accomplished through Joffrey Outtier's answer here. If you have some thing instead of just init the date part, you can use ng-init() by declare it in your controller, and use it in the top of your HTML.

This function will work like a constructor for your controller, and you can initiate your variables there.try this in your angular controller...$somethingHere = {name: 'Something Cool'};You can set a value, but you are using a complex type and the angular will search key/value to set in your view.And, if does not work, try this :

ng-options="option.value as option.name for option in options track by option.name"I think the easiest way is

Is it not possible to stringify an Error using JSON.stringify?

JayQuerie.com

[Is it not possible to stringify an Error using JSON.stringify?](https://stackoverflow.com/questions/18391212/is-it-not-possible-to-stringify-an-error-using-json-stringify)

I'm running into an issue when trying to pass error messages around using web sockets. I can replicate the issue I am facing using JSON.stringify to cater to a wider audience:The problem is that I end up with an empty object.BrowsersI first tried leaving node.js and running it in various browsers. Chrome version 28 gives me the same result, and interestingly enough, Firefox at least makes an attempt but left out the message:Replacer functionI then looked at the Error.prototype. It shows that the prototype contains methods such as toString and toSource. Knowing that functions can't be stringified, I included a replacer function when calling JSON.stringify to remove all functions, but then realized that it too had some weird behavior:It doesn't seem to loop over the object as it normally would, and therefore I can't check if the key is a function and ignore it.Is there any way to stringify native Error messages with JSON.stringify? If not, why does this behavior occur?@Ray Toal Suggested in a comment that I take a look at the property descriptors. It is clear now why it does not work:Output:Key: enumerable: false.Accepted answer provides a workaround for this problem.

2013-08-22 21:34:01Z

I'm running into an issue when trying to pass error messages around using web sockets. I can replicate the issue I am facing using JSON.stringify to cater to a wider audience:The problem is that I end up with an empty object.BrowsersI first tried leaving node.js and running it in various browsers. Chrome version 28 gives me the same result, and interestingly enough, Firefox at least makes an attempt but left out the message:Replacer functionI then looked at the Error.prototype. It shows that the prototype contains methods such as toString and toSource. Knowing that functions can't be stringified, I included a replacer function when calling JSON.stringify to remove all functions, but then realized that it too had some weird behavior:It doesn't seem to loop over the object as it normally would, and therefore I can't check if the key is a function and ignore it.Is there any way to stringify native Error messages with JSON.stringify? If not, why does this behavior occur?@Ray Toal Suggested in a comment that I take a look at the property descriptors. It is clear now why it does not work:Output:Key: enumerable: false.Accepted answer provides a workaround for this problem.You can define a Error.prototype.toJSON to retrieve a plain Object representing the Error:Using Object.defineProperty() adds toJSON without it being an enumerable property itself.Regarding modifying Error.prototype, while toJSON() may not be defined for Errors specifically, the method is still standardized for objects in general (ref: step 3). So, the risk of collisions or conflicts is minimal.Though, to still avoid it completely, JSON.stringify()'s replacer parameter can be used instead:seems to work[from a comment by /u/ub3rgeek on /r/javascript] and  felixfbecker's comment belowAs no one is talking about the why part, I'm gonna answer it.Why this JSON.stringify returns an empty object?AnswerFrom the document of JSON.stringify(), and Error object doesn't have its enumerable properties, that's why it prints an empty object.Modifying Jonathan's great answer to avoid monkey patching:There is a great Node.js package for that: serialize-error.It handles well even nested Error objects, what I actually I needed much in my project.https://www.npmjs.com/package/serialize-errorYou can also just redefine those non-enumerable properties to be enumerable.and maybe stack property too.We needed to serialise an arbitrary object hierarchy, where the root or any of the nested properties in the hierarchy could be instances of Error.Our solution was to use the replacer param of JSON.stringify(), e.g.:None of the answers above seemed to properly serialize properties which are on the prototype of Error (because getOwnPropertyNames() does not include inherited properties). I was also not able to redefine the properties like one of the answers suggested.This is the solution I came up with - it uses lodash but you could replace lodash with generic versions of those functions.Here's the test I did in Chrome:I was working on a JSON format for log appenders and ended up here trying to solve a similar problem. After a while, I realized I could just make Node do the work:

Redirect parent window from an iframe action

Click Upvote

[Redirect parent window from an iframe action](https://stackoverflow.com/questions/580669/redirect-parent-window-from-an-iframe-action)

What JavaScript do I need to use to redirect a parent window from an iframe?I want them to click a hyperlink which, using JavaScript or any other method, would redirect the parent window to a new URL.

2009-02-24 06:24:34Z

What JavaScript do I need to use to redirect a parent window from an iframe?I want them to click a hyperlink which, using JavaScript or any other method, would redirect the parent window to a new URL.As stated previously, will redirect the parent iframe.I found that <a href="..." target="_top">link</a> works toowindow.top refers to the window object of the page at the top of the frames hierarchy.or an alternative is the following (using document object)target="_parent" worked great for me. easy and hassle free! @MIP is right, but with newer versions of Safari, you will need to add sandbox attribute(HTML5) to give redirect access to the iFrame.  There are a few specific values that can be added with a space between them.Reference(you will need to scroll):

https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframeEx:This will solve the misery.If you'd like to redirect to another domain without the user having to do anything you can use a link with the property:as said previously, and then use:to have it automatically redirect.Example:Note: The javascript click() command must come after you declare the link.It is possible to redirect from an iframe, but not to get information from the parent.Try usingThis will redirect the main window to the index page.

ThanksWe have to use window.top.location.href  to redirect parent window from an iframe action.Demo url : Redirect iframe in parent window by iframe in the same parent:

How to set bootstrap navbar active class with Angular JS?

user1876508

[How to set bootstrap navbar active class with Angular JS?](https://stackoverflow.com/questions/16199418/how-to-set-bootstrap-navbar-active-class-with-angular-js)

If I have a navbar in bootstrap with the itemsHow do I set the active class for each menu item when they are active? That is, how can I set class="active" when the angular route is at 

2013-04-24 18:22:10Z

If I have a navbar in bootstrap with the itemsHow do I set the active class for each menu item when they are active? That is, how can I set class="active" when the angular route is at A very elegant way is to use ng-controller to run a single controller outside of the ng-view:and include in controllers.js:I just wrote a directive to handle this, so you can simply add the attribute bs-active-link to the parent <ul> element, and any time the route changed, it will find the matching link, and add the active class to the corresponding <li>. You can see it in action here: http://jsfiddle.net/8mcedv3b/Example HTML:Javascript:You can have a look at AngularStrap, the navbar directive seems to be what you are looking for:https://github.com/mgcrea/angular-strap/blob/master/src/navbar/navbar.jsTo use this directive:Here's a simple approach that works well with Angular. Within your AngularJS controller:If you are working with Angular router, the RouterLinkActive

 directive can be used really elegantly:First and foremost, this problem can be solved in a lot of ways. This way might not be the most elegant, but it cerntainly works.Here is a simple solution you should be able to add to any project.  You can just add a "pageKey" or some other property when you configure your route that you can use to key off of. Additionally, you can implement a listener on the $routeChangeSuccess method of the $route object to listen for the successful completion of a route change.When your handler fires you get the page key, and use that key to locate elements that need to be "ACTIVE" for this page, and you apply the ACTIVE class.Keep in mind you need a way to make ALL the elements "IN ACTIVE".  As you can see i'm using the .pageKey class on my nav items to turn them all off, and I'm using the .pageKey_{PAGEKEY} to individually turn them on. Switching them all to inactive, would be considered a naive approach, potentially you'd get better performance by using the previous route to make only active items inactive, or you could alter the jquery selector to only select active items to be made inactive.  Using jquery to select all active items is probably the best solution because it ensures everything is cleaned up for the current route in case of any css bugs that might have been present on the previous route.Which would mean changing this line of code:to this oneHere is some sample code:Given a bootstrap navbar ofAnd an angular module and controller like the following:You can actually use angular-ui-utils' ui-route directive:or:If you're using ui-utils, you may also be interested in ui-router for managing partial/nested views.I find all of these answers a bit over complicated for me, sorry. So I have created a small directive that should work on a per navbar basis:Usage:I use ng-class directive with $location to achieve it.It requires the navbar to be inside a main Controller with access to $location service like this:You can achieve this with a conditional in an angular expression, such as:That being said, I do find an angular directive to be the more "proper" way of doing it, even though outsourcing a lot of this mini-logic can somewhat pollute your code base.I use conditionals for GUI styling every once in a while during development, because it's a little quicker than creating directives. I couldn't tell you an instance though in which they actually remained in the code base for long. In the end I either turn it into a directive or find a better way to solve the problem.If you use ui-router, the following example should satisfy your needs based on @DanPantry's comment on the accepted answer without adding any controller-side code:You can check the docs for more info on it.If you would rather not use AngularStrap then this directive should do the trick!. This is a modification of https://stackoverflow.com/a/16231859/910764.JavaScriptHTMLNote: The above HTML classes assume you are using Bootstrap 3.xHeres my take on it.  A little of a combination of answers found on this post.  I had a slightly different case, so my solution involves separating the menu into its own template to be used within the Directive Definition Ojbect then add my navbar to the page I needed it on.  Basically, I had a login page that I didnt want to include my menu on, so I used ngInclude and insert this directive when logged in:Hope this helpsExtending myl answer, I needed this to handle an structure like this.-index-events<-active

---event-list

---event-edit

---event-map <-clicked-places

---place-list

---place-edit

---place-mapso instead of matching, I had to use indexOf, in order to validate children links which are formatted to match the condition. So for 'events':This is a simple solutionIn conjunction with @Olivier's AngularStrap answer, I also implemented kevinknelson's answer from: https://github.com/twbs/bootstrap/issues/9013.  Natively, the Bootstrap3 navbar was not designed for a single-page (eg Angular) application and thus the menu when on a small screen was not collapsing upon click.JavaScriptHTMLThanks to @Pylinux. I have used his technique and also modified it to support "one" level of drop down menu (sub ul/li), as that is what I needed. See it in action in the fiddle link below. Updated Fiddle based on pylinux's answer - http://jsfiddle.net/abhatia/en4qxw6g/I made the following three changes, in order to support one level drop down menu:

1. Added a class value of dd (dropdown) for "a" element under li which needs to have sub ul list.    2. Updated Javascript to add the following new logic. 3. Updated CSS to the add the following:Hopefully this will be helpful to someone looking to implement single level dropdown menu.Use an object as a switch variable.

You can do this inline quite simply with:Each time you click on a link the switch object is replaced by a new object where only the correct switch object property is true. The undefined properties will evaluate as false and so the elements which depend on them will not have the active class assigned. You can also use this active-link directive https://stackoverflow.com/a/23138152/1387163Parent li will get active class when location matches /url:I suggest using a directive on a link.

Here is the fiddle.But its not perfect yet. Watch out for the hashbangs ;)Here is the javascript for directive:and here is how it would be used in html:afterwards styling with css:Just to add my two cents in the debate I have made a pure angular module (no jquery), and it will also work with hash urls containing data. (i.g. #/this/is/path?this=is&some=data)You just add the module as a dependency and auto-active to one of the ancestors of the menu. Like this:And the module look like this:* (You can of course just use the directive part)** It's also worth noticing that this doesn't work for empty hashes (i.g. example.com/# or just example.com) it needs to have at least example.com/#/ or just example.com#/. But this happens automatically with ngResource and the like.This did the trick for me:then you use jquery(works with angular too) to add class active and of course the css:this works if you have your html like this:this will atumatically add class active using the page url and color your background to red if your in www.somesite.com/ee thaen ee is the 'app' and it will be activeThis is long answered but I thought I'd share my way:Template:For those using ui-router:For exact match (eg nested states?) use $state.name === 'full/path/to/state' or ui-sref-active-eq="active"Here's another solution for anyone who might be interested. The advantage of this is it has fewer dependencies. Heck, it works without a web server too. So it's completely client-side.HTML:Explanation:Here we are generating the links dynamically from an angularjs model using the directive ng-repeat. Magic happens with the methods selectTab() and getTabClass() defined in the controller for this navbar presented below.Controller:Explanation:selectTab() method is called using ng-click directive. So when the link is clicked, the variable selectedTab is set to the name of this link. In the HTML you can see that this method is called without any argument for Home tab so that it will be highlighted when the page loads.The getTabClass() method is called via ng-class directive in the HTML. This method checks if the tab it is in is the same as the value of the selectedTab variable. If true, it returns "active" else returns "" which is applied as the class name by ng-class directive. Then whatever css you have applied to class active will be applied to the selected tab.Just you'll have to add the required active-class with required color code. Ex: ng-class="{'active': currentNavSelected}" ng-click="setNav"

How to detect page zoom level in all modern browsers?

understack

[How to detect page zoom level in all modern browsers?](https://stackoverflow.com/questions/1713771/how-to-detect-page-zoom-level-in-all-modern-browsers)

I need this because some of my calculations are pixel-based and they may fluctuate when zoomed.Modified sample given by @tflThis page alerts different height values when zoomed. [jsFiddle]

2009-11-11 08:16:55Z

I need this because some of my calculations are pixel-based and they may fluctuate when zoomed.Modified sample given by @tflThis page alerts different height values when zoomed. [jsFiddle]Now it's an even bigger mess than it was when this question was first asked. From reading all the responses and blog posts I could find, here's a summary. I also set up this page to test all these methods of measuring the zoom level.Edit (2011-12-12): I've added a project that can be cloned: https://github.com/tombigel/detect-zoomHere's a binary search for Firefox 4, since I don't know of any variable where it is exposed:You can tryThis will give you browser zoom percentage level. To catch zoom event you can useFor me, for Chrome/Webkit, document.width / jQuery(document).width() did not work. When I made my window small and zoomed into my site such that horizontal scrollbars appeared, document.width / jQuery(document).width() did not equal 1 at the default zoom. This is because document.width includes part of the document outside the viewport.Using window.innerWidth and window.outerWidth worked. For some reason in Chrome, outerWidth is measured in screen pixels and innerWidth is measured in css pixels.My coworker and I used the script from https://github.com/tombigel/detect-zoom.  In addition, we also dynamically created a svg element and check its currentScale property. It works great on Chrome and likely most browsers too. On FF the "zoom text only" feature has to be turned off though.  SVG is supported on most browsers.  At the time of this writing, tested on IE10, FF19 and Chrome28.I found this article enormously helpful. Huge thanks to yonran. I wanted to pass on some additional learning I found while implementing some of the techniques he provided. In FF6 and Chrome 9, support for media queries from JS was added, which can greatly simplify the media query approach necessary for determining zoom in FF. See the docs at MDN here. For my purposes, I only needed to detect whether the browser was zoomed in or out, I had no need for the actual zoom factor. I was able to get my answer with one line of JavaScript:Combining this with the IE8+ and Webkit solutions, which were also single lines, I was able to detect zoom on the vast majority of browsers hitting our app with only a few lines of code.That's all you need.I have a solution for this as of Jan 2016. Tested working in Chrome, Firefox and MS Edge browsers. The principle is as follows. Collect 2 MouseEvent points that are far apart. Each mouse event comes with screen and document coordinates. Measure the distance between the 2 points in both coordinate systems. Although there are variable fixed offsets between the coordinate systems due to the browser furniture, the distance between the points should be identical if the page is not zoomed. The reason for specifying "far apart" (I put this as 12 pixels) is so that small zoom changes (e.g. 90% or 110%) are detectable.Reference: 

https://developer.mozilla.org/en/docs/Web/Events/mousemoveSteps: N.B. Only do the distance calculations rarely, e.g. when you can sample a new mouse event that's far from the previous one.Limitations: Assumes user will move the mouse at least a little, and zoom is unknowable until this time.In Internet Explorer 7, 8 & 9, this works:The "+0.9" is added to prevent rounding errors (otherwise, you would get 104% and 109% when the browser zoom is set to 105% and 110% respectively).In IE6 zoom doesn't exists, so it is unnecessary to check the zoom.What i came up with is :1) Make a position:fixed <div> with width:100% (id=zoomdiv)2) when the page loads :And it worked for me for ctrl+ and ctrl- zooms.or i can add the line to a $(window).onresize() event to get the active zoom levelCode:P.S. : this is my first post, pardon any mistakesThis has worked great for me in webkit-based browsers (Chrome, Safari):Doesn't seem to work in Firefox though.This also works in WebKit:Basically, we have:that should be enough for normal UX. If you need to detect zoom level that might be a sign of bad UI design.Pitch-zoom is harder to track and is not considered currently.On mobile devices (with Chrome for Android or Opera Mobile) you can detect zoom by window.visualViewport.scale.

 https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_APIDetect on Safari: document.documentElement.clientWidth / window.innerWidth (return 1 if no zooming on device).You can use the Visual Viewport API:It is standard and works both on desktop and mobile: browser support.Your calculations are still based on a number of CSS pixels. They're just a different size on the screen now. That's the point of full page zoom.What would you want to happen on a browser on a 192dpi device which therefore normally displayed four device pixels for each pixel in an image? At 50% zoom this device now displays one image pixel in one device pixel.On ChromeDidn't test this for IE, but if you make an element elem withthen will give you your browser zoom level (including the document.body.style.zoom factor).This is for Chrome, in the wake of user800583 answer ...I spent a few hours on this problem and have not found a better approach, but :So I came to the following ...But this approach has limitations : for example if you play the accordion with the application window (rapidly enlarge and reduce the width of the window) then you will get gaps between zoom levels although the zoom has not changed (may be outerWidth and innerWidth are not exactly updated in the same time).And if you want the factor :I have this solution for mobile only (tested with Android):If you want the zoom level right after the pinch move, you will probably have to set a little timeout because of the rendering delay (but I'm not sure because I didn't test it).This answer is based on comments about devicePixelRatio coming back incorrectly on user1080381's answer.I found that this command was coming back incorrectly in some instances too when working with a desktop, Surface Pro 3, and Surface Pro 4.What I found is that it worked on my desktop, but the SP3 and SP4 were giving different numbers from each other and the desktop.I noticed though that the SP3 was coming back as 1 and a half times the zoom level I was expecting. When I took a look at the display settings, the SP3 was actually set to 150% instead of the 100% I had on my desktop.So, the solution to the comments should be to divide the returned zoom level by the scale of the machine you are currently on.I was able to get the scale in the Windows settings by doing the following:So in the case of my SP3, this is how this code looks at 100% zoom:Multiplying by the 100 in user1080381's original answer then would give you a zoom of 100 (%).Have it currently working however still need to separate by browser.

Tested successfully on Chrome(75) and Safari(11.1) (haven't found way for FF as of yet).

It also gets the zoom value correct on retina display and calculations are triggered on resize event.here it does not change!:create a simple html file, click on the button. regardless of what zoom level: it will show you the width of 400px (at least with firefox and ie8)This may or may not help anyone, but I had a page I could not get to center correctly no matter what Css tricks I tried so I wrote a JQuery file call Center Page:The problem occurred with zoom level of the browser, the page would shift based upon if you were 100%, 125%, 150%, etc.The code below is in a JQuery file called centerpage.js.From my page I had to link to JQuery and this file to get it work, even though my master page already had a link to JQuery.centerpage.js:Also if you want to center a panel:This is question was posted like ages back, but today when i was looking for the same answer "How to detect zoom in and out event", i couldn't find one answer that would fit all the browsers. As on now : For Firefox/Chrome/IE8 and IE9 , the zoom in and out fires a window.resize event.

This can be captured using:A workaround for FireFox 16+ to find DPPX (zoom level) purely with JavaScript:The problem lies in the types of monitor used, a 4k monitor vs standard monitor.  Chrome is by far the smartest at being able to tell us what the zoom level is just by using window.devicePixelRatio, apparently it can tell what the pixel density is and reports back the same number to matter what.  Other browsers, not so much.  IE and Edge are probably the worst, as they handle zoom levels much differently.  To get the same size text on a 4k monitor, you have to select 200%, instead of 100% on a standard monitor.  As of May 2018, here's what I have to detect zoom levels for a few of the most popular browsers, Chrome, Firefox, and IE11.  I have it tell me what the zoom percentage is.  For IE, it reports 100% even for 4k monitors that are actually at 200%, but the text size is really the same.Here's a fiddle: https://jsfiddle.net/ae1hdogr/If anyone would care to take a stab at other browsers and update the fiddle, then please do so.  My main goal was to get these 3 browsers covered to detect if people were using a zoom factor greater than 100% to use my web application and display a notice suggesting a lessor zoom factor.

What's the difference between returning value or Promise.resolve from then()

spirytus

[What's the difference between returning value or Promise.resolve from then()](https://stackoverflow.com/questions/27715275/whats-the-difference-between-returning-value-or-promise-resolve-from-then)

What is the difference between:and this:I'm asking as I'm getting different behaviour Using Angular and $http service with chaining .then(). A bit too much code hence first the example above.

2014-12-31 02:08:30Z

What is the difference between:and this:I'm asking as I'm getting different behaviour Using Angular and $http service with chaining .then(). A bit too much code hence first the example above.The rule is, if the function that is in the then handler returns a value, the promise resolves/rejects with that value, and if the function returns a promise, what happens is, the next then clause will be the then clause of the promise the function returned, so, in this case, the first example falls through the normal sequence of the thens and prints out values as one might expect, in the second example, the promise object that gets returned when you do Promise.resolve("bbb")'s then is the then that gets invoked when chaining(for all intents and purposes). The way it actually works is described below in more detail.Quoting from the Promises/A+ spec:The key thing to notice here is this line:In simple terms, inside a then handler function:A) When x is a value (number, string, etc):B) When x is a Promise that is already settled (not pending anymore):C) When x is a Promise that is pending:Read more on this topic on the Promise.prototype.then() docs.Both of your examples should behave pretty much the same.A value returned inside a then() handler becomes the resolution value of the promise returned from that then(). If the value returned inside the .then  is a promise, the promise returned by then() will "adopt the state" of that promise and resolve/reject just as the returned promise does.In your first example, you return "bbb" in the first then() handler, so "bbb" is passed into the next then() handler.In your second example, you return a promise that is immediately resolved with the value "bbb", so "bbb" is passed into the next then() handler. (The Promise.resolve() here is extraneous).The outcome is the same.If you can show us an example that actually exhibits different behavior, we can tell you why that is happening.You already got a good formal answer. I figured I should add a short one.The following things are identical with Promises/A+ promises:So the following are all identical for a promise or plain value X:And it's no surprise, the promises specification is based on the Promise Resolution Procedure which enables easy interoperation between libraries (like $q and native promises) and makes your life overall easier. Whenever a promise resolution might occur a resolution occurs creating overall consistency. The only difference is that you're creating an unnecessary promise when you do return Promise.resolve("bbb"). Returning a promise from an onFulfilled() handler kicks off promise resolution. That's how promise chaining works.

How to load up CSS files using Javascript?

Click Upvote

[How to load up CSS files using Javascript?](https://stackoverflow.com/questions/574944/how-to-load-up-css-files-using-javascript)

Is it possible to import css stylesheets into a html page using Javascript? If so, how can it be done?P.S the javascript will be hosted on my site, but I want users to be able to put in the <head> tag of their website, and it should be able to import a css file hosted on my server into the current web page. (both the css file and the javascript file will be hosted on my server).

2009-02-22 13:48:00Z

Is it possible to import css stylesheets into a html page using Javascript? If so, how can it be done?P.S the javascript will be hosted on my site, but I want users to be able to put in the <head> tag of their website, and it should be able to import a css file hosted on my server into the current web page. (both the css file and the javascript file will be hosted on my server).Here's the "old school" way of doing it, which hopefully works across all browsers. In theory, you would use setAttribute unfortunately IE6 doesn't support it consistently.This example checks if the CSS was already added so it adds it only once.Put that code into a javascript file, have the end-user simply include the javascript, and make sure the CSS path is absolute so it is loaded from your servers.Here is an example that uses plain JavaScript to inject a CSS link into the head element based on the filename portion of the URL:Insert the code just before the closing head tag and the CSS will be loaded before the page is rendered. Using an external JavaScript (.js) file will cause a Flash of unstyled content (FOUC) to appear.If you use jquery:I guess something like this script would do:This JS file contains the following statement:The address of the javascript and css would need to be absolute if they are to refer to your site.Many CSS import techniques are discussed in this "Say no to CSS hacks with branching techniques" article.But the "Using JavaScript to dynamically add Portlet CSS stylesheets" article mentions also the CreateStyleSheet possibility (proprietary method for IE):Element.insertAdjacentHTML has very good browser support, and can add a stylesheet in one line.If you want to know (or wait) until the style itself has loaded this works:I know this is a pretty old thread but here comes my 5 cents.There is another way to do this depending on what your needs are.I have a case where i want a css file to be active only a while. Like css switching. Activate the css and then after another event deativate it. Instead of loading the css dynamically and then removing it you can add a Class/an id in front of all elements in the new css and then just switch that class/id of the base node of your css (like body tag).You would with this solution have more css files initially loaded but you have a more dynamic way of switching css layouts.In a modern browser you can use promise like this. Create a loader function with a promise in it:Then obviously you want something done after the CSS has loaded. You can call the function that needs to run after CSS has loaded like this:Useful links if you want to understand in-depth how it works:Official docs on promisesUseful guide to promisesA great intro video on promisesUse this code: There is a general jquery plugin that loads css and JS files synch and asych on demand.

It also keeps track off what is already been loaded :)

see: http://code.google.com/p/rloader/Here's a way with jQuery's element creation method (my preference) and with callback onLoad:The YUI library might be what you are looking for. It also supports cross domain loading.If you use jquery, this plugin does the same thing.You may use for this YUI library or use this article to implement Below a full code using for loading JS and/or CSSI'm using thymeleaf and this is work fine. ThanksI'd like to share one more way to load not only css but all the assets (js, css, images) and handle onload event for the bunch of files. It's async-assets-loader. See the example below:According to the async-assets-loader docs

How to add an object to an array

naser

[How to add an object to an array](https://stackoverflow.com/questions/6254050/how-to-add-an-object-to-an-array)

How can I add an object to an array (in javascript or jquery)?

For example, what is the problem with this code?  I would like to use this code to save many objects in the array of function1 and call function2 to use the object in the array.

2011-06-06 15:05:47Z

How can I add an object to an array (in javascript or jquery)?

For example, what is the problem with this code?  I would like to use this code to save many objects in the array of function1 and call function2 to use the object in the array.Put anything into an array using Array.push().Extra information on ArraysAdd more than one item at a timeAdd items to the beginning of an arrayAdd the contents of one array to anotherCreate a new array from the contents of two arraysFirst of all, there is no object or array. There are Object and Array. Secondly, you can do that:Now a will be an array with b as its only element.here array years is having values likeit continues like this.Using ES6 notation, you can do something like this:For appending you can use the spread operator like this:Applying those points and to answer your two questions, you could define a function like this:Usage:Expanding Gabi Purcaru's answer to include an answer to number 2.  obejct is clearly a typo. But both object and array need capital letters. You can use short hands for new Array and new Object these are [] and {}You can push data into the array using .push. This adds it to the end of the array. or you can set an index to contain the data.On alternativ answer is this.if you have and array like this:   var contacts = [bob, mary];and you want to put another array in this array, you can do that in this way:Declare the function constructormake the object from the function:and add the object in to the array:The way I made object creator with auto list:You are running into a scope problem if you use your code as such. You have to declare it outside the functions if you plan to use it between them (or if calling, pass it as a parameter).

Get escaped URL parameter

Sindre Sorhus

[Get escaped URL parameter](https://stackoverflow.com/questions/1403888/get-escaped-url-parameter)

I'm looking for a jQuery plugin that can get URL parameters, and support this search string without outputting the JavaScript error: "malformed URI sequence". If there isn't a jQuery plugin that supports this, I need to know how to modify it to support this.The value of the URL parameter, when decoded, should be:(the characters are Norwegian).I don't have access to the server, so I can't modify anything on it.

2009-09-10 07:46:19Z

I'm looking for a jQuery plugin that can get URL parameters, and support this search string without outputting the JavaScript error: "malformed URI sequence". If there isn't a jQuery plugin that supports this, I need to know how to modify it to support this.The value of the URL parameter, when decoded, should be:(the characters are Norwegian).I don't have access to the server, so I can't modify anything on it.Below is what I have created from the comments here, as well as fixing bugs not mentioned (such as actually returning null, and not 'null'):What you really want is the jQuery URL Parser plugin. With this plugin, getting the value of a specific URL parameter (for the current URL) looks like this:If you want an object with parameter names as keys and parameter values as values, you'd just call param() without an argument, like this:This library also works with other urls, not just the current one:Since this is an entire URL parsing library, you can also get other information from the URL, like the port specified, or the path, protocol etc:It has other features as well, check out its homepage for more docs and examples.Instead of writing your own URI parser for this specific purpose that kinda works in most cases, use an actual URI parser. Depending on the answer, code from other answers can return 'null' instead of null, doesn't work with empty parameters (?foo=&bar=x), can't parse and return all parameters at once, repeats the work if you repeatedly query the URL for parameters etc. Use an actual URI parser, don't invent your own.For those averse to jQuery, there's a version of the plugin that's pure JS. If you don't know what the URL parameters will be and want to get an object with the keys and values that are in the parameters, you can use this:Calling getParameters() with a url like /posts?date=9/10/11&author=nilbus would return:I won't include the code here since it's even farther away from the question, but weareon.net posted a library that allows manipulation of the parameters in the URL too:You can use the browser native location.search property:But there are some jQuery plugins that can help you:Based on the 999's answer: Changes:Need to add the i parameter to make it case insensitive:For example , a function which returns value of any parameters variable.And this is how you can use this function assuming the URL is,"http://example.com/?technology=jquery&blog=jquerybyexample".So in above code variable "tech" will have "jQuery" as value and "blog" variable's will be "jquerybyexample".After reading all of the answers I ended up with this version with + a second function to use parameters as flagsYou should not use jQuery for something like this!

The modern way is to use small reusable modules through a package-manager like Bower.I've created a tiny module that can parse the query string into an object. Use it like this:There's a lot of buggy code here and regex solutions are very slow. I found a solution that works up to 20x faster than the regex counterpart and is elegantly simple:Regex is not the be-all and end-all solution, for this type of problem simple string manipulation can work a huge amount more efficiently. Code source.getURLParameter(id) or getURLParameter(Id) Works the same : )jQuery code snippet to get the dynamic variables stored in the url as parameters and store them as JavaScript variables ready for use with your scripts:I created a simple function to get URL parameter in JavaScript from a URL like this:OUTPUT: 18    Just in case you guys have the url like  localhost/index.xsp?a=1#something and you need to get the param not the hash.Slight modification to the answer by @pauloppenheim , as it will not properly handle parameter names which can be a part of other parameter names.Eg: If you have "appenv" & "env" parameters, redeaing the value for "env" can pick-up "appenv" value.Fix:This may help.

Pass mouse events through absolutely-positioned element

s4y

[Pass mouse events through absolutely-positioned element](https://stackoverflow.com/questions/1009753/pass-mouse-events-through-absolutely-positioned-element)

I'm attempting to capture mouse events on an element with another absolutely-positioned element on top of it.Right now, events on the absolutely-positioned element hit it and bubble up to its parent, but I want it to be "transparent" to these mouse events and forward them on to whatever is behind it. How should I implement this?

2009-06-17 22:02:57Z

I'm attempting to capture mouse events on an element with another absolutely-positioned element on top of it.Right now, events on the absolutely-positioned element hit it and bubble up to its parent, but I want it to be "transparent" to these mouse events and forward them on to whatever is behind it. How should I implement this?Is a CSS property that makes events "pass through" the element to which it is applied and makes the event occur on the element "below". See for details: https://developer.mozilla.org/en/css/pointer-eventsIt is not supported up to IE 11; all other vendors support it since quite some time (global support was  ~92% in 12/'16): http://caniuse.com/#feat=pointer-events (thanks to @s4y for providing the link in the comments).If all you need is mousedown, you may be able to make do with the document.elementFromPoint method, by:Also nice to know...

Pointer-events can be disabled for a parent element (probably transparent div) and yet be enabled for child elements.

This is helpful if you work with multiple overlapping div layers, where you want to be able click the child elements of any layer. For this all parenting divs get pointer-events: none and click-children get pointer-events reenabled by pointer-events: all The reason you are not receiving the event is because the absolutely positioned element is not a child of the element you are wanting to "click" (blue div). The cleanest way I can think of is to put the absolute element as a child of the one you want clicked, but I'm assuming you can't do that or you wouldn't have posted this question here :)Another option would be to register a click event handler for the absolute element and call the click handler for the blue div, causing them both to flash.Due to the way events bubble up through the DOM I'm not sure there is a simpler answer for you, but I'm very curious if anyone else has any tricks I don't know about!There is a javascript version available which manually redirects events from one div to another.I cleaned it up and made it into a jQuery plugin.Here's the Github repository:

https://github.com/BaronVonSmeaton/jquery.forwardeventsUnfortunately, the purpose I was using it for - overlaying a mask over Google Maps did not capture click and drag events, and the mouse cursor does not change which degrades the user experience enough that I just decided to hide the mask under IE and Opera - the two browsers which dont support pointer events.If you know the elements that need mouse events, and if your overlay is transparent, you can just set the z-index of them to something higher than the overlay.  All events should of course work in that case on all browsers.

Prevent RequireJS from Caching Required Scripts

BumbleB2na

[Prevent RequireJS from Caching Required Scripts](https://stackoverflow.com/questions/8315088/prevent-requirejs-from-caching-required-scripts)

RequireJS seems to do something internally that caches required javascript files. If I make a change to one of the required files, I have to rename the file in order for the changes to be applied.  The common trick of appending a version number as a querystring param to the end of the filename does not work with requirejs <script src="jsfile.js?v2"></script> What I am looking for is a way to prevent this internal cacheing of RequireJS required scripts without having to rename my script files every time they are updated.Cross-Platform Solution:I am now using urlArgs: "bust=" + (new Date()).getTime() for automatic cache-busting during development and urlArgs: "bust=v2" for production where I increment the hard-coded version num after rolling out an updated required script.Note:@Dustin Getz mentioned in a recent answer that Chrome Developer Tools will drop breakpoints during debugging when Javascript files are continuously refreshed like this. One workaround  is to write debugger; in code to trigger a breakpoint in most Javascript debuggers.Server-Specific Solutions:For specific solutions that may work better for your server environment such as Node or Apache, see some of the answers below.

2011-11-29 17:30:29Z

RequireJS seems to do something internally that caches required javascript files. If I make a change to one of the required files, I have to rename the file in order for the changes to be applied.  The common trick of appending a version number as a querystring param to the end of the filename does not work with requirejs <script src="jsfile.js?v2"></script> What I am looking for is a way to prevent this internal cacheing of RequireJS required scripts without having to rename my script files every time they are updated.Cross-Platform Solution:I am now using urlArgs: "bust=" + (new Date()).getTime() for automatic cache-busting during development and urlArgs: "bust=v2" for production where I increment the hard-coded version num after rolling out an updated required script.Note:@Dustin Getz mentioned in a recent answer that Chrome Developer Tools will drop breakpoints during debugging when Javascript files are continuously refreshed like this. One workaround  is to write debugger; in code to trigger a breakpoint in most Javascript debuggers.Server-Specific Solutions:For specific solutions that may work better for your server environment such as Node or Apache, see some of the answers below.RequireJS can be configured to append a value to each of the script urls for cache busting. From the RequireJS documentation (http://requirejs.org/docs/api.html#config):Example, appending "v2" to all scripts:For development purposes, you can force RequireJS to bypass the cache by appending a timestamp:Require script loads respect http caching headers. (Scripts are loaded with a dynamically inserted <script>, which means the request looks just like any old asset getting loaded.)Serve your javascript assets with the proper HTTP headers to disable caching during development. Using require's urlArgs means any breakpoints you set will not be preserved across refreshes; you end up needing to put debugger statements everywhere in your code. Bad. I use urlArgs for cache-busting assets during production upgrades with the git sha; then I can set my assets to be cached forever and be guaranteed to never have stale assets. In development, I mock all ajax requests with a complex mockjax configuration, then I can serve my app in javascript-only mode with a 10 line python http server with all caching turned off. This has scaled up for me to a quite large "enterprisey" application with hundreds of restful webservice endpoints. We even have a contracted designer who can work with our real production codebase without giving him access to our backend code.The urlArgs solution has problems. Unfortunately you cannot control all proxy servers that might be between you and your user's web browser. Some of these proxy servers can be unfortunately configured to ignore URL parameters when caching files. If this happens, the wrong version of your JS file will be delivered to your user.I finally gave up and implemented my own fix directly into require.js. If you are willing to modify your version of the requirejs library, this solution might work for you.You can see the patch here:https://github.com/jbcpollak/requirejs/commit/589ee0cdfe6f719cd761eee631ce68eee09a5a67Once added, you can do something like this in your require config:Use your build system or server environment to replace buildNumber with a revision id / software version / favorite color.Using require like this:Will cause require to request this file:On our server environment, we use url rewrite rules to strip out the buildNumber, and serve the correct JS file. This way we don't actually have to worry about renaming all of our JS files.The patch will ignore any script that specifies a protocol, and it will not affect any non-JS files.This works well for my environment, but I realize some users would prefer a prefix rather than a suffix, it should be easy to modify my commit to suit your needs.Update:In the pull request discussion, the requirejs author suggest this might work as a solution to prefix the revision number:I have not tried this, but the implication is that this would request the following URL:Which might work very well for many people who can use a prefix.Here are some possible duplicate questions:RequireJS and proxy cachingrequire.js - How can I set a version on required modules as part of the URL?Inspired by Expire cache on require.js data-main we updated our deploy script with the following ant task:Where the beginning of main.js looks like:urlArgs can cause problems!The principal author of requirejs prefers not to use urlArgs:[Styling mine.]I follow this advice.I prefer to use a server that intelligently caches files that may change frequently: a server that emits Last-Modified and responds to If-Modified-Since with 304 when appropriate. Even a server based on Node's express set to serve static files does this right out the box. It does not require doing anything to my browser, and does not mess up breakpoints.I took this snippet from AskApache and put it into a seperate .conf file of my local Apache webserver (in my case /etc/apache2/others/preventcaching.conf):For development this works fine with no need to change the code. As for the production, I might use @dvtoever's approach.Quick Fix for DevelopmentFor development, you could just disable the cache in Chrome Dev Tools (Disabling Chrome cache for website development). The cache disabling happens only if the dev tools dialog is open, so you need not worry about toggling this option every time you do regular browsing.Note: Using 'urlArgs' is the proper solution in production so that users get the latest code. But it makes debugging difficult because chrome invalidates breakpoints with every refresh (because its a 'new' file being served each time).I don't recommend using 'urlArgs' for cache bursting with RequireJS. As this does not solves the problem fully. Updating a version no will result in downloading all the resources, even though you have just changes a single resource.To handle this issue i recommend using Grunt modules like 'filerev' for creating revision no. On top of this i have written a custom task in Gruntfile to update the revision no wherever required.If needed i can share the code snippet for this task.This is how I do it in Django / Flask (can be easily adapted to other languages / VCS systems):In your config.py (I use this in python3, so you may need to tweak the encoding in python2)Then in your template:Dynamic solution (without urlArgs)There is a simple solution for this problem, so that you can load a unique revision number for every module.You can save the original requirejs.load function, overwrite it with your own function and parse your modified url to the original requirejs.load again:In our building process I used "gulp-rev" to build a manifest file with all revision of all modules which are beeing used. Simplified version of my gulp task:this will generate an AMD-module with revision numbers to moduleNames, which is included as 'oRevision' in the main.js, where you overwrite the requirejs.load function as shown before.This is in addition to @phil mccull's accepted answer.I use his method but I also automate the process by creating a T4 template to be run pre-build.Pre-Build Commands:T4 template:Generated File:

Store in variable before require.config.js is loaded:

Reference in require.config.js:In my case I wanted to load the same form each time I click, I didn't want the changes I've made on the file stays. It may not relevant to this post exactly, but this could be a potential solution on the client side without setting config for require. Instead of sending the contents directly, you can make a copy of the required file and keep the actual file intact. 

How to get value of selected radio button?

ZombieBatman

[How to get value of selected radio button?](https://stackoverflow.com/questions/15839169/how-to-get-value-of-selected-radio-button)

I want to get the selected value from a group of radio buttons. Here's my HTML:Here's my .js:I keep getting undefined.

2013-04-05 16:41:17Z

I want to get the selected value from a group of radio buttons. Here's my HTML:Here's my .js:I keep getting undefined.The rates element is a div, so it won't have a value. This is probably where the undefined is coming from.The checked property will tell you whether the element is selected:This works in IE9 and above and all other browsers.You can get the value by using the checked property.For you people living on the edge:There is now something called a RadioNodeList and accessing it's value property will return the value of the currently checked input. This will remove the necessity of first filtering out the 'checked' input as we see in many of the posted answers. Example FormTo retrieve the checked value, you could do something like this:The JSFiddle to prove it: http://jsfiddle.net/vjop5xtq/Please note this was implemented in Firefox 33 (All other major browser seems to support it). Older browsers will require a polfyill for RadioNodeList for this to properly functionThe one worked for me is given below from api.jquery.com.HTMLJavaScriptThe variable selectedOption will contain the value of the selected radio button (i.e) o1 or o2Use  document.querySelector('input[type = radio]:checked').value;  to get value of selected checkbox , you can use other attributes to get value like  name = gender  etc. please go through   below snippet definitely it will helpful to you, SolutionThank-YouAnother (apparently older) option is to use the format:

"document.nameOfTheForm.nameOfTheInput.value;"

e.g. document.mainForm.rads.value;You can refer to the element by its name within a form. Your original HTML does not contain a form element though.Fiddle here (works in Chrome and Firefox):

https://jsfiddle.net/Josh_Shields/23kg3tf4/1/HTML CODE:<input type="radio" name="rdoName" value="YES"/>

 <input type="radio" name="rdoName" value="NO"/>

JQUERY CODE:You will getIn Javascript we can get the values by using Id's "getElementById()" in the above code you posted has contain name not Id 

so you to modify like thisuse this rate_value according to your codeA year or so has passed since the question was asked, but I thought a substantial improvement of the answers was possible. I find this the easiest and most versatile script, because it checks whether a button has been checked, and if so, what its value is: You can also call the function within another function, like this: Assuming your form element is referred to by myForm variable below, and that your radio buttons share the name "my-radio-button-group-name", the following is pure JavaScript and standards compliant (although I have not checked it to be available everywhere):The above will yield the value of a checked (or selected, as it is also called) radio button element, if any, or null otherwise. The crux of the solution is the namedItem function which works with radio buttons specifically.See HTMLFormElement.elements, HTMLFormControlsCollection.namedItem and especially RadioNodeList.value, as namedItem usually returns a RadioNodeList object.I use MDN because it allows one to track standards compliance, at least to a large degree, and because it is easier to comprehend than many WhatWG and W3C publications.directly calling a radio button many times gives you the value of the FIRST button, not the CHECKED button.  instead of looping thru radio buttons to see which one is checked, i prefer to call an onclick javascript function that sets a variable that can later be retrieved at will.which calls:additional advantage being that i can treat data and/or react to the checking of a button (in this case, enabling SUBMIT button).An improvement to the previous suggested functions:My take on this problem with pure javascript is to find the checked node, find its value and pop it out from the array.Note that I'm using arrow functions.

See this fiddle for a working example.If you are using jQuery:$('input[name="rate"]:checked').val();You can use .find() to select checked element:then...check value by ID:I used the jQuery.click function to get the desired output:Hope it helps.If the buttons are in a form

var myform = new FormData(getformbywhatever);

myform.get("rate");

QuerySelector above is a better solution. However, this method is easy to understand, especially if you don't have a clue about CSS. Plus, input fields are quite likely to be in a form anyway.

Didn't check, there are other similar solutions, sorry for the repetitioncannot get values of a radio button like that instead useIf you are using the JQuery, please use the bellow snippet for group of radio buttons.Simply use: document.querySelector('input[rate][checked]').valueYou can also loop through the buttons with a forEach-loop on the elementshttps://codepen.io/anon/pen/YQxbZJThe HTMLThe JSIn php it's very easy

html pageTake value from form to php

What is JavaScript garbage collection?

Noldorin

[What is JavaScript garbage collection?](https://stackoverflow.com/questions/864516/what-is-javascript-garbage-collection)

What is JavaScript garbage collection? What's important for a web programmer to understand about JavaScript garbage collection, in order to write better code?

2009-05-14 16:58:43Z

What is JavaScript garbage collection? What's important for a web programmer to understand about JavaScript garbage collection, in order to write better code?Eric Lippert wrote a detailed blog post about this subject a while back (additionally comparing it to VBScript). More accurately, he wrote about JScript, which is Microsoft's own implementation of ECMAScript, although very similar to JavaScript. I would imagine that you can assume the vast majority of behaviour would be the same for the JavaScript engine of Internet Explorer. Of course, the implementation will vary from browser to browser, though I suspect you could take a number of the common principles and apply them to other browsers.Quoted from that page:The main purpose of garbage collection is to allow the programmer not to worry about memory management of the objects they create and use, though of course there's no avoiding it sometimes - it is always beneficial to have at least a rough idea of how garbage collection works.There are a few particular points of which to be aware. The Apple developer site has some guidelines on the matter. Two important ones from there:I would imagine that the practices should apply to all JavaScript engines (in different browsers), though because this is from an Apple site, they may be somewhat specific to Safari. (Perhaps someone could clarify that?)Beware of circular references when DOM objects are involved:Memory leak patterns in JavaScriptKeep in mind that memory can only be reclaimed when there are no active references to the object. This is a common pitfall with closures and event handlers, as some JS engines will not check which variables actually are referenced in inner functions and just keep all local variables of the enclosing functions.Here's a simple example:A naive JS implementation can't collect bigString as long as the event handler is around. There are several ways to solve this problem, eg setting bigString = null at the end of init() (delete won't work for local variables and function arguments: delete removes properties from objects, and the variable object is inaccessible - ES5 in strict mode will even throw a ReferenceError if you try to delete a local variable!).I recommend to avoid unnecessary closures as much as possible if you care for memory consumption.Good quote taken from a blogThe DOM component is "garbage collected", as is the JScript component, which means that if you create an object within either component, and then lose track of that object, it will eventually be cleaned up.For example:When you call that function, the JScript component creates an object (named bigArray) that is accessible within the function. As soon as the function returns, though, you "lose track" of bigArray because there's no way to refer to it anymore. Well, the JScript component realizes that you've lost track of it, and so bigArray is cleaned up--its memory is reclaimed. The same sort of thing works in the DOM component. If you say document.createElement('div'), or something similar, then the DOM component creates an object for you. Once you lose track of that object somehow, the DOM component will clean up the related.To the best of my knowledge, JavaScript's objects are garbage collected periodically when there are no references remaining to the object.  It is something that happens automatically, but if you want to see more about how it works, at the C++ level, it makes sense to take a look at the WebKit or V8 source codeTypically you don't need to think about it, however, in older browsers, like IE 5.5 and early versions of IE 6, and perhaps current versions, closures would create circular references that when unchecked would end up eating up memory.  In the particular case that I mean about closures, it was when you added a JavaScript reference to a dom object, and an object to a DOM object that referred back to the JavaScript object.  Basically it could never be collected, and would eventually cause the OS to become unstable in test apps that looped to create crashes.  In practice these leaks are usually small, but to keep your code clean you should delete the JavaScript reference to the DOM object.Usually it is a good idea to use the delete keyword to immediately de-reference big objects like JSON data that you have received back and done whatever you need to do with it, especially in mobile web development.  This causes the next sweep of the GC to remove that object and free its memory.garbage collection (GC) is a form of automatic memory management by removing the objects that no needed anymore.any process deal with memory follow these steps:1 - allocate your memory space you need2 - do some processing3 - free this memory spacethere are two main algorithm used to detect which objects no needed anymore.Reference-counting garbage collection: this algorithm reduces the definition of "an object is not needed anymore" to "an object has no other object referencing to it", the object will removed if no reference point to itMark-and-sweep algorithm: connect each objects to root source. any object doesn't connect to root or other object. this object will be removed.currently most modern browsers using the second algorithm.  All JavaScript engines have their own garbage collectors, and they may differ. Most time you do not have to deal with them because they just do what they supposed to do.Writing better code mostly depends of how good do you know programming principles, language and particular implementation.check this In Javascript you don't care about memory allocation and deallocation. The whole problem is demanded to the Javascript interpreter. Leaks are still possible in Javascript, but they are bugs of the interpreter. If you are interested in this topic you could read more in 

www.memorymanagement.org On windows you can use Drip.exe to find memory leaks or check if your free mem routine works. It's really simple, just enter a website URL and you will see the memory consumption of the integrated IE renderer. Then hit refresh, if the memory increases, you found a memory leak somewhere on the webpage. But this is also very useful to see if routines for freeing memory work for IE. Reference types do not store the object directly into the variable to

which it is assigned, so the object variable in this example doesn’t actually

contain the object instance. Instead, it holds a pointer (or reference) to

the location in memory where the object existsif you assign one variable to another, each variable

gets a copy of the pointer, and both still reference the same object in

memory. from The Principles of Object-Oriented JavaScript - NICHOLAS C. ZAKAS

Change the URL in the browser without loading the new page using JavaScript

Steven Noble

[Change the URL in the browser without loading the new page using JavaScript](https://stackoverflow.com/questions/136458/change-the-url-in-the-browser-without-loading-the-new-page-using-javascript)

How would I have a JavaScript action that may have some effects on the current page but would also change the URL in the browser so if the user hits reload or bookmark the new URL is used?  It would also be nice if the back button would reload the original URL.I am trying to record JavaScript state in the URL.

2008-09-25 22:00:38Z

How would I have a JavaScript action that may have some effects on the current page but would also change the URL in the browser so if the user hits reload or bookmark the new URL is used?  It would also be nice if the back button would reload the original URL.I am trying to record JavaScript state in the URL.With HTML 5, use the history.pushState function. As an example:and a href:If you want to change the URL without adding an entry to the back button list, use history.replaceState instead.If you want it to work in browsers that don't support history.pushState and history.popState yet, the "old" way is to set the fragment identifier, which won't cause a page reload.The basic idea is to set the window.location.hash property to a value that contains whatever state information you need, then either use the window.onhashchange event, or for older browsers that don't support onhashchange (IE < 8, Firefox < 3.6), periodically check to see if the hash has changed (using setInterval for example) and update the page. You will also need to check the hash value on page load to set up the initial content.If you're using jQuery there's a hashchange plugin that will use whichever method the browser supports. I'm sure there are plugins for other libraries as well.One thing to be careful of is colliding with ids on the page, because the browser will scroll to any element with a matching id.window.location.href contains the current URL. You can read from it, you can append to it, and you can replace it, which may cause a page reload.If, as it sounds like, you want to record javascript state in the URL so it can be bookmarked, without reloading the page, append it to the current URL after a # and have a piece of javascript triggered by the onload event parse the current URL to see if it contains saved state.If you use a ? instead of a #, you will force a reload of the page, but since you will parse the saved state on load this may not actually be a problem; and this will make the forward and back buttons work correctly as well.I would strongly suspect this is not possible, because it would be an incredible security problem if it were. For example, I could make a page which looked like a bank login page, and make the the URL in the address bar look just like the real bank!Perhaps if you explain why you want to do this, folks might be able to suggest alternative approaches...[Edit in 2011: Since I wrote this answer in 2008, more info has come to light regarding an HTML5 technique that allows the URL to be modified as long as it is from the same origin]Browser security settings prevent people from modifying the displayed url directly. You could imagine the phishing vulnerabilities that would cause.Only reliable way to change the url without changing pages is to use an internal link or hash. e.g.: http://site.com/page.html becomes http://site.com/page.html#item1 . This technique is often used in hijax(AJAX + preserve history). When doing this I'll often just use links for the actions with the hash as the href, then add click events with jquery that use the requested hash to determine and delegate the action. I hope that sets you on the right path. jQuery has a great plugin for changing browsers' URL, called jQuery-pusher.JavaScript pushState and jQuery could be used together, like:history.pushState(null, null, $(this).attr('href'));Example:Using only JavaScript history.pushState(), which changes the referrer, that gets used in the HTTP header for XMLHttpRequest objects created after you change the state.Example:window.history.pushState("object", "Your New Title", "/new-url");The pushState() method:pushState() takes three parameters: a state object, a title (which is currently ignored), and (optionally) a URL. Let's examine each of these three parameters in more detail:There is a Yahoo YUI component (Browser History Manager) which can handle this: http://developer.yahoo.com/yui/history/Facebook's photo gallery does this using a #hash in the URL. Here are some example URLs:Before clicking 'next':After clicking 'next':Note the hash-bang (#!) immediately followed by the new URL.There's a jquery plugin  http://www.asual.com/jquery/address/I think this is what you need.What is working for me is - history.replaceState() function which is as follows - This will not reload page, you can make use of it with event of javascriptI was wondering if it will posible as long as the parent path in the page is same, only something new is appended to it.So like let's say the user is at the page: http://domain.com/site/page.html

Then the browser can let me do location.append = new.html

and the page becomes: http://domain.com/site/page.htmlnew.html and the browser does not change it. Or just allow the person to change get parameter, so let's location.get = me=1&page=1.So original page becomes http://domain.com/site/page.html?me=1&page=1 and it does not refresh. The problem with # is that the data is not cached (at least I don't think so) when hash is changed. So it is like each time a new page is being loaded, whereas back- and forward buttons in a non-Ajax page are able to cache data and do not spend time on re-loading the data.From what I saw, the Yahoo history thing already loads all of the data at once. It does not seem to be doing any Ajax requests. So when a div is used to handle different method overtime, that data is not stored for each history state.my code is:and action:and exampleThat's all :)A more simple answer i present,this will add /abc after the domain name in the browser URL. Just copy this code and paste it in the browser console and see the URL changing to "https://stackoverflow.com/abc"I've had success with:It just adds #myValue to the current URL. If you need to trigger an event on page Load, you can use the same location.hash to check for the relevant value. Just remember to remove the # from the value returned by location.hash e.g.

Why does JSHint throw a warning if I am using const?

Andre Schlesinger

[Why does JSHint throw a warning if I am using const?](https://stackoverflow.com/questions/27441803/why-does-jshint-throw-a-warning-if-i-am-using-const)

This is the error I get when using const:My code looks like this:The code works fine only JSHint is warning me every time.

2014-12-12 10:39:01Z

This is the error I get when using const:My code looks like this:The code works fine only JSHint is warning me every time.When relying upon ECMAScript 6 features such as const, you should set this option so JSHint doesn't raise unnecessary warnings. /*jshint esnext: true */ (Edit 2015.12.29: updated syntax to reflect @Olga's comments)This option, as the name suggests, tells JSHint that your code uses ECMAScript 6 specific syntax.

http://jshint.com/docs/options/#esversionEdit 2017.06.11: added another option based on this answer.While inline configuration works well for an individual file, you can also enable this setting for the entire project by creating a .jshintrc file in your project's root and adding it there.You can add a file named .jshintrc in your app's root with the following content to apply this setting for the whole solution:James' answer suggests that you can add a comment /*jshint esversion: 6 */ for each file, but it is more work than necessary if you need to control many files.I got this same warning when using an export statement. I'm using VS Code and used a similar approach to Wenlong Jiang's solution. Creating a .jshintrc file isn't necessary if you want to configure the global jshint settings for your editorIf you're using VSCode:1.2.Or simply add this to your user settings:[UPDATE] new vscode settingsI spent ages trying to fix this. Every solution talks about 'setting options'. I don't know what that means. Finally, I figured it out. You can just include a commented out line at the top of the file /*jshint esversion: 6 */.You can specify esversion:6 inside jshint options object. Please see the image. I am using grunt-contrib-jshint plugin.When you start using ECMAScript 6 this error thrown by your IDE. There are two options available:if you have only one file and want to use the es6 then simply add below line at the top of the file.Or if you have number of js file or you are using any framework(like nodejs express)you can create a new file named .jshintrc in your root directory and add code below in the file:If you want to use the es6 version onward for each project you can configure your IDE.If you are using Webstorm and if you don't have your own config file, then just enable EcmaScript.next in Relaxing options in inSee this question How-do-I-resolve-these-JSHint-ES6-errors If you are using Grunt configuration, You need to do the following stepsWarning message in Jshint:Solution:After configured this, Run again It will skip the warning,Create a file called, say jshint_opts with this content:

{

"esversion": 6

}Then invoke jshint with something like this command line:jshint --config jshint_opts lib/*.jsIn your package.json you can tell Jshint to use es6 like thisIf using Sublime Text 3: 

How to tell if a JavaScript function is defined

Aaron Lee

[How to tell if a JavaScript function is defined](https://stackoverflow.com/questions/85815/how-to-tell-if-a-javascript-function-is-defined)

How do you tell if a function in JavaScript is defined?I want to do something like thisBut it gets me aerror when callback is not defined.

2008-09-17 17:50:53Z

How do you tell if a function in JavaScript is defined?I want to do something like thisBut it gets me aerror when callback is not defined.All of the current answers use a literal string, which I prefer to not have in my code if possible - this does not (and provides valuable semantic meaning, to boot):Personally, I try to reduce the number of strings hanging around in my code...Also, while I am aware that typeof is an operator and not a function, there is little harm in using syntax that makes it appear as the latter.Note that callback (by itself) evaluates to false if it is undefined, null, 0, or false. Comparing to null is overly specific.Those methods to tell if a function is implemented also fail if variable is not defined so we are using something more powerful that supports receiving an string:New to JavaScript I am not sure if the behaviour has changed but the solution given by Jason Bunting (6 years ago) won't work if possibleFunction is not defined. This will throw a ReferenceError: possibleFunction is not defined error as the engine tries to resolve the symbol possibleFunction (as mentioned in the comments to Jason's answer)To avoid this behaviour you can only pass the name of the function you want to check if it exists. SoThis sets a variable to be either the function you want to check or the empty object if it is not defined and so avoids the issues mentioned above. Try:I might doI know there's an accepted answer, but no one suggested this. I'm not really sure if this fits the description of idiomatic, but it works for all cases.In newer JavaScript engines a finally can be used instead.Try this:If you look at the source of the library @Venkat Sudheer Reddy Aedama mentioned, underscorejs, you can see this:This is just my HINT, HINT answer :>Try:If you use http://underscorejs.org, you have:

http://underscorejs.org/#isFunctionI was looking for how to check if a jQuery function was defined and I didn't find it easily.Perhaps might need it ;)If the callback() you are calling not just for one time in a function, you could initialize the argument for reuse:For example:The limitation is that it will always execute the callback argument although it's undefined.For global functions you can use this one instead of eval suggested in one of the answers.You can use global.f instanceof Function as well, but afaik. the value of the Function will be different in different frames, so it will work only with a single frame application properly. That's why we usually use typeof instead. Note that in some environments there can be anomalies with typeof f too, e.g. by MSIE 6-8 some of the functions for example alert had "object" type.By local functions you can use the one in the accepted answer. You can test whether the function is local or global too.To answer the question, the example code is working for me without error in latest browers, so I am not sure what was the problem with it:Note: I would use callback !== undefined instead of callback != null, but they do almost the same.Most if not all previous answers have side effects to invoke the functionhere best practiceyou have functionIf you wish to redefine functions, it is best to use function variables, which are defined in their order of occurrence, since functions are defined globally, no matter where they occur.Example of creating a new function that calls a previous function of the same name:This worked for meOne-line solution:

How to fix Array indexOf() in JavaScript for Internet Explorer browsers

Bobby Borszich

[How to fix Array indexOf() in JavaScript for Internet Explorer browsers](https://stackoverflow.com/questions/1744310/how-to-fix-array-indexof-in-javascript-for-internet-explorer-browsers)

If you have worked with JavaScript at any length you are aware that Internet Explorer does not implement the ECMAScript function for Array.prototype.indexOf() [including Internet Explorer 8]. It is not a huge problem, because you can extend the functionality on your page with the following code.When should I implement this?Should I wrap it on all my pages with the following check, which checks if the prototype function exists and if not, go ahead and extend the Array prototype?Or do browser check and if it is Internet Explorer then just implement it?

2009-11-16 19:27:28Z

If you have worked with JavaScript at any length you are aware that Internet Explorer does not implement the ECMAScript function for Array.prototype.indexOf() [including Internet Explorer 8]. It is not a huge problem, because you can extend the functionality on your page with the following code.When should I implement this?Should I wrap it on all my pages with the following check, which checks if the prototype function exists and if not, go ahead and extend the Array prototype?Or do browser check and if it is Internet Explorer then just implement it?Do it like this...As recommended compatibility by MDC.In general, browser detection code is a big no-no.Alternatively, you could use the jQuery 1.2 inArray function, which should work across browsers:The full code then would be this:For a really thorough answer and code to this as well as other array functions check out Stack Overflow question Fixing JavaScript Array functions in Internet Explorer (indexOf, forEach, etc.).The underscore.js library has an indexOf function you can use instead:You should check if it's not defined using if (!Array.prototype.indexOf).Also, your implementation of indexOf is not correct. You must use === instead of == in your if (this[i] == obj) statement, otherwise [4,"5"].indexOf(5) would be 1 according to your implementation, which is incorrect.I recommend you use the implementation on MDC.There is Mozilla official solution:

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOfI would recommend this to anyone looking for missing functionality: http://code.google.com/p/ddr-ecma5/It brings in most of the missing ecma5 functionality to older browers :)This was my implementation. Essentially, add this before any other scripts on the page. i.e. in your master for a global solution for Internet Explorer 8. I also added in the trim function which seems to be used in allot of frameworks. it works for me.With the Underscore.jsvar arr=['a','a1','b'] 

_.filter(arr, function(a){ return a.indexOf('a') > -1; })

How to iterate (keys, values) in javascript?

nbroeking

[How to iterate (keys, values) in javascript?](https://stackoverflow.com/questions/34913675/how-to-iterate-keys-values-in-javascript)

I have a dictionary that has the format of How can I iterate through this dictionary by doing something like

2016-01-21 01:11:53Z

I have a dictionary that has the format of How can I iterate through this dictionary by doing something likeNo, its not possible with objects.You should either iterate with for..in, or Object.keys, like thisNote: The if condition above is necessary, only if you want to iterate the properties which are dictionary object's very own. Because for..in will iterate through all the inherited enumerable properties.OrIn ECMAScript 2015, you can use Map objects and iterate them with Map.prototype.entries. Quoting example from that page,Or iterate with for..of, like thisOrECMAScript 2017 would introduce a new function Object.entries. You can use this to iterate the object as you wanted.Try this:The Object.entries() method has been specified in ES2017 (and is supported in all modern browsers):Explanation:Try this:You can do something like this :I think the fast and easy way isjust check the documentation

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entriesusing swagger-ui.jsyou can do this - As an improvement to the accepted answer, in order to reduce nesting, you could do this instead:You can use below script. outputs

1 a

2 b

c 3

Avoid dropdown menu close on click inside

php-dev

[Avoid dropdown menu close on click inside](https://stackoverflow.com/questions/25089297/avoid-dropdown-menu-close-on-click-inside)

I have a Twitter Bootstrap dropdown menu. As all Twitter Bootstrap users know, the dropdown menu closes on click (even clicking inside it).To avoid this, I can easily attach a click event handler on the dropdown menu and simply add the famous event.stopPropagation(). This looks easy and a very common behavior, however, and since carousel-controls (as well as carousel indicators) event handlers are delegated to the document object, the click event on these elements (prev/next controls, ...) will be「ignored」.Relying on Twitter Bootstrap dropdown hide/hidden events is not a solution for the following reasons:This fiddle is the normal behavior and this fiddle is with event.stopPropagation() added.Thanks to Roman for his answer. I also found an answer that you can find below.

2014-08-01 21:59:07Z

I have a Twitter Bootstrap dropdown menu. As all Twitter Bootstrap users know, the dropdown menu closes on click (even clicking inside it).To avoid this, I can easily attach a click event handler on the dropdown menu and simply add the famous event.stopPropagation(). This looks easy and a very common behavior, however, and since carousel-controls (as well as carousel indicators) event handlers are delegated to the document object, the click event on these elements (prev/next controls, ...) will be「ignored」.Relying on Twitter Bootstrap dropdown hide/hidden events is not a solution for the following reasons:This fiddle is the normal behavior and this fiddle is with event.stopPropagation() added.Thanks to Roman for his answer. I also found an answer that you can find below.Removing the data attribute data-toggle="dropdown" and implementing the open/close of the dropdown can be a solution.First by handling the click on the link to open/close the dropdown like this :and then listening the clicks outside of the dropdown to close it like this :Here is the demo :

http://jsfiddle.net/RomaLefrancois/hh81rhcm/2/This should help as wellBootstrap provides the following function:Therefore, implementing this function should be able to disable the dropdown from closing.The absolute best answer is to put a form tag after the class dropdown-menuso your code isI also found a solution.Assuming that the Twitter Bootstrap Components related events handlers are delegated to the document object, I loop the attached handlers and check if the current clicked element (or one of its parents) is concerned by a delegated event.Hope it helps any one looking for a similar solution.Thank you all for your help.This might help: This may work for any conditions.jQuery:HTML:Demo:Generic:

https://jsfiddle.net/kerryjohnson/omefq68b/1/Your demo with this solution: http://jsfiddle.net/kerryjohnson/80oLdtbf/101/I've got a similar problem recently and tried different ways to solve it with removing the data attribute data-toggle="dropdown" and listening click with event.stopPropagation() calling.The second way looks more preferable. Also Bootstrap developers use this way.

In the source file I found initialization of the dropdown elements:So, this line:suggests you can put a form element inside the container with class .dropdown to avoid closing the dropdown menu.I tried this simple thing and it worked like a charm. I changed the dropdown-menu element from <div> to <form> and it worked well.this works in 2018Bootstrap has solved this problem themselves in their support for <form> tags in dropdowns. Their solution is quite graspable and you can read it here: https://github.com/twbs/bootstrap/blob/v4-dev/js/src/dropdown.jsIt boils down to preventing propagation at the document element and doing so only for events of type 'click.bs.dropdown.data-api' that match the selector '.dropdown .your-custom-class-for-keep-open-on-click-elements'.Or in codei have updated it once again to be the smartest and functional as possible. it now close when you hover outside the nav, remaining open while you are inside it. simply perfect.Like for instance Bootstrap 4 Alpha has this Menu Event. Why not use? I modified @Vartan's answer to make it work with Bootstrap 4.3. His solution doesn't work anymore with the latest version as target property always returns dropdown's root div no matter where the click was placed. Here is the code:You can stop click on the dropdown from propagating and then manually reimplement the carousel controls using carousel javascript methods.Here is the jsfiddle.With Angular2 Bootstrap, you can use nonInput for most scenarios:https://valor-software.com/ng2-bootstrap/#/dropdownsI know this question was specifically for jQuery, but for anyone using AngularJS that has this problem you can create a directive that handles this:    Then just add the attribute dropdown-prevent-close to your element that is triggering the menu to close, and it should prevent it.  For me, it was a select element that automatically closed the menu:[Bootstrap 4 Alpha 6][Rails]

For rails developer, e.stopPropagation() will lead to undesirable behavior for link_to with data-method not equal to get since it will by default return all your request as get. To remedy this problem, I suggest this solution, which is universalInstead of writing some javascript or jquery code(reinventing the wheel). The above scenario can be managed by bootstrap auto-close option.

You can provide either of the values to auto-close:Take a look at the following plunkr :http://plnkr.co/edit/gnU8M2fqlE0GscUQtCWa?p=previewSetHope this helps :)The simplest working solution for me is:I've found none of the solutions worked as I would like using default bootstrap nav. 

Here is my solution to this problem: In .dropdown content put the .keep-open class on any label like so:The previous cases avoided the events related to the container objects, now  the container inherits the class keep-open and check before being closed.I know there already is a previous answer suggesting to use a form but the markup provided is not correct/ideal. Here's the easiest solution, no javascript needed at all and it doesn't break your dropdown. Works with Bootstrap 4.<form class="dropdown-item">

       <!-- Your elements go here -->

</form>

This helped me,Your drop down menu element needs to be like this, (take a note of the classes dropdown-menu and keepopen.The above code prevents biding on the whole <body>, instead to the specfic element with the class dropdown-menu.Hope this helps someone.Thanks.For closing the dropdown only if a click event was triggered outside the bootstrap dropdown, this is what worked for me:JS file:HTML file:I did it with this:You may have some problems if you use return false or stopPropagation() method because your events will be interrupted.

Try this code, it's works fine:In HTML:If you want to close the dropdrown:In Bootstrap 4 you can also do this:where #dd-link is the anchor element or button that has the data-toggle="drowndown" property.

How to get the file name from a full path using JavaScript?

Jin Yong

[How to get the file name from a full path using JavaScript?](https://stackoverflow.com/questions/423376/how-to-get-the-file-name-from-a-full-path-using-javascript)

Is there a way that I can get the last value (based on the '\' symbol) from a full path?Example:C:\Documents and Settings\img\recycled log.jpgWith this case, I just want to get recycled log.jpg from the full path in JavaScript.

2009-01-08 05:43:32Z

Is there a way that I can get the last value (based on the '\' symbol) from a full path?Example:C:\Documents and Settings\img\recycled log.jpgWith this case, I just want to get recycled log.jpg from the full path in JavaScript.This will handle both \ OR / in pathsJust for the sake of performance, I tested all the answers given here:And the winner is the Split and Pop style answer, Thanks to bobince !In Node.js, you can use Path's parse module...What platform does the path come from? Windows paths are different from POSIX paths are different from Mac OS 9 paths are different from RISC OS paths are different...If it's a web app where the filename can come from different platforms there is no one solution. However a reasonable stab is to use both '\' (Windows) and '/' (Linux/Unix/Mac and also an alternative on Windows) as path separators. Here's a non-RegExp version for extra fun:Ates, your solution doesn't protect against an empty string as input.  In that case, it fails with TypeError: /([^(\\|\/|\:)]+)$/.exec(fullPath) has no properties.bobince, here's a version of nickf's that handles DOS, POSIX, and HFS path delimiters (and empty strings):The following line of JavaScript code will give you the file name.Not more concise than nickf's answer, but this one directly "extracts" the answer instead of replacing unwanted parts with an empty string:A question asking "get file name without extension" refer to here but no solution for that.

Here is the solution modified from Bobbie's solution.Another oneHere split have a regular expression with a character class

The two characters have to be escaped with '\'Or use array to split It would be the way to dynamically push more separators into an array, if needed.

If fullPath is explicitly set by a string in your code it need to escape the backslash!

Like "C:\\Documents and Settings\\img\\recycled log.jpg"I use:  It replaces the last \ so it also works with folders.The complete answer is:Little function to include in your project to determine the filename from a full path for Windows as well as GNU/Linux & UNIX absolute paths.Successfully Script for your question ,Full TestThis solution is much simpler and generic, for both 'file name' and 'path'.var file_name = file_path.substring(file_path.lastIndexOf('/'));

Declaring static constants in ES6 classes?

Jérôme Verstrynge

[Declaring static constants in ES6 classes?](https://stackoverflow.com/questions/32647215/declaring-static-constants-in-es6-classes)

I want to implement constants in a class, because that's where it makes sense to locate them in the code.So far, I have been implementing the following workaround with static methods:I know there is a possibility to fiddle with prototypes, but many recommend against this.Is there a better way to implement constants in ES6 classes?

2015-09-18 08:22:19Z

I want to implement constants in a class, because that's where it makes sense to locate them in the code.So far, I have been implementing the following workaround with static methods:I know there is a possibility to fiddle with prototypes, but many recommend against this.Is there a better way to implement constants in ES6 classes?Here's a few things you could do:Export a const from the module. Depending on your use case, you could just:And import that from the module where necessary. Or, building on your static method idea, you could declare a static get accessor:That way, you won't need parenthesis:Babel REPL ExampleThen, as you say, since a class is just syntactic sugar for a function you can just add a non-writable property like so:It may be nice if we could just do something like:But unfortunately this class property syntax is only in an ES7 proposal, and even then it won't allow for adding const to the property.Seems to work for me.I'm using babel and the following syntax is working for me:Please consider that you need the preset "stage-0".

To install it:  Update:currently use stage-3In this document it states:This means that it is intentionally like this.Maybe you can define a variable in the constructor?It is also possible to use Object.freeze on you class(es6)/constructor function(es5) object to make it immutable:Trying to alter the class will give you a soft-fail (won't throw any errors, it will simply have no effect).Maybe just put all your constants in a frozen object?Like https://stackoverflow.com/users/2784136/rodrigo-botti said, I think you're looking for Object.freeze(). Here's an example of a class with immutable statics:Here is one more way you can doNote - the Order is important, you cannot have the constants aboveUsage

console.log(Auto.CONSTANT1);You can create a way to define static constants on a class using an odd feature of ES6 classes.  Since statics are inherited by their subclasses, you can do the following:If you are comfortable mixing and matching between function and class syntax you can declare constants after the class (the constants are 'lifted') . Note that Visual Studio Code will struggle to auto-format the mixed syntax, (though it works).I did this.  The value of PI is protected from being changed since it is a value being returned from a function.  You can access it via Circle.PI.   Any attempt to assign to it is simply dropped on the floor in a manner similar to an attempt to assign to a string character via [].

variable === undefined vs. typeof variable ===「undefined」

Patrick McElhaney

[variable === undefined vs. typeof variable ===「undefined」](https://stackoverflow.com/questions/4725603/variable-undefined-vs-typeof-variable-undefined)

The jQuery Core Style Guidelines suggest two different ways to check whether a variable is defined.Why does jQuery use one approach for global variables and another for locals and properties?

2011-01-18 15:02:56Z

The jQuery Core Style Guidelines suggest two different ways to check whether a variable is defined.Why does jQuery use one approach for global variables and another for locals and properties?For undeclared variables, typeof foo will return the string literal "undefined", whereas the identity check foo === undefined would trigger the error "foo is not defined".For local variables (which you know are declared somewhere), no such error would occur, hence the identity check.I'd stick to using typeof foo === "undefined" everywhere. That can never go wrong.I imagine the reason why jQuery recommends the two different methods is that they define their own undefined variable within the function that jQuery code lives in, so within that function undefined is safe from tampering from outside. I would also imagine that someone somewhere has benchmarked the two different approaches and discovered that foo === undefined is faster and therefore decided it's the way to go. [UPDATE: as noted in the comments, the comparison with undefined is also slightly shorter, which could be a consideration.]  However, the gain in practical situations will be utterly insignificant: this check will never, ever be any kind of bottleneck, and what you lose is significant: evaluating a property of a host object for comparison can throw an error whereas a typeof check never will.For example, the following is used in IE for parsing XML:To check whether it has a loadXML method safely:On the other hand:UPDATEAnother advantage of the typeof check that I forgot to mention was that it also works with undeclared variables, which the foo === undefined check does not, and in fact throws a ReferenceError. Thanks to @LinusKleen for reminding me. For example:Bottom line: always use the typeof check.Yet another reason for using the typeof-variant: undefined can be redefined.The result of typeof variable  cannot.Update: note that this is not the case in ES5 there the global undefined is a non-configurable, non-writable property:But it still can be shadowed by a local variable:or parameter:Because undefined is not always declared, but jQuery declares undefined in its main function. So they use the safe undefined value internally, but outside, they use the typeof style to be safe.Who is interested in the performance gain of variable === undefined, may take a look here, but it seems to be a chrome optimization only.For local variables, checking with localVar === undefined will work because they must have been defined somewhere within the local scope or they will not be considered local.For variables which are not local and not defined anywhere, the check someVar === undefined will throw exception: Uncaught ReferenceError: j is not definedHere is some code which will clarify what I am saying above. Please pay attention to inline comments for further clarity.If we call the above code like this:The output would be this:If we call the above code like these (with any value actually):The output will be:When you do the check like this: typeof x === 'undefined', you are essentially asking this: Please check if the variable x exists (has been defined) somewhere in the source code. (more or less). If you know C# or Java, this type of check is never done because if it does not exist, it will not compile. <== Fiddle Me ==>When at global scope we actually want to return true if the variable is not declared or has the value undefined:Because in global scope we are not 100% sure if a variable is declared this might give us a referenceError. When we use the typeof operator on the unknown variable we are not getting this issue when the variable is not declared:This is due to the fact that the typeof operator returns the string undefined when a variable is not declared or currently hold the value undefined which is exactly what we want.typeof a === 'undefined' is faster then a === 'undefined' by about 2 times on node v6.9.1.

(change) vs (ngModelChange) in angular

Ramesh Rajendran

[(change) vs (ngModelChange) in angular](https://stackoverflow.com/questions/44840735/change-vs-ngmodelchange-in-angular)

Angular 1 does not accept onchange() event, it's only accepts ng-change() event. Angular 2, on the other hand, accepts both (change) and (ngModelChange) events, which both seems to be doing the same thing. What's the difference? which one is best for performance?ngModelChange:vs change:

2017-06-30 07:16:42Z

Angular 1 does not accept onchange() event, it's only accepts ng-change() event. Angular 2, on the other hand, accepts both (change) and (ngModelChange) events, which both seems to be doing the same thing. What's the difference? which one is best for performance?ngModelChange:vs change:(change) event bound to classical input change event. https://developer.mozilla.org/en-US/docs/Web/Events/changeYou can use (change) event even if you don't have a model at your input as(ngModelChange) is the @Output of ngModel directive. It fires when the model changes. You cannot use this event without ngModel directive. https://github.com/angular/angular/blob/master/packages/forms/src/directives/ng_model.ts#L124As you discover more in the source code, (ngModelChange) emits the new value.https://github.com/angular/angular/blob/master/packages/forms/src/directives/ng_model.ts#L169So it means you have ability of such usage:Basically, it seems like there is no big difference between two, but ngModel events gains the power when you use [ngValue]. assume you try the same thing without "ngModel things"In Angular 7, the (ngModelChange)="eventHandler()" will fire before the value bound to [(ngModel)]="value" is changed while the (change)="eventHandler()" will fire after the value bound to [(ngModel)]="value" is changed.As I have found and wrote in another topic  - this applies to angular < 7 (not sure how it is in 7+)Just for the futurewe need to observe that [(ngModel)]="hero.name" is just a short-cut that can be de-sugared to: [ngModel]="hero.name" (ngModelChange)="hero.name = $event".So if we de-sugar code we would end up with: <select (ngModelChange)="onModelChange()" [ngModel]="hero.name" (ngModelChange)="hero.name = $event"> or<[ngModel]="hero.name" (ngModelChange)="hero.name = $event" select (ngModelChange)="onModelChange()">If you inspect the above code you will notice that we end up with 2 ngModelChange events and those need to be executed in some order.Summing up: If you place ngModelChange before ngModel, you get the $event as the new value, but your model object still holds previous value.

If you place it after ngModel, the model will already have the new value.SOURCE1 - (change) is bound to the HTML onchange event. The documentation about HTML onchange says the following :Source : https://www.w3schools.com/jsref/event_onchange.asp2 - As stated before, (ngModelChange) is bound to the model variable binded to your input.So, my interpretation is :

Rerender view on browser resize with React

digibake

[Rerender view on browser resize with React](https://stackoverflow.com/questions/19014250/rerender-view-on-browser-resize-with-react)

How can I get React to re-render the view when the browser window is resized?I have some blocks that I want to layout individually on the page, however I also want them to update when the browser window changes. The very end result will be something like Ben Holland's Pinterest layout, but written using React not just jQuery. I’m still a way off.Here’s my app:Then I have the Block component (equivalent to a Pin in the above Pinterest example):and the list/collection of Blocks:Should I add jQuery’s window resize? If so, where?Is there a more「React」way of doing this?

2013-09-25 20:06:06Z

How can I get React to re-render the view when the browser window is resized?I have some blocks that I want to layout individually on the page, however I also want them to update when the browser window changes. The very end result will be something like Ben Holland's Pinterest layout, but written using React not just jQuery. I’m still a way off.Here’s my app:Then I have the Block component (equivalent to a Pin in the above Pinterest example):and the list/collection of Blocks:Should I add jQuery’s window resize? If so, where?Is there a more「React」way of doing this?Using React Hooks:You can define a custom Hook that listens to the window resize event, something like this:The advantage here is the logic is encapsulated, and you can use this Hook anywhere you want to use the window size.Using React classes:You can listen in componentDidMount, something like this component which just displays the window dimensions (like <span>Window size: 1024 x 768</span>):@SophieAlpert is right, +1, I just want to provide a modified version of her solution, without jQuery, based on this answer.A very simple solution:It's a simple and short example of using es6 without jQuery. hooks As of React 16.8 you can use Hooks!Edit 2018: now React has first class support for contextI will try to give a generic answer, that targets this specific problem but a more general problem also.If you don't care about side effects libs, you can simply use something like PackeryIf you use Flux, you could create a store that contain the window properties so that you keep a pure render function without having to query the window object everytime. In other cases where you want to build a responsive website but you prefer React inline styles to media queries, or want the HTML/JS behavior to change according to window width, keep reading:What is React context and why I talk about itReact context an is not in the public API and permits to pass properties to a whole hierarchy of components. React context is particularly useful to pass to your whole app things that never changes (it is used by many Flux frameworks through a mixin). You can use it to store app business invariants (like the connected userId, so that it's available everywhere).But it can also be used to store things that can change. The problem is that when the context changes, all the components that use it should be re-rendered and it is not easy to do so, the best solution is often to unmount/remount the whole app with the new context. Remember forceUpdate is not recursive.So as you understand, context is practical, but there's a performance impact when it changes, so it should rather not change too often.What to put in contextHere are things that don't change often:The current user language:It does not change very oftenly, and when it does, as the whole app is translated we have to re-render everything: a very nice usecase of hot langage changeThe window propertiesWidth and height to not change often but when we do our layout and behavior may have to adapt. For the layout sometimes it's easy to customize with CSS mediaqueries, but sometimes it's not and requires a different HTML structure. For the behavior you have to handle this with Javascript.You don't want to re-render everything on every resize event, so you have to debounce the resize events.What I understand of your problem is that you want to know how many items to display according to the screen width. So you have first to define responsive breakpoints, and enumerate the number of different layout types you can have.For example:On resize events (debounced), you can easily get the current layout type by querying the window object. Then you can compare the layout type with the former layout type, and if it has changed, re-render the app with a new context: this permits to avoid re-rendering the app at all when the user has trigger resize events but actually the layout type has not changed, so you only re-render when required.Once you have that, you can simply use the layout type inside your app (accessible through the context) so that you can customize the HTML, behavior, CSS classes... You know your layout type inside the React render function so this means you can safely write responsive websites by using inline styles, and don't need mediaqueries at all.If you use Flux, you can use a store instead of React context, but if your app has a lot of responsive components maybe it's simpler to use context?I use @senornestor 's solution, but to be entirely correct you have to remove the event listener as well: Otherwise you 'll get the warning: I would skip all of the above answers and start using the react-dimensions Higher Order Component.https://github.com/digidem/react-dimensionsJust add a simple import and a function call, and you can access this.props.containerWidth and this.props.containerHeight in your component.This code is using the new React context API:Then you can use it wherever you want in your code like this:You don't necessarily need to force a re-render.This might not help OP, but in my case I only needed to update the width and height attributes on my canvas (which you can't do with CSS).It looks like this:Not sure if this is the best approach, but what worked for me was first creating a Store, I called it WindowStore:Then I used that store in my components, kinda like this:FYI, these files were partially trimmed.I know this has been answered but just thought I'd share my solution as the top answer, although great, may now be a little outdated.The only difference really is that I'm debouncing (only running every 200ms) the updateWindowDimensions on the resize event to increase performance a bit, BUT not debouncing it when it's called on ComponentDidMount.I was finding the debounce made it quite laggy to mount sometimes if you have a situation where it's mounting often.Just a minor optimisation but hope it helps someone!Only need to define resize event function. Then update the renderers size ( canvas ), assign a new aspect ratio for the camera. Unmounting and remouting is a crazy solution in my opinion....below is the mount if needed.Just to improve on @senornestor's solution to use forceUpdate and @gkri's solution to removing the resize event listener on component unmount:Another method is to just use a "dummy" state instead of forceUpdate:Had to bind it to 'this' in the constructor to get it working with Class syntaxThank you all for the answers. Here's my React + Recompose. It's a High Order Function that includes the windowHeight and windowWidth properties to the component.https://github.com/renatorib/react-sizes is a HOC to do this while still maintaining good performance.Wanted to share this pretty cool thing I just found using window.matchMedia.matches will return true or false if the window is higher or lower than the specified max-width value, this means there is no need to throttle the listener, as the matchMedia only fires one time when the boolean changes.My code can easily be adjusted to include useState to save the boolean matchMedia returns, and use it to conditionally render a component, fire action etc.For this reason better is if you use this data from CSS or JSON file data, and then with this data setting new state with this.state({width: "some value",height:"some value" }); or writing code who use data of width screen data in self work if you wish responsive show images

How can I test if a letter in a string is uppercase or lowercase using JavaScript?

Joe

[How can I test if a letter in a string is uppercase or lowercase using JavaScript?](https://stackoverflow.com/questions/1027224/how-can-i-test-if-a-letter-in-a-string-is-uppercase-or-lowercase-using-javascrip)

How can I test if a letter in a string is uppercase or lowercase using JavaScript?

2009-06-22 13:28:46Z

How can I test if a letter in a string is uppercase or lowercase using JavaScript?The answer by josh and maleki will return true on both upper and lower case if the character or the whole string is numeric. making the result a false result.

example using josh another way is to test it first if it is numeric, else test it if upper or lower case

example This will log true if character is uppercase letter, and log false in every other case:You may test it here: http://jsfiddle.net/Axfxz/ (use Firebug or sth).and this is for lowercase:).The problem with the other answers is, that some characters like numbers or punctuation also return true when checked for lowercase/uppercase.I found this to work very well for it:This will work for punctuation, numbers and letters:To check one letter just call it using isLowerCase(str[charIndex])then : You could utilize a regular expression test and the toUpperCase method:See alsoMore specifically to what is being asked. Pass in a String and a position to check. Very close to Josh's except that this one will compare a larger string. Would have added as a comment but I don't have that ability yet.You can also use a regular expression to explicitly detect uppercase roman alphabetical characters. EDIT: the above function is correct for ASCII/Basic Latin Unicode, which is probably all you'll ever care about. The following version also support Latin-1 Supplement and Greek and Coptic Unicode blocks... In case you needed that for some reason.This strategy starts to fall down if you need further support (is Ѭ uppercase?) since some blocks intermix upper and lowercase characters.A good answer to this question should be succinct, handle unicode correctly, and deal with empty strings and nulls.This approach deals with empty strings and nulls first, then ensures that converting the given string to lower case changes its equality. This ensures that the string contains at least one capital letter according to the current local's capitalisation rules (and won't return false positives for numbers and other glyphs that don't have capitalisation).The original question asked specifically about testing the first character. In order to keep your code simple and clear I'd split the first character off the string separately from testing whether it's upper case.There's a really simple answer, which nobody else has mentioned:If str.toUpperCase() does not return the same str, it has to be lower case. To test for upper case you change it to str !== str.toLowererCase().Unlike some other answers, it works correctly on non-alpha characters (returns false) and it works for other alphabets, accented characters etc.The best way is to use a regular expression, a ternary operator, and the built in .test() method for strings. I leave you to Google the ins and outs of regular expressions and the test method for strings (they're easy to find), but here we'll use it to test your variable.This will return TRUE of FALSE based on whether or not your character matches the character set in the regular expression. Our regular expression checks for all letters a-z /[a-z]/ regardless of their case thanks to the i flag.So, a basic test would be:Now we need to determine if it's upper or lower case. So, if we remove the i flag from our regular expression, then our code above will test for lower case letters a-z. And if we stick another if statement in the else of our first if statement, we can test for upper case too by using A-Z. Like this:And just in case it's not a letter, we can add a final else statement:The above code would work. But it's kinda ugly. Instead, we can use a "ternary operator" to replace our if-else statements above. Ternary operators are just shorthand simple ways of coding an if-else. The syntax is easy:And these can be nested within each other, too. So a function might look like:The above code looks good, but won't quite work, because if our character is lower case, theAnswer gets set to "" when it test for uppercase, so lets nest them:That will work great! But there's no need to have two seperate lines for setting the variable theAnswer and then returning it. And we should be using let and const rather than var (look those up if you're not sure why). Once we make those changes:And we end up with an elegant, concise piece of code. ;)This is straightforward, readable solution using a simple regex.You can test if your array has an upper case or lower case string by using the match          method and regex, below is just a basic foundation to start your test You can also use this, it will check the string for lower and uppercaseThis checks the ENTIRE string, not just the first letter.  I thought I'd share it with everyone here.Here is a function that uses a regular expression to test against the letters of a string; it returns true if the letter is uppercase (A-Z).  We then reduce the true/false array to a single value.  If it is equal to the length of the string, that means all the letters passed the regex test, which means the string is uppercase.  If not, the string is lowercase.This is how I did it recently:1) Check that a char/string s is lowercases.toLowerCase() == s && s.toUpperCase() != s2) Check s is uppercases.toUpperCase() == s && s.toLowerCase() != sCovers cases where s contains non-alphabetic chars and diacritics.This question has clearly been answered a number of times, but i thought i'd share my solution as I haven't seen it in the given answers.2¢See my comment on the chosen answer. Other solutions that limit to the ASCII table or use the actual character literals completely ignore Unicode and the several hundred other characters there that have case.This code will set the caseGroup variable to:You could bake that into something like this...Based on Sonic Beard comment to the main answer. I changed the logic in the result:Another way is to compare the character with an empty object, i don't really know's why it works, but it works :so in a function :EDIT: it doesn't work with accents and diacritics, so it's possible to remove itAssuming that a string is only considered to not be all uppercase if at least one lowercase letter is present, this works fine. I understand it's not concise and succinct like everybody else tried to do, but does it works =)One I use (notice this doesnt make "TestString" as "T est String" or " Test String").I need to test against a string of any character (including white space, marks, numbers, unicode characters...). Because white space, numbers, marks... will be the same in both upper case and lower case, and I want to find real upper case letters, I do this:Simply check the ASCII valueStephen Nelsons' function converted to a prototype with lots of test examples.I've also added whole strings to the function for completeness.See code for additional comments.

Keep only first n characters in a string?

user978905

[Keep only first n characters in a string?](https://stackoverflow.com/questions/7708819/keep-only-first-n-characters-in-a-string)

Is there a way in JavaScript to remove the end of a string?I need to only keep the first 8 characters of a string and remove the rest.

2011-10-10 05:21:36Z

Is there a way in JavaScript to remove the end of a string?I need to only keep the first 8 characters of a string and remove the rest.You are looking for JavaScript's String method substringe.g.Which returns the string starting at the first character and finishing before the 9th character - i.e. 'Hiya how'.substring documentationYou could use String.slice:Using this, a String extension could be:See alsoUse substring function

Check this out http://jsfiddle.net/kuc5as83/substr(-8) will keep last 8 charssubstr(8) will keep last 2 charssubstr(0, 8) will keep first 8 charsCheck this out

    string.substr(start,length)You could try:Use the string.substring(from, to) API. In your case, use string.substring(0,8).You can use .substring, which returns a potion of a string:

Detect browser or tab closing

cometta

[Detect browser or tab closing](https://stackoverflow.com/questions/3888902/detect-browser-or-tab-closing)

Is there any cross-browser JavaScript/jQuery code to detect if the browser or a browser tab is being closed, but not due to a link being clicked?

2010-10-08 08:34:16Z

Is there any cross-browser JavaScript/jQuery code to detect if the browser or a browser tab is being closed, but not due to a link being clicked?If I get you correctly, you want to know when a tab/window is effectively closed. Well, AFAIK the only way in Javascript to detect that kind of stuffs are onunload & onbeforeunload events.Unfortunately (or fortunately?), those events are also fired when you leave a site over a link or your browsers back button. So this is the best answer I can give, I don't think you can natively detect a pure close in Javascript. Correct me if I'm wrong here.From Firefox Documentation  For some reasons, Webkit-based browsers don't follow the spec for the dialog box. An almost cross-working example would be close from the below example.This example for handling all browsers.Simple Solution//This is working in IE7, if you are closing tab or browser with only one tabI needed to automatically log the user out when the browser or tab closes, but not when the user navigates to other links. I also did not want a confirmation prompt shown when that happens. After struggling with this for a while, especially with IE and Edge, here's what I ended doing (checked working with IE 11, Edge, Chrome, and Firefox) after basing off the approach by this answer.First, start a countdown timer on the server in the beforeunload event handler in JS. The ajax calls need to be synchronous for IE and Edge to work properly. You also need to use return; to prevent the confirmation dialog from showing like this:Starting the timer sets the cancelLogout flag to false. If the user refreshes the page or navigates to another internal link, the cancelLogout flag on the server is set to true. Once the timer event elapses, it checks the cancelLogout flag to see if the logout event has been cancelled. If the timer has been cancelled, then it would stop the timer. If the browser or tab was closed, then the cancelLogout flag would remain false and the event handler would log the user out.Implementation note: I'm using ASP.NET MVC 5 and I'm cancelling logout in an overridden Controller.OnActionExecuted() method.Sorry, I was not able to add a comment to one of existing answers, but in case you wanted to implement a kind of warning dialog,  I just wanted to mention that any event handler function has an argument -  event.  In your case you can call event.preventDefault() to disallow leaving  the page automatically, then issue your own dialog.  I consider this a way better option than using standard ugly and insecure alert(). I personally implemented my own set of dialog boxes based on kendoWindow object (Telerik's Kendo UI,  which is almost fully open-sourced,  except of kendoGrid and kendoEditor). You can also use dialog boxes from jQuery UI. Please note though,  that such things are asynchronous,  and you will need to bind a handler to onclick event of every button,  but this is all quite easy to implement. However,  I do agree that the lack of the real close event is terrible: if you,  for instance, want to reset your session state at the back-end only on case of the real close,  it's a problem.For similar tasks, you can use sessionStorage to store data locally until the browser tab is closed.The sessionStorage object stores data for only one session (the data is deleted when the browser tab is closed).(W3Schools)This is my pen.There is no event, but there is a property window.closed which is supported in all major browsers as of the time of this writing. Thus if you really needed to know you could poll the window to check that property.if(myWindow.closed){do things}Note:

Polling anything is generally not the best solution. The window.onbeforeunload event should be used if possible, the only caveat being that it also fires if you navigate away.Try to use it:I found a way, that works on all of my browsers. Tested on following versions: 

Firefox 57, Internet Explorer 11, Edge 41, one of the latested Chrome (it won't show my version) It is possible to check it with the help of window.closed in an event handler on 'unload' event like this, but timeout usage is required (so result cannot be guaranteed if smth delay or prevent window from closure):Example of JSFiddle (Tested on lates Safari, FF, Chrome, Edge and IE11 )Since no one has mentioned it yet (8+ years later):  A WebSocket can be another effective way to detect a closed tab.  As long as the tab is open and pointed at the host, the client is able to maintain an active WebSocket connection to the host.Caveat:  Please note that this solution is really only viable for a project if a WebSocket doesn't require any additional significant overhead from what you are already doing.Within a sensible timeout period (e.g. 2 minutes), the server side can determine that the client has gone away after the WebSocket has disconnected and perform whatever action is desired such as removing uploaded temp files.  (In my extremely specialized use-case, my goal was to terminate a localhost app server three seconds after the WebSocket connection drops and all CGI/FastCGI activity terminates - any other keep-alive connections don't affect me.)I had problems getting the onunload event handler to work properly with beacons (as recommended by this answer).  Closing the tab did not appear to trigger the beacon and open tabs triggered it in ways that could potentially cause problems.  A WebSocket solved the problem I was running into more cleanly because the connection closes roughly around the same time that the tab closes and switching pages within the application simply opens a new WebSocket connection well within the delay window.JSFiddle LinkHi all, I was able to achieve 'Detect Browser and Tab Close Event' clicks by using browser local storage and timestamp. Hope all of you will get solved your problems by using this solution.After my initial research i found that when we close a browser, the browser will close all the tabs one by one to completely close the browser. Hence, i observed that there will be very little time delay between closing the tabs. So I taken this time delay as my main validation point and able to achieve the browser and tab close event detection.I tested it on Chrome Browser Version 76.0.3809.132 and found working:) Vote Up if you found my answer helpful....This function show a confirmation dialog box if you close window or refresh page during any process in browser.This function work in all browsers.You have to set isProcess var in your ajax process.As @jAndy mentioned, there is no properly javascript code to detect a window being closed.

I started from what @Syno had proposed.I had pass though a situation like that and provided you follow these steps, you'll be able to detect it.

 I tested it on Chrome 67+ and Firefox 61+.};try this,

I am sure this will work for you.Try this. It will work. jquery unload method is depreceted.

How can I check whether Google Maps is fully loaded?

ddinchev

[How can I check whether Google Maps is fully loaded?](https://stackoverflow.com/questions/832692/how-can-i-check-whether-google-maps-is-fully-loaded)

I’m embedding Google Maps into my web site. Once Google Maps is loaded, I need to kick off a few JavaScript processes.Is there a way to auto-detect when Google Maps has fully loaded, including tile downloads and all?A tilesloaded() method exists that is supposed to accomplish exactly this task but it does not work.

2009-05-07 02:57:26Z

I’m embedding Google Maps into my web site. Once Google Maps is loaded, I need to kick off a few JavaScript processes.Is there a way to auto-detect when Google Maps has fully loaded, including tile downloads and all?A tilesloaded() method exists that is supposed to accomplish exactly this task but it does not work.This was bothering me for a while with GMaps v3.I found a way to do it like this:The "idle" event is triggered when the map goes to idle state - everything loaded (or failed to load). I found it to be more reliable then tilesloaded/bounds_changed and using addListenerOnce method the code in the closure is executed the first time "idle" is fired and then the event is detached.See also the events section in the Google Maps Reference.I'm creating html5 mobile apps and I noticed that the idle, bounds_changed and tilesloaded events fire when the map object is created and rendered (even if it is not visible).To make my map run code when it is shown for the first time I did the following:If you're using the Maps API v3, this has changed.In version 3, you essentially want to set up a listener for the bounds_changed event, which will trigger upon map load. Once that has triggered, remove the listener as you don't want to be informed every time the viewport bounds change.This may change in the future as the V3 API is evolving :-)In 2018:https://developers.google.com/maps/documentation/javascript/eventsIf you're using web components, then they have this as an example:GMap2::tilesloaded() would be the event you're looking for.See GMap2.tilesloaded for references.Where the variable map is an object of type GMap2:In my case, Tile Image loaded from remote url and tilesloaded event was triggered before render the image. I solved with following dirty way. You could check the GMap2.isLoaded() method every n milliseconds to see if the map and all its tiles were loaded (window.setTimeout() or window.setInterval() are your friends).While this won't give you the exact event of the load completion, it should be good enough to trigger your Javascript.

Getting JavaScript object key list

user160820

[Getting JavaScript object key list](https://stackoverflow.com/questions/3068534/getting-javascript-object-key-list)

I have a JavaScript object likeHow can I get the length and list of keys in this object?

2010-06-18 09:31:50Z

I have a JavaScript object likeHow can I get the length and list of keys in this object?It's supported on most major browsers now.Underscore.js makes the transformation pretty clean:Edit: I missed that you can do this too:If you only want the keys which are specific to that particular object and not any derived prototype properties:e.g:to access any value from the object, you can use obj[key];You can try: this will return:to get the list of keys

or to get the valuesAnurags answer is basically correct.

But to support Object.keys(obj) in older browsers as well you can use the code below that is copied from 

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys

. It adds the Object.keys(obj) method if it's not available from the browser.Note that in coffeescript this can be accomplished in all browsers and node asand thusUse Object.keys()... it's the way to go.Full documentation is available on the MDN site linked below:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keysFor a comma-delineated string listing the keys of a JSON Object, try the following:Recursive solution for browsers that support ECMAScript 5:Using ES6, 

you can use forEach to iterate over the Keys of an Object.

To get all the keys you can use Object.keys which returns all the keys in an ObjectShort hand of the above snippet would be, which only takes one parameterIf you decide to use Underscore.js you better doIn JavaScript, an object is a standalone entity, with properties and type.For fetching values from Object in form of array: 

Object.values(obj) // obj is object name that you used 

Result -> ["value1", "value2", "value3", "value4"]For fetching keys from Object in form of array: 

Object.keys(obj) // obj is object name that you used 

Result -> ["key1", "key2", "key3", "key4"]As both functions are returning array you can get the length of keys or value by using length property. For instance -  Object.values(obj).length or Object.keys(obj).lengthusing slice, apply and join method.

Convert SVG to image (JPEG, PNG, etc.) in the browser

Zain

[Convert SVG to image (JPEG, PNG, etc.) in the browser](https://stackoverflow.com/questions/3975499/convert-svg-to-image-jpeg-png-etc-in-the-browser)

I want to convert SVG into bitmap images (like JPEG, PNG, etc.) through JavaScript.

2010-10-20 07:13:48Z

I want to convert SVG into bitmap images (like JPEG, PNG, etc.) through JavaScript.Here is how you can do it through JavaScript:jbeard4 solution worked beautifully.I'm using Raphael SketchPad to create an SVG.  Link to the files in step 1.For a Save button (id of svg is "editor", id of canvas is "canvas"):This seems to work in most browsers:The solution to convert SVG to blob URL and blob URL to png imageHere's a server side solution based on PhantomJS. You can use JSONP to make a cross domain call to the image service:https://github.com/vidalab/banquo-serverFor example:http://[host]/api/https%3A%2F%2Fvida.io%2Fdocuments%2FWgBMc4zDWF7YpqXGR/viewport_width=980&viewport_height=900&delay=5000&selector=%23canvasThen you can display image with img tag:It works across browser.I wrote this ES6 Class which does the Job. Here is how you use itIf you want a vanilla JavaScript version, you could head over to Babel website and transpile the code there. change svg to match your elementSvg to png can be converted depending on conditions:example:Note that Path2D not supported in ie and partially supported in edge. Polyfill solves that:

