Ben

[PHP buffer ob_flush() vs. flush()](https://stackoverflow.com/questions/4191385/php-buffer-ob-flush-vs-flush)

What's the difference between ob_flush() and flush() and why must I call both?The ob_flush() reference says:The flush() reference says: However, it continues to say:So, seems to me that I could just use ob_flush() all of the time. However, I get strange results when I do that.  Could someone explain in simple terms what's going on here?

2010-11-16 05:10:48Z

What's the difference between ob_flush() and flush() and why must I call both?The ob_flush() reference says:The flush() reference says: However, it continues to say:So, seems to me that I could just use ob_flush() all of the time. However, I get strange results when I do that.  Could someone explain in simple terms what's going on here?ob_flush sends an application-initiated buffer. There may be multiple nested ob_start()'s in any PHP script. ob_flush passes the current content to the upper layer.PHP itself might (at its own discretion) buffer output. This depends on the back-end. But usually FastCGI has a socket buffer on its own. Therefore flush() needs to be invoked as well to send the current content to the web server.And now the web server might itself implement another buffering scheme (mod_deflate or content filter), which you have no influence over. But this is seldom, as it needs to be configured specifically.Anyway, use both.ob_flush flushes output buffers you created with a function like ob_startflush flushes buffered output of the PHP script itself to its callerob_flush() is a high-level flush. It flushes high-level buffers and puts all content in the low-level, internal buffers ready to send.flush() is a low-level flush, instructing PHP to flush its internal, low-level data buffers.Below that still, there will be socket-layer buffers; below that, there are network-layer buffers. And, at the lowest level, the queue of electrons going down the data cable.I guess this is in relation to your previous question. The significant advantage of using output buffering is when it's used alongside data compression. If you're not using ob_gzhandler, there's little to gain. flush alone will just commit whatever output data is still on the server. With ob_start and its counterparts ob_flush, ob_end_clean and ob_end_flush, whatever is waiting to be compressed (look at flush and ob_flush as referring to different buckets - ob sends data to flush, flush sends data to browser - may not be accurate but that's the idea) will be wrapped up and sent to the client.

Which method is preferred strstr or strpos?

danidacar

[Which method is preferred strstr or strpos?](https://stackoverflow.com/questions/5820586/which-method-is-preferred-strstr-or-strpos)

I noticed a lot of developers are using both strstr and strpos to check for a substring existence. Is one of them preferred and why ?

2011-04-28 14:53:36Z

I noticed a lot of developers are using both strstr and strpos to check for a substring existence. Is one of them preferred and why ?From the PHP online manual:Here are some other answers (+benchmarks) I got to my question, which is almost the same (I didn't realize yours when asking).

In the meantime I also made my own benchmark test, which I ran 1000000 times for each relevant functions (strstr(), strpos(), stristr() and stripos()).

 Here's the code:And here is the first output, which shows that strpos() is the winner:The next one is similar to the first output (strpos() is the winner again):Below is another one, which is more interesting, because in this case, strstr() is the winner:This means it can really depend on "environmental circumstances", which are sometimes hard to influence, and can change the result of "micro optimization tasks" like this, in case you are just checking whether a string exists in another one or not.BUT I think in most cases, strpos() is the winner in comparison to strstr().I hope this test was useful for someone.Many developers use strpos for micro optimization purposes.Using strstr also only works if the resulting string cannot be interpreted as false in boolean context.strpos() detects where in the haystack a particular needle lies. stristr() tests whether the needle is anywhere in the haystacktherefor strpos() is faster and less memory consuminga reason for strstr(): if your needle is at the beginning of a string, strpos returns 0 (so have to check it with === false)I prefer strstr() for readability and easy coding..  strpos() !==false  is confusing a bit..

PHPDoc: @return void necessary?

Richie Marquez

[PHPDoc: @return void necessary?](https://stackoverflow.com/questions/2061550/phpdoc-return-void-necessary)

Is it really necessary do something like this:I have quite a few methods that don't have a return value, and it seems really redundant to put something like this in the comment. Would it be considered bad form to leave it out?

2010-01-14 01:09:14Z

Is it really necessary do something like this:I have quite a few methods that don't have a return value, and it seems really redundant to put something like this in the comment. Would it be considered bad form to leave it out?If it makes it clear for the documentation, then leave it in, but it isn't strictly necessary. It's an entirely subjective decision.Personally, I would leave it out.EDIT

I stand corrected. After a little googling, the wikipedia page says:The phpdoc.org website says:Sooo... Based on that, I would say leave out the void. It's non-standard, at least.According to phpDocumentor, @return void is valid:http://www.phpdoc.org/docs/latest/guides/types.html#keywordsSource: http://www.phpdoc.org/docs/latest/for-users/phpdoc/types.html (archived page).I have to edit my answer because of something I have learned recently.Using @return void instead of @return null has a very special meaning, consider the following two examples of PHP code.In the first example PHP will actually return NULL, since PHP always returns NULL. But the returned value is of no use to the caller since it does not say anything about what the function did. IDEs can use the documented information of @return void to indicate the developer that a return values is used which serves no purpose.The first call is senseless since the variable will always contain NULL, the second one might actually contain something. This is becoming even more interesting if we put the function calls into a conditional.As you can see, @return void has its use cases and should be used if applicable.Also note that it is going to be a part of the upcoming PHP PSR-5 standard.[1][1] http://www.php-fig.org/psr/As of php 7.1, void is a valid return type and can be enforced on a function.I would always add it on the docblock.Another benefit of writing it, is to differentiate the void methods from the methods that may return anything but don't have a @return entry on the docblock by negligence.Here is how I understand and use PhpDocumentor annotations:Personally, I think the big thing missing from this is that documenting a function returns at all is important.  Currently standards dont have any documentation for functions that never return....hence a return void is way of saying yes this function does actually return.Consider this code blockClearly the use of @return at least indicates the function does return

Symfony2 and date_default_timezone_get() - It is not safe to rely on the system's timezone settings

Milo≈°

[Symfony2 and date_default_timezone_get() - It is not safe to rely on the system's timezone settings](https://stackoverflow.com/questions/20743060/symfony2-and-date-default-timezone-get-it-is-not-safe-to-rely-on-the-system)

I have a Symfony2 project. I updated my php to 5.5.7 today and since then, I am getting the I setup the default timezone in my php.iniTo be sure that this is the good php.ini, I was checking with And the path I ma getting there is the one I am modifying:But in there, I see the Which is strange.any idea? Thank you.

2013-12-23 11:57:45Z

I have a Symfony2 project. I updated my php to 5.5.7 today and since then, I am getting the I setup the default timezone in my php.iniTo be sure that this is the good php.ini, I was checking with And the path I ma getting there is the one I am modifying:But in there, I see the Which is strange.any idea? Thank you.Maybe you are trying to set it in Apache's php.ini, but your CLI (Command Line Interface) php.ini is not good.Find your php.ini file with the following command:And then search for date.timezone and set it to "Europe/Amsterdam". all valid timezone will be found here http://php.net/manual/en/timezones.phpAnother way (if the other does not work), search for the file AppKernel.php, which should be under the folder app of your Symfony project directory. Overwrite the __construct function below in the class AppKernel:Found a similar way to fix this issue (at least it did for me).I hope this could help you out.The current accepted answer by crack is deprecated in Symfony 2.3 and will be removed by 3.0. It should be moved to the constructor:Since PHP 5.5, there is a separate php.ini file for CLI interface.

If You use symfony console from command line, then this specific php.ini is used.In Ubuntu 13.10 check file:The problem appear when we are using PHP 5.1 on Redhat or Cent OS Following up on sas's answer, PHP 5.4, Symfony 2.8, I had to use instead of date_default_timezone_set.  I also added a call to ini_set to the top of a custom web/config.php to get that check to succeed.add this code to Your AppKernel Class:

Get all variables sent with POST?

lisovaccaro

[Get all variables sent with POST?](https://stackoverflow.com/questions/8207488/get-all-variables-sent-with-post)

I need to insert all variables sent with post, they were checkboxes each representing an user.If I use GET I get something like this:I need to insert the variables in the database.How do I get all variables sent with POST? As an array or values separated with comas or something?

2011-11-21 05:02:41Z

I need to insert all variables sent with post, they were checkboxes each representing an user.If I use GET I get something like this:I need to insert the variables in the database.How do I get all variables sent with POST? As an array or values separated with comas or something?The variable $_POST is automatically populated. Try var_dump($_POST); to see the contents.You can access individual values like this: echo $_POST["name"];This, of course, assumes your form is using the typical form encoding (i.e. enctype=„Äçmultipart/form-data„ÄçIf your post data is in another format (e.g. JSON or XML, you can do something like this:and $post will contain the raw data. Assuming you're using the standard $_POST variable, you can test if a checkbox is checked like this:If you have an array of checkboxes (e.g. Using [ ] in the checkbox name indicates that the selected values will be accessed by PHP script as an array. In this case $_POST['myCheckbox'] won't return a single string but will return an array consisting of all the values of the checkboxes that were checked.For instance, if I checked all the boxes, $_POST['myCheckbox'] would be an array consisting of: {A, B, C, D, E}. Here's an example of how to retrieve the array of values and display them:you should be able to access them from $_POST variable:It is deprecated and not wished to access superglobals directly (since php 5.5 i think?)Every modern IDE will tell you:For our solution, to get all request parameter, we have to use the method filter_input_arrayTo get all params from a input method use this:Now you can use it in var_dump or your foreach-LoopsWhat not works is to access the $_REQUEST Superglobal with this method. It Allways returns NULL and that is correct.If you need to get all Input params, comming over different methods, just merge them like in the following method:Edit: extended Version of this method (works also when one of the request methods are not set):So, something like the $_POST array?You can use http_build_query($_POST) to get them in a var=xxx&var2=yyy string again. Or just print_r($_POST) to see what's there.Why not this, it's easy: Using this u can get all post variable

how to check if curl is enabled or disabled

Reham Fahmy

[how to check if curl is enabled or disabled](https://stackoverflow.com/questions/13433946/how-to-check-if-curl-is-enabled-or-disabled)

I'm using the following codethis can get it enabled or disabledbut i would like to make as function say function name is _iscurlthen i can call it as following any where in my website code~ thanksalmost same as my previous question check if allow_url_fopen is enabled or not

2012-11-17 19:21:28Z

I'm using the following codethis can get it enabled or disabledbut i would like to make as function say function name is _iscurlthen i can call it as following any where in my website code~ thanksalmost same as my previous question check if allow_url_fopen is enabled or notJust return your existing check from a function.or a simple one -Just search for curlsource - http://www.mattsbits.co.uk/item-164.htmlyou can check by putting these code in php file.ORHope this helps.You can always create a new page and use phpinfo(). Scroll down to the curl section and see if it is enabled.Its always better to go for a generic reusable function in your project which returns whether the extension loaded. You can use the following function to check - Usage

how to get date of yesterday using php?

unique_programmer

[how to get date of yesterday using php?](https://stackoverflow.com/questions/16009152/how-to-get-date-of-yesterday-using-php)

I want to get the yesterday date using specific date format in php this is the format:Is it possible?Take consideration of month and years if they should be changed in respective.

2013-04-15 06:42:49Z

I want to get the yesterday date using specific date format in php this is the format:Is it possible?Take consideration of month and years if they should be changed in respective.there you gothis will work also if month changeStep 1We need set format data in function date():

Function date() returns a string formatted according to the givenformat string using the given integer timestamp or the current time ifno timestamp is given. In other words, timestampis optional anddefaults to the value of time().result:

March 30, 2010Step 2For "yesterday" date use php function mktime():

Function mktime() returns the Unix timestamp corresponding to thearguments given. This timestamp is a long integer containing the numberof seconds between the Unix Epoch (January 1 1970 00:00:00 GMT) and thetime specified.

Arguments may be left out in order from right to left; any argumentsthus omitted will be set to the current value according to the localdate and time.result:

1269820800Step 3Now merge all and look at this:result:

March 29, 2010Operating similarly, it is possible to receive time hour back.result:

20:00:00or 7 days ago:result:

2010-03-23you can do this by or bytry this

                

try thisYesterday Date in PHP:You can also do this using Carbon library:In other formats:

What does PSR-0 stand for? [closed]

Yang

[What does PSR-0 stand for? [closed]](https://stackoverflow.com/questions/15523217/what-does-psr-0-stand-for)

I know what PSR-0 is, and how, why, where to use it. I've googled for this and looked around stackoverflow related posts, but could not find anything. Even on its official page there's no such definition.So, the question is, what does PSR-0 exactly stand for?

2013-03-20 12:13:26Z

I know what PSR-0 is, and how, why, where to use it. I've googled for this and looked around stackoverflow related posts, but could not find anything. Even on its official page there's no such definition.So, the question is, what does PSR-0 exactly stand for?PSR stands for PHP Standard Recommendation as explained on http://www.php-fig.org/faqs/#what-does-psr-stand-for and here http://www.php-fig.org/psr/PSR is a specification for defining a coding standard for PHP. Currently there are six accepted recommendations:  each addressing a specific aspect of coding.PSR stands for Proposing a Standards Recommendation. I‚Äôm not sure if it‚Äôs used anywhere else, but in the current context it is part of PHP-FIG (PHP Framework Interoperability Group).For further reference 

http://blog.jayawi.com/psr-0/

How do I track file downloads

Grant

[How do I track file downloads](https://stackoverflow.com/questions/146/how-do-i-track-file-downloads)

I have a website that plays mp3s in a flash player. If a user clicks 'play' the flash player automatically downloads an mp3 and starts playing it. Is there an easy way to track how many times a particular song clip (or any binary file) has been downloaded?It's a javascript code so that answers that. However, it would be nice to know how to track downloads using the other method (without switching hosts).

2008-08-01 17:14:58Z

I have a website that plays mp3s in a flash player. If a user clicks 'play' the flash player automatically downloads an mp3 and starts playing it. Is there an easy way to track how many times a particular song clip (or any binary file) has been downloaded?It's a javascript code so that answers that. However, it would be nice to know how to track downloads using the other method (without switching hosts).The funny thing is I wrote a php media gallery for all my music 2 days ago. I had a similar problem.  I'm using http://musicplayer.sourceforge.net/ for the player. And the playlist are built via php. All music request go there a script called xfer.php?file=WHATEVERAnd when you call files use something like:http://us.php.net/manual/en/function.base64-encode.phpIf you are using some javascript or a flash player (JW player for example) that requires the actual link to be an mp3 file or whatever, you can append the text "&type=.mp3" so the final linke becomes something like:

"www.example.com/xfer.php?file=34842ffjfjxfh&type=.mp3". That way it looks like it ends with an mp3 extension without affecting the file link.Use your httpd log files. Install http://awstats.sourceforge.net/Use bash:If your song / binary file was served by apache, you can easily grep the access_log to find out the number of downloads. A simple post-logrotate script can grep the logs and maintain your count statistics in a db.

This has the performance advantage by not being in your live request code path. Doing non-critical things like stats offline is a good idea to scale your website to large number of users.You could even set up an Apache .htaccess directive that converts *.mp3 requests into the querystring dubayou is working with.  It might be an elegant way to keep the direct request and still be able to slipstream log function into the response.Is the play link a link to the actual mp3 file or to some javascript code that pops up a player? If the latter, you can easily add your own logging code in there to track the number of hits to it.If the former, you'll need something that can track the web server log itself and make that distinction. My hosting plan comes with webalizer, which does this nicely.Is there a database for your music library? If there is any server code that runs when downloading the mp3 then you can add extra code there to increment the play count. You could also have javascript make a second request to increment the play count, but this could lead to people/robots falsely incrementing counts.I used to work for an internet-radio site and we used separate tables to track the time every song was played. Our streams were powered by a perl script running icecast, so we triggered a database request every time a new track started playing. Then to compute the play count we would run a query to count how many times a song's id was in the play log.The problem I had with things like AWStats / reading through web server logs  is that large downloads can often be split in data chunks within the logs. This makes reconciling the exact number of downloads quite hard.I'd suggest the Google Analytics Event Tracking, as this will register once per click on a download link.

How to embed images in email

Josef S√°bl

[How to embed images in email](https://stackoverflow.com/questions/4312687/how-to-embed-images-in-email)

I need to embed an image in e-mail. How do I do it?I do not want to use third party tool, nor am I interested in language specific answer (but it is PHP, in case you are wondering).I am merely interested in format of resulting e-mail body.

2010-11-30 10:31:18Z

I need to embed an image in e-mail. How do I do it?I do not want to use third party tool, nor am I interested in language specific answer (but it is PHP, in case you are wondering).I am merely interested in format of resulting e-mail body.As you are aware, everything passed as email message has to be textualized. A Typical email example will look like this:As you can see, the Content-ID: <foo4atfoo1atbar.net> ID is matched to the <IMG> at SRC="cid:foo4atfoo1atbar.net". That way, the client browser will render your image as a content and not as an attachement.Hope this helps.the third way is to base64 encode the image and place it in a data: urlexample:Here is how to get the code for an embedded image without worrying about any files or base64 statements or mimes (it's still base64, but you don't have to do anything to get it).  I originally posted this same answer in this thread, but it may be valuable to repeat it in this one, too.To do this, you need Mozilla Thunderbird, you can fetch the html code for an image like this:You should end up with a string of text something like this:You can wrap this up into a string variable and place this absolutely anywhere that you would present an html email message - even in your email signatures. The advantage is that there are no attachments, and there are no links.  (this code will display a lizard)A picture is worth a thousand words:

Incidentally, I did write a program to do all of this for you.  It's called BaseImage, and it will create the image code as well as the html for you.  Please don't consider this self-promotion; I'm just sharing a solution.Correct way of embedding images into Outlook and avoiding security problems is the next:Actually, there are two ways to include images in email.The first way ensures that the user will see the image, even if in some cases it‚Äôs only as an attachment to the message. This method is exactly what we call as„Äåembedding images in email" in daily life.

Essentially, you‚Äôre attaching the image to the email. The plus side is that, in one way or another, the user is sure to get the image. While the downside is two fold. Firstly, spam filters look for large, embedded images and often give you a higher spam score for embedding images in email (Lots of spammers use images to avoid having the inappropriate content in their emails read by the spam filters.). Secondly, if you pay to send your email by weight or kilobyte, this increases the size of your message. If you‚Äôre not careful, it can even make your message too big for the parameters of the email provider.The second way to include images (and the far more common way) is the same way that you put an image on a web page. Within the email, you provide a url that is the reference to the image‚Äôs location on your server, exactly the same way that you would on a web page. This has several benefits. Firstly, you won‚Äôt get caught for spamming or for your message„Äåweighing„Äçtoo much because of the image. Secondly, you can make changes to the images after the email has been sent if you find errors in them. On the flip side, your recipient will need to actively turn on image viewing in their email client to see your images.Generally I handle this by setting up an HTML formatted SMTP message, with IMG tags pointing to a content server.  Just make sure you have both text and HTML versions since some email clients cannot support HTML emails.

Inserting NOW() into Database with CodeIgniter's Active Record

Roman

[Inserting NOW() into Database with CodeIgniter's Active Record](https://stackoverflow.com/questions/6354315/inserting-now-into-database-with-codeigniters-active-record)

I want to insert current time in database using mySQL function NOW() in Codeigniter's active record. The following query won't work:This is because CodeIgniter‚Äôs ActiveRecord class automatically escapes the input.The following works fine, by calling set() and passing peratmeter FALSE, so that it doesn't escape the NOW().However, my question is that is there any other way than this? For example, if i can use somehow use by adding everything in the data array only? 

For example, something like:

2011-06-15 07:17:07Z

I want to insert current time in database using mySQL function NOW() in Codeigniter's active record. The following query won't work:This is because CodeIgniter‚Äôs ActiveRecord class automatically escapes the input.The following works fine, by calling set() and passing peratmeter FALSE, so that it doesn't escape the NOW().However, my question is that is there any other way than this? For example, if i can use somehow use by adding everything in the data array only? 

For example, something like:Unless I am greatly mistaken, the answer is, "No, there is no way."The basic problem in situations like that is the fact that you are calling a MySQL function and you're not actually setting a value. CI escapes values so that you can do a clean insert but it does not test to see if those values happen to be calling functions like aes_encrypt, md5, or (in this case) now(). While in most situations this is wonderful, for those situations raw sql is the only recourse.On a side, date('Y-m-d'); should work as a PHP version of NOW() for MySQL. (It won't work for all versions of SQL though).I typically use triggers to handle timestamps but I think this may work.aspirinemaga, just replace:for it:This is the easy way to handle timestamp insertion  you can load the date helper and use the codeigniter interal now() if you want to reference the users GMT time offsetit woulk look somewhat like thisIf you don't use the GTM master settings and let your users set their own offsets there is no advantage over using php's time() function.According to the source code of codeigniter, the function set is defined as:Apparently, if $key is an array, codeigniter will simply ignore the second parameter $value, but the third parameter $escape will still work throughout the iteration of $key, so in this situation, the following codes work (using the chain method):However, this will unescape all the data, so you can break your data into two parts:putting NOW() in quotes won't work as Active Records will put escape the NOW() into a string and tries to push it into the db as a string of "NOW()"... you will need to use to set it correctly.you can always check your sql afterward withUsing the date helper worked for meYou can find documentation for date_helper here.$this->db->query("update table_name set ts = now() where 1=1")

also works for current time stamp!run query to get now() from mysql i.e select now() as nowinmysql;then use codeigniter to get this and put in 

Call php function from JavaScript

Jason Russell

[Call php function from JavaScript](https://stackoverflow.com/questions/7165395/call-php-function-from-javascript)

Is there a way I can run a php function through a JS function?something like this:I basically want to run the php function query("hello"), when I click on the href called "Test" which would call the php function.

2011-08-23 17:54:50Z

Is there a way I can run a php function through a JS function?something like this:I basically want to run the php function query("hello"), when I click on the href called "Test" which would call the php function.This is, in essence, what AJAX is for. Your page loads, and you add an event to an element. When the user causes the event to be triggered, say by clicking something, your Javascript uses the XMLHttpRequest object to send a request to a server.After the server responds (presumably with output), another Javascript function/event gives you a place to work with that output, including simply sticking it into the page like any other piece of HTML.You can do it "by hand" with plain Javascript , or you can use jQuery. Depending on the size of your project and particular situation, it may be more simple to just use plain Javascript .In this very basic example, we send a request to myAjax.php when the user clicks a link. The server will generate some content, in this case "hello world!". We will put into the HTML element with the id output.The javascriptThe HTML The PHPTry it out: http://jsfiddle.net/GRMule/m8CTk/Arguably, that is a lot of Javascript code. You can shorten that up by tightening the blocks or using more terse logic operators, of course, but there's still a lot going on there. If you plan on doing a lot of this type of thing on your project, you might be better off with a javascript library.Using the same HTML and PHP from above, this is your entire script (with jQuery included on the page). I've tightened up the code a little to be more consistent with jQuery's general style, but you get the idea:Try it out: http://jsfiddle.net/GRMule/WQXXT/Don't rush out for jQuery just yet: adding any library is still adding hundreds or thousands of lines of code to your project just as surely as if you had written them. Inside the jQuery library file, you'll find similar code to that in the first example, plus a whole lot more. That may be a good thing, it may not. Plan, and consider your project's current size and future possibility for expansion and the target environment or platform.If this is all you need to do, write the plain javascript once and you're done.DocumentationPHP is evaluated at the server; javascript is evaluated at the client/browser, thus you can't call a PHP function from javascript directly. But you can issue an HTTP request to the server that will activate a PHP function, with AJAX.The only way to execute PHP from JS is AJAX.

You can send data to server (for eg, GET /ajax.php?do=someFunction)

then in ajax.php you write:and then, catch the answer with JS (i'm using jQuery for making AJAX requests)Probably you'll need some format of answer. See JSON or XML, but JSON is easy to use with JavaScript. In PHP you can use function json_encode($array); which gets array as argument.I recently published a jQuery plugin which allows you to make PHP function calls in various ways: https://github.com/Xaxis/jquery.phpSimple example usage:

MySQL and PHP - insert NULL rather than empty string

user547794

[MySQL and PHP - insert NULL rather than empty string](https://stackoverflow.com/questions/4620391/mysql-and-php-insert-null-rather-than-empty-string)

I have a MySQL statement that inserts some variables into the database. I recently added 2 fields which are optional ($intLat, $intLng).  Right now, if these values are not entered I pass along an empty string as a value.  How do I pass an explicit NULL value to MySQL (if empty)?

2011-01-06 22:00:41Z

I have a MySQL statement that inserts some variables into the database. I recently added 2 fields which are optional ($intLat, $intLng).  Right now, if these values are not entered I pass along an empty string as a value.  How do I pass an explicit NULL value to MySQL (if empty)?To pass a NULL to MySQL, you do just that.So, in your code, check if $intLat, $intLng are empty, if they are, use NULL instead of '$intLat' or '$intLng'.If you don't pass values, you'll get nulls for defaults.But you can just pass the word NULL without quotes.This works just fine for me:(first '' increments id field)All you have to do is: $variable =NULL; // and pass it in the insert query. This will store the value as NULL in mysql db Normally, you add regular values to mySQL, from PHP  like this:When your values are empty/null ($val1=="" or $val1==NULL), and you want NULL to be added to SQL and not 0 or empty string, to the following:Note that null must be added as "NULL" and not as "'NULL'" . The non-null values must be added as "'".$val1."'", etc. Hope this helps, I just had to use this for some hardware data loggers, some of them collecting temperature and radiation, others only radiation. For those without the temperature sensor I needed NULL and not 0, for obvious reasons ( 0 is an accepted temperature value also). your query can go as follows:Check the variables before building the query, if they are empty, change them to the string NULLyou can do it for example with

Delimiter must not be alphanumeric or backslash and preg_match

user547363

[Delimiter must not be alphanumeric or backslash and preg_match](https://stackoverflow.com/questions/7660545/delimiter-must-not-be-alphanumeric-or-backslash-and-preg-match)

I have this code :and when im run it returns this error:

2011-10-05 11:25:51Z

I have this code :and when im run it returns this error:You need a delimiter for your pattern.  It should be added at the start and end of the pattern like so:The solution (which other answers don't mention‚Äîat least at the time of my originally writing this) is that when PHP refers to delimiters, it's not referring to the delimiters you see in your code (which are quote marks) but the next characters inside the string.  (In fact I've never seen this stated anywhere in any documentation: you have to see it in examples.)  So instead of having a regular expression syntax like what you may be accustomed to from many other languages:PHP uses strings, and then looks inside the string for another delimiter:The delimiter PHP is referring to is the pair of / characters, instead of the pair of ' characters.  So if you write 'something', PHP will take s as the intended delimiter and complain that you're not allowed to use alphanumeric characters as your delimiter.So if you want to pass (for instance) an i to show that you want a case-insensitve match, you pass it inside the string but outside of the regex delimiters:If you want to use something other than / as your delimiter, you can, such as if you're matching a URL and don't want to have to escape all the slashes:You must specify a delimiter for your expression. A delimiter is a special character used at the start and end of your expression to denote which part is the expression. This allows you to use modifiers and the interpreter to know which is an expression and which are modifiers. As the error message states, the delimiter cannot be a backslash because the backslash is the escape character.and below the same example but with the i modifier to match without being case sensitive.As you can see, the i is outside of the slashes and therefore is interpreted as a modifier.Also bear in mind that if you use a forward slash character (/) as a delimiter you must then escape further uses of / in the regular expression, if present.The pattern must have delimiters. Delimiters can be a forward slash (/) or any non alphanumeric characters(#,$,*,...). Examples You can also use T-Regx library which has automatic delimiters for you:Maybe not related to original code example, but I received the error "Delimiter must not be alphanumeric or backslash" and Googled here.

Reason: I mixed order of parameters for preg_match. Pattern was the second parameter and string to match was first. Be careful :)Please try with this   

How to include External CSS and JS file in Laravel 5

Mansoor Akhtar

[How to include External CSS and JS file in Laravel 5](https://stackoverflow.com/questions/28104583/how-to-include-external-css-and-js-file-in-laravel-5)

I am Using Laravel 5.0 , the Form and Html Helper are removed from this version , i dont know how to include external css and js files in my header file. Currently i am using this code.

2015-01-23 06:58:42Z

I am Using Laravel 5.0 , the Form and Html Helper are removed from this version , i dont know how to include external css and js files in my header file. Currently i am using this code.I think that the right way is this one:Here I have a js directory in the laravel's app/public folder. There I have a jquery.js file. The function URL::asset() produces the necessary url for you. Same for the css:Hope this helps.Keep in mind that the old mehods: andare deprecated and will not work in Laravel 5!Try it.You can just pass the path to the style sheet .You can just pass the path to the javascript.Add the following lines in the require section of  composer.json file and run composer update "illuminate/html": "5.*".Register the service provider in config/app.php by adding the following value into the providers array:'Illuminate\Html\HtmlServiceProvider'Register facades by adding these two lines in the aliases array:'Form'=> 'Illuminate\Html\FormFacade', 

'HTML'=> 'Illuminate\Html\HtmlFacade'In laravel 5.1,Where assets folder location is inside public folderi use this way, don't forget to put your css file on public folder.for example i put my bootstrap css on to access from header:hope this helpPlace your assets in public directory and use the followingexampleAt first, you have to put your .css or .js files in the public folder of your project. You may create subfolders to it and move the files into the subfolder. Then you have to do the followingsIn my example, I have created two subfolders called css and js. I put all of the .css and .js files in corresponding folders and use them where ever I want them. Thank you and hope this helps you.Ok so I was able to figure out for the version 5.2. You will first need to create assets folder in your public folder then put css folder and all css files into it then link it like this : Hope that helps!Laravel 5.5 comes with mix , the replacement for Elixir, the external css(sass) can be extracted to resources/assets/css(sass) and import to app.css(scss) or give the correct path to your node_module folder that contains the library and can be used as <link rel="stylesheet" href="{{ mix('css/app.css') }}" >The same can be done for Javascript too .First you have to install the Illuminate Html helper class:Next you need to open /config/app.php and update as follows:To confirm it‚Äôs working use the following command:To include external css in you files, use the following syntax:I may be late to the party but it's easy to include JS and CSS the Laravel Way by simply using asset() functione.g.

<link rel="stylesheet" href="{{ asset('css/app.css') }}" />

Hope that helpsIf you have a external .css or .js file to add into your page!My version : Laravel Framework 5.7your scripts will be updated and its compiled and moved to public/js/app.js . by adding a .js file in public folder will not effect on your page.your scripts will be updated and its compiled and moved to public/css/app.css . by adding a .css file in public folder will not effect on your page.Laravel JavaScript & CSS ScaffoldingYouTube Compiling AssetsI have been making use of There are many ways to include external css and js files as specified in below code but you can choose one of them, i have tested them all, they work the same.Maybe there are more ways to load it.but keep in mind that if you are loading the css and js from other than a public folder then better to use Laravel mix.

My Routes are Returning a 404, How can I Fix Them?

JasonMortonNZ

[My Routes are Returning a 404, How can I Fix Them?](https://stackoverflow.com/questions/11791375/my-routes-are-returning-a-404-how-can-i-fix-them)

I've just started learning the Laravel framework and I'm having an issue with routing.The only route that's working is the default home route that's attached to Laravel out of the box.I'm using WAMP on Windows and it uses PHP 5.4.3, and Apache 2.2.22, and I also have mod_rewrite enabled, and have removed the 'index.php' from the application.php config file to leave an empty string.I've created a new controller called User:I've created a view file in application/views/user/ called index.php with some basic HTML code, and in routes.php I've added the following:The first route works fine when visiting the root (http://localhost/mysite/public) in my web browser, but when I try to go to my second route with http://localhost/mysite/public/user I get a 404 Not Found error. Why would this be happening?

2012-08-03 07:42:28Z

I've just started learning the Laravel framework and I'm having an issue with routing.The only route that's working is the default home route that's attached to Laravel out of the box.I'm using WAMP on Windows and it uses PHP 5.4.3, and Apache 2.2.22, and I also have mod_rewrite enabled, and have removed the 'index.php' from the application.php config file to leave an empty string.I've created a new controller called User:I've created a view file in application/views/user/ called index.php with some basic HTML code, and in routes.php I've added the following:The first route works fine when visiting the root (http://localhost/mysite/public) in my web browser, but when I try to go to my second route with http://localhost/mysite/public/user I get a 404 Not Found error. Why would this be happening?Have you tried adding this to your routes file instead Route::get('user', "user@index")?The piece of text before the @, user in this case, will direct the page to the user controller and the piece of text after the @, index, will direct the script to the user function public function get_index().I see you're using $restful, in which case you could set your Route to Route::any('user', 'user@index'). This will handle both POST and GET, instead of writing them both out separately. On my Ubuntu LAMP installation, I solved this problem with the following 2 changes.Then restart the Apache server: service apache2 restartUsing WAMP click on wamp icon ->apache->apache modules->scroll and check rewrite_module

Restart a

LoadModule rewrite_moduleNote, the server application restarts automatically for you once you enable "rewrite_module"Have you tried to check if was working? If so then make sure all your path's folders don't have any uppercase letters. I had the same situation and converting letters to lower case helped.I was getting the same problem using EasyPHP.  Found that I had to specify AllowOverride All in my <Directory> block in httpd.conf.   Without this, Apache sometimes ignores your .htaccess.Mine ended up looking like this...You could try to move root/public/.htaccess to root/.htaccess and it should workRoutesUse them to define specific routes that aren't managed by controllers.ControllersUse them when you want to use traditional MVC architectureSolution to your problemYou don't register controllers as routes unless you want a specific 'named' route for a controller action.Rather than create a route for your controllers actions, just register your controller:Now your controller is registered, you can navigate to http://localhost/mysite/public/user and your get_index will be run.You can also register all controllers in one go:Don't forget the "RewriteBase" in your public/.htaccess :For example :OK, so after bashing my head on this problem for a little over a day... I got up and did what I SHOULD have done yesterday, and DEBUGGED what was going on!What Laravel is TRYING to do here, is insert the file index.php right in front of the path given as a Route. SO for instance, if you specified a Route::get('/account/create', ..., and execute your app from say localhost/laravel/authenticate/public/account/create on your browser, then laravel wants to execute localhost/authenticate/public/index.php/account/create, but to do that.... Apache needs to see that requests through /wamp/www/laravel/laravel/authentication/public (your path may vary somewhat, depending on where your laravel app is actually installed, but the trailing public is where the substitution needs to take place) must have a 'RewriteRule' applied.Thankfully, laravel supplies the correct Rewrite rule in a handy .htaccess file right there in your app's public folder. The PROBLEM is, the code in that '.htaccess' file won't work with the way WAMP is configured out of the box. The reason for this SEEMS to be the problem suggested by muvera at the top of this thread -- the rewrite_module code needs to be loaded by Apache before the RewriteRule stuff will work. Heck this makes sense.The part that DOESN'T make sense: simply stopping and restarting Apache services will not pick up the changes necessary for WAMP to do the right thing with your RewriteRule -- I know, I tried this many times!What DOES work: make the changes suggested by muvera (see top of thread) to load the correct modules. Then, reset your whole Windows session, thus dumping Apache out of memory altogether. Restart (reload) WAMP, and VOILA! the fix works, the correct RewriteRule is applied, yada, yada; I'm living happily ever after.The good news out of all this: I know a LOT more about .htaccess, RewriteRule, and httpd.conf files now. There is a good (performance) argument for moving the logic from your app's public .htaccess file, and putting it into a Directory ... section of your httpd.conf in your Apache 'bin' folder BTW (especially if you have access to that folder).Try enabling short php tags in your php.ini. WAMP has them off usually and laravel needs them on.change above to You have to use '/'(home/default) at the end in your routesyou  must be using Laravel 5 the commandand in routes.phpLaravel 5 command changes for view and controller see the documentation i was having same error beforeJust Run in your terminal.The Main problem of route not working is there is  mod_rewrite.so module in macos, linux not enabled in httpd.conf file of apache configuration, so can .htaccess to work.

i have solved this by uncomment the line : Remove the # from above line httpdf.conf. Then it will works. enjoy!I think you have deleted default .htaccess file inside the laravel public folder. upload the file it should fix your problem.the simple Commands with automatic loads the dependenciesand still getting that your some important files are missing so go here to see whole procedurehttps://codingexpertise.blogspot.com/2018/11/laravel-new.htmlIf you're using Vagrant though Homestead, it's possible there was an error mounting the shared folder. It looks like Vagrant takes your files from that folder and swaps out the files that are actually on the host machine on boot, so if there was an error, you're essentially trying to access your Laravel installation from when you first made it (which is why you're only getting "home"- that was generated during installation). You can easily check this by sshing into your vm and checking the routes/web.php file to see if it's actually your file. If it isn't, exit out and vagrant halt, vagrant up, and look for errors on boot. 

Recursive function to generate multidimensional array from database result

David Hemphill

[Recursive function to generate multidimensional array from database result](https://stackoverflow.com/questions/8587341/recursive-function-to-generate-multidimensional-array-from-database-result)

I'm looking to write a function that takes an array of pages/categories (from a flat database result) and generates an array of nested page/category items based on the parent ids. I would like to do this recursively, so that any level of nesting can be done.For example: I'm fetching all the pages in one query, and this is the what the database table looks likeAnd this is the array I would like to end up with to process in my view files:I've looked and tried nearly every solution I've come across (there's a lot of them here on Stack Overflow, but have had no luck getting something generic enough that will work for both pages and categories.Here's the closest I've gotten, but it doesn't work because I'm assigning the children to the first level parent.

2011-12-21 09:09:25Z

I'm looking to write a function that takes an array of pages/categories (from a flat database result) and generates an array of nested page/category items based on the parent ids. I would like to do this recursively, so that any level of nesting can be done.For example: I'm fetching all the pages in one query, and this is the what the database table looks likeAnd this is the array I would like to end up with to process in my view files:I've looked and tried nearly every solution I've come across (there's a lot of them here on Stack Overflow, but have had no luck getting something generic enough that will work for both pages and categories.Here's the closest I've gotten, but it doesn't work because I'm assigning the children to the first level parent.Some very simple, generic tree building:The algorithm is pretty simple:In other words, one execution of this function returns a list of elements which are children of the given parent id. Call it with buildTree($myArray, 1), it will return a list of elements which have the parent id 1. Initially this function is called with the parent id being 0, so elements without parent id are returned, which are root nodes. The function calls itself recursively to find children of children.I know this question is old, but I Was facing a very similar problem - except with a very large amount of data.  After some struggle, I managed to build the tree in one pass of the resultset - using references.  This code is not pretty, but it works and it works quite fast.  It's non-recursive - that is, there's only one pass over the resultset and then one array_filter at the end:When executed on this data:The last print_r produces this output:Which is exactly what I was looking for.It is possible to use php to get the mysql result into array and then use it.

Only on Firefox„ÄåLoading failed for the <script> with source„Äç

Narek Tootikian

[Only on Firefox„ÄåLoading failed for the <script> with source„Äç](https://stackoverflow.com/questions/45879671/only-on-firefox-loading-failed-for-the-script-with-source)

I want to integrate Marketo form with my existing website on yii framework.

My code works on all the browsers except Firefox.Excerpt from my code:I get error on Firefox only with message other browsers do the job correctlynote: munchkinId and formId are changed for posting here.

2017-08-25 10:46:03Z

I want to integrate Marketo form with my existing website on yii framework.

My code works on all the browsers except Firefox.Excerpt from my code:I get error on Firefox only with message other browsers do the job correctlynote: munchkinId and formId are changed for posting here.I just had the same issue on an application that is loading a script with a relative path.It appeared the script was simply blocked by Adblock Plus.Try to disable your ad/script blocker (Adblock, uBlock Origin, Privacy Badger‚Ä¶) or relocate the script such that it does not match your ad blocker's rules.If you don't have such a plugin installed, try to reproduce the issue while running Firefox in safe mode.I've just had the same issue - for me Privacy Badger on Firefox was the issue - not adblocker. Posting for posterityI noticed that in Firefox this can happen when requests are aborted (switching page or quickly refreshing page), but it is hard to reproduce the error even if I try to.Other possible reasons: cert related issues and this one talks about blockers (as other answers stated).As suggested above, this could possibly be an issue with your browser extensions. Disable all of your extensions including Adblock, and then try again as the code is loading fine in my browser right now (Google Chrome - latest) so it's probably an issue on your end. Also, have you tried a different browser like shudders IE if you have it? Adblock is known to conflict with domain names with track and market in them as a blanket rule. Try using private browsing mode or safe mode.I ran into the same issue (exact error message) and after digging for a couple of hours, I found that the content header needs to be set to application/javascript instead of the application/json that I had. After changing that, it now works.VPNs can sometimes cause this error as well, if they provide some type of auto-blocking. Disabling the VPN worked for my case.I had the same problem (different web app though) with the error message and it turned out to be the MIME-Type for .js files was text/x-js instead of application/javascript due to a duplicate entry in mime.types on the server that was responsible for serving the js files. It seems that this is happening if the header X-Content-Type-Options: nosniff is set, which makes Firefox (and Chrome) block the content of the js files.If the src is https and the certificate has expired -- and even if you've made an exception -- firefox will still display this error message, and you can see the exact reason why if you look at the request under the network tab.Today I ran into the exact same problem while working on a progressive web app (PWA) page and deleting some cache and service worker data for that page from Firefox. The dev console reported that none of the 4 Javascript files on the page would load anymore. The problem persisted in Safe mode, so it was not an add-on issue. The same script files loaded fine from other web pages on the same website. No amount of clearing the Firefox cache or wiping web page data from Firefox would help, nor would rebooting the Windows 10 PC. Chrome all the time worked fine on the problem page. In the end I did a restore of the entire Firefox profile folder from a day-old backup, and the problem was immediately gone, so it was not a problem with my PWA app. Apparently something in Firefox got corrupted.I had the same issue with firefox, when I searched for a solution I didn't find anything, but then I tried to load the script from a cdn, it worked properly, 

so I think you should try loading it from a cdn link, I mean if you are trying to load a script that you havn't created.

because in my case, when tried to load a script that is mine, it worked and imported successfully, for now I don't know why, but I think there is something in the scripts from network, so just try cdn, you won't lose anything.I wish it help you.This could also be a simple syntax error. I had a syntax error which threw on FF but not Chrome as follows:

Instantiate a class with or without parentheses? [duplicate]

Frank

[Instantiate a class with or without parentheses? [duplicate]](https://stackoverflow.com/questions/3873111/instantiate-a-class-with-or-without-parentheses)

I have not found any official documentation on this. But afaik it doesn't matter whether a class is instantiated with our without the parentheses - as long as there are no parameters involved, right?orBut can anyone tell me if there's a difference in performance? Which way is the 'more correct' way? Is there any official documentation for this?

2010-10-06 13:47:21Z

I have not found any official documentation on this. But afaik it doesn't matter whether a class is instantiated with our without the parentheses - as long as there are no parameters involved, right?orBut can anyone tell me if there's a difference in performance? Which way is the 'more correct' way? Is there any official documentation for this?Any difference in performance is going to be absolutely negligible.While both ways are fine, I personally would prefer using new Car();  because usually, a method is being called here, and function/method calls in PHP require (). Also, it's more consistent with instantiations that have parameters.But in the end, it's down to taste. It doesn't matter which way you choose, but when you choose one, stick to it consistently! the first instantiation has no "official" reference. In the official php doc you alway find the second one. So, i'de prefere this for consistenscy. But it's all your choiceThey're both correct ways, and I'm sure there isn't any difference in performance either.

How to locate the php.ini file (xampp)

Navane

[How to locate the php.ini file (xampp)](https://stackoverflow.com/questions/6185319/how-to-locate-the-php-ini-file-xampp)

I am using xamppserver for PHP development and want to edit the php.ini file; where can I locate it?

2011-05-31 09:08:17Z

I am using xamppserver for PHP development and want to edit the php.ini file; where can I locate it?For Windows, you can find the file in the C:\xampp\php\php.ini-Folder (Windows) or in the etc-Folder (within the xampp-Folder).Under Linux, most distributions put lampp under /opt/lampp, so the file can be found under /opt/lampp/etc/php.ini.It can be edited using a normal Text-Editor.Clarification:in this context, they can be substituted for one another.Write the following inside phpini_path.php( or AnyNameAsYouLike.php) and run it in the browser.Among various other parameters you'll get Loaded Configuration File parameter which value is the path of php.ini on the server.The location of php.ini depends on server operating system:Windows (With Xampp Installation): macOS, OS X:Linux:If you have multiple php-versions (xampp etc) running, I find the easiest is to use: from the command line. In windows: either after you click Shell in xampp, or directly in the regular cmd to find the "global" version of php. With global I mean the version referenced to by your environment variables. In MacOS : /Applications/XAMPP/xamppfiles/etc/php.ini Put a script somewhere in your document rootAmong others the output of the function will tell you which php.inis are parsed before the script got executed.Run Xampp server.--- or directly type following url in the browser after run the XAMPP

http://localhost/dashboard/phpinfo.phpThis will open up php info page. There you can find "Loaded Configuration File  /opt/lampp/etc/php.ini" which is the php.ini location.my OS is ubuntu, XAMPP installed in /opt/lampp, and I found php.ini in /opt/lampp/etc/php.iniIf you have been using different installers, you may well end up with more that one php.ini file on your hdd, which could affect your sanity after a while.Search your hdd for 'php.ini' just in case there is more than one.Another sanity-saving move is to remember to always restart your server (apache) after altering a value in php.ini.i'm using xampp with PHP 7. you can trying looking for php.ini in in my case it is present as "php.ini-development" and "php.ini-production" in php folderAm running LAMP on Debian and mine is in:  In the documentation http://www.apachefriends.org/en/xampp-windows.html (Configuration files section, near the bottom of the page): \xampp\php\php.inias KingCrunch pointed out, using phpinfo you can see what config file is in action in the "Loaded Configuration File" row. in my case in was in C:\xampp\apache\bin note that there is a php.ini also in C:\xampp\php which seems to be redundant and irrelevant I've always found the easiest way is php -i and filtering down.*nix (including MacOS):Windows:Of course this assumes your CLI environment is using the same PHP binaries as your actual web server.  You can always check that to be sure using which php in *nix and where php in Windows.I‚Äôve run into the need while running on PhpStorm on my Mac. Follow the orange text.

Checking during array iteration, if the current element is the last element

shealtiel

[Checking during array iteration, if the current element is the last element](https://stackoverflow.com/questions/6092054/checking-during-array-iteration-if-the-current-element-is-the-last-element)

Please help me to translate this pseudo-code to real php code:Edit: the array may have numerical or string keys

2011-05-23 01:42:49Z

Please help me to translate this pseudo-code to real php code:Edit: the array may have numerical or string keysyou can use PHP's end()Update1as pointed out by @Mijoja the above could will have problem if you have same value multiple times in array. below is the fix for it.Update2I found solution by @onteria_ to be better then what i have answered since it does not modify arrays internal pointer, i am updating the answer to match his answer.Thank you @onteria_Update3As pointed by @CGundlach PHP 7.3 introduced array_key_last which seems much better option if you are using PHP >= 7.3This always does the trick for meEdit 30/04/15To avoid the E_STRICT warning mentioned by @Warren SergentSince array_pop works on the temporary array created by array_keys it doesn't modify the original array at all.Why not this very simple method:I know this is old, and using SPL iterator maybe just an overkill, but anyway, another solution here:My solution, also quite simple..If the items are numerically ordered, use the key() function to determine the index of the current item and compare it to the length. You'd have to use next() or prev() to cycle through items in a while loop instead of a for loop:

Reset ID autoincrement ? phpmyadmin [duplicate]

Marcelo

[Reset ID autoincrement ? phpmyadmin [duplicate]](https://stackoverflow.com/questions/3019698/reset-id-autoincrement-phpmyadmin)

I was testing some data in my tables of my database, to see if there was any error, now I cleaned all the testing data, but my id (auto increment) does not start from 1 anymore, can (how do) I reset it ?

2010-06-11 01:47:18Z

I was testing some data in my tables of my database, to see if there was any error, now I cleaned all the testing data, but my id (auto increment) does not start from 1 anymore, can (how do) I reset it ?You can also do this in phpMyAdmin without writing SQL.Note: You'll see that phpMyAdmin is issuing the same SQL that is mentioned in the other answers.ALTER TABLE xxx  AUTO_INCREMENT =1;

or

clear your table by TRUNCATEI agree with rpd, this is the answer and can be done on a regular basis to clean up your id column  that is getting bigger with only a few hundred rows of data, but maybe an id of 34444543!, as the data is deleted out regularly but id is incremented automatically. The above sql can be run via sql query or as php. This will delete the id column.Then re add it again, via the code below: Place this in a piece of code that may get run maybe in an admin panel, so when anyone enters that page it will run this script that auto cleans your database, and tidys it.I have just experienced this issue in one of my MySQL db's and I looked at the phpMyAdmin answer here. However the best way I fixed it in phpMyAdmin was in the affected table, drop the id column and make a fresh/new id column (adding A-I -autoincrement-). This restored my table id correctly-simples! Hope that helps (no MySQL code needed-I hope to learn to use that but later!) anyone else with this problem.

Is there any way to detect if a database table exists with Laravel

Ehsan Zargar Ershadi

[Is there any way to detect if a database table exists with Laravel](https://stackoverflow.com/questions/15935990/is-there-any-way-to-detect-if-a-database-table-exists-with-laravel)

I want to be able to create a table usingBut before that I would like to check if the table already exists, perhaps something likeHowever, the above function does not exist.  What else can I use?

2013-04-10 20:42:49Z

I want to be able to create a table usingBut before that I would like to check if the table already exists, perhaps something likeHowever, the above function does not exist.  What else can I use?If you are using Laravel 4 or 5 then there is the hasTable() method, you can find it in the L4 source code or the L5 docs:To create a new table there is only one check by Laravel Schema function hasTable.But if you want to drop any table before checking its existence then Schema have a function called dropIfExists.It will drop the table if table will exist.No built in function for this in L3.  You can do a raw query:if you are using different connection then you have to go with my answer.here on hasTable() function you can pass more than 1 table name.Rather, depend on information schema query instead of checking for some data in the tables with COUNT().Change your 'table_name' value. If you get one row output, it means the table exists.

Laravel: Auth::user()->id trying to get a property of a non-object

Josh

[Laravel: Auth::user()->id trying to get a property of a non-object](https://stackoverflow.com/questions/17835886/laravel-authuser-id-trying-to-get-a-property-of-a-non-object)

I'm getting the following error "trying to get a property of a non-object" when I submit a form to add a user, the error is apparently on the first line: Auth::user()->id of the following:Any ideas? I've searched for a while and everything I see says this should work fine. My user is logged in using the Sentry 2 authentication bundle.

2013-07-24 13:46:17Z

I'm getting the following error "trying to get a property of a non-object" when I submit a form to add a user, the error is apparently on the first line: Auth::user()->id of the following:Any ideas? I've searched for a while and everything I see says this should work fine. My user is logged in using the Sentry 2 authentication bundle.If you are using Sentry check the logged in user with Sentry::getUser()->id. The error you get is that the Auth::user() returns NULL and it tries to get id from NULL hence the error trying to get a property from a non-object. Now with laravel 4.2 it is easy to get user's id:that is all.But to retrieve user's data other than id, you use:For more details, check security part of the documentationDo a Auth::check() before to be sure that you are well logged in :id is protected, just add a public method in your /models/User.phpso you can call itremember allways to test if user is logged...In Laravel 5.6 I useas the other suggestionseems to apply to older versions of Laravel 5.x and didn't work for me.Check your route for the function in which you are using Auth::user(), For getting Auth::user() data the function should be inside web middleware  Route::group(['middleware' => 'web'], function () {}); . Never forget to include and try to use middleware auth:Then find the id using request method:use Illuminate\Support\Facades\Auth;In class:This code it`s works for meIn construct:etc..  If anyone is looking for laravel 5 >give id of the authorized useryou must check is user loggined ?Your question and code sample are a little vague, and I believe the other developers are focusing on the wrong thing.  I am making an application in Laravel, have used online tutorials for creating a new user and authentication, and seemed to have noticed that when you create a new user in Laravel, no Auth object is created - which you use to get the (new) logged-in user's ID in the rest of the application.  This is a problem, and I believe what you may be asking. I did this kind of cludgy hack in userController::store : Shouldn't have to create and authenticate, but I didn't know what else to do.The first check user logged in and thenFor Laravel 6.X you can do the following:You can try :It's working with me :You may access the authenticated user via the Auth facade:

Reverse order of foreach list items

blkedy

[Reverse order of foreach list items](https://stackoverflow.com/questions/10777597/reverse-order-of-foreach-list-items)

I would like to reverse the order of this code's list items. Basically it's a set of years going from oldest to recent and I am trying to reverse that output.

2012-05-27 22:01:01Z

I would like to reverse the order of this code's list items. Basically it's a set of years going from oldest to recent and I am trying to reverse that output.If you're looking for a purely PHP solution, you can also simply count backwards through the list, access it front-to-back:The above sets $index to the total number of elements, and then begins accessing them back-to-front, reducing the index value for the next iteration.You could also leverage the array_reverse function to invert the values of your array, allowing you to access them in reverse order:Or you could use the array_reverse function.array_reverse() does not alter the source array, but returns a new array. (See array_reverse().)  So you either need to store the new array first or just use function within the declaration of your for loop.The output will be:So, to address to OP, the code becomes:Lastly, I'm going to guess that the $j was either a counter used in an initial attempt to get a reverse walk of $skills_nav, or a way to count the $skills_nav array.  If the former, it should be removed now that you have the correct solution. If the latter, it can be replaced, outside of the loop, with a $j = count($skills_nav).If you don't mind destroying the array (or a temp copy of it) you can do:produces:I think this solution reads cleaner than fiddling with an index and you are less likely to introduce index handling mistakes, but the problem with it is that your code will likely take slightly longer to run if you have to create a temporary copy of the array first.

Fiddling with an index is likely to run faster, and it may also come in handy if you actually need to reference the index, as in:But as you can see, you have to be very careful with the index...You can use usort function to create own sorting rulesAssuming you just need to reverse an indexed array (not associative or multidimensional) a simple for loop would suffice:If your array is populated through an SQL Query consider reversing the result in MySQL, ie : 

Better way to unset multiple array elements

Turtel

[Better way to unset multiple array elements](https://stackoverflow.com/questions/7884991/better-way-to-unset-multiple-array-elements)

The deal here is that I have an array with 17 elements. I want to get the elements I need for a certain time and remove them permanently from the array.Here's the code:Yes the code is ugly, no need to bash. How do I make this look better?

2011-10-25 05:19:05Z

The deal here is that I have an array with 17 elements. I want to get the elements I need for a certain time and remove them permanently from the array.Here's the code:Yes the code is ugly, no need to bash. How do I make this look better?It looks like the function extract() would be a better tool for what you're trying to do (assuming it's extract all key/values from an array and assign them to variables with the same names as the keys in the local scope). After you've extracted the contents, you could then unset the entire $post, assuming it didn't contain anything else you wanted.However, to actually answer your question, you could create an array of the keys you want to remove and loop through, explicitly unsetting them......or you could point the variable to a new array that has the keys removed......or pass all of the array members to unset()...Use array_diff_key to removeYou could use array_intersect_key if you wanted to supply an array of keys to keep.There is another way which is better then the above examples.

Source: http://php.net/manual/en/function.unset.phpInstead of looping thorough the entire array and unsetting all its keys, you can just unset it once like so:Example Array:For the entire array:For unique keys:For multiple keys in one array:I hope this helps you in your development.I understand this question is old, but I think an optimal way might be to do this:Now, you can use $name, $email, ... from anywhere ;)NB: extract() is not safe, so it's completely out of question!

How long can a TLD possibly be?

HellaMad

[How long can a TLD possibly be?](https://stackoverflow.com/questions/9238640/how-long-can-a-tld-possibly-be)

I'm working on an email validation regex in PHP and I need to know how long the TLD could possibly be and still be valid. I did a few searches but couldn't find much information on the topic. So how long can a TLD possibly be?

2012-02-11 07:37:08Z

I'm working on an email validation regex in PHP and I need to know how long the TLD could possibly be and still be valid. I did a few searches but couldn't find much information on the topic. So how long can a TLD possibly be?DNS allows for a maximum of 63 characters for an individual label.The longest TLD currently in existence is 24 characters long, and subject to change. The maximum TLD length specified by RFC 1034 is 63 octets.To get the length of the longest existing TLD:Here's what that command does:Alternative using curl thanks to Stefan:-EDIT-According to RFC 2606 .localhost is reserved domain name and its length is 9 characters.

That is the longest I am aware of.-END OF EDIT-However, I think that you should care about email address length and not only TLD length.

Below  is a quote from this article.

The email address length is 254 characters:The longest with latin letters is .MUSEUM (source), but there are some with special characters. The longest from them is XN--CLCHC0EA0B2G2A9GCD. Also, in a short time, it will be possible to reserve your own TLD for a high price and so it will be possible to be longer.Since I'm a .net developer following is the java-script representation of determining the longest TLD currently available.this will return the length of the longest TLD which you would be able to use in your RegEx.please try the following Code Snippet

This is PHP code to get up-to-date vertical bar separated UTF-8 TLDs list to be used directly in a regular expression:To match a host name you could use it like this:A TLD can be any length at all. New TLDs happen all the time. In the future there will be more TLDs not regulated by the entity currently regulating the majority of TLDs. We also won't use email in the future as we presently do. That said:You don't need to validate an email address ever. If you want to slow people down and have an idea as to whether they're actually human, include a CAPTCHA. If you need to confirm working email, send an email with a validation link they can open. If you aren't throttling submissions of things that can generate things like emails being sent for verification, it won't matter whether you're confirming the address is technically valid anyway, it will be abused at that point regardless.

How can I tell which button was clicked in a PHP form submit?

Sonny Boy

[How can I tell which button was clicked in a PHP form submit?](https://stackoverflow.com/questions/2680160/how-can-i-tell-which-button-was-clicked-in-a-php-form-submit)

I have several buttons on my page, but I'm not sure how to tell which one was clicked.

Here's the markup for my two buttons:

2010-04-21 03:44:02Z

I have several buttons on my page, but I'm not sure how to tell which one was clicked.

Here's the markup for my two buttons:With an HTML form like:The PHP code to use would look like:You should always assume or default to the first submit button to appear in the form HTML source code. In practice, the various browsers reliably send the name/value of a submit button with the post data when:Other ways to submit a form exist, and some browsers/versions decide not to send the name/value of any submit buttons in some of these situations. For example, many users submit forms by pressing the Enter key when the cursor/focus is on a text field. Forms can also be submitted via JavaScript, as well as some more obscure methods.It's important to pay attention to this detail, otherwise you can really frustrate your users when they submit a form, yet "nothing happens" and their data is lost, because your code failed to detect a form submission, because you did not anticipate the fact that the name/value of a submit button may not be sent with the post data.Also, the above advice should be used for forms with a single submit button too because you should always assume a default submit button.I'm aware that the Internet is filled with tons of form-handler tutorials, and almost of all them do nothing more than check for the name and value of a submit button. But, they're just plain wrong!In HTML:In PHP:All you need to give the name attribute to the each button. And you need to address each button press from the PHP script. But be careful to give each button a unique name. Because the PHP script only take care of the name most of the timeAre you asking in php or javascript.If it is in php, give the name of that and use the post or get method, after that you can use the option of isset or that particular button name is checked to that value.If it is in js, use getElementById for that

MySQL - ignore insert error: duplicate entry

neon

[MySQL - ignore insert error: duplicate entry](https://stackoverflow.com/questions/812437/mysql-ignore-insert-error-duplicate-entry)

I am working in PHP.Please what's the proper way of inserting new records into the DB, which has unique field.

I am inserting lot of records in a batch and I just want the new ones to be inserted and I don't want any error for the duplicate entry.Is there only way to first make a SELECT and to see if the entry is already there before the INSERT - and to INSERT only when SELECT returns no records? I hope not.I would like to somehow tell MySQL to ignore these inserts without any error.Thank you

2009-05-01 17:48:05Z

I am working in PHP.Please what's the proper way of inserting new records into the DB, which has unique field.

I am inserting lot of records in a batch and I just want the new ones to be inserted and I don't want any error for the duplicate entry.Is there only way to first make a SELECT and to see if the entry is already there before the INSERT - and to INSERT only when SELECT returns no records? I hope not.I would like to somehow tell MySQL to ignore these inserts without any error.Thank youYou can use INSERT... IGNORE syntax if you want to take no action when there's a duplicate record.You can use REPLACE INTO syntax if you want to overwrite an old record with a new one with the same key.Or, you can use INSERT... ON DUPLICATE KEY UPDATE syntax if you want to perform an update to the record instead when you encounter a duplicate.Edit:  Thought I'd add some examples.Say you have a table named tbl with two columns, id and value.  There is one entry, id=1 and value=1.  If you run the following statements:You still have one record, with id=1 value=50.  Note that the whole record was DELETED first however, and then re-inserted.  Then:The operation executes successfully, but nothing is inserted.  You still have id=1 and value=50.  Finally:You now have a single record with id=1 and value=200.You can make sure that you do not insert duplicate information by using the EXISTS condition.For example, if you had a table named clients with a primary key of client_id, you could use the following statement:This statement inserts multiple records with a subselect.If you wanted to insert a single record, you could use the following statement:The use of the dual table allows you to enter your values in a select statement, even though the values are not currently stored in a table.from http://www.techonthenet.com/sql/insert.phpYou can use triggers.Also check this introduction guide to triggers.Try creating a duplicate table, preferably a temporary table, without the unique constraint and do your bulk load into that table. Then select only the unique (DISTINCT) items from the temporary table and insert into the target table.

Laravel: Where to store global arrays data and constants?

Marco Madue√±o Mej√≠a

[Laravel: Where to store global arrays data and constants?](https://stackoverflow.com/questions/26854030/laravel-where-to-store-global-arrays-data-and-constants)

I just started working with Laravel. I need to rewrite a whole system I made some years ago, using Laravel 4 as base framework. In my old system, I used to have a constant.php file with some constants declared, and a globals.php file which contained lots of array sets (for example, categories statuses, type of events, langs, etc.). By doing so, I could use something likeanywhere in my app.My question is, how can I store that info in the so called "laravel way". I tried using some sort of object to store this info, setting this as a service and creating for it a facade:app/libraries/Project/Constants.phpapp/libraries/Project/ConstantsServiceProvider.phpapp/libraries/Project/ConstantsFacade.phpcomposer.jsonand so I access that property as PJ\Constants::$langs.This works, but I doubt it is the most efficient or correct way of doing it. I mean, is it the right way to "propagate" a variable by creating a whole Service Provider and facades and all such stuff? Or where should I put this data?Thanks for any advice.EDIT # 01Data I want to pass to all controllers and views can be directly set in script, like in the example at the beginning of my post, but it can also be generated dynamically, from a database for example. This data could be a list of categories. I need them in all views to generate a navigation bar, but I also need them to define some routing patterns (like /category/subcategory/product), and also to parse some info in several controllers (Like get info from the category that holds X product). My array is something  like:Just as an example. Index is the id of the category, and the Value is info associated with the category.I need this array, also, available in all Controllers and Views. So, should I save it as a Config variable? How else could I store these data; what would be the best and semantically correct way?

2014-11-10 22:16:05Z

I just started working with Laravel. I need to rewrite a whole system I made some years ago, using Laravel 4 as base framework. In my old system, I used to have a constant.php file with some constants declared, and a globals.php file which contained lots of array sets (for example, categories statuses, type of events, langs, etc.). By doing so, I could use something likeanywhere in my app.My question is, how can I store that info in the so called "laravel way". I tried using some sort of object to store this info, setting this as a service and creating for it a facade:app/libraries/Project/Constants.phpapp/libraries/Project/ConstantsServiceProvider.phpapp/libraries/Project/ConstantsFacade.phpcomposer.jsonand so I access that property as PJ\Constants::$langs.This works, but I doubt it is the most efficient or correct way of doing it. I mean, is it the right way to "propagate" a variable by creating a whole Service Provider and facades and all such stuff? Or where should I put this data?Thanks for any advice.EDIT # 01Data I want to pass to all controllers and views can be directly set in script, like in the example at the beginning of my post, but it can also be generated dynamically, from a database for example. This data could be a list of categories. I need them in all views to generate a navigation bar, but I also need them to define some routing patterns (like /category/subcategory/product), and also to parse some info in several controllers (Like get info from the category that holds X product). My array is something  like:Just as an example. Index is the id of the category, and the Value is info associated with the category.I need this array, also, available in all Controllers and Views. So, should I save it as a Config variable? How else could I store these data; what would be the best and semantically correct way?For most constants used globally across the application, storing them in config files is sufficient. It is also pretty simpleCreate a new file in the app/config directory. Let's call it constants.phpIn there you have to return an array of config values.And you can access them as followsAnd you can set them as wellNote that the values you set will not persist. They are only available for the current request.The config is probably not the right place to store information generated from the database. You could just use an Eloquent Model like:And query all categoriesIf the whole Model thing for some reason isn't working out you can start thinking about creating your own class and a facade. Or you could just create a class with all static variables and methods and then use it without the facade stuff.For ConstantsCreate constants.php file in the config directory:-You can use them like:-For Static ArraysCreate static_arrays.php file in the config directory:-You can use it like:-Note: Laravel includes all config files automatically, so no need of manual include :)app/constants.phpcomposer.json

add file location at autoload in composer.json Before this change can take effect, you must run the following command in Terminal to regenerate Laravel‚Äôs autoload files:For global constants in Laravel 5, I don't like calling Config for them. I define them in Route group like this:Just to add to the above answer you will have to include the config class before you could start using it in Laravel 5.3I think the best way is to use localization.Create a new file messages.php in resources/lang/en (en because that is what is set in my config/app 'locale'=>'en') 

return an array of all your values  to retrieve for laravel 5.3 and beloworfor 5.4 uselaravel 5.0 localizationorlaravel 5.4 localizationAtleast in Laravel 5.4, in your constructor you can create them;Then you can call them like this in your methods;Especially useful for static methods in the Model, etc... Reference on Laracasts.com https://laracasts.com/discuss/channels/general-discussion/class-apphttpcontrollersconfig-not-found

JetBrains WebIDE: PHP variable type hinting?

kolypto

[JetBrains WebIDE: PHP variable type hinting?](https://stackoverflow.com/questions/1816641/jetbrains-webide-php-variable-type-hinting)

Is there a way to hint WebIDE that a variable has some type?

I have to iterate an array of objects, and there's no auto-completion available.

This helps in ZendStudio:I know there's a feature in JetBrains to declare an array of objects:But this works only with function's return type.

2009-11-29 20:18:29Z

Is there a way to hint WebIDE that a variable has some type?

I have to iterate an array of objects, and there's no auto-completion available.

This helps in ZendStudio:I know there's a feature in JetBrains to declare an array of objects:But this works only with function's return type./* @var ClassName $object */ is a non-valid PHPDOC comment and is not parsed in the current version of Web IDE. Use double asterisks to make it work: Also, you can annotate $array in foreach($array as $var) with /** @var ClassName[] $array */ and $var type will be deduced automatically.As already pointed out, PhpStorm will use regular phpdoc blocks:However, since 2.1 it also supports Netbeans/Eclipse/Zend @var annotations:Please note the comment starts with /* rather than /** (thus it won't show up if you generate actual documentation with phpdoc). Also, the arguments are swapped, though PhpStorm accepts any order:Last but not least, they can precede almost any arbitrary line of code (technically, phpdoc blocks are restricted to certain items).Edit: as of 2019, Netbeans/Eclipse/Zend @var annotations seem to be mostly abandoned. NetBeans 11 no longer supports them and in general they aren't supported by other IDEs. I suggest to use the other syntax.

Undefined function mysql_connect()

user1765369

[Undefined function mysql_connect()](https://stackoverflow.com/questions/13825108/undefined-function-mysql-connect)

I have ran aptitude install php5-mysql (and restarted MySQL/Apache 2), but I am still getting this error:phpinfo() says the /etc/php5/apache2/conf.d/pdo_mysql.ini file has been parsed.

2012-12-11 17:12:12Z

I have ran aptitude install php5-mysql (and restarted MySQL/Apache 2), but I am still getting this error:phpinfo() says the /etc/php5/apache2/conf.d/pdo_mysql.ini file has been parsed.Well, this is your chance! It looks like PDO is ready; use that instead.Try checking to see if the PHP MySQL extension module is being loaded:If it's not there, add the following to the php.ini file:I see that you tagged this with Ubuntu. Most likely the MySQL driver (and possibly MySQL) is not installed. Assuming you have SSH or terminal access and sudo permissions, log into the server and run this:If the MySQL packages or the php5-mysql package are already installed, this will update them.UPDATESince this answer still gets the occasional click I am going to update it to include PHP 7. PHP 7 requires a different package for MySQL so you will want to use a different argument for the apt-get command.And importantly, mysql_connect() has been deprecated since PHP v5.5.0. Refer the official documentation here: PHP: mysql_connect()In case, you are using PHP7 already, the formerly deprecated functions mysql_* were removed entirely, so you should update your code using the PDO-functions or mysqli_* functions instead.If that's not possible, as a workaround, I created a small PHP include file, that recreates the old mysql_* functions with mysqli_*()-functions: fix_mysql.inc.phpIf someone came here with the problem of docker php official images, type below command inside the docker container.For more information, please refer to the link above How to install more PHP extensions section(But it's a bit difficult for me...).Or this doc may help you.I was also stuck with the same problem of undefined MySQL_connect().I tried to make changes in PHP.ini file but it was giving me the same error.

Then I came to this solution where I changed my code from  depreciated php functions to new functions.I hope this will help you .

This solution is correctly working for me .EDIT:If you upgrade form old php you need to apt-get install php7.0-mysqlTry:Run the page and search for mysql. If not found, run the following in the shell and restart the Apache server:Also make sure you have all the following lines uncommented somewhere in your apache2.conf (or in your conf.d/php.ini) file, fromtoIn php.ini filechange this intoMy guess is your PHP installation wasn't compiled with MySQL support. Check your configure command (php -i | grep mysql). You should see something like '--with-mysql=shared,/usr'.You can check for complete instructions at http://php.net/manual/en/mysql.installation.php. Although, I would rather go with the solution proposed by @wanovak.Still, I think you need MySQL support in order to use PDO.The question is tagged with ubuntu, but the solution of un-commenting the extension=mysqli.dll is specific to windows. I am confused here?!, anyways, first thing run <? php phpinfo ?> and search for mysql* under Configuration heading. If you don't see such a thing implies you have not installed or enabled php-mysql. So first install php-mysql sudo apt get install php-mysqlThis command will install php-mysql depending on the php you have already installed, so no worries about the version!!.Then comes the unix specific solution, in the php.ini file un-comment the lineverify that msql.so is present in /usr/lib/php/<timestamp_folder>,

ELSEThen finally restart the apache and mysql services, and you should now see the mysql section under Configrations heading in phpinfo pageI was getting this error because the project I was working on was developed on php 5.6 and after install, the project was unable to run on php7.1.Just for anyone that uses Vagrant with ubuntu/nginx, in the nginx directory(/etc/nginx/), there is a directory named "sites-available" which contains a file named like the url configured for the vagrant maschine. In my case was homestead.app. Within this file there is a line that says something like There you can change the php version to the desired for that particular site.Googled this but wasnt really able to find a simple answer that said where to look and what to change.Hope that this helps anyone.

Thanks.If you are getting the error as Kindly login to the cPanel >> Click on Select Php version >> select the extension MYSQL(Windows mysql config)Step 1 : Go To Apache Control Panel > Apache > Config > PHP.ini Step 2 : Search in Notepad (Ctrl+F) For: ;extension_dir = "" (could be commented with a ;). Replace this line with: extension_dir = "C:\php\ext" (please do not you need to remove the ; on the beginning of the sentence).Step 3 : Search For: extension=php_mysql.dll and remove the ; in the beginning. Step 4 : Save and Restart You Apache HTTP Server. (On Windows this usually done via a UI) That's it :) If you get errors about missing php_mysql.dll you'll probably need to download this file from either the php.net site or the pecl.php.net. (Please be causius about where you get it from)More info on PHP: Installation of extensions on Windows - ManualThere must be some syntax error. Copy/paste this code and see if it works:I had the same error message. It turns out I was using the msql_connect() function instead of mysql_connect().

How to run composer from anywhere?

ziiweb

[How to run composer from anywhere?](https://stackoverflow.com/questions/11333230/how-to-run-composer-from-anywhere)

I have just installed composer in my /usr/bin folder, so when from that folder I run php composer.phar I get the help info about composer. But, when I try to run the same from other folder I get Could not open input file: composer.phar. How to call php composer.phar from every where without problems?

2012-07-04 17:17:53Z

I have just installed composer in my /usr/bin folder, so when from that folder I run php composer.phar I get the help info about composer. But, when I try to run the same from other folder I get Could not open input file: composer.phar. How to call php composer.phar from every where without problems?composer.phar can be ran on its own, no need to prefix it with php. This should solve your problem (being in the difference of bash's $PATH and php's include_path).You can do a global installation (archived guide):Update: Sometimes you can't or don't want to download at /usr/local/bin (some have experienced user permissions issues or restricted access), in this case you can try thisUpdate 2: For Windows 10 and PHP 7 I recommend this tutorial. Personally I installed Visual C++ Redistributable for Visual Studio 2017 x64 before PHP 7.3 VC15 x64 Non Thread Safe version (check which versions of both in the PHP for Windows page, side menu). Read carefully and maybe the enable-extensions section could differ (extension=curl instead of extension=php_curl.dll). Works like a charm, good luck!Background:Actually in getComposer website it clearly states that, install the Composer by using the following curl command,And it certainly does what it's intended to do. And then it says to move the composer.phar to the directory /usr/local/bin/composer and then composer will be available Globally, by using the following command line in terminal!Question:So the problem which leads me to Google over it is when I executed the above line in Mac OS X Terminal, it said that, Permission denied. Like as follows:Answer:Following link led me to the solution like a charm and I'm thankful to that. The thing I just missed was sudo command before the above stated "Move" command line.

Now my Move command is as follows:It directly prompts you to authenticate yourself and see if you are authorized. So if you enter a valid password, then the Moving will be done, and you can just check if composer is globally installed, by using the following line.I hope this answer helped you to broaden your view and finally resolve your problem.Cheers!First install the composer like mentioned in the composer installation documentation. I just added here for reference.curl -sS https://getcomposer.org/installer | phpand then move the file to '/usr/local/bin'.sudo mv composer.phar /usr/local/bin/composerTry to run composer -V. If you get a output like Composer version followed by the version number then the composer is installed successfully.If you get any output like composer: command not found means use the following command to create a alias for the composer. So it will be executed globally. alias composer='/usr/local/bin/composer'Now if you run composer -V means you will get the output as Composer Version followed by the version number.Hope this will help someone.Simply run this command for installing composer globally Just move it to /usr/local/bin folder and remove the extensionFor MAC and LINUX use the following procedure:Add the directory where composer.phar is located to you PATH:and then rename composer.phar to composer:For running it from other location you can use the composer program that come with the program. It is basically a bash script. If you don't have it you can create one by simply copying the following code into a text fileThen save the file inside your bin folder and name it composer without any file extension. Then add the bin folder to your environment variable fYou can do a simple global install to run it from anywhereThe https://getcomposer.org/doc/00-intro.md#globally website recommends this way.  Worked well on Ubuntu 14.04 no problem.

This way you don't need to do as an example php compomser.phar show , you just do composer show , in any directory you are working with.Some of this may be due to the OS your server is running. I recently did a migration to a new hosting environment running Ubuntu. Adding this alias alias composer="/path/to/your/composer" to .bashrc or .bash_aliases didn't work at first because of two reasons:The server was running csh, not bash, by default. To check if this is an issue in your case, run echo $0. If the what is returned is -csh you will want to change it to bash, since some processes run by Composer will fail using csh/tcsh.To change it, first check if bash is available on your server by running cat /etc/shells. If, in the list returned, you see bin/bash, you can change the default to bash by running chsh -s /bin/csh.Now, at this point, you should be able to run Composer, but normally, on Ubuntu, you will have to load the script at every session by sourcing your Bash scripts by running source ~/.bashrc or source ~/.bash_profile. This is because, in most cases, Ubuntu won't load your Bash script, since it loads .profile as the default script.To load your Bash scripts when you open a session, try adding this to your .profile (this is if your Bash script is .bashrc‚Äîmodify accordingly if .bash_profile or other):To test, close your session and reload. If it's working properly, running composer -v or which composer should behave as expected.

PHP shorthand for isset()? [duplicate]

brentonstrine

[PHP shorthand for isset()? [duplicate]](https://stackoverflow.com/questions/18603250/php-shorthand-for-isset)

Is there a shorthand way to assign a variable to something if it doesn't exist in PHP?I'd like to do something like

2013-09-03 23:52:59Z

Is there a shorthand way to assign a variable to something if it doesn't exist in PHP?I'd like to do something likeUpdate for PHP 7 (thanks shock_gone_wild)PHP 7 introduces the so called null coalescing operator which simplifies the below statements to:Before PHP 7No, there is no special operator or special syntax for this. However, you could use the ternary operator:Or like this:You can use new ternary operator (PHP 5.3+)Or for older version :

What is the correct way to write PHPDocs for constants?

Elzo Valugi

[What is the correct way to write PHPDocs for constants?](https://stackoverflow.com/questions/6706051/what-is-the-correct-way-to-write-phpdocs-for-constants)

I have this code:I don't think that using @var is correct for a constant and I don't see any @constant PHPDoc tag. What is the correct way to do this?

2011-07-15 11:02:09Z

I have this code:I don't think that using @var is correct for a constant and I don't see any @constant PHPDoc tag. What is the correct way to do this?To get them into phpDoc, use:Usual construct:The PHP-FIG suggests using @var for constants.@const is not the right answer.The only "official" place it's listed is phpdoc.de, but the spec there only ever made it to 1.0beta, and the site also includes tags like @brother and @sister, which I've never seen used before, so the overall trust in that site is somewhat diminished ;-) The de facto 

standard has always been phpDoc.org.In short, even if some unofficial standard does mention it, if the documentation generators don't support it, then it's not worth using. @var is correct for now, and once the PSR (last link in the above list) is out of draft, and is the basis for which phpDocumentor, Doxygen, APIGen and others are understanding PHPDoc, then @type would be correct which is the successor to @var.I use Netbeans. It will parse phpDoc for global and class constants when this format is used:The following proposition respects the official documentation syntax: There is no need to annotate the type of constants, since the type is always:@const is also not part of the PHPDoc standard. PHP-FIG suggests @var but this is not backed by PHPDoc and doesn't add any information you can't already deduce from the declaration itself.Therefore, for the sake of readability I recommend just using a plain PHPDoc docblock to document your constants:It will describe the constant when you generate PHPDocs yet keeps the comments clean and readable.

PhpStorm how to refresh folder content or whole project tree

apocalypz

[PhpStorm how to refresh folder content or whole project tree](https://stackoverflow.com/questions/17966860/phpstorm-how-to-refresh-folder-content-or-whole-project-tree)

This may be a dumb question, but I can not find an option to refresh folder content in project tree (PhpStorm IDE).

Is this (really basic) feature missing?I know, that content is refreshed automatically, but in some types of folders, where files are generated and changed often this does not work.

2013-07-31 09:40:18Z

This may be a dumb question, but I can not find an option to refresh folder content in project tree (PhpStorm IDE).

Is this (really basic) feature missing?I know, that content is refreshed automatically, but in some types of folders, where files are generated and changed often this does not work.right click on the folder and then synchronize 'nameOfFolder' to refresh a specific folderIf that does not solve your problem it might be that you have an invalid cache. You can solve this issue by invalidating your cache.Select File then Invalidate Caches / Restart... from the menu then Invalidate and Restart. Note: this solution will delete the cache, including local history, for all projects.This is also explained in the answer to this question on StackOverflowThe behavior I've want is for the IDE to be up-to-date with any file changes made via the terminal or external application (like Git).I found this solution via Google:

https://intellij-support.jetbrains.com/hc/en-us/community/posts/206356869-PhpStorm-should-scan-project-directory-for-changesSelect File then Settings then Appearance & Behavior then select System Settings and finally under Synchronization checkmark Synchronize files on frame or editor tab activationIf the above directions are long winded, Goto settings and search for "synchronization".

Check if xdebug is working

oshirowanen

[Check if xdebug is working](https://stackoverflow.com/questions/14046501/check-if-xdebug-is-working)

Without installing a texteditor or an IDE, is it possible to test if xdebug is working, i.e. if it can debug php code?The only part xdebug comes up in phpinfo() is the following:It is not mentioned in the phpinfo() anywhere else.

2012-12-26 21:31:16Z

Without installing a texteditor or an IDE, is it possible to test if xdebug is working, i.e. if it can debug php code?The only part xdebug comes up in phpinfo() is the following:It is not mentioned in the phpinfo() anywhere else.Without actually doing some debugging, I guess you can't be certain that a debugger is working.But you can be pretty sure -- I guess one should assume that if some aspects of xDebug are working then it would all be working.Given that, you can confirm that xDebug is installed and in place by trying the following:1) phpinfo() -- this will show you all the extensions that are loaded, including xDebug. If it is there, then it's a safe bet that it's working.2) If that isn't good enough for you, you can try using the var_dump() function. xDebug modifies the output of var_dump() to include additional information. If this is in place, then xDebug is working.3) xDebug modifies PHP's error output. If your program crashes with xDebug in place, you'll get more information about the failure than with the standard PHP crash output.4) xDebug also adds a number of helper functions to PHP. You could try any of these to see if it's working. For example, the function xdebug_get_code_coverage() should exist and return an array. If it does, then xDebug is installed. If not, it isn't.Run in your terminal, and then look for [Zend Modules]. It should be somewhere there if it is loaded!NBIf you're using Ubuntu, it may not show up here because you need to add the xdebug settings from /etc/php5/apache2/php.ini into /etc/php5/cli/php.ini. Mine areTry as following, should return "exists" or "non exists":After a bitter almost 24 hours long run trying to make xdebug to work with Netbeans 8.0.2, I have found a solution that, I hope, will work for all Ubuntu and Ubuntu related stacks.Problem number 1: PHP and xdebug versions must be compatibleSometimes, if you're running a Linux setup and apt-get to install xdebug, it won't get you the proper xdebug version. In my case, I had the latest php version but an old xdebug version. That must be due to my current Xubuntu version. Software versions are dependent on repositories, which are dependent on the OS version you are running.Solution: PHP has a neat extension manager called PECL. Follow the instructions given here to have it up and running. 

First, as pointed out by a member at the comments, you should install PHP's developer package in order to get PECL to work: Then, using PECL, you'll be able to install the latest stable version of xdebug:Once you do it, the proper version of xdebug will be installed but not ready to use. After that, you'll need to enable it. I've seen many suggestions on how to do it, but the fact of the matter is that PHP needs some modules to be enabled both to the client and the server, in this case Apache. It seems that the best practice here is to use the built in method of enabling modules, called php5enmod. Usage is described here.Problem number 2: Enable the module correctlyFirst, you'll need to go inside the /etc/php5 folder. In there, you'll find 3 folders, apache2, cli, and mods_available. The mods_available folder contains text files with instructions to activate a given module. The name convention is [module].ini. Take a look inside a few of them, see how they are set up.Now you'll have to create your ini file inside mods_available folder. Create a file named xdebug.ini, and inside the file, paste this:Make sure that the directive [xdebug] is present, exactly like the example above. It is imperative for the module to work. In fact, just copy and paste the whole code, you'll be a happier person that way. :DNote: the zend_extension path is very important. On this example it is pointing o the current version of the PHP engine, but you should first go to /usr/lib/php5 and make sure the folder that is named with numbers is the correct one. Adjust the name to whatever you see there, and while you're at it, check inside the folder to make sure the xdebug.so is really there. It should be, if you did everything right.Now, with your xdebug.ini created, it's time to enable the module. To do that, open a console and type:If everything went right, PHP created two links to this file, one inside /etc/php5/apache2/conf.d and other inside /etc/php5/cli/conf.dRestart your Apache server and type this on the console:You should get something like this:Which means the PHP client did read your xdebug.ini file and loaded the xdebug.so module. So far so good.Now create a phpinfo script somewhere on your web server, and run it. This is what you should see, if everything went wright:If you see this, Apache also loaded the module, and you are probably ready to go. Now let's see if Netbeans will debug correctly. Create a very simple script, add some variables, give them values, and set a break point on them. Now hit CTRL+F5, click on "step in" on your debugger panel, and see if you get something like this:Remember to check Netbeans configuration for debugging, under tools/options/php. It should look something like this:I hope this sheds some light on this rather obscure, confusing problem.Best wishes!you can run this small php codeCopy the whole output page,

paste it in this link. Then analyze. It will show if Xdebug is installed or not. And it will give instructions to complete the installation.Just to extend KsaR answer and provide a possibility to check xdebug from command line:If you are using Eclipse then please note that while running on XDebug mode the magic constant __FILE__ will always be evaluated to:So the following check will return true if your session is under XDebug:in your question you mentioned that your phpinfo was stating that apache was loading xdebug's configuration in /etc/php5/apache2/conf.d/xdebug.ini

In many of the instructions online you may note that they ask you to put xdebug config in php.ini (and that is what I did) HOWEVER, if the configuration is set to /etc/php5/apache2/conf.d/xdebug.ini, then you should remove the [XDebug] configuration settings from /etc/php5/apache2/php.ini and put it in /etc/php5/apache2/conf.d/xdebug.ini INSTEAD.  Once I removed from /etc/php5/apache2/php.ini and put in /etc/php5/apache2/conf.d/xdebug.ini instead, and restarted apache, it worked!!Therefore, in your /etc/php5/apache2/conf.d/xdebug.ini, put the following:then remove this from the /etc/php5/apache2/php.ini if you put it there as well.Then  do:sudo service apache2 restartThen it should work!!!

What does 'P' stand for in the DateInterval format?

Shrinath

[What does 'P' stand for in the DateInterval format?](https://stackoverflow.com/questions/9188763/what-does-p-stand-for-in-the-dateinterval-format)

Consider the following example quoted from php manual for DateTime'D' is for days, what does the 'P' stand for in that formatting?

2012-02-08 06:29:48Z

Consider the following example quoted from php manual for DateTime'D' is for days, what does the 'P' stand for in that formatting?From the manual'P' stands for Period.

see here http://php.net/manual/en/dateinterval.construct.phpI think it can be answered in more details. First of all, DateInterval constructor method takes one parameter named $interval_spec which is string.This parameter has a specification described as below:There are some Period Designators that are used in the argument:Let's see some example using Period Designators:There is an order that needs to be maintained as described the doc:The specification can also be represented as a datetime. But the values in this format can not exceed a given period's roll-over-point (e.g. 25 hours is invalid).

how to convert object into string in php [duplicate]

JJ.

[how to convert object into string in php [duplicate]](https://stackoverflow.com/questions/2469222/how-to-convert-object-into-string-in-php)

how to convert object into string in phpActually i am dealing with web service APIs.i want to use output of one API as a input for another API. when i am trying to do this i got error like this:Catchable fatal error: Object of class std could not be converted to string in C:\ ...this is the output of first API::stdClass Object ( [document_number] => 10ba60 ) now i want only that number to use as input for 2nd APprint_r and _string() both are not working in my case

2010-03-18 11:00:09Z

how to convert object into string in phpActually i am dealing with web service APIs.i want to use output of one API as a input for another API. when i am trying to do this i got error like this:Catchable fatal error: Object of class std could not be converted to string in C:\ ...this is the output of first API::stdClass Object ( [document_number] => 10ba60 ) now i want only that number to use as input for 2nd APprint_r and _string() both are not working in my caseYou can tailor how your object is represented as a string by implementing a __toString() method in your class, so that when your object is type cast as a string (explicit type cast $str = (string) $myObject;, or automatic echo $myObject) you can control what is included and the string format.If you only want to display your object's data, the method above would work. If you want to store your object in a session or database, you need to serialize it, so PHP knows how to reconstruct your instance.Some code to demonstrate the difference:Output:Use the casting operator (string)$yourObject;you have the print_r function DOCThere is an object serialization module, with the serialize function you can serialize any object.In your case, you should simply useas the input for the second api.

POST request with JSON body

Matt

[POST request with JSON body](https://stackoverflow.com/questions/16920291/post-request-with-json-body)

I would like to add a post to a Blogger blog via PHP.

Google provided the example below. How to use that with PHP?

2013-06-04 14:20:29Z

I would like to add a post to a Blogger blog via PHP.

Google provided the example below. How to use that with PHP?You need to use the cURL library to send this request.If, for some reason, you can't/don't want to use cURL, you can do this:I think cURL would be a good solution. This is not tested, but you can try something like this:If you do not want to use CURL, you could find some examples on stackoverflow, just like this one here: How do I send a POST request with PHP?. I would recommend you watch a few tutorials on how to use GET and POST methods within PHP or just take a look at the php.net manual here: httprequest::send. You can find a lot of tutorials: HTTP POST from PHP, without cURL and so on...I made API sending data via form on website to prosperworks based on @Rocket Hazmat, @dbau and @maraca code. 

I hope, it will help somebody:

How to re-save the entity as another row in Doctrine 2

zerkms

[How to re-save the entity as another row in Doctrine 2](https://stackoverflow.com/questions/9071094/how-to-re-save-the-entity-as-another-row-in-doctrine-2)

Let's say I have entity $e. Is there any generic way to store it as another row, which would have the same entity data but another primary key?Why I need this: I'm implementing some sort of Temporal Database schema and instead of updating the row I just need to create another one.

2012-01-30 21:34:47Z

Let's say I have entity $e. Is there any generic way to store it as another row, which would have the same entity data but another primary key?Why I need this: I'm implementing some sort of Temporal Database schema and instead of updating the row I just need to create another one.Try cloning and add the following method to your entityYou may need to detach the entity before persisting it. I don't have my dev machine handy to test this right now.Just tried using a simple SQLite demo. You shouldn't need to do anything. The following worked for me without adding a __clone() method or doing anything else out of the ordinaryOnce flushed, the $new entity had a new ID and was saved as a new row in the DB.I would still null the ID property via the __clone() method as it makes sense from a pure model view.Digging into the Doctrine code, this is because the generated proxy classes implement __clone() with this important lineHere's a simple strategy I used that doesn't involve excessive complexity:

PHP: Split string into array, like explode with no delimiter

oni-kun

[PHP: Split string into array, like explode with no delimiter](https://stackoverflow.com/questions/2170320/php-split-string-into-array-like-explode-with-no-delimiter)

I have a string such as:and need to split EACH character into an array.I for the hell of it tried:But it gave me the obvious: Warning: No delimiter defined in explode) ..How would I come across this? I can't see any method off hand, especially just a function

2010-01-31 02:29:30Z

I have a string such as:and need to split EACH character into an array.I for the hell of it tried:But it gave me the obvious: Warning: No delimiter defined in explode) ..How would I come across this? I can't see any method off hand, especially just a functionstr_split takes an optional 2nd param, the chunk length (default 1), so you can do things like:You can also get at parts of your string by treating it as an array:What are you trying to accomplish?  You can access characters in a string just like an array:Try this:str_split can do the trick. Note that strings in PHP can be accessed just like a chars array, in most cases, you won't need to split your string into a "new" array.Here is an example that works with multibyte ( UTF-8 ) strings.It can be also done with preg_split() ( preg_split( '//u', $str, null, PREG_SPLIT_NO_EMPTY ) ), but unlike the above example, that runs almost as fast regardless of the size of the string, preg_split() is fast with small strings, but a lot slower with large ones.Try this:Try this:The above example will output:If you want to split the string, it's best to use:When you have delimiter, which separates the string, you can try,Where you can pass the delimiter in the first variable inside the explode such as:will actuall work pretty fine, BUT if you want to preserve the special characters in that string, and you want to do some manipulation with them, THAN I would usebecause for some of mine personal uses, it has been shown to be more reliable when there is an issue with special characters

What http status code is supposed to be used to tell the client the session has timed out?

bobo

[What http status code is supposed to be used to tell the client the session has timed out?](https://stackoverflow.com/questions/1653493/what-http-status-code-is-supposed-to-be-used-to-tell-the-client-the-session-has)

In a webpage, it uses YUI connection manager/datasource to send AJAX requests to the server, if the session (which contains the info on whether the user has been authenticated) has already timed out, those ajax responses that can only be viewed by authenticated users should return an http status code, telling the client that the session has already timed out, then the client either simply redirects him to the login page or asks him if he wants to extend the session.My question is that, in this situation, what http status code is the most appropriate to tell the client the session has timed out?List of HTTP status codes from wiki

2009-10-31 05:19:17Z

In a webpage, it uses YUI connection manager/datasource to send AJAX requests to the server, if the session (which contains the info on whether the user has been authenticated) has already timed out, those ajax responses that can only be viewed by authenticated users should return an http status code, telling the client that the session has already timed out, then the client either simply redirects him to the login page or asks him if he wants to extend the session.My question is that, in this situation, what http status code is the most appropriate to tell the client the session has timed out?List of HTTP status codes from wikiBest I can suggest is a HTTP 401 status code with a WWW-Authenticate header.The problem with 403 requests is the the RFC 2616 states "Authorization will not help and the request SHOULD NOT be repeated." (i.e. doesn't matter if you are authenticated or not, you are not going to get access to that resource, ever).The problem with 401 requests is it states they "MUST include a WWW-Authenticate header field". As someone has noted it doesn't appear to be in violation of the spec to use a custom value in a WWW-Authenticate header.I can't see any reason in RFC 2617 why an HTTP 401 status combined with a custom WWW-Authenticate header like this wouldn't be okay:The oAuth spec actually seems to do just this, as they recommend this (though they have to my mind an odd interpretation of the RFC):This doesn't appear to be specifically SANCTIONED by the RFC, but I can't actually see that it's forbidden by it (it doesn't seem to conflict with any MUST or MUST NOT, SHOULD or SHOULD NOT condition).I wish there was a more specific HTTP status code for timeouts and for things like CSRF tokens being invalid so this was clearer.I would recommend an HTTP 401.Whereas a 403 basically says, "You're not allowed, go away and don't come back", a 401 says, "We don't know if you're allowed or not because you didn't bring your ID. Go get it and try again."Compare Wikipedia's definitions:What about 419 - it is not standard, but the description on Wikipedia seems to fit:I believe the appropriate code is going to be 403/Forbidden.  There aren't any that are directly related to sessions.Truth is, there is no standard HTTP status code for a session timeout. Sessions are implemented in the application layer, not the HTTP transport layer.There is a custom status code that Microsoft have been using for session timeout: 599, or simply make up your own status code in the 5xx range.From the Status Codes Wiki:599 Network connect timeout error (Unknown)

    This status code is not specified in any RFCs, but is used by Microsoft Corp. HTTP proxies to signal a network connect timeout behind the proxy to a client in front of the proxy.I use the custom status code 599 for a session timeout and then check for it in the AJAX response.As per the Wikipedia link of Http Status Codes provided above by Bobo:As you post a link, in that link i found this HTTP status code 440. you can use 440 HTTP status code for session expired.440 Login Time-out401 Unauthorized we can use when, user login credential is wrong. or auth token passed in header is invalid.403 Forbidden we can use this when user does not has specific permission for requested resource.So in my opinion we should use 440 Login Time-out.Technically, the accepted answer is of course correct: If you already know for sure that you are going to be failing the request, and you are asking which failure code to return, then HTTP 401 "Unauthorized (Unauthenticated)" is the appropriate one, so as to prompt re-authentication.  But first of all, ask yourself: should you fail the request?Consider that the user may simply be visiting a public page of your website, in which case you are going to be slapping them across the face with an "Unauthorized!" message, and requiring them to re-authenticate, in order to see a page that they would normally be able to see without authentication.  That's not cool.My advice is to ignore the fact that the session token is unknown, and simply proceed to generate a new session token and create a new session for it.  The initial state of the session will of course be "not-yet-authenticated", so if the user is trying to access a non-public page, then the page will see to it that they receive an HTTP 401 "Unauthorized (Unauthenticated)" and must authenticate.  But if the user lands on a public page, they won't notice anything different.I would use a 302 redirection response, with a "Location" header directing to a resource path like "/auth-required"The client could route the resource path to a modal with a login/password form, avoiding to tranfer the user to another page.For non-Ajax requests, I use a 302 redirect.For Ajax requests, I use 200 for known errors. That way I can take advantage of the data object. I find the data object easier to work with than parsing jqXHR for info. And then I don't need to worry about what HTTP status code to try to re-purpose for my situation.jQuery Example:Code 408. "Request timeout", seems perfect -- RFC 2616 explains it meansi.e., exactly a "time-out", just as you require!

How to access an application parameters from a service?

Pierre de LESPINAY

[How to access an application parameters from a service?](https://stackoverflow.com/questions/11209529/how-to-access-an-application-parameters-from-a-service)

From my controllers, I access the application parameters (those in /app/config) withBut I don't know how to access it from a service (I imagine my service class is not supposed to extend Symfony\Bundle\FrameworkBundle\Controller\Controller).Should I map needed parameters into my service registration like this:or something similar? How should I access to my application parameters from a service?This question seems like the same but mine actually answers to it (parameters from a controller), I'm talking about accessing from a service.

2012-06-26 14:24:09Z

From my controllers, I access the application parameters (those in /app/config) withBut I don't know how to access it from a service (I imagine my service class is not supposed to extend Symfony\Bundle\FrameworkBundle\Controller\Controller).Should I map needed parameters into my service registration like this:or something similar? How should I access to my application parameters from a service?This question seems like the same but mine actually answers to it (parameters from a controller), I'm talking about accessing from a service.You can pass parameters to your service in the same way as you inject other services, by specifying them in your service definition.  For example, in YAML:where the %my_param1% etc corresponds to a parameter named my_param1.  Then your service class constructor could then be:Since 2017 and Symfony 3.4 there is much cleaner way - easy to setup and use.Instead of using container and service/parameter locator anti-pattern, you can pass parameters to class via it's constructor. Don't worry, it's not time-demanding work, but rather setup once & forget approach.How to set it up in 2 steps?In case you use older approach, you can automate it with Rector.This is called constructor injection over services locator approach.To read more about this, check my post How to Get Parameter in Symfony Controller the Clean Way.(It's tested and I keep it updated for new Symfony major version (5, 6...)).Instead of mapping your needed parameters one by one, why not allowing your service to access the container directly? Doing so, you do not have to update your mapping if there is new parameters added (which relate to your service).To do so:Make following changes to your service classAdd @service_container as "arguments" in your services.ymlAs solution to some of issues mentioned, I define an array parameter then inject it. Adding a new parameter later just requires addition to parameter array without any change to service_container arguments or construct.So extending on @richsage answer:parameters.ymlservices.ymlThen access inside classThere is a very clean new way to achieve it since symfony 4.1 source : https://symfony.com/blog/new-in-symfony-4-1-getting-container-parameters-as-a-service.With Symfony 4.1 the solution is quite simple.Here is a snippet from the original post:Link to the original post: 

https://symfony.com/blog/new-in-symfony-4-1-getting-container-parameters-as-a-service@richsage is correct (for Symfony 3.?) but it did not work for my Symfony 4.x. So here is for Symfony 4.in services.yaml filein your service class routineCheck.php file do constructor like soDone.Symfony 3.4 here.After some researches, I don't think passing parameters to a class/service via it's constructor, is always a good idea. 

Imagine if you need to pass to a controller/service some more parameters than 2 or 3. What then? Would be ridiculous to pass, let's say, up to 10 parameters.Instead, use the ParameterBag class as a dependency, when declaring the service in yml, and then use as many parameters as you wish.A concrete example, let's say you have a mailer service, like PHPMailer, and you want to have the PHPMailer connection parameters in the paramters.yml file:I think this is a better way.In symfony 4, we can access the parameters by means of dependency injection:Services:parameters.yml:

WAMP/MySQL errors not in correct language

Dobby

[WAMP/MySQL errors not in correct language](https://stackoverflow.com/questions/23802970/wamp-mysql-errors-not-in-correct-language)

I've re-installed WAMP multiple times, searched literally hundreds of pages, and its not fixed this issue:I've looked inside the phpmyadmin config files, set:Uninstalled multiple times (as mentioned) and seemed to have no luck what so ever. Any help would be appreciated. 

2014-05-22 09:34:41Z

I've re-installed WAMP multiple times, searched literally hundreds of pages, and its not fixed this issue:I've looked inside the phpmyadmin config files, set:Uninstalled multiple times (as mentioned) and seemed to have no luck what so ever. Any help would be appreciated. To change the language that MySQL uses when reporting you need to change the my.ini file as follows.Find this line:And change it to your prefered language, for example:To change it to English US, you can do like this:Save the file and then restart MySQL.Remember the guys that produce WampServer are French so I guess thats why this has been added to the my.ini file, and they just forgot to remove it on this release.Use the wampmanager menus like so :-This will load the my.ini file into your editor.Change the following settings in my.ini fileTo permanently change the language preferences

$cfg['Lang'] = 'en-utf-8'; and friends change the language for phpmysql, not for the mysql server, so anything coming from the database server itself will be unaffected.You need to start the server daemon with --lc_messages=en_US (or put that in the relevant config file), for a per-session setting just use SET lc_messages = 'en_US';

How to solve time out in phpmyadmin?

user1811486

[How to solve time out in phpmyadmin?](https://stackoverflow.com/questions/16707532/how-to-solve-time-out-in-phpmyadmin)

I want import huge (at least 300 mb) sql scripts via phpMyAdmin.I've tried:in my php.ini file, but I'm still getting timeout errors during importing.

2013-05-23 07:00:30Z

I want import huge (at least 300 mb) sql scripts via phpMyAdmin.I've tried:in my php.ini file, but I'm still getting timeout errors during importing.If even after repeated upload you still get timeout error, pleasechange your settings in \phpmyadmin\libraries\config.default.php from $cfg['ExecTimeLimit'] = 300; to $cfg['ExecTimeLimit'] = 0; and restart. Now there is no execution time limit (trust we are talking about local server). Source : Change Script time out in phpmyadmin I had the same issue and I used command line in order to import the SQL file. This method has 3 advantages:If you want to do this just follow this 3 steps:Note: if you already have your msql enviroment variable path set, you don't need to move your file.sql in the bin directory and you should only navigate to the path of the file.I'm using version 4.0.3 of MAMP along with phpmyadmin. The top of /Applications/MAMP/bin/phpMyAdmin/libraries/config.default.php reads:Changing the following line in /Applications/MAMP/bin/phpMyAdmin/config.inc.php and restarting MAMP worked for me.But if you are using Plesk, change your settings in :/usr/local/psa/admin/htdocs/domains/databases/phpMyAdmin/libraries/config.default.phpChange $cfg['ExecTimeLimit'] = 300; to $cfg['ExecTimeLimit'] = 0;And restart with Plesk UI or use:/etc/init.d/psa restart

 and

/etc/init.d/httpd restartI was having the issue previously in XAMPP localhost with phpmyadmin version 4.2.11.Increasing the timeout in php.ini didn't helped either. Then I edited xampp\phpMyAdmin\libraries\config.default.php to change the value of $cfg['ExecTimeLimit'], which was 300 by default.That solved my issue.If any of you happen to use WAMP then at least in the current version (3.0.6 x64) there's a file located in <your-wamp-dir>\alias\phpmyadmin.conf which overrides some of your php.ini options.Edit this part:# To import big file you can increase values

 php_admin_value upload_max_filesize 512M

 php_admin_value post_max_size 512M

 php_admin_value max_execution_time 600

 php_admin_value max_input_time 600

If using Cpanel/WHM the location of file config.default.php is under/usr/local/cpanel/base/3rdparty/phpMyAdmin/librariesand you should change the $cfg['ExecTimeLimit'] = 300; to $cfg['ExecTimeLimit'] = 0;None of the above answers solved it for me.I cant even find the 'libraries' folder in my xampp - ubuntu also.So, I simply restarted using the following commands:and Thanks me..!!I had this issue too and tried different memory expansion techniques I found on the web but had more troubles with it.

I resolved to using the MySQL console source command, and of course you don't have to worry about phpMyAdmin or PHP maximum execution time and limits.Syntax: source c:\path\to\dump_file.sqlNote: It's better to specify an absolute path to the dump file since the mysql working directory might not be known.To increase the phpMyAdmin Session Timeout, open config.inc.php in the root phpMyAdmin directory and add this setting (anywhere).Where  is some number larger than 1800.Note:Always keep on mind that a short cookie lifetime is all well and good for the development server. So do not do this on your production server.ReferenceThis is not an answer, but a redirect to an answer. It could have been entered below the question as a comment, but would have appeared below numerous other comments and would not be visible. Please do not upvote this answer.If you are getting the dreaded MySQL server has gone away or you believe your import is timing out, see this answer:https://stackoverflow.com/a/48634827/1447509

Laravel unexpected error„Äåclass user contains 3 abstract methods‚Ä¶„Äç

Thanos Paravantis

[Laravel unexpected error„Äåclass user contains 3 abstract methods‚Ä¶„Äç](https://stackoverflow.com/questions/23094374/laravel-unexpected-error-class-user-contains-3-abstract-methods)

While programming my Authentication app on Laravel, I came across to an error I've never seen before. I've been brainstorming for almost an hour for the cause of this problem but yet I can't find a solution.Error:User.php Model:And the RegisterController.php

2014-04-15 20:56:47Z

While programming my Authentication app on Laravel, I came across to an error I've never seen before. I've been brainstorming for almost an hour for the cause of this problem but yet I can't find a solution.Error:User.php Model:And the RegisterController.phpAh found it.Its apparently documented Laravel Update.You can check Laravel docs to fix your issues:"First, add a new, nullable remember_token of VARCHAR(100), TEXT, or equivalent to your users table.Next, if you are using the Eloquent authentication driver, update your User class with the following three methods:"See http://laravel.com/docs/upgrade for further details.I'm not a pro at implementing PHP Interfaces, but I believe you need to include all methods of UserInterface and RemindableInterface in your User class (since it implements them).  Otherwise, the class is "abstract" and must be defined as such.By my knowledge, a PHP interface is a set of guidelines that a class must follow.  For instance, you can have a general interface for a specific database table.  It would include definition of methods like getRow(), insertRow(), deleteRow(), updateColumn(), etc.  Then you can use this interface to make multiple different classes for different database types (MySQL, PostgreSQL, Redis), but they must all follow the rules of the interface.  This makes migration easier, since you know no matter which database driver you are using to retrieve data from a table it will always implement the same methods defined in your interface (in other words, abstracting the database-specific logic from the class).3 possible fixes, as far as I know:I think #2 is best for you, since if your class doesn't implement all methods from UserInterface and RemindableInterface why would you need to say it does.This is an update problem. Laravel force us to update the User.php model with the following code to fix this problem.I fixed the error by adding UserTrait to User.php. Get the original User.php file here.

If you don't need the rememberMe stuff, you just need this:"First, add a new, nullable remember_token of VARCHAR(100), TEXT, or equivalent to your users table. which is put like this $table->text('remember_token', 100)->nullable(); into the table then php artisan migrate. and update to your Elq model too. Class User contains 6 abstract methods and must therefore be declared abstract or implement the remaining methods (Illuminate\Auth\UserInterface::getAuthIdentifier, Illuminate\Auth\UserInterface::getAuthPassword, Illuminate\Auth\UserInterface::getRememberToken, 

...)Class User contains 6 abstract methods and must therefore be declared abstract or implement the remaining methods Solution: You add this code in User class (it's working for me)Source: GitHubI also get this error.then i added:here after code is working   

Get the index value of an array in PHP

Aakash Chakravarthy

[Get the index value of an array in PHP](https://stackoverflow.com/questions/2959222/get-the-index-value-of-an-array-in-php)

I have an array:I want to get the index for a given value (i.e. 1 for string2 and 2 for string3)All I want is the position of the strings in the arrayHow to achieve this?

2010-06-02 15:38:27Z

I have an array:I want to get the index for a given value (i.e. 1 for string2 and 2 for string3)All I want is the position of the strings in the arrayHow to achieve this?array_search is the way to do it.From the docs:You could loop over the array manually and find the index but why do it when there's a function for that. This function always returns a key and it will work well with associative and normal arrays.If you're only doing a few of them (and/or the array size is large), then you were on the right track with array_search:If you want all (or a lot of them), a loop will prob do you better:Other folks have suggested array_search() which gives the key of the array element where the value is found.  You can ensure that the array keys are contiguous integers by using array_values():You said in your question that array_search() was no use.  Can you explain why?  What did you try and how did it not meet your needs?// or considering your array structure:// you could just// executed// alternatively// recursersively// outputsThe problem is that you don't have a numerical index on your array.

Using array_values() will create a zero indexed array that you can then search using array_search() bypassing the need to use a for loop.Could you be a little more specific?works fine for me.  Are you trying to accomplish something more complex?This code should do the same as your new routine, working with the correct multi-dimensional array..You'll have to create a function for this. I don't think there is any built-in function for that purpose. All PHP arrays are associative by default. So, if you are unsure about their keys, here is the code: Try the array_keys PHP function.array_search should work fine, just tested this and it returns the keys as expected:Or for the index, you could use

php: how to get associative array key from numeric index?

Mazatec

[php: how to get associative array key from numeric index?](https://stackoverflow.com/questions/4095796/php-how-to-get-associative-array-key-from-numeric-index)

If I have:how do I get the string one back from $array[1] ?

2010-11-04 10:36:52Z

If I have:how do I get the string one back from $array[1] ?You don't. Your array doesn't have a key [1]. You could:This all depends on what it is exactly you want to do. The fact is, [1] doesn't correspond to "one" any which way you turn it.Which will output:If you only plan to work with one key in particular, you may accomplish this with a single line without having to store an array for all of the keys:Or if you need it in a loopYou might do it this way:Haven't tryed the code, but i'm pretty sure it will work.Good luck!the key function helped me and is very simpleIf it is the first element, i.e. $array[0], you can try: If it is the second element, i.e. $array[1], you can try: I think this method is should be used when required element is the first, second or at most third element of the array. For other cases, loops should be used otherwise code readability decreases.Expanding on Ram Dane's answer, the key function is an alternative way to get the key of the current index of the array.  You can create the following function,

Can PHP instantiate an object from the name of the class as a string?

user135295

[Can PHP instantiate an object from the name of the class as a string?](https://stackoverflow.com/questions/1377052/can-php-instantiate-an-object-from-the-name-of-the-class-as-a-string)

Is it possible in PHP to instantiate an object from the name of a class, if the class name is stored in a string?

2009-09-04 03:21:45Z

Is it possible in PHP to instantiate an object from the name of a class, if the class name is stored in a string?Yep, definitely.Yes it is:Static too:You can do some dynamic invocation by storing your classname(s) / methods in a storage such as a database.

Assuming that the class is resilient for errors. etc..

Then in your code using the strings returned by the database for classes and methods names. you can even store sql queries for your classes, the level of automation if up to your imagination.I use this method to create REST web services.

How can I get the error message for the mail() function?

Rohan

[How can I get the error message for the mail() function?](https://stackoverflow.com/questions/3186725/how-can-i-get-the-error-message-for-the-mail-function)

I've been using the PHP mail() function.If the mail doesn't send for any reason, I'd like to echo the error message. How would I do that?Something like Thanks!

2010-07-06 13:45:45Z

I've been using the PHP mail() function.If the mail doesn't send for any reason, I'd like to echo the error message. How would I do that?Something like Thanks!You can use error_get_last() when mail() returns false.With print_r(error_get_last()), you get something like this:sending mail in php is not a one-step process. mail() returns true/false, but even if it returns true, it doesn't mean the message is going to be sent. all mail() does is add the message to the queue(using sendmail or whatever you set in php.ini)there is no reliable way to check if the message has been sent in php. you will have to look through the mail server logs.You can use the PEAR mailer, which has the same interface, but returns a PEAR_Error when there is problems.There is no error message associated with the mail() function.  There is only a true or false returned on whether the email was accepted for delivery.  Not whether it ultimately gets delivered, but basically whether the domain exists and the address is a validly formatted email address.In my case, I couldn't get the error message in my PHP script no matter what I do (error_get_last(), or ini_set('display_errors',1);) don't show the error messageaccording to this postI confirm this because after some failed attempts to use mail() in my PHP scripts, it turns that sendmail was not installed on my machine, however the php.ini variable sendmail_path was /usr/sbin/sendmail -t -i 1- I installed sendmail from my package manager shell> dnf install sendmail2- I started it shell> service sendmail start3- Now if any PHP mail() function fails I find the errors of the sendmail program       logged under /var/mail/ directory. 1 file per userFor example this snippet is taken from my  /var/mail/root fileMy system is linux Fedora 28 with apache2.4 and PHP 7.2As the others have said, there is no error tracking for send mail it return the boolean result of adding the mail to the outgoing queue. If you want to track true success failure try using SMTP with a mail library like Swift Mailer, Zend_Mail, or phpmailer.error_get_last(); - return the last error that occurredTry this. If I got any error on any file then I got error mail on my email id. Create two files index.php and checkErrorEmail.php and uploaded them to your server. Then load index.php with your browser.Index.phpcheckErrorEmail.php

Why are my PHP files showing as plain text? [duplicate]

iamjonesy

[Why are my PHP files showing as plain text? [duplicate]](https://stackoverflow.com/questions/3555681/why-are-my-php-files-showing-as-plain-text)

I've been writing PHP applications using PHP for a while in WAMP. Now I'm installing PHP and Apache HTTP Server separately on my work PC. I've installed PHP 5, and the latest Apache. I go to localhost and see it works!Now I add a file called test.php which displays:But in the browser it just displays plain text. Is there somewhere I have explicitly tell it to use PHP 5?

2010-08-24 10:56:43Z

I've been writing PHP applications using PHP for a while in WAMP. Now I'm installing PHP and Apache HTTP Server separately on my work PC. I've installed PHP 5, and the latest Apache. I go to localhost and see it works!Now I add a file called test.php which displays:But in the browser it just displays plain text. Is there somewhere I have explicitly tell it to use PHP 5?You'll need to add this to your server configuration:That is assuming you have installed PHP properly, which may not be the case since it doesn't work where it normally would immediately after installing.It is entirely possible that you'll also have to add the php .so/.dll file to your Apache configuration using a LoadModule directive (usually in httpd.conf).You should install the PHP 5 library for Apache.For Debian and Ubuntu:And restart the Apache:You need to configure Apache (the webserver) to process PHP scripts as PHP. Check Apache's configuration. You need to load the module (the path may differ on your system):And you also need to tell Apache what to process with PHP:See the documentation for more details.Yet another reason (not for this case, but maybe it'll save some nerves for someone) is that in PHP 5.5 short open tags <? phpinfo(); ?> are disabled by default.So the PHP interpreter would process code within short tags as plain text. In previous versions PHP this feature was enable by default. So the new behaviour can be a little bit mysterious.You might also, like me, have installed php-cgi prior to installing Apache and when doing so it doesn't set up Apache properly to run PHP, removing PHP entirely and reinstalling seemed to fix my problem.You will need to add handlers in Apache to handle php code.Edit by command sudo vi /etc/httpd/conf/httpd.confAdd these two handlersat position specified belowfor more details on AddType handlershttp://httpd.apache.org/docs/2.2/mod/mod_mime.htmlAre you using the userdir mod?In that case the thing is that PHP5 seems to be disabling running scripts from that location by default and you have to comment out the following lines:in /etc/apache2/mods-enabled/php5.conf (on a ubuntu system)

Running PHP script from the command line

Siddharth

[Running PHP script from the command line](https://stackoverflow.com/questions/10262532/running-php-script-from-the-command-line)

How can I run a PHP script from the command line using the PHP interpreter which is used to parse web scripts?I have a phpinfo.php file which is accessed from the web shows that German is installed. However, if I run the phpinfo.php from the command line using - php phpinfo.php and grep for German, I don't find it. So both phps are different. I need to run a script which the php on which German is installed.How can I do this?

2012-04-21 20:02:32Z

How can I run a PHP script from the command line using the PHP interpreter which is used to parse web scripts?I have a phpinfo.php file which is accessed from the web shows that German is installed. However, if I run the phpinfo.php from the command line using - php phpinfo.php and grep for German, I don't find it. So both phps are different. I need to run a script which the php on which German is installed.How can I do this?After misunderstanding, I finally got what you are trying to do.

You should check your server configuration files; are you using apache2 or some other server software?Look for lines that start with LoadModule php...

There probably are configuration files/directories named mods or something like that, start from there.You could also check output from php -r 'phpinfo();' | grep php and compare lines to phpinfo(); from web server.(so you can paste/write code in the console)To run only small part, one line or like, you can use:If you are running linux then do man php at console.if you need/want to run php through fpm, use cli fcgiwhere /var/run/php-fpm/php-fpm.sock is your php-fpm socket file.On SuSE, there are two different configuration files for PHP: one for Apache, and one for CLI (command line interface).  In the /etc/php5/ directory, you will find an "apache2" directory and a "cli" directory.  Each has a "php.ini" file.  The files are for the same purpose (php configuration), but apply to the two different ways of running PHP.  These files, among other things, load the modules PHP uses.If your OS is similar, then these two files are probably not the same.  Your Apache php.ini is probably loading the gearman module, while the cli php.ini isn't.  When the module was installed (auto or manual), it probably only updated the Apache php.ini file.You could simply copy the Apache php.ini file over into the cli directory to make the CLI environment exactly like the Apache environment.Or, you could find the line that loads the gearman module in the Apache file and copy/paste just it to the CLI file.I was looking for a resolution to this issue in Windows, and it seems to be that if you don't have the environments vars ok, you need to put the complete directory. For eg. with a file in the same directory than PHP:

how to create virtual host on XAMPP

Paras Arora

[how to create virtual host on XAMPP](https://stackoverflow.com/questions/27268205/how-to-create-virtual-host-on-xampp)

I am sure this question is being asked many times but I am not encounter with a problem. I am using XAMPP where I configure Zend framework.XAMPP is running on port 8081 as 80 is being occupied by some Windows process I need to use virtual host for that I configure with following code in C:/xampp/apache/config/extra/httpd-vhosts.config (or C:/xampp/apache/conf/extra/httpd-vhosts.conf in newer releases).and also update the hosts file with 127.0.0.1 comm-app.local and try to re-start apache but it is showing error.

2014-12-03 09:40:10Z

I am sure this question is being asked many times but I am not encounter with a problem. I am using XAMPP where I configure Zend framework.XAMPP is running on port 8081 as 80 is being occupied by some Windows process I need to use virtual host for that I configure with following code in C:/xampp/apache/config/extra/httpd-vhosts.config (or C:/xampp/apache/conf/extra/httpd-vhosts.conf in newer releases).and also update the hosts file with 127.0.0.1 comm-app.local and try to re-start apache but it is showing error.I see two errors:Fixed version:One thing to mention:You can always try and run command:This will tell you when you got a malformed configuration and maybe even can tell you where the problem is.Furthermore it helps avoid unavailability in a LIVE system:will shutdown and then fail to start, this configtest you know beforehand "oops I did something wrong, I should fix this first" but the apache itself is still running with old configuration. :)Step 1) C:\WINDOWS\system32\drivers\etc\

Open the "hosts" file :Step 2) xampp\apache\conf\extra\httpd-vhosts.confStep 3) C:\xampp\apache\conf\httpd.conf. Scroll down to the Supplemental configuration section at the end, and locate the following section (around line 500), Remove the # from the beginning of the second line so the section now looks like this:Step 4) Restart XAMPP

and now run in your browser : Add this Code in C:\xampp\apache\conf\extra\httpd-vhosts.confNow Add your virtual host name in bellow file.127.0.0.1       qa-staging.comIf you are not able to save this code in host file then right click on notpad select Run as administrator and then you can able to save your custom code now restart your XAMPWrite these codes end of the C:\xampp\apache\conf\extra\httpd-vhosts.conf file,between the virtual host tag.and edit the file System32/Drivers/etc/hosts use notepad as administratoradd bottom of the fileJust change the port to 8081 and following virtual host will work:Save the Apache configuration file.for detailed info refer to thisApache Virtual Host documentation Setting up a virtual host (vhost) provides several benefits:Example changes over configuration file - D:\xampp\apache\conf\extra\httpd-vhosts.confUpdate Your Windows Hosts File ¬´ Open your Windows hosts file located in C:\Windows\System32\drivers\etc\hosts.D:\xampp\apache\conf\httpd.conf, [httpd-ssl.conf](http://httpd.apache.org/docs/2.2/mod/mod_ssl.html)@seeI fixed it using following configuration.In Your disk drive:\xampp\apache\conf\extra\httpd-vhosts.conf exists an example and you could edit it with your configuration:It would be like this, as example and don't forget to add VirtualHost for localhost itself to have posibility run phpmyadmin and other project at the same time on the port 80, as example I will show with store.local project:then as mentioned above you must add in:

C:\windows\system32\drivers\hosts to the bottom of the filerestart Apache and try in the browser:maybe at the first time you must to add like this: to use other ports, you must add follows, before your VirtualHost:then just use the port for your VirtualHost like this:then restart Apache and try in the browserand only project for which you add the port will running on this port, for example other projects and phpmyadmin will be still running on port 80I'm a little late to the party, but I wrote this little bash script for Mac that creates a VirtualHost through the terminal: I'm sure there are a few improvements that can be made, and it only has the two required options for the vhost (server name and document root), but it does the job much more quickly and efficiently than opening and editing all the files manually, and also automatically restarts XAMPP afterwards.This assumes that you have the default installation location for XAMPP, which can all be changed.Step 1) Open Host File Under "C:\Windows\System32\drivers\etc"Add Step 2) Open httpd-vhosts.conf File Under "C:\xampp\apache\conf\extra"Add Problem with xampp in my case is when specifying a different folder other than htdocs are used, especially with multiple domains and dedicated folders. This is because httpd-ssl.conf is also referencing <VirtualHost>.To do this rem out the entire <VirtualHost> entry under httpd-ssl.confFrom there, any setting you do in your httpd-vhosts.conf will update as expected both http and https references.I have added below configuration to the httpd.conf and restarted the lampp service and it started working. Thanks to all the above posts, which helped me to resolve issues one by one.Simple,

You can see the below template and use it accordingly. Its very common to create a virtual host and very simple. Surely below template will work. Also for more reference about virtual host please visit this site. 

http://www.thegeekstuff.com/2011/07/apache-virtual-hostThanks,

Composer: file_put_contents(./composer.json): failed to open stream: Permission denied

kramer65

[Composer: file_put_contents(./composer.json): failed to open stream: Permission denied](https://stackoverflow.com/questions/41212362/composer-file-put-contents-composer-json-failed-to-open-stream-permission)

I'm trying to install Prestissimo to an Ubuntu 16.04 server, but that leads to an error:I'm logged in as user kramer65, so I wouldn't know why it can't write to my home folder. My normal reaction to a permission denied is to use sudo, but composer then always says:Any idea how I can solve this?

2016-12-18 20:06:28Z

I'm trying to install Prestissimo to an Ubuntu 16.04 server, but that leads to an error:I'm logged in as user kramer65, so I wouldn't know why it can't write to my home folder. My normal reaction to a permission denied is to use sudo, but composer then always says:Any idea how I can solve this?I had this problem to install laravel/lumen.It can be resolved with the following command:To resolve this, you should open up a terminal window and type this command:sudo chown -R user ~/.composer (with user being your current user, in your case, kramer65)After you have ran this command, you should have permission to run your composer global require command. You may also need to remove the .composer file from the current directory, to do this open up a terminal window and type this command:sudo rm -rf .composerI faced this issue as well but in my case, I was in wrong directory. Check the directory you are workingIn my case, .composer was owned by root, so I did sudo rm -fr .composer and then my global require worked.Be warned! You don't wanna use that command if you are not sure what you are doing.This might be super edge case, but if you are using Travis CI and taking advantage of caching, you might want to clear all cache and retry. Fixed my issue when I was going from sudo to non sudo builds.In my case I don't have issues with ~/.composer.

So being inside Laravel app root folder, I did sudo chown -R $USER composer.lock and it was helpful.

How to use a findBy method with comparative criteria

ElPiter

[How to use a findBy method with comparative criteria](https://stackoverflow.com/questions/14786937/how-to-use-a-findby-method-with-comparative-criteria)

I'd need to use a "magic finder" findBy method using comparative criteria (not only exact criteria). In other words, I need to do something like this:so that I'd get all purchases where the prize is above 200.

2013-02-09 10:01:49Z

I'd need to use a "magic finder" findBy method using comparative criteria (not only exact criteria). In other words, I need to do something like this:so that I'd get all purchases where the prize is above 200.This is an example using the Expr() Class - I needed this too some days ago and it took me some time to find out what is the exact syntax and way of usage:The class Doctrine\ORM\EntityRepository implements Doctrine\Common\Collections\Selectable API. The Selectable interface is very flexible and quite new, but it will allow you to handle comparisons and more complex criteria easily on both repositories and single collections of items, regardless if in ORM or ODM or completely separate problems.This would be a comparison criteria as you just requested as in Doctrine ORM 2.3.2:The major advantage in this API is that you are implementing some sort of strategy pattern here, and it works with repositories, collections, lazy collections and everywhere the Selectable API is implemented.This allows you to get rid of dozens of special methods you wrote for your repositories (like findOneBySomethingWithParticularRule), and instead focus on writing your own criteria classes, each representing one of these particular filters.You have to use either DQL or the QueryBuilder. E.g. in your Purchase-EntityRepository you could do something like this:For even more complex scenarios take a look at the Expr() class.The Symfony documentation now explicitly shows how to do this:From http://symfony.com/doc/2.8/book/doctrine.html#querying-for-objects-with-dqlI like to use such static methods:Of course, you can push logic when it is 1 condition, but when you have more conditions it is better to divide it into fragments, configure and pass it to the method:

Pass variable to php script running from command line

hd.

[Pass variable to php script running from command line](https://stackoverflow.com/questions/6826718/pass-variable-to-php-script-running-from-command-line)

I have a PHP file that is needed to be run from command line (via crontab). I need to pass type=daily to the file but I don't know how. I tried:but this error was returned:What can I do?

2011-07-26 07:33:05Z

I have a PHP file that is needed to be run from command line (via crontab). I need to pass type=daily to the file but I don't know how. I tried:but this error was returned:What can I do?The ?type=daily argument (ending up in the $_GET array) is only valid for web-accessed pages. You'll need to call it like php myfile.php daily and retrieve that argument from the $argv array (which would be $argv[1], since $argv[0] would be myfile.php).If the page is used as a webpage as well, there are two options you could consider. Either accessing it with a shell script and wget and call that from cron:Or check in the php file whether it's called from the commandline or not:(Note: You'll probably need/want to check if $argv actually contains enough variables and such)Just pass it as normal parameters and access it in PHP using the $argv array.and in myfile.phpThese lines will convert the arguments of a CLI call like php myfile.php "type=daily&foo=bar" into the well known $_GET-array:Though it is rather messy to overwrite the global $_GET-array, it converts all your scripts quickly to accept CLI arguments.See http://php.net/manual/en/function.parse-str.php for details.Using getopt() function we can also read parameter from command line just pass  value with php running commandphp abc.php --name=xyzabc.phpparameters send by index like other applicationand then you can gat them  like thisSave this code in file myfile.php and run as php myfile.php type=dailyIf you add var_dump($b); before the ?> tag, you will see that the array $b contains type => daily.I strongly recommend the use of getopt.Documentation at http://php.net/manual/en/function.getopt.phpIf you wanna the help print out for your options than take a look at https://github.com/c9s/GetOptionKit#general-command-interfaceYou could use what sep16 on php.net recommends:It behaves exactly like you'd expect with cgi-php.will set $_GET['type'] to 'daily', $_GET['a'] to '1' and $_GET['b'] to array('2', '3').You can use the next code to work with command line and webbrowser. Put this code above of your php code. It creates a $_GET variable for each command line parameter.In your code you only need to check for $_GET variables then, not worrying about if script is called from webbrowser or command line.This code should not be used. First of all CLI called like: /usr/bin/php phpscript.php will have one argv value which is name of scriptThis one will always execute since will have 1 or 2 args passeJust pass it as parameters as follows:    and inside test.php:There is 4 main alternatives, both have their quirks, Method 4 has many advantages from my view../script is a shell script starting by #!/usr/bin/phpMethod 1: $argv‚ö†Ô∏è Using $argv, the params order is critical. Method 2: getopt()It's hard to use in conjunction of $argv, because: ‚ö†Ô∏è Only 26 params as the alphabet. Method 3: Bash Global variableThose variables can be used by other programs running in the same shell.They are blown when the shell is closed, but not when the php program is terminated. We can set them permanent in ~/.bashrc!Method 4: STDIN pipe and stream_get_contents()Some piping examples:    We can pass very long strings, arrays, json's, a config file containing lines of parameters, this is powerful.It might works similary with fread() or fgets(), by reading the STDIN.Bash-Scripting GuideI put parameters in $_REQUEST and also usable directly use this like that: 

Remove all html tags from php string

jimbeeer

[Remove all html tags from php string](https://stackoverflow.com/questions/14684077/remove-all-html-tags-from-php-string)

I want to display the first 110 characters of a database entry. Pretty easy so far:But the above entry has html code in it that's been entered by the client. So it displays:Obviously no good. I just want to strip out all html code, so I need to remove everything between < and > from the db entry THEN display the first 100 chars.Any ideas anyone?

2013-02-04 09:47:03Z

I want to display the first 110 characters of a database entry. Pretty easy so far:But the above entry has html code in it that's been entered by the client. So it displays:Obviously no good. I just want to strip out all html code, so I need to remove everything between < and > from the db entry THEN display the first 100 chars.Any ideas anyone?use strip_tagsUse PHP's strip_tags() function.For example:Let say you have string contains anchor tag and you want to remove this tag with content then this method will helpful.Output:use this regex: /<[^<]+?>/gfrom your example should stay: Ref no: 30001For my this is best solution.Just in case, fgetss() read file in a line removing/stripping all html and php tags.In laravel you can use following syntax

Symfony2 - Validation not working for embedded Form Type

Mr Pablo

[Symfony2 - Validation not working for embedded Form Type](https://stackoverflow.com/questions/10138505/symfony2-validation-not-working-for-embedded-form-type)

I have a form that combines two entities (User and Profile).Validation seems to work on the first part of the form that comes form the User Entity and is the basis of the form.The ProfileType is included inside the UserType. The form renders correctly and displays the correct information, so it seems it is properly connected to the Profile entity. It's just the validation that is broken on the ProfileType.Any idea as to why one part would validate and the other wouldn't?Code below:Validation.ymlUserType.phpProfileType.phpController

2012-04-13 09:37:58Z

I have a form that combines two entities (User and Profile).Validation seems to work on the first part of the form that comes form the User Entity and is the basis of the form.The ProfileType is included inside the UserType. The form renders correctly and displays the correct information, so it seems it is properly connected to the Profile entity. It's just the validation that is broken on the ProfileType.Any idea as to why one part would validate and the other wouldn't?Code below:Validation.ymlUserType.phpProfileType.phpControllerI spent an age searching and found that it was adding 'cascade_validation' => true to the setDefaults() array in my parent type's class that fixed it (as mentioned already in the thread). This causes the entity constraint validation to trigger in the child types shown in the form. e.g.For collections, also make sure to add 'cascade_validation' => true to the $options array for the collection field on the form. e.g.This will have the UniqueEntity validation take place as it should in the child entity used in the collection.A note to those using Symfony 3.0 and up: the cascade_validation option has been removed. Instead, use the following for embedded forms:Sorry for adding to this old thread with a slightly off-topic answer (Symfony 3 vs. 2), but finding this information here would have saved me a few hours today.According to form type documentation you can also use Valid constraint instead of cascade_validation option.Example from the owner entity:are you using YML or Annotations?I tried applying the cascade_validation option on my parent form class, but validation was still not occurring. After reading a little documentation, I went to app/config/config.yml and found that enable_annotations under framework->validation was set to true. Apparently, if this is true, the validation service no loner reads any validation.yml files. So I just changed it to false, and now the form is validating fine.Belongs to Symfony 2.3Working with embedded forms and validation groups could be quite painful: Annotation @Assert\Valid() doesen't work for me (without groups it is ok). Insert 'cascade_validation' => true on the DefaultOptions is the key. You do not need to repeat this on the ->add(). Take care: HTML 5 validation do not work together with validation groups.Example:A Collection of 2 Addresses. Both 1:1 unidirectional. Each with a different (!) validation group.Address EntityAddress type - ability to change validation groupAnd last the CollectionType Hope it helps..You have to add validation_groups in your ProfiletType also. Validation is done in each form type separately based on their data_class if exists.I was looking for the exact same thing and here is what I foundhttp://symfony.com/doc/master/book/forms.html#forms-embedding-single-objectYou need to tell the main entity to validate it's sub entities like so:I've tested this on symfony 2.8 and it works.From my controller:     Fourth parametr in ::createNamedBuilder - array('cascade_validation' => true))

Is it possible to have an interface that has private / protected methods?

teepusink

[Is it possible to have an interface that has private / protected methods?](https://stackoverflow.com/questions/1876516/is-it-possible-to-have-an-interface-that-has-private-protected-methods)

Is it possible in PHP 5 to have an interface that has private / protected methods?Right now I have:That throws an error:I just want to have confirmation that it is the case that an interface can only contain public methods.

2009-12-09 20:09:48Z

Is it possible in PHP 5 to have an interface that has private / protected methods?Right now I have:That throws an error:I just want to have confirmation that it is the case that an interface can only contain public methods.The PHP manual page about interfaces explicitly states:I guess this explains the error you are getting ;-)Interfaces are used to describe public methods of a class implementing that interface. You can never have a private method in an interface. Any methods in an interface are assumed to be in use and should not be changed.Interfaces is the PHP link, but this is standard in OO programming.In general an interface can only have public members, because the only function of an interface is to be inherited.From PHPfreaks.com tutorial:interfaces are type declarations.  a type is set of values, plus a set of operations that can be carried upon them from outside.  a private method doesn't fit into this picture.interfaces are useful because they state, well, objects' interfaces.  how the objects communicate with their environment.now let's say T::f could be declared private.  how would that be useful to other objects?  it would not callable from outside, it would not be part of its interface.In many cases, an interface definition helps other modules guarantee the behavior and the API of a class. In those cases, private methods are not something the other modules can access or understand. That's why you can never put private methods on an interface. 

is there something like isset of php in javascript/jQuery? [duplicate]

gautamlakum

[is there something like isset of php in javascript/jQuery? [duplicate]](https://stackoverflow.com/questions/4231789/is-there-something-like-isset-of-php-in-javascript-jquery)

Is there something in javascript/jQuery to check whether variable is set/available or not? In php, we use isset($variable) to check something like this.thanks.

2010-11-20 08:01:39Z

Is there something in javascript/jQuery to check whether variable is set/available or not? In php, we use isset($variable) to check something like this.thanks.Try this expression:This will be true if the variable is defined and not null, which is the equivalent of how PHP's isset works.You can use it like this:JavaScript isset() on PHP JStypeof will serve the purpose I thinkIf you want to check if a property exists: hasOwnProperty is the way to goAnd since most objects are properties of some other object (eventually leading to the window object) this can work well for checking if values have been declared.Some parts of each of these answers work. I compiled them all down into a function "isset" just like the question was asking and works like it does in PHP.Here is a usage example of how to use it:It depends on the situation you need it for but let me break down what each part does:Hope this helps someone :)Not naturally, no... However, a googling of the thing gave this: http://phpjs.org/functions/isset:454http://phpjs.org/functions/isset:454phpjs project is a trusted source. Lots of js equivalent php functions available there. I have been using since a long time and found no issues so far.The problem is that passing an undefined variable to a function causes an error.This means you have to run typeof before passing it as an argument.The cleanest way I found to do this is like so:Usage:Now the code is much more compact and readable.This will still give an error if you try to call a variable from a non instantiated variable like:thus before trying to run this you need to make sure the object is defined:Here :)in addition to @emil-vikstr√∂m's answer, checking for variable!=null would be true for variable!==null as well as for variable!==undefined (or typeof(variable)!="undefined").You can just:

PHP warning: Call-time pass-by-reference has been deprecated

yohannan_sobin

[PHP warning: Call-time pass-by-reference has been deprecated](https://stackoverflow.com/questions/4665782/php-warning-call-time-pass-by-reference-has-been-deprecated)

I am getting the warning: Call-time pass-by-reference has been deprecated for the following lines of code:What does it cause and how to fix it?

2011-01-12 05:59:10Z

I am getting the warning: Call-time pass-by-reference has been deprecated for the following lines of code:What does it cause and how to fix it?Remove & from &$this everywhere, it is not needed. In fact, I think you can remove & everywhere in this code - it is not needed at all. Long explanationPHP allows to pass variables in two ways: "by value" and "by reference". First way ("by value"), you can't modify them, other second way ("by reference") you can:Note the & sign. If I call modified on a variable, it will be modified, if I call not_modified, after it returns the value of the argument will be the same. Older version of PHP allowed to simulate behavior of modified with not_modified by doing this: not_modified(&$x). This is "call-time pass by reference". It is deprecated and should never be used.Additionally, in very ancient PHP versions (read: PHP 4 and before), if you modify objects, you should pass it by reference, thus the use of &$this. This is neither necessary nor recommended anymore, as object are always modified when passed to function, i.e. this works:This would modify $obj->x even though it formally is passed "by value", but what is passed is object handle (like in Java, etc.) and not the copy of the object, as it was in PHP 4. This means, unless you're doing something weird, you almost never need to pass object (and thus $this by reference, be it call-time or otherwise). In particular, your code doesn't need it. Just in case you're wondering, a call-time pass by reference is a deprecated PHP feature that promotes PHP loose typing. Basically, it allows you to pass a reference (sort of like a C pointer) to a function that has not specifically asked for one. It's PHP's solution to the square peg in a round hole problem.

In you case, never reference $this. Outside of a class, a reference to its $this will not allow you to access it's private methods and fields.Example:

Is native PHP support for Web Sockets available?

leggetter

[Is native PHP support for Web Sockets available?](https://stackoverflow.com/questions/12203443/is-native-php-support-for-web-sockets-available)

Looking for Hello World Type Example of Web Sockets Implementation:Here is Socket Create reference from php.net but this looks more low level than Web Sockets.I want to use this Web Sockets as shown here on caniuse.com which is now implemented in all new major browsers.A Google search turned up this Nets.TutsPlus site in which I can use the JavaScript example code...but I need to know how to implement the server-side in PHP not Java, Ruby, or Node.js as in the example.Is PHP Socket Create relevant?  Does PHP natively support Web Sockets?  I guess just a point in the right direction for PHP implementation would help.Actually the tutorial has a broken link to phpwebsockets...is this the library one should use?Websockets.org has a test application, but no mention of PHP.

2012-08-30 18:44:16Z

Looking for Hello World Type Example of Web Sockets Implementation:Here is Socket Create reference from php.net but this looks more low level than Web Sockets.I want to use this Web Sockets as shown here on caniuse.com which is now implemented in all new major browsers.A Google search turned up this Nets.TutsPlus site in which I can use the JavaScript example code...but I need to know how to implement the server-side in PHP not Java, Ruby, or Node.js as in the example.Is PHP Socket Create relevant?  Does PHP natively support Web Sockets?  I guess just a point in the right direction for PHP implementation would help.Actually the tutorial has a broken link to phpwebsockets...is this the library one should use?Websockets.org has a test application, but no mention of PHP.There isn't native support in terms of there being a standard PHP WebSocket object natively available.You'll need to use a library.The next thing to consider is how the WebSocket server runs. Normally PHP runs in Apache, Nginx (via FastCGI) or on Microsoft IIS (via Fast CGI). With Apache and IIS this may be a problem as it's not really built with persistent connections such as WebSockets in mind. I'm not sure about Nginx. This is why most PHP WebSocket libraries will be built as standalone libraries to be run as their own processes.See:Note: IE10 is now released in Windows 8Also see: Ajax push system

Does PHP have an equivalent to Python's list comprehension syntax?

Darren Newton

[Does PHP have an equivalent to Python's list comprehension syntax?](https://stackoverflow.com/questions/1266911/does-php-have-an-equivalent-to-pythons-list-comprehension-syntax)

Python has syntactically sweet list comprehensions:In PHP I would need to do some looping:to get:Array

(

    [0] => 0

    [1] => 1

    [2] => 4

    [3] => 9

    [4] => 16

    [5] => 25

    [6] => 36

    [7] => 49

    [8] => 64

    [9] => 81

)Is there anyway to get a similar list comprehension syntax in PHP? Is there anyway to do it with any of the new features in PHP 5.3?Thanks!

2009-08-12 15:26:07Z

Python has syntactically sweet list comprehensions:In PHP I would need to do some looping:to get:Array

(

    [0] => 0

    [1] => 1

    [2] => 4

    [3] => 9

    [4] => 16

    [5] => 25

    [6] => 36

    [7] => 49

    [8] => 64

    [9] => 81

)Is there anyway to get a similar list comprehension syntax in PHP? Is there anyway to do it with any of the new features in PHP 5.3?Thanks!Maybe something like this?This will work in PHP 5.3+, in an older version you'd have to define the callback for array_map separatelyPHP 5.5 may support list comprehensions - see the mailing list announcement:And further discussion:not out of the box, but take a look at:

http://code.google.com/p/php-lc/ or http://code.google.com/p/phparrayplus/In .NET, the equivalent of Python's "syntactically sweet list comprehensions" is LINQ. And in PHP, there're several ports of it, including YaLinqo library*. Syntactically, it's closer to SQL rather than a sequence of traditional constructs with for and if, but functionally, it's similar:This produces an iterator which can either be output to console:or iterated over using foreach:Here, '$v * $v' is a shortcut for function ($v) { return $v * $v; } which this library supports. Unfortunately, PHP doesn't support short syntax for closures, but such "string lambdas" can be used to make the code shorter.There're many more methods, starting with where (if equivalent) and ending with groupJoin which performs joining transformation with grouping.* developed by me

Passing a variable from one php include file to another: global vs. not

maxedison

[Passing a variable from one php include file to another: global vs. not](https://stackoverflow.com/questions/4675932/passing-a-variable-from-one-php-include-file-to-another-global-vs-not)

I'm trying to pass a variable from one include file to another. This is NOT working unless I declare the variable as global in the second include file. However, I do NOT need to declare it as global in the file that is calling the first include. For example:front.inc:index.php:output: jamesend.inc:output: nothingIF I declare global $name prior to echoing $name in end.inc, then it works properly. The accepted answer to this post explains that this depends on your server configuration: Passing variables in PHP from one file to anotherI'm using an Apache server. How would I configure it so that declaring $name to be global is not necessary? Are there advantages/disadvantages to one vs. the other?

2011-01-13 01:29:40Z

I'm trying to pass a variable from one include file to another. This is NOT working unless I declare the variable as global in the second include file. However, I do NOT need to declare it as global in the file that is calling the first include. For example:front.inc:index.php:output: jamesend.inc:output: nothingIF I declare global $name prior to echoing $name in end.inc, then it works properly. The accepted answer to this post explains that this depends on your server configuration: Passing variables in PHP from one file to anotherI'm using an Apache server. How would I configure it so that declaring $name to be global is not necessary? Are there advantages/disadvantages to one vs. the other?When including files in PHP, it acts like the code exists within the file they are being included from. Imagine copy and pasting the code from within each of your included files directly into your index.php. That is how PHP works with includes.So, in your example, since you've set a variable called $name in your front.inc file, and then included both front.inc and end.inc in your index.php, you will be able to echo the variable $name anywhere after the include of front.inc within your index.php. Again, PHP processes your index.php as if the code from the two files you are including are part of the file.When you place an echo within an included file, to a variable that is not defined within itself, you're not going to get a result because it is treated separately then any other included file.In other words, to do the behavior you're expecting, you will need to define it as a global.Here is a pitfall to avoid. In case you need to access your variable $name within a function, you need to say "global $name;" at the beginning of that function. You need to repeat this for each function in the same file.will only show errors. The correct way to do that would be:This is all you have to do:In front.inc

When do I use static variables/functions in php?

e-satis

[When do I use static variables/functions in php?](https://stackoverflow.com/questions/1257371/when-do-i-use-static-variables-functions-in-php)

I am refreshing myself on OOP with PHP and I saw an example of setting functions and/or variables as static.  When and why would I set a variable/function to static?  I've done other languages and don't really recall ever using static, I never found a real purpose to it. I know what it does but why not just use a variable instead?

2009-08-10 21:41:39Z

I am refreshing myself on OOP with PHP and I saw an example of setting functions and/or variables as static.  When and why would I set a variable/function to static?  I've done other languages and don't really recall ever using static, I never found a real purpose to it. I know what it does but why not just use a variable instead?You use static when you want to use a method / variable that is not tied to an instance. That can happen when :The perfect example is a String parser :Static functions and variable are used to access Variables/functions in a global scope, like this:When something is static, it can be accessed anywhere, and is very similar to a procedural type function, except it can use self and is contained in the classes scope.One of the ways to use this is to keep only one instance of a class, or a Singleton Method.Because it has a private constructor, it cannot be instantiated with the new operator, so you are forced to call myClass::get_connection() to get a class. That function can make the new class (because it is a member of the class). Then it stores the class in a static variable, and if you call the function again, it will simply returned the created class.In the end, the static keyword is used to keep things, well, static, in reference to scope. It means you don't want anything 'changing' because of the current scope. While the Singleton method stretches this a little, it keeps with the same idea that you always have the 'same' class, not matter what scope you are in.PHP Documentation

Static Keyword

Scope Resolution Operator  StackOverflow Knowledge

How to Avoid Using PHP Global Objects

Share Variables Between Functions in PHP Without Using Globals

Making a Global Variable Accessible For Every Function inside a Class

Global or Singleton for Database Connection

PHP Classes: when to use :: vs. -> ?Also it is very usefull for caching if a method will be called very often and do just the same thing, for example:This method will be called within my framework very often and there it will do for every call a database lookup for my configuration $_SERVER keySo while the page is processed i call maybe 10 times in one page load it will have 10 database calls but i changed it to:So it just check for every page load one time the normal behaviour if i logged in and cache the result. next time it will just return the cached value.

This feature i use very often to have more performance.Hope this helps.Here's a random, though fairly good description of the differences between static and instance methods.From the post:Generally using static function you can optimize the speed as well as memory  and the scope of method should not be  changed its should be  static in nature and  you can access the objects static properties ,methods without initiating them so saves the memory in mean time.Static elements have a number of characteristics that can be useful. Visit: http://verraes.net/2014/06/when-to-use-static-methods-in-php/If you want to share data with all instances, like counter for number of instances created on current execution .

Allow php sessions to carry over to subdomains

Anthony

[Allow php sessions to carry over to subdomains](https://stackoverflow.com/questions/644920/allow-php-sessions-to-carry-over-to-subdomains)

I use php sessions (not cookies, except for session id cookie) for all user data, and when a user goes to their profile user.mydomain.com they are immediately "logged out" untill then remove the subdomain.Is there a way to accept sessions from all domains as long as its *.mydomain.com

2009-03-13 23:00:00Z

I use php sessions (not cookies, except for session id cookie) for all user data, and when a user goes to their profile user.mydomain.com they are immediately "logged out" untill then remove the subdomain.Is there a way to accept sessions from all domains as long as its *.mydomain.comHere are 4 options.Place this in your php.ini:Or in your .htaccess:Or as the first thing in your script:Or in your php-fpm pool configuration for your site:security be damned, if you are as frustrated with incomplete or bad answers as I am, this is your savior.  It just works.change the session name at the top of the core functions file

likethen use the following code into the php pagefinally change the default session name of the subdomain and remove the default cookie in subdomain's core functions file

like:if you continue with using your cookie name as PHPSESSID ,just remove all the functions with then check your browser's existing cookies, just remove all the cookies of domain and subdomain, and repeat the process.I know this is quite old - but to further expand on @CTT's suggestion - I needed to add a php.ini file in each sub-directory (that will be executing php code and requires the session) of my subdomain with the following text:I hope this helps (it took me ages to figure this out).Another option that worked for me: is to force the name of the session: yes. ini_set is working. but remember to destroy all caches and cookies of the browser to see it works.I just had this problem and it turns out I was using different php.ini files for two different sub-domains. These ini files specified different session.save_path variables. For obvious reasons this needs to be the same for all sub-domains that need to share sessions.Try This:logged the user. When user will switch to other subdomain sent the session id in the URL like this user.mydomain.com/?id=$sessionIdNow the user will get all the session values and stay logged in.This is a good solution, but you cannot use it in all situations. For examples it will not work when you cannot rely on not-session cookies.This actually MUST work if you use it correctly.For example you need to put it before session_start() and also in all files that call session_start()

managing curl output in php

mrpatg

[managing curl output in php](https://stackoverflow.com/questions/1234537/managing-curl-output-in-php)

How do I hide the output from curl in PHP?My code as it stands is the following:The problem is that is spews out the entire page, how can I simply show a "success" or "failed" message?

2009-08-05 17:08:05Z

How do I hide the output from curl in PHP?My code as it stands is the following:The problem is that is spews out the entire page, how can I simply show a "success" or "failed" message?Use this option to curl_setopt():This will make curl_exec return the data instead of outputting it.To see if it was successful you can then check $result and also curl_error().Also make sure to turn off this option:Or else it will still print everything to screen.

Eloquent ORM laravel 5 Get Array of ids

paranoid

[Eloquent ORM laravel 5 Get Array of ids](https://stackoverflow.com/questions/34308169/eloquent-orm-laravel-5-get-array-of-ids)

I'm using Eloquent ORM laravel 5.1, i want to return an array of ids greater than 0, My model called test.I have tried :It return :But i want result to be in simple array like :

2015-12-16 09:24:41Z

I'm using Eloquent ORM laravel 5.1, i want to return an array of ids greater than 0, My model called test.I have tried :It return :But i want result to be in simple array like :You could use lists() : NOTE : Better if you define your models in Studly Case format, e.g Test.You could also use get() :UPDATE: (For versions >= 5.2)The lists() method was deprecated in the new versions >= 5.2, now you could use pluck() method instead :NOTE:

If you need a string, for example in a blade, you can use function without the toArray() part, like:From a Collection, another way you could do it would be:This will return an indexed array, perfectly usable by laravel in a whereIn() query, for instance.read about the lists() methodThe correct answer to that is the method lists, it's very simple like this:Regards!You can use all() method instead of toArray() method (see more: laravel documentation):If you need a string, you can use without toArray() attachment:Just an extra info, if you are using DB:And if using Eloquent model:Although you have marked the Answer, This is a much simpler approachYou may also use all() method to get array of selected attributes.Regards

Laravel - Return json along with http status code

Galivan

[Laravel - Return json along with http status code](https://stackoverflow.com/questions/31131159/laravel-return-json-along-with-http-status-code)

If I return an object:the status code will be 200. How can I change it to 201, with a message and send it with the json object?.I don't know if there is a way to just set the status code in Laravel.

2015-06-30 06:30:53Z

If I return an object:the status code will be 200. How can I change it to 201, with a message and send it with the json object?.I don't know if there is a way to just set the status code in Laravel.You can use http_response_code() to set HTTP response code.For Laravel(Reference from: https://stackoverflow.com/a/14717895/2025923):This is how I do it in Laravel 5Or using a helper function:I think it is better practice to keep your response under single control and for this reason I found out the most official solution.add this after namespace declaration:There are multiple ways where STATUS_CODE is your HTTP status code you want to send. Both are identical. if you are using Eloquent model, then simple return will also be auto converted in JSON  by default like,Hope my answer was helpful.I prefer the response helper myself:It's better to do it with helper functions rather than Facades. This solution will work well from Laravel 5.7 onwards

How do I print all POST results when a form is submitted? [duplicate]

Zoolander

[How do I print all POST results when a form is submitted? [duplicate]](https://stackoverflow.com/questions/9332718/how-do-i-print-all-post-results-when-a-form-is-submitted)

I need to see all of the POST results that are submitted to the server for testing.What would be an example of how I can create a new file to submit to that will echo out all of the fields which were submitted with that form?It's dynamic, so some fields may have a name/ID of field1, field2, field3, etc.

2012-02-17 17:25:09Z

I need to see all of the POST results that are submitted to the server for testing.What would be an example of how I can create a new file to submit to that will echo out all of the fields which were submitted with that form?It's dynamic, so some fields may have a name/ID of field1, field2, field3, etc.All the values are stored in the $_POST collectionor if you want something fancier that is easier to read use a foreach loop to loop through the $_POST collection and print the values.You could try var_dump:Simply:You could use something as simple as thisThis would make it a bit more viewable:You may mean something like this:You can definitely use var_dump, but you mentioned you are in front-end development. I am sure you would know this, but just as a reminder, use Firefox's Firebug or Chrome's / Internet¬†Explorer's developers tool and check for the post. Post goes through hearders, and you should be able to check it from there too.Bonus: Check debug_backtrace() too add tracing to your debugging.

How to convert MySQL time to UNIX timestamp using PHP?

daGrevis

[How to convert MySQL time to UNIX timestamp using PHP?](https://stackoverflow.com/questions/4577794/how-to-convert-mysql-time-to-unix-timestamp-using-php)

There are a lot of questions that ask about 'UNIX timestamp to MySQL time'. I needed the reversed way, yea... Any idea?

2011-01-02 09:10:04Z

There are a lot of questions that ask about 'UNIX timestamp to MySQL time'. I needed the reversed way, yea... Any idea?Use strtotime(..): Also check this out (to do it in MySQL way.)http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_unix-timestampYou can mysql's UNIX_TIMESTAMP function directly from your query, here is an example:Similarly, you can pass in the date/datetime field:From one of my other posts, getting a unixtimestamp:Converting to mysql datetime format:Getting some mysql timestamp:Converting it to a unixtimestamp:...comparing it with one or a range of times, to see if the user entered a realistic time:Unix timestamps are safer too. You can do the following to check if a url passed variable is valid, before checking (for example) the previous range check:Instead of strtotime you should use DateTime with PHP. You can also regard the timezone this way:$mysqltime is of type MySQL Datetime, e. g. 2018-02-26 07:53:00.Slightly abbreviated could be...

PDO binding values for MySQL IN statement [duplicate]

hd82

[PDO binding values for MySQL IN statement [duplicate]](https://stackoverflow.com/questions/1586587/pdo-binding-values-for-mysql-in-statement)

I have an issue with PDO that I'd really like to get an answer for after being plagued by it for quite some time.Take this example:I am binding an array of ID's to a PDO statement for use in a MySQL IN statement.The array would be say: $values = array(1,2,3,4,5,6,7,8);The database-safe variable would be $products = implode(',' $values);So, $products would then be a STRING with a value of: '1,2,3,4,5,6,7,8'The statement would look like:Of course, $products would be bound to the statement as :products.However, when the statement is compiled and values bound, it would actually look like this:The problem is it is executing everything inside of the IN statement as a single string, given that I've prepared it as comma-separated values to bind to the statement.What I actually need is:The only way I can actually do this is by placing the values within the string itself without binding them, however I know for certain there has to be an easier way to do this.

2009-10-19 01:29:40Z

I have an issue with PDO that I'd really like to get an answer for after being plagued by it for quite some time.Take this example:I am binding an array of ID's to a PDO statement for use in a MySQL IN statement.The array would be say: $values = array(1,2,3,4,5,6,7,8);The database-safe variable would be $products = implode(',' $values);So, $products would then be a STRING with a value of: '1,2,3,4,5,6,7,8'The statement would look like:Of course, $products would be bound to the statement as :products.However, when the statement is compiled and values bound, it would actually look like this:The problem is it is executing everything inside of the IN statement as a single string, given that I've prepared it as comma-separated values to bind to the statement.What I actually need is:The only way I can actually do this is by placing the values within the string itself without binding them, however I know for certain there has to be an easier way to do this.This is the same thing as was asked in this question:  Can I bind an array to an IN() condition?The answer there was that, for a variable sized list in the in clause, you'll need to construct the query yourself.However, you can use the quoted, comma-separated list using find_in_set, though for large data sets, this would have considerable performance impact, since every value in the table has to be cast to a char type.For example:Or, as a third option, you could create a user defined function that splits the comma-separated list for you (cf. http://www.slickdev.com/2008/09/15/mysql-query-real-values-from-delimiter-separated-string-ids/).  This is probably the best option of the three, especially if you have a lot of queries that rely on in(...) clauses.A good way to handle this situation is to use str_pad to place a ? for every value in the SQL query. Then you can pass the array of values (in your case $values) as the argument to execute:This way you get more benefit from using prepared statements rather than inserting the values directly into the SQL.PS - The results will return duplicate user ids if the products with the given ids share user ids. If you only want unique user ids I suggest changing the first line of the query to SELECT DISTINCT users.idThe best prepared statement you could probably come up with in a situation like this is something resembling the following:You would then loop through your values and bind them to the prepared statement making sure that there are the same number of question marks as values you are binding.you need to provide same number of ?s in IN as the number of values in your $values array this can be done easily by creating an array of ?s as and use this $in array in your IN clause THis will dynamically provide you with tailor made array of ?s as per your changiing $values arrayYou can do so very easily.

If you have an array of values for your IN() statement

EG:You can simply doIf the expression is based on user input without binding the values with bindValue(), experimental SQL might not be a great choice. But, you can make it safe by checking the syntax of the input with MySQL's REGEXP.For example:Here is an example of binding an unknown number of record columns to values for an insert.Please try like this:Regards

When setting environment variables in Apache RewriteRule directives, what causes the variable name to be prefixed with„ÄåREDIRECT_„Äç?

trowel

[When setting environment variables in Apache RewriteRule directives, what causes the variable name to be prefixed with„ÄåREDIRECT_„Äç?](https://stackoverflow.com/questions/3050444/when-setting-environment-variables-in-apache-rewriterule-directives-what-causes)

I am trying to set Apache environment variables (for use in PHP) with the [E=VAR:VAL] flag on RewriteRule rules in an .htaccess file.I have already discovered the variables are accessed in PHP as server variables $_SERVER rather than $_ENV (which makes a certain amount of sense). However, my problem is for some rules the [E=VAR:VAL] flag works as expected and I end up with a variable $_SERVER['VAR'] but for other rules I end with a variable $_SERVER['REDIRECT_VAR'] or $_SERVER['REDIRECT_REDIRECT_VAR'], etcA. What causes an environment variable set in Apache using the [E=VAR:VAL] flag to get renamed by having "REDIRECT_" prepended to the variable name?B. What can I do to make sure I end up with an Environment Variable with an unchanged name so I can access it in PHP as $_SERVER['VAR'] without having to resort to checking for variations of the variable name having one of more instances of "REDIRECT_" prepended to it?Partial solution found. Adding the following to the start of the rewrite rules recreates the original ENV:VAR on each redirect (as well as leaving the REDIRECT_VAR versions there) if they're needed:

2010-06-16 02:58:29Z

I am trying to set Apache environment variables (for use in PHP) with the [E=VAR:VAL] flag on RewriteRule rules in an .htaccess file.I have already discovered the variables are accessed in PHP as server variables $_SERVER rather than $_ENV (which makes a certain amount of sense). However, my problem is for some rules the [E=VAR:VAL] flag works as expected and I end up with a variable $_SERVER['VAR'] but for other rules I end with a variable $_SERVER['REDIRECT_VAR'] or $_SERVER['REDIRECT_REDIRECT_VAR'], etcA. What causes an environment variable set in Apache using the [E=VAR:VAL] flag to get renamed by having "REDIRECT_" prepended to the variable name?B. What can I do to make sure I end up with an Environment Variable with an unchanged name so I can access it in PHP as $_SERVER['VAR'] without having to resort to checking for variations of the variable name having one of more instances of "REDIRECT_" prepended to it?Partial solution found. Adding the following to the start of the rewrite rules recreates the original ENV:VAR on each redirect (as well as leaving the REDIRECT_VAR versions there) if they're needed:This behavior is unfortunate and doesn't even appear to be documented.Here's what appears to happen in .htaccess per-directory (per-dir) context:Assume that Apache processes an .htaccess file that includes rewrite directives.When I originally ran into this issue, I was doing something like the following in .htaccess (simplified):If I were to set the environment variable in the first RewriteRule, Apache would restart the rewriting process and prepend the variable with REDIRECT_ (steps #4 & 5 above), thus I'd lose access to it via the name I assigned.In this case, the first RewriteRule changes the URL, so after both RewriteRules are processed, Apache restarts the procedure and processes the .htaccess again.  The second time, the first RewriteRule is skipped because of the RewriteCond directive, but the second RewriteRule matches, sets the environment variable (again), and, importantly, doesn't change the URL.  So the request / rewriting process does not start over, and the variable name I chose sticks.  In this case I actually have both REDIRECT_EFFECTIVE_DOCUMENT_ROOT and EFFECTIVE_DOCUMENT_ROOT.  If I were to use an L flag on the first RewriteRule, I'd only have EFFECTIVE_DOCUMENT_ROOT.@trowel's partial solution works similarly: the rewrite directives are processed again, the renamed variable is assigned to the original name again, and if the URL does not change, the process is over and the assigned variable name sticks.Both of those techniques suffer from a major flaw: when the rewrite rules in the .htaccess file where you set environment variables rewrite the URL to a more deeply nested directory that has an .htaccess file that does any rewriting, your assigned variable name is wiped out again.Say you have a directory layout like this:And a docroot/.htaccess like this:So you request /A.php, and it's rewritten to sub/B.php.  You still have your MAJOR variable.However, if you have any rewrite directives in docroot/sub/.htaccess (even just RewriteEngine Off or RewriteEngine On), your MAJOR variable disappears.  That's because once the URL is rewritten to sub/B.php, docroot/sub/.htaccess is processed, and if it contains any rewrite directives, rewrite directives in docroot/.htaccess are not processed again.  If you had a REDIRECT_MAJOR after docroot/.htaccess was processed (e.g. if you omit the L flag from the first RewriteRule), you'll still have it, but those directives won't run again to set your chosen variable name.So, say you want to:A possible solution is to use RewriteOptions inherit directives in the more deeply nested .htaccess files.  That allows you to re-run the rewrite directives in less deeply nested files and use the techniques outlined above to set the variables with the chosen names.  However, note that this increases complexity because you have to be more careful crafting the rewrite directives in the less deeply nested files so that they don't cause problems when run again from the more deeply nested directories.  I believe Apache strips the per-dir prefix for the more deeply nested directory and runs the rewrite directives in the less deeply nested files on that value.As far as I can see, support for using a construct like %{ENV:REDIRECT_VAR} in the value component of a RewriteRule E flag (e.g. [E=VAR:%{ENV:REDIRECT_VAR}]) does not appear to be documented:It does appear to work, but if you want to avoid relying on something undocumented (please correct me if I'm wrong about that), it can easily be done this way instead:I don't recommend relying on this, because it doesn't seem to be consistent with the documented behavior (see below), but this (in docroot/.htaccess, with Apache 2.2.20) works for me:I don't know what the rationale for prefixing these names with REDIRECT_ is -- not surprising, since it doesn't appear to be mentioned in the Apache documentation sections for mod_rewrite directives, RewriteRule flags, or environment variables.At the moment it seems like a big nuisance to me, in the absence of an explanation for why it's better than leaving the assigned names alone.  The lack of documentation only contributes to my skepticism about it.Being able to assign environment variables in rewrite rules is useful, or at least, it would be.  But the usefulness is greatly diminished by this name-changing behavior.  The complexity of this post illustrates how nuts this behavior and the hoops that have to be jumped through to try to overcome it are.I haven't tested this at all and I know it doesn't address points A or B, but there is some description of this issue in the comments in PHP documentation and some possible solutions for accessing these variables using $_SERVER['VAR']:http://www.php.net/manual/en/reserved.variables.php#79811EDIT - some more responses to the question offered:A: The environment variables are renamed by Apache if they are involved in a redirect.  For example, if you have the following rule:Then you may access VAR1 and VAR2 using $_SERVER['VAR1'] and $_SERVER['VAR2'].  However, if you redirect the page like so:Then you must use $_SERVER['REDIRECT_VAR1'], etc.B: The best way to overcome this issue is to process the variables that you're interested in using PHP.  Create a function that runs through the $_SERVER array and finds the items that you need.  You might even use a function like this:As I don't want to change any of my code (nor can I change code of the libraries used), I went with the following approach: whilst bootstrapping my application ‚Äì e.g. in my index.php ‚Äì I rework the $_ENV superglobal so that variables prefixed with REDIRECT_ are rewritten to their normal intended name:Not only do we directly set it in $_ENV, but we also store it using putenv(). This way existing code and libraries ‚Äì which might use getenv() ‚Äì can work fine.On a sidenote: if you're extracting headers ‚Äì like HTTP_AUTHORIZATION ‚Äì in your code, you need to do the same kind of manipulation on $_SERVER:

What is the difference between local value and master value

Liauchuk Ivan

[What is the difference between local value and master value](https://stackoverflow.com/questions/19520744/what-is-the-difference-between-local-value-and-master-value)

When I display phpinfo(); i see two columns:  local value and master value. When the web-server will choose local value and when it will choose master value?

2013-10-22 14:31:14Z

When I display phpinfo(); i see two columns:  local value and master value. When the web-server will choose local value and when it will choose master value?master is either the value compiled into PHP, or set via a main php.ini directive. e.g. The value that's in effect when PHP fires up, before it executes any of your code.local is the value that's currently in effect at the moment you call phpinfo(). This local value is the END result of any overrides that have taken place via ini_set() calls, php_value directives in httpd.conf/.htaccess, etc...e.g.Given that, the master value is qux, and the local value is kittens."Master Value" (from php.ini) could be overridden with "Local Value" in httpd.conf, .htaccess or other Apache configuration with php_value directive.The first is the local value, the second is the global value. The local value overrides the global value and is set within PHP, HTACCESS, etc. whereas the global value is set within php.ini. To answer your question, the first value is used.hosted website will check local values in .htaccess or .user.ini first 

(These files are in your local website folder also can say local level configuration files).Local values overrides Master values, so php will check the local values first.master value set in php.ini (main php configuration file) 

run following commands in terminal to find the correct pathor so even if we set master values in php.ini, 

we also need to check local values .htaccess or .user.ini

How to replace Microsoft-encoded quotes in PHP

Misha M

[How to replace Microsoft-encoded quotes in PHP](https://stackoverflow.com/questions/1262038/how-to-replace-microsoft-encoded-quotes-in-php)

I need to replace Microsoft Word's version of single and double quotations marks („Äå „Äç‚Äò ‚Äô) with regular quotes (' and ") due to an encoding issue in my application. I do not need them to be HTML entities and I cannot change my database schema.I have two options: to use either a regular expression or an associated array.Is there a better way to do this?

2009-08-11 18:08:30Z

I need to replace Microsoft Word's version of single and double quotations marks („Äå „Äç‚Äò ‚Äô) with regular quotes (' and ") due to an encoding issue in my application. I do not need them to be HTML entities and I cannot change my database schema.I have two options: to use either a regular expression or an associated array.Is there a better way to do this?Considering you only want to replace a few specific and well identified characters, I would go for str_replace with an array: you obviously don't need the heavy artillery regex will bring you ;-)And if you encounter some other special characters (damn copy-paste from Microsoft Word...), you can just add them to that array whenever is necessary / whenever they are identified.

The best answer I can give to your comment is probably this link: Convert Smart Quotes with PHPAnd the associated code (quoting that page):(I don't have Microsoft Word on this computer, so I can't test by myself)I don't remember exactly what we used at work (I was not the one having to deal with that kind of input), but it was the same kind of stuff...I have found an answer to this question.  You need just one line of code using iconv() function in php:Your Microsoft-encoded quotes are the probably the typographic quotation marks. You can simply replace them with str_replace if you know the encoding of the string in that you want to replace them.Here‚Äôs an example for UTF-8 but using a single mapping array with strtr:If you‚Äôre need another encoding, you can use mb_convert_encoding to convert the keys.If like me you arrive here with an enormous range of broken ASCII / Microsoft Word characters that are doing weird things to your CMS or RTE and iconv isn't working, then this mad function might just be for you.Make sure your encoding is UTF-8 when you save this function to a file.We used the following. It deals with a few more special characters.Every single one of the previous answers except for Gumbo's will mangle Unicode strings:Results in:The iconv:Results in:You can change it to //IGNORE, which will remove the characters, but not translate them.This is the best way to replace Microsoft quotes encoded in CP1252. If they are in Unicode and you need to replace them, use Gumbo's answer:Taken from this answer, with some modifications. If you want to control over what you find/replace, use that function.

How to write to error log file in PHP [closed]

Vasant

[How to write to error log file in PHP [closed]](https://stackoverflow.com/questions/15530039/how-to-write-to-error-log-file-in-php)

I want to write a message to an error log file when executing PHP code.I am trying to use the PHP error_log() function Docs.But it's not working properly for me.

2013-03-20 17:01:48Z

I want to write a message to an error log file when executing PHP code.I am trying to use the PHP error_log() function Docs.But it's not working properly for me.If you don't want to change anything in your php.ini file, according to PHP documentation, you can do this.  The first parameter is the string to be sent to the log.  The second parameter 3 means expect a file destination.  The third parameter is the log file path.you can simply use :By default, the message will be send to the php system logger.We all know that PHP save errors in php_errors.log file.But, that file contains a lot of data.If we want to log our application data, we need to save it to a custom location.We can use two parameters in the error_log function to achieve this.http://php.net/manual/en/function.error-log.phpWe can do it using:Where,print_r($v, TRUE) : logs $v (array/string/object) to log file.

3: Put log message to custom log file specified in the third parameter.'/var/tmp/errors.log': Custom log file (This path is for Linux, we can specify other depending upon OS).OR, you can use file_put_contents()Where:'/var/tmp/errors.log': Custom log file (This path is for Linux, we can specify other depending upon OS).

print_r($v, TRUE) : logs $v (array/string/object) to log file.

FILE_APPEND: Constant parameter specifying whether to append to the file if it exists, if file does not exist, new file will be created.You can use normal file operation to create an error log. 

Just refer this and input this link:

PHP File Handling

How to rename uploaded file before saving it into a directory?

George Edward Portillo

[How to rename uploaded file before saving it into a directory?](https://stackoverflow.com/questions/18705639/how-to-rename-uploaded-file-before-saving-it-into-a-directory)

Below is the code I used in order to upload files into a directory. It works fine.

My main question is:move_uploaded_file() is the one that saves the uploaded file into the directory, and it is also my guess that move_uploaded_file() is the one that sets the name for it.How could I change the name of my file to a random number?I have tried to do so below:I tried changing variables such as the $_FILES["file"]["name"] and replacing it with the $fileName; variable so that the new name can be stored.

2013-09-09 19:36:40Z

Below is the code I used in order to upload files into a directory. It works fine.

My main question is:move_uploaded_file() is the one that saves the uploaded file into the directory, and it is also my guess that move_uploaded_file() is the one that sets the name for it.How could I change the name of my file to a random number?I have tried to do so below:I tried changing variables such as the $_FILES["file"]["name"] and replacing it with the $fileName; variable so that the new name can be stored.You can simply change the name of the file by changing the name of the file in the second parameter of move_uploaded_file.Instead ofUseChanged to reflect your question, will product a random number based on the current time and append the extension from the originally uploaded file. You can Try this,You guess correctly. Read the manual page for move_uploaded_file. Set the second parameter to whereever your want to save the file.If it doesn't work, there is something wrong with your $fileName. Please post your most recent code.The move_uploaded_file will return false if the file was not successfully moved you can put something into your code to alert you in a log if that happens, that should help you figure out why your having trouble renaming the file

Checking if a variable is an integer in PHP

ahota

[Checking if a variable is an integer in PHP](https://stackoverflow.com/questions/6416763/checking-if-a-variable-is-an-integer-in-php)

I have the following codewhich I am going to use for looking at different "pages" of a database (results 1-10, 11-20, etc). I can't seem to get the is_int() function to work correctly, however. Putting "1" into the url (noobs.php?p=1) gives me the invalid page error, as well as something like "asdf".

2011-06-20 20:02:51Z

I have the following codewhich I am going to use for looking at different "pages" of a database (results 1-10, 11-20, etc). I can't seem to get the is_int() function to work correctly, however. Putting "1" into the url (noobs.php?p=1) gives me the invalid page error, as well as something like "asdf".Using is_numeric() for checking if a variable is an integer is a bad idea. This function will return TRUE for 3.14 for example. It's not the expected behavior.To do this correctly, you can use one of these options:Considering this variables array : Output :Output :Output :Output :All $_GET parameters have a string datatype, therefore, is_int will always return false. You can see this by calling var_dump:Using is_numeric will provide the desired result (mind you, that allows values such as: 0x24). When the browser sends p in the querystring, it is received as a string, not an int.  is_int() will therefore always return false.Instead try is_numeric() or ctype_digit()Just for kicks, I tested out a few of the mentioned methods, plus one I've used as my go to solution for years when I know my input is a positive number or string equivalent.I tested this with 125,000 iterations, with each iteration passing in the same set of variable types and values.Method 1: is_int($value) || ctype_digit($value)

Method 2: (string)(int)$value == (string)$value

Method 3: strval(intval($value)) === strval($value)

Method 4: ctype_digit(strval($value))

Method 5: filter_var($value, FILTER_VALIDATE_INT) !== FALSE

Method 6: is_int($value) || ctype_digit($value) || (is_string($value) && $value[0] === '-' && filter_var($value, FILTER_VALIDATE_INT) !== FALSE)Method 1: 0.0552167892456

Method 2: 0.126773834229

Method 3: 0.143012046814

Method 4: 0.0979189872742

Method 5: 0.112988948822

Method 6: 0.0858821868896  (I didn't even test the regex, I mean, seriously... regex for this?)Things to note:

Method 4 always returns false for negative numbers (negative integer or string equivalent), so is a good method to consistently detect that a value is a positive integer.

Method 1 returns true for a negative integer, but false for a string equivalent of a negative integer, so don't use this method unless you are certain your input will never contain a negative number in string or integer form, and that if it does, your process won't break from this behavior.Conclusions

So it seems that if you are certain that your input will not include a negative number, then it is almost twice as fast to use is_int and ctype_digit to validate that you have an integer. Using Method 1 with a fallback to method 5 when the variable is a string and the first character is a dash is the next fastest (especially when a majority of the input is actual integers or positive numbers in a string). All in all, if you need solid consistency, and you have no idea what the mix of data is coming in, and you must handle negatives in a consistent fashion, filter_var($value, FILTER_VALIDATE_INT) !== FALSE wins.Code used to get the output above:/!\ Best anwser is not correct, is_numeric() returns true for integer AND all numeric forms like "9.1"For integer only you can use the unfriendly preg_match('/^\d+$/', $var) or the explicit and 2 times faster comparison :PS: i know this is an old post but still the third in google looking for "php is integer"You could try using a casting operator to convert it to an integer:Values $_GET are always strings ‚Äì that's what GET paramters come as. Therefore, is_int($_GET[...]) is always false.You can test if a string consists only of digits(i.e. could be interpreted as a number) with is_numeric.I had a similar problem just now!You can use the filter_input() function with FILTER_VALIDATE_INT and FILTER_NULL_ON_FAILURE to filter only integer values out of the $_GET variable. Works pretty accurately! :)Check out my question here: How to check whether a variable in $_GET Array is an integer?doctormad's solution is not correct. try this:this printsuse filter_var() with FILTER_VALIDATE_INT argumentthis printsTry casting and checking if it's a number initially.Use is_int($var)Here is tutorial about is_int()An integer starting with 0 will cause fatal error as of PHP 7, because it might interpret it as an octal character.So you might want to remove leading zeros from your integer, first:When i start reading it i did notice that you guys forgot about abvious think like type of to check if we have int, string, null or Boolean. 

So i think gettype() should be as 1st answer.

Explain:

So if we have $test = [1,w2,3.45,sasd]; we start test it And output:I think this is easiest way to check if our var is int, string, double or Boolean.

PHP class instantiation. To use or not to use the parentheses? [closed]

Atli

[PHP class instantiation. To use or not to use the parentheses? [closed]](https://stackoverflow.com/questions/1945989/php-class-instantiation-to-use-or-not-to-use-the-parentheses)

I've always assumed that - in the absence of constructor parameters - the parentheses (curly brackets) follow the class name when creating a class instance, were optional, and that you could include or exclude them at your own personal whim.That these two statements were equal:Am I right? Or is there some significance to the brackets that I am unaware of?I know this sounds like a RTM question, but I've been searching for a while (including the entire PHP OOP section) and I can't seem to find a straight answer.

2009-12-22 12:06:05Z

I've always assumed that - in the absence of constructor parameters - the parentheses (curly brackets) follow the class name when creating a class instance, were optional, and that you could include or exclude them at your own personal whim.That these two statements were equal:Am I right? Or is there some significance to the brackets that I am unaware of?I know this sounds like a RTM question, but I've been searching for a while (including the entire PHP OOP section) and I can't seem to find a straight answer.They are equivalent. If you are not coding by any code convention, use which you like better. Personally, I like to leave it out, as it is really just clutter to me.$foo = new bar() would be useful over $foo = new bar if you were passing arguments to the constructor. For example:-Aside from that, and as already mentioned in the accepted answer, there is no difference.

How to Use AJAX in a WordPress Shortcode?

–î–æ–∫—Ç–æ—Ä –°–∫–∞–ª—å–ø–∏–Ω–≥

[How to Use AJAX in a WordPress Shortcode?](https://stackoverflow.com/questions/13498959/how-to-use-ajax-in-a-wordpress-shortcode)

I have a code to display a random quote. One person wrote a function to implement all of this. But the update data via AJAX for some reason does not work. When you press the button "New Quote", nothing happens. Maybe someone knows why? What needs to be fixed in the following code, so that when you click "New quote" a new quote is loaded?/wp-content/themes/%your_theme%/js/ajax-load-quote.phpIn a page content, a widget or a template file:This you can obviously adjust to your liking, but for the sake of this example, this is what we're going with.

We will generate the above via a shortcode later./wp-content/themes/%your_theme%/js/ajax-load-quote.js/wp-content/themes/%your_theme%/functions.phpHow you can update the content on the page using AJAX in WordPress? 

2012-11-21 17:39:16Z

I have a code to display a random quote. One person wrote a function to implement all of this. But the update data via AJAX for some reason does not work. When you press the button "New Quote", nothing happens. Maybe someone knows why? What needs to be fixed in the following code, so that when you click "New quote" a new quote is loaded?/wp-content/themes/%your_theme%/js/ajax-load-quote.phpIn a page content, a widget or a template file:This you can obviously adjust to your liking, but for the sake of this example, this is what we're going with.

We will generate the above via a shortcode later./wp-content/themes/%your_theme%/js/ajax-load-quote.js/wp-content/themes/%your_theme%/functions.phpHow you can update the content on the page using AJAX in WordPress? Nice question!But, as your code starts with a bad practice - require_once('wp-load.php'); -, I decided to pick one of my working snippets and adapt it.Observations:Here sample plugin as answer to the question. Using ajaxurl at frontend. so-random-quotes.phpquote-loader.jsWordpress shortcode same like function where you give parameters, for creating ajax request you can use jQuery.ajax or xmlhttp in your header or function file with add_action wp_head hook.you should create ajax.php in your theme folder and on the top of file you should include wp-load.php. and place all your ajax functions in proper manner.The selector used in the trigger doesn't match the button ID. Change jQuery('#newquotes') to jQuery('#newquote')Add this function in function.php:

PHP DateTime microseconds always returns 0

eydelber

[PHP DateTime microseconds always returns 0](https://stackoverflow.com/questions/169428/php-datetime-microseconds-always-returns-0)

this code always returns 0 in PHP 5.2.5 for microseconds:Output:Any ideas?

2008-10-04 00:32:07Z

this code always returns 0 in PHP 5.2.5 for microseconds:Output:Any ideas?This seems to work, although it seems illogical that http://us.php.net/date documents the microsecond specifier yet doesn't really support it:You can specify that your input contains microseconds when constructing a DateTime object, and use microtime(true) directly as the input.Unfortunately, this will fail if you hit an exact second, because there will be no . in the microtime output; so use sprintf to force it to contain a .0 in that case:Or equivalently (more OO-style)This function pulled from http://us3.php.net/dateVery screwy you have to implement this function to get "u" to work... :\Try this and it shows micro seconds:Will give you (at least on most systems):But there is a loss of precision because of PHP float rounding. It's not truly microseconds.UpdateThis is probably the best compromise of the createFromFormat() options, and provides full precision.gettimeofday()More explicit, and maybe more robust. Solves the bug found by Xavi.Right, I'd like to clear this up once and for all. An explanation of how to display the ISO 8601 format date & time in PHP with milliseconds and microseconds...milliseconds or 'ms' have 4 digits after the decimal point e.g. 0.1234. microseconds or '¬µs' have 7 digits after decimal. Seconds fractions/names explanation herePHP's date() function does not behave entirely as expected with milliseconds or microseconds as it will only except an integer, as explained in the php date docs under format character 'u'.Based on Lucky's comment idea (here), but with corrected PHP syntax and properly handling seconds formatting (Lucky's code added an incorrect extra '0' after the seconds)These also eliminate race conditions and correctly formats the seconds.Working Equivalent of date('Y-m-d H:i:s').".$milliseconds"; Output = 2016-07-12 16:27:08.5675Working Equivalent of date('Y-m-d H:i:s').".$microseconds"; or date('Y-m-d H:i:s.u') if the date function behaved as expected with microseconds/microtime()/'u'Output = 2016-07-12 16:27:08.56752900This has worked for me and is a simple three-liner:This, by default (no params supplied) will return a string in this format for the current microsecond it was called:An even simpler/faster one (albeit, with only half the precision) would be as follows:This one would print out in the following format:date_createstrtotimeWorking from Lucky's comment and this feature request in the PHP bug database, I use something like this:Output:How about this?Sample OutputThis should be the most flexible and precise:String in a format accepted by strtotime()

It work!Inside of an application I am writing I have the need to set/display microtime on DateTime objects.  It seems the only way to get the DateTime object to recognize microseconds is to initialize it with the time in format of "YYYY-MM-DD HH:MM:SS.uuuuuu".  The space in between the date and time portions can also be a "T" as is usual in ISO8601 format.The following function returns a DateTime object initialized to the local timezone (code can be modified as needed of course to suit individual needs):PHP documentation clearly says "Note that date() will always generate 000000 since it takes an integer parameter...". If you want a quick replacement for date() function use below function:(available as gist here: date_with_micro.php)Building on Lucky‚Äôs comment, I wrote a simple way to store messages on the server. In the past I‚Äôve used hashes and increments to get unique file names, but the date with micro-seconds works well for this application.This is the name of the output file:Some answers make use of several timestamps, which is conceptually wrong, and overlapping issues may occur: seconds from 21:15:05.999 combined by microseconds from 21:15:06.000 give 21:15:05.000.Apparently the simplest is to use DateTime::createFromFormat() with U.u, but as stated in a comment, it fails if there are no microseconds.So, I'm suggesting this code:This method is safer than the accepted answer:Output:Update: Not recommended (see comments)date('u') is supported only from PHP 5.2. Your PHP may be older!

PDO::PARAM for dates?

vitto

[PDO::PARAM for dates?](https://stackoverflow.com/questions/2374631/pdoparam-for-dates)

Does some PDO::PARAM_??? exist which can be used for dates or timestamps?Sample code:

2010-03-03 20:20:10Z

Does some PDO::PARAM_??? exist which can be used for dates or timestamps?Sample code:When writing a date in an SQL query, you are writing it as a string; you have to do the same with prepared statements, and use PDO::PARAM_STR, like you did in the portion of code you proposed.And for the "timestamp", if by "timestamp" you mean:Simply creating the date using php date function should fix this issue for you.Nope. Treat date as a string. You have to treat the date as string, but you can create a function to check if is a valid date before pass it as a param.

Like this:This worked for me.

Sending POST parameters with Postman doesn't work, but sending GET parameters does

whiterook6

[Sending POST parameters with Postman doesn't work, but sending GET parameters does](https://stackoverflow.com/questions/24168759/sending-post-parameters-with-postman-doesnt-work-but-sending-get-parameters-do)

I'm trying to test a simple PHP page using the Chrome extension Postman. When I send URL parameters, the script works fine (eg the variables are available in the $_REQUEST parameter). When I send them as x-www-form-urlencoded parameters, the $_REQUEST parameter only contains the PHPSESSID.The script:When I send URL parameters, $_REQUEST includes them:

But when I send them as POST variables, $_REQUEST doesn't include them:

What am I missing?

2014-06-11 17:13:43Z

I'm trying to test a simple PHP page using the Chrome extension Postman. When I send URL parameters, the script works fine (eg the variables are available in the $_REQUEST parameter). When I send them as x-www-form-urlencoded parameters, the $_REQUEST parameter only contains the PHPSESSID.The script:When I send URL parameters, $_REQUEST includes them:

But when I send them as POST variables, $_REQUEST doesn't include them:

What am I missing?I was setting the url in Postman to be http:// but Apache was redirecting to https:// and somehow the POST variables were being dropped along the way.After I changed it to https://, the POST variables worked properly.See also: https://stackoverflow.com/a/28461500/704803I faced the same issue in PostMan and Advance REST Client both. I checked through fiddler and found that my request payload is not converted into JSON format.I am passing my data in Body as x-www-form-urlencoded

You can fix it by using Content-Type as application/x-www-form-urlencoded in request header.

Simply use the Body Tab and enter the post parameters there. Note that Body Tab is disabled if Get is selected.Check your content-type in the header. I was having issue with this sending raw JSON and my content-type as application/json in the POSTMAN header.my php was seeing jack all in the request post. It wasn't until i change the content-type to 

application/x-www-form-urlencoded with the JSON in the RAW textarea and its type as JSON, did my PHP app start to see the post data. not what i expected when deal with raw json but its now working for what i need.When you send parameters by x-www-form-urlencoded then you need to set header for the request as using Content-Type as application/x-www-form-urlencodedI was having the same problem. To fix it I added the following headers:I had to manually add the content type even though I also had the type of "json" in the raw post field parameters.Sorry if this is thread Necromancy, but this is still relevant today, especially with how much APIs are used!An issue I had was: I didn't know that under the 'Key' column you need to put: 'Content-Type';  I thought this was a User Key for when it came back in the request, which it isn't. So something as simple as that may help you, I think Postman could word that column better, because I didn't even have to read the Documentation when it came to using Fiddler; whereas I did with Postman.Instead of using raw JSON body, try using form-data.For me, the server was expect HTTPS requests, but I didn't specify that in the URL. The hook would reach the server, but the body would be empty. 

How to add property to object in PHP >= 5.3 strict mode without generating error

Ray

[How to add property to object in PHP >= 5.3 strict mode without generating error](https://stackoverflow.com/questions/11618349/how-to-add-property-to-object-in-php-5-3-strict-mode-without-generating-error)

This has to be simple, but I can't seem to find an answer....I have a generic stdClass object $foo with no properties.  I want to add a new property $bar to it that's not already defined. If I do this:PHP in strict mode complains. What is the proper way (outside of the class declaration) to add a property to an already instantiated object?NOTE: I want the solution to work with the generic PHP object of type stdClass.A little background on this issue.  I'm decoding a json string which is an array of json objects.  json_decode() generates an array of StdClass object.  I need to manipulate these objects and add a property to each one.

2012-07-23 18:32:00Z

This has to be simple, but I can't seem to find an answer....I have a generic stdClass object $foo with no properties.  I want to add a new property $bar to it that's not already defined. If I do this:PHP in strict mode complains. What is the proper way (outside of the class declaration) to add a property to an already instantiated object?NOTE: I want the solution to work with the generic PHP object of type stdClass.A little background on this issue.  I'm decoding a json string which is an array of json objects.  json_decode() generates an array of StdClass object.  I need to manipulate these objects and add a property to each one.If you absolutely have to add the property to the object, I believe you could cast it as an array, add your property (as a new array key), then cast it back as an object.  The only time you run into stdClass objects (I believe) is when you cast an array as an object or when you create a new stdClass object from scratch (and of course when you json_decode() something - silly me for forgetting!).Instead of:You'd do:Or if you already had an existing stdClass object:Also as a 1 liner:Do it like this:now try:If you want to edit the decoded JSON, try getting it as an associative array instead of an array of objects.I always use this way:you should use magic methods __Set and __get. Simple example: Of course, don't use this example as this : no security at all :) EDIT : seen your comments, here could be an alternative based on reflection and a decorator : 

    

PS : I didn't test my code, just the general idea...I don't know whether its the newer version of php, but this works. I'm using php 5.6This is the result. The save method actually gets the new propertyYes,  is possible to dynamically add properties to a PHP object.This is useful when a partial object is received from javascript.JAVASCRIPT side:PHP side:OR JUST SEND A DUMMY PROPERTY from javascript that you will fill in PHP.

Suppress error with @ operator in PHP

Mez

[Suppress error with @ operator in PHP](https://stackoverflow.com/questions/136899/suppress-error-with-operator-in-php)

In your opinion, is it ever valid to use the @ operator to suppress an error/warning in PHP whereas you may be handling the error?If so, in what circumstances would you use this?Code examples are welcome.Edit: Note to repliers. I'm not looking to turn error reporting off, but, for example, common practice is to useand then check afterwards... but you can get rid of the @ by doingor similar. I guess the question is - is there anywhere that @ HAS to be used to supress an error, that CANNOT be handled in any other manner?

2008-09-25 23:37:41Z

In your opinion, is it ever valid to use the @ operator to suppress an error/warning in PHP whereas you may be handling the error?If so, in what circumstances would you use this?Code examples are welcome.Edit: Note to repliers. I'm not looking to turn error reporting off, but, for example, common practice is to useand then check afterwards... but you can get rid of the @ by doingor similar. I guess the question is - is there anywhere that @ HAS to be used to supress an error, that CANNOT be handled in any other manner?I would suppress the error and handle it. Otherwise you may have a TOCTOU issue (Time-of-check, time-of-use. For example a file may get deleted after file_exists returns true, but before fopen).But I wouldn't just suppress errors to make them go away. These better be visible.Note: Firstly, I realise 99% of PHP developers use the error suppression operator (I used to be one of them), so I'm expecting any PHP dev who sees this to disagree.Short answer:

No!Longer more correct answer:

I don't know as I don't know everything, but so far I haven't come across a situation where it was a good solution.Why it's bad:

In what I think is about 7 years using PHP now I've seen endless debugging agony caused by the error suppression operator and have never come across a situation where it was unavoidable.The problem is that the piece of code you are suppressing errors for, may currently only cause the error you are seeing; however when you change the code which the suppressed line relies on, or the environment in which it runs, then there is every chance that the line will attempt to output a completely different error from the one you were trying to ignore. Then how do you track down an error that isn't outputting? Welcome to debugging hell!It took me many years to realise how much time I was wasting every couple of months because of suppressed errors. Most often (but not exclusively) this was after installing a third party script/app/library which was error free in the developers environment, but not mine because of a php or server configuration difference or missing dependency which would have normally output an error immediately alerting to what the issue was, but not when the dev adds the magic @.The alternatives (depending on situation and desired result):

Handle the actual error that you are aware of, so that if a piece of code is going to cause a certain error then it isn't run in that particular situation. But I think you get this part and you were just worried about end users seeing errors, which is what I will now address.For regular errors you can set up an error handler so that they are output in the way you wish when it's you viewing the page, but hidden from end users and logged so that you know what errors your users are triggering.For fatal errors set display_errors to off (your error handler still gets triggered) in your php.ini and enable error logging. If you have a development server as well as a live server (which I recommend) then this step isn't necessary on your development server, so you can still debug these fatal errors without having to resort to looking at the error log file. There's even a trick using the shutdown function to send a great deal of fatal errors to your error handler.In summary:

Please avoid it. There may be a good reason for it, but I'm yet to see one, so until that day it's my opinion that the (@) Error suppression operator is evil.You can read my comment on the Error Control Operators page in the PHP manual if you want more info.Yes suppression makes sense.For example, the fopen() command returns FALSE if the file cannot be opened.  That's fine, but it also produces a PHP warning message.  Often you don't want the warning -- you'll check for FALSE yourself.In fact the PHP manual specifically suggests using @ in this case!If you don't want a warning thrown when using functions like fopen(), you can suppress the error but use exceptions:Error suppression should be avoided unless you know you can handle all the conditions. This may be much harder than it looks at first. What you really should do is rely on php's "error_log" to be your reporting  method, as you cannot rely on users viewing pages to report errors. ( And you should also disable php from displaying these errors ) Then at least you'll have a comprehensive report of all things going wrong in the system. If you really must handle the errors, you can create a custom error handler http://php.net/set-error-handlerThen you could possibly send exceptions ( which can be handled ) and do anything needed to report weird errors to administration. I NEVER allow myself to use '@'... period.When I discover usage of '@' in code, I add comments to make it glaringly apparent, both at the point of usage, and in the docblock around the function where it is used.  I too have been bitten by "chasing a ghost" debugging due to this kind of error suppression, and I hope to make it easier on the next person by highlighting its usage when I find it.In cases where I'm wanting my own code to throw an Exception if a native PHP function encounters an error, and '@' seems to be the easy way to go, I instead choose to do something else that gets the same result but is (again) glaringly apparent in the code:That's a lot more code that just writing:but I prefer to make my suppression need VERY OBVIOUS, for the sake of the poor debugging soul that follows me.Most people do not understand the meaning of error message.

No kidding. Most of them.They think that error messages are all the same, says "Something goes wrong!"

They don't bother to read it.

While it's most important part of error message - not just the fact it has been raised, but it's meaning. It can tell you what is going wrong. Error messages are for help, not for bothering you with "how to hide it?" problem. That's one of the biggest misunderstandings in the newbie web-programming world.    Thus, instead of gagging error message, one should read what it says. It has not only one "file not found" value. There can be thousands different errors: permission denied, save mode restriction, open_basedir restriction etc.etc. Each one require appropriate action. But if you gag it you'll never know what happened!The OP is messing up error reporting with error handling, while it's very big difference!

Error handling is for user. "something happened" is enough here.

While error reporting is for programmer, who desperately need to know what certainly happened.   Thus, never gag errors messages. Both log it for the programmer, and handle it for the user.is there not a way to suppress from the php.ini warnings and errors? in that case you can debug only changing a flag and not trying to discovering which @ is hiding the problem.Using @ is sometimes counter productive. In my experience, you should always turn error reporting off in the php.ini or callon a production site. This way when you are in development you can just comment out the line and keep errors visible for debugging. The only place where I really needed to use it is the eval function. The problem with eval is that, when string cannot be parsed due to syntax error, eval does not return false, but rather throws an error, just like having a parse error in the regular script. In order to check whether the script stored in the string is parseable you can use something like:AFAIK, this is the most elegant way to do this.One place I use it is in socket code, for example, if you have a timeout set you'll get a warning on this if you don't include @, even though it's valid to not get a packet.You do not want to suppress everything, since it slows down your script.And yes there is a way both in php.ini and within your script to remove errors (but only do this when you are in a live environment and log your errors from php)And you can read this for the php.ini version of turning it off.Today I encountered an issue that was a good example on when one might want to use at least temporarily the @ operator.Long story made short, I found logon info (username and password in plain text) written into the error log trace.Here a bit more info about this issue.The logon logic is in a class of it's own, because the system is supposed to offer different logon mechanisms. Due to server migration issues there was an error occurring. That error dumped the entire trace into the error log, including password info! One method expected the username and password as parameters, hence trace wrote everything faithfully into the error log.The long term fix here is to refactor said class, instead of using username and password as 2 parameters, for example using a single array parameter containing those 2 values (trace will write out Array for the paramater in such cases). There are also other ways of tackling this issue, but that is an entire different issue. Anyways. Trace messages are helpful, but in this case were outright harmful.The lesson I learned, as soon as I noticed that trace output: Sometimes suppressing an error message for the time being is an useful stop gap measure to avoid further harm.In my opinion I didn't think it is a case of bad class design. The error itself was triggered by an PDOException ( timestamp issue moving from MySQL 5.6 to 5.7 ) that just dumped by PHP default everything into the error log.In general I do not use the @ operator for all the reasons explained in other comments, but in this case the error log convinced me to do something quick until the problem was properly fixed.If you are using a custom error handling function and wanna suppress an error (probably a known error), use this method. The use of '@' is not a good idea in this context as it will not suppress error if error handler is set.Write 3 functions  and  call like this.  I use it when trying to load an HTML file for processing as a DOMDocument object. If there are any problems in the HTML... and what website doesn't have at least one... DOMDocument->loadHTMLFile() will throw an error if you don't suppress it with @. This is the only way (perhaps there are better ones) I've ever been successful in creating HTML scrapers in PHP.

imagecreatefromjpeg and similar functions are not working in PHP

UserIsCorrupt

[imagecreatefromjpeg and similar functions are not working in PHP](https://stackoverflow.com/questions/13338339/imagecreatefromjpeg-and-similar-functions-are-not-working-in-php)

I‚Äôve searched for this and the solutions provided in past questions are completely incomprehensible to me. Whenever I run functions like imagecreatefromjpeg, I get this:I‚Äôm working on a new install of PHP; my last installation never had this problem. I don‚Äôt get what‚Äôs going on.

2012-11-12 04:21:38Z

I‚Äôve searched for this and the solutions provided in past questions are completely incomprehensible to me. Whenever I run functions like imagecreatefromjpeg, I get this:I‚Äôm working on a new install of PHP; my last installation never had this problem. I don‚Äôt get what‚Äôs going on.Install GD LibraryWhich OS you are using?http://php.net/manual/en/image.installation.phpWindows

http://www.dmxzone.com/go/5001/how-do-i-install-gd-in-windows/Linux

http://www.cyberciti.biz/faq/ubuntu-linux-install-or-add-php-gd-support-to-apache/In Ubuntu/Mint (Debian based)You can still get Fatal error: Call to undefined function imagecreatefromjpeg() even if GD is installed.The solution is to install/enable jped lib:On Ubuntu:On  CentOS:If compiling from source add --with-jpeg-dir --with-freetype-dir or --with-jpeg-dir=/usr --with-freetype-dir=/usr.For more details check https://www.tectut.com/2015/10/solved-call-to-undefined-function-imagecreatefromjpeg/You must enable the library GD2.Find your (proper) php.ini fileFind the line: ;extension=php_gd2.dll and remove the semicolon in the front.The line should look like this:Then restart apache and you should be good to go.x.x is the versi√≥n php.For php 7 on Ubuntu:After installing php5-gd apache restart is needed.In CentOS, RedHat, etc. use below command. don't forget to restart the Apache. Because the PHP module has to be loaded.after 

    systemctl restart php-fpm

the Gd library works.

What are cookies and sessions, and how do they relate to each other?

Blanktext

[What are cookies and sessions, and how do they relate to each other?](https://stackoverflow.com/questions/11142882/what-are-cookies-and-sessions-and-how-do-they-relate-to-each-other)

I am trying to understand cookies and sessions professionally.

I know that when a browser connects to a server, the server "asks" the browser to "paste" a cookie with "phpsessid" in the client browser cookies folder.Now that we have the "phpsessid", if the client enters the server the browser sends to the server the "phpsessid" and the server takes a look at the tmp folder and if we have a match it loads back every data the user has for this client, but I am kinda confused with the process.I will be thankful if some one can help me understand those processes of creating a session and cookies - what is happening behind the scenes.

2012-06-21 16:45:35Z

I am trying to understand cookies and sessions professionally.

I know that when a browser connects to a server, the server "asks" the browser to "paste" a cookie with "phpsessid" in the client browser cookies folder.Now that we have the "phpsessid", if the client enters the server the browser sends to the server the "phpsessid" and the server takes a look at the tmp folder and if we have a match it loads back every data the user has for this client, but I am kinda confused with the process.I will be thankful if some one can help me understand those processes of creating a session and cookies - what is happening behind the scenes.Let's go through this:Cookies and sessions are both ways to preserve the application's state between different requests the browser makes. It's thanks to them that, for instance, you don't need to log in every time you request a page on StackOverflow.Cookies are small bits of data, (maximum of 4KB long), which hold data in a key=value pairs:These are set either by JavaScript, or via the server using an HTTP header.Cookies have an expiry datetime set, example using HTTP headers:Which would cause the browser to set a cookie named name2 with a value of value2, which would expire in about 9 years.Cookies are considered highly insecure because the user can easily manipulate their content. That's why you should always validate cookie data. Don't assume what you get from a cookie is necessarily what you expect.Cookies are usually used to preserve login state, where a username and a special hash are sent from the browser, and the server checks them against the database to approve access.Cookies are also often used in sessions creation.Sessions are slightly different. Each user gets a session ID, which is sent back to the server for validation either by cookie or by GET variable.Sessions are usually short-lived, which makes them ideal in saving temporary state between applications. Sessions also expire once the user closes the browser.Sessions are considered more secure than cookies because the variables themselves are kept on the server. Here's how it works:If PHP does not find a match, it will start a new session, and repeat the steps from 1-7.You can store sensitive information on a session because it is kept on the server, but be aware that the session ID can still be stolen if the user, let's say, logged in over an insecure WiFi. (An attacker can sniff the cookies, and set it as its own, he won't see the variables themselves, but the server will identify the attacker as the user).That's the gist of it. You can learn more on the PHP manual on both subjects.

Cannot connect to MySQL 4.1+ using old authentication

B T

[Cannot connect to MySQL 4.1+ using old authentication](https://stackoverflow.com/questions/1575807/cannot-connect-to-mysql-4-1-using-old-authentication)

I'm trying to connect to a mySQL database at http://bluesql.net, but when I try to connect, it gives this error:I've looked into this, and it has to do with some old password scheme used before MySQL 4.1. Newer versions have the option to use old passwords, which I've read may cause this problem. I'm running php 5.3, and connecting with mySQLi (new mysqli(...)). I'm hoping I can do something in the code to connect to the DB at bluesql.net - clearly I don't control how their database is set up. Downgrading php versions isn't an option.Anyone have any ideas?

2009-10-16 00:16:21Z

I'm trying to connect to a mySQL database at http://bluesql.net, but when I try to connect, it gives this error:I've looked into this, and it has to do with some old password scheme used before MySQL 4.1. Newer versions have the option to use old passwords, which I've read may cause this problem. I'm running php 5.3, and connecting with mySQLi (new mysqli(...)). I'm hoping I can do something in the code to connect to the DB at bluesql.net - clearly I don't control how their database is set up. Downgrading php versions isn't an option.Anyone have any ideas?edit: This only applies if you are in control of the MySQL server... if you're not take a look at Mysql password hashing method old vs newFirst check with the SQL query(in the MySQL command line client, HeidiSQL or whatever front end you like) whether the server is set to use the old password schema by default. If this returns old_passwords,Off you just happen to have old password entries in the user table. The MySQL server will use the old authentication routine for these accounts. You can simply set a new password for the account and the new routine will be used.  You can check which routine will be used by taking a look at the mysql.user table (with an account that has access to that table)This will return 16 for accounts with old passwords and 41 for accounts with new passwords (and 0 for accounts with no password at all, you might want to take care of those as well).

Either use the user management tools of the MySQL front end (if there are any) or(replace User and Host with the values you got from the previous query.) Then check the length of the password again. It should be 41 now and your client (e.g. mysqlnd) should be able to connect to the server.see also the MySQL documentation: 

* http://dev.mysql.com/doc/refman/5.0/en/old-client.html

* http://dev.mysql.com/doc/refman/5.0/en/password-hashing.html

* http://dev.mysql.com/doc/refman/5.0/en/set-password.htmlI just had this issue, and was able to work around it.First, connect to the MySQL database with an older client that doesn't mind old_passwords.  Connect using the user that your script will be using.Run these queries:In your PHP script, change your mysql_connect function to include the client flag 1:This allowed me to connect successfully.Edit: as per Garland Pope's comment, it may not be necessary to set CLIENT_LONG_PASSWORD manually any more in your PHP code as of PHP 5.4!Edit: courtesy of Antonio Bonifati, a PHP script to run the queries for you:you can do these line on your mysql query browser or somethingnote:your username and passwordafter that it should able to work. I just solved mine tooOn OSX, I used MacPorts to address the same problem when connecting to my siteground database.  Siteground appears to be using 5.0.77mm0.1-log, but creating a new user account didn't fix the problem.  This is what didThis downgrades the mysql driver that php will use.Had the same issue, but executing the queries alone will not help. To fix this I did the following,If you do not have Administrator access to the MySQL Server configuration (i.e. you are using a hosting service), then there are 2 options to get this to work:1) Request that the old_passwords option be set to false on the MySQL server2) Downgrade PHP to 5.2.2 until option 1 occurs.From what I've been able to find, the issue seems to be with how the MySQL account passwords are stored and if the 'old_passwords' setting is set to true. This causes a compatibility issue between MySQL and newer versions of PHP (5.3+) where PHP attempts to connect using a 41-character hash but the MySQL server is still storing account passwords using a 16-character hash. This incompatibility was brought about by the changing of the hashing method used in MySQL 4.1 which allows for both short and long hash lengths (Scenario 2 on this page from the MySQL site: http://dev.mysql.com/doc/refman/5.5/en/password-hashing.html) and the inclusion of the MySQL Native Driver in PHP 5.3 (backwards compatibility issue documented on bullet 7 of this page from the PHP documentation: http://www.php.net/manual/en/migration53.incompatible.php).IF,Then, It is highly recommended that you install xampp 1.7.0 . Download LinkNote: This is not a solution to the above problem, but a FIX which would allow you to continue with your development. 

Converting a SimpleXML Object to an Array [closed]

Abs

[Converting a SimpleXML Object to an Array [closed]](https://stackoverflow.com/questions/6167279/converting-a-simplexml-object-to-an-array)

I came across this function of converting a SimpleXML Object to an array here:So my adoption for an XML strings is like:It works pretty well, but it seems a bit hacky? Is there a more efficient/robust way of doing this?I know that the SimpleXML Object is close enough to an array because it makes use of the ArrayAccess interface in PHP but it still doesn't work great to use as an array with multi-dimensional arrays i.e. looping.Thanks all for any help

2011-05-29 10:48:07Z

I came across this function of converting a SimpleXML Object to an array here:So my adoption for an XML strings is like:It works pretty well, but it seems a bit hacky? Is there a more efficient/robust way of doing this?I know that the SimpleXML Object is close enough to an array because it makes use of the ArrayAccess interface in PHP but it still doesn't work great to use as an array with multi-dimensional arrays i.e. looping.Thanks all for any helpI found this in the PHP manual comments:It could help you. However, if you convert XML to an array you will loose all attributes that might be present, so you cannot go back to XML and get the same XML.Just (array) is missing in your code before the simplexml object:

Laravel: Error [PDOException]: Could not Find Driver in PostgreSQL

Hyperion

[Laravel: Error [PDOException]: Could not Find Driver in PostgreSQL](https://stackoverflow.com/questions/25329302/laravel-error-pdoexception-could-not-find-driver-in-postgresql)

I'm trying to connect with PostgreSQL database through Laravel in order to do a php artisan migrate but doesn't seem to be directed since it's reading the database name of MySQL. Here are the commands from database.php:If I remove the MySQL paths I'll get:The extension=pdo_pgsql.dll and extension=pgsql.dll are uncommented.Done the PATH trick in the 'System Variables' and rebooted. No chance. Thanks for the help so far.These are my drivers php_pdo_driver.h & php_pdo.h from C:\Program Files (x86)\PostgreSQL\EnterpriseDB-ApachePHP\php\SDK\include\ext\pdoInformation from phpinfo:

2014-08-15 15:28:37Z

I'm trying to connect with PostgreSQL database through Laravel in order to do a php artisan migrate but doesn't seem to be directed since it's reading the database name of MySQL. Here are the commands from database.php:If I remove the MySQL paths I'll get:The extension=pdo_pgsql.dll and extension=pgsql.dll are uncommented.Done the PATH trick in the 'System Variables' and rebooted. No chance. Thanks for the help so far.These are my drivers php_pdo_driver.h & php_pdo.h from C:\Program Files (x86)\PostgreSQL\EnterpriseDB-ApachePHP\php\SDK\include\ext\pdoInformation from phpinfo:Be sure to configure the 'default' key in app/config/database.phpFor postgres, this would be 'default' => 'postgres',If you are receiving a [PDOException] could not find driver error, check to see if you have the correct PHP extensions installed.  You need pdo_pgsql.so and pgsql.so installed and enabled.  Instructions on how to do this vary between operating systems.  For Windows, the pgsql extensions should come pre-downloaded with the official PHP distribution.  Just edit your php.ini and uncomment the lines extension=pdo_pgsql.so and extension=pgsql.soAlso, in php.ini, make sure extension_dir is set to the proper directory.  It should be a folder called extensions or ext or similar inside your PHP install directory.Finally, copy libpq.dll from C:\wamp\bin\php\php5.*\ into C:\wamp\bin\apache*\bin and restart all services through the WampServer interface.If you still get the exception, you may need to add the postgres \bin directory to your PATH:This should hopefully resolve any problems.  For more information see:For PDOException: could not find driver for MySQL, and if it is Debian based OS,For PHP 7 in Ubuntu you can also do:So, now you can do not uncomment lines in php.iniUPD:

I have a same error, so problem was not in driver.

I changed my database.ini, but every time I saw an error.

And I change database config in .env and errors gone.This worked for me:$ sudo apt-get install php-gd php-mysql

I realize this is an old question but I found it in a Google search so I'm going to go ahead and answer just in case someone else runs across this. I'm on a Mac and had the same issue, but solved it by using HomeBrew. Once you've got it installed, you can just run this command:And replace the 56 with whatever version of PHP you're using without the decimal point.I had the same issue. This is what worked for me.There are 2 php.ini files:NOTE: This is using my version of PHP and Apache, change to what yours are.The php.ini file located in the both folders is what you need to update, the extentions:These are what you need to uncomment (remove the ; symbol).Restart both Wamp and the Command Prompt.Hopefully it will work for you :).For those wanting to use Postgresql on OpenSuse (and co), try the following:Solved after 3 hours... 

I am using WAMP (PHP 7.2.4), PostgreSQL 10, Laravel 5.6.29. 

Loaded PHP extensions (pgsql, pdo_pgsql) from Wampserver 3.3, then I was able to connect to the PostgreSQL server with a simple php testcode from the www directory. But $ php artisan migrate still returned I checked the shell (git bash for windows) with $ php --ini, that returned C:\wamp64\bin\php\php7.2.4\php.ini instead of c:\wamp64\bin\apache\apache2.4.33\bin\php.ini, loaded by WAMP

So you have to uncomment pgsql and pdo_pgsql extensions also in C:\wamp64\bin\php\php7.2.4\php.ini, and then migrate will work ...In Windows 8 PC with Laragon 3.4.0 180809, I faced the same issue. It happened in my case because I updated Laragon and it added a new version of PHP. So in laragon/bin/php/ I actually had two directories:I added 7.1.20 into my PATH variable. But in my Command Console, running php --ini was showing that the path actually was fetching from the older one: php-7.1.7-Win32-VC14-x64. So I deleted the old one (for safety, I put it in Recycle Bin). But Laragon failed to start after that.So, in laragaon/etc/apache2/mod_php.conf, I changed the path to the latest PHP version. Then restarted Laragon and the issue is resolved. üòäReference: How to add another PHP version - Laragon ForumI got this problem too. I have solved this issue already. If u are using Wamp then perform the following steps.If it does not work, please check your .env and config/database again.I had the same error on PHP 7.3.7 docker with laravel:This works for meThis will install the pgsql and pdo_pgsql drivers.Now run this command to uncomment the lines extension=pdo_pgsql.so and extension=pgsql.so from php.iniOld thread I know,  but I lost a couple of hours of my life with this.  You also need to set the DB info in the .env file.  You don't have to specify the driver here because the default specified in database.php is used (I think).  I was struggling because it had DB_CONNECTION=mysql in the .env file and I was using pgsql.In my case, I had two versions of PHP installed. So all I had to do was use$ /opt/lampp/bin/php artisan serve  instead of $ php artisan serve sudo apt-get -y install php*-mysql ( just run this command ) This worked for me:I am working with 32bit Ubuntu 14I see you are using Windows. I was not able to fix this with enabling any of the extensions that come with my Windows WAMP Server. I tried PDO_ODBC and others and even found the Microsoft Official PDO_SQLSRV. The solution for me was to install the PDO_SQLSRV drivers from a 3rd party website. I found the drivers through 

http://robsphp.blogspot.nl/2012/06/unofficial-microsoft-sql-server-driver.html I usually don't use DLLs from random websites, but I was desperate and this worked for me. Hoping it might save others numerous hours of frustration.Using Laravel V 5.5.39 with Php 7.1.12 is working fine, but later (newer) php versions cause the problem. So, change Php version and you will get the solution 100% .

Best solution to protect PHP code without encryption

rfgamaral

