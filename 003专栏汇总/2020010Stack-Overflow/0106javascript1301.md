2011-08-02 14:15:28Z

From this original question, how would I apply a sort on multiple fields?Using this slightly adapted structure, how would I sort city (ascending) & then price (descending)?I liked the fact than an answer was given which provided a general approach.  Where I plan to use this code, I will have to sort dates as well as other things.  The ability to "prime" the object seemed handy, if not a little cumbersome.I've tried to build this answer into a nice generic example, but I'm not having much luck.A multi dimensional sorting method, based on this answer:Update: Here is an "optimized" version. It does a lot more preprocessing and creates a comparison function for each sorting option beforehand. It might need more more memory (as it stores a function for each sorting option, but it should preform a bit better as it does not have to determine the correct settings during the comparison. I have not done any profiling though.Example usage:DEMOOriginal function:DEMOfor a non-generic, simple solution to your exact problem:Here is a simple functional approach. Specify sort order using array. Prepend minus to specify descending order. Edit: in ES6 it's even shorter!I made a quite generic multi feature sorter today. You can have a look at thenBy.js here: https://github.com/Teun/thenBy.jsIt allows you to use the standard Array.sort, but with firstBy().thenBy().thenBy() style. It is way less code and complexity than the solutions posted above.You could use a chained sorting approach by taking the delta of values until it reaches a value not equal to zero.Or, using es6, simply:The following function will allow you to sort an array of objects on one or multiple properties, either ascending (default) or descending on each property, and allow you to choose whether or not to perform case sensitive comparisons.  By default, this function performs case insensitive sorts.The first argument must be the array containing the objects.

The subsequent argument(s) must be a comma separated list of strings that reference the different object properties to sort by.  The last argument (which is optional) is a boolean to choose whether or not to perform case sensitive sorts - use true for case sensitive sorts.The function will sort each property/key in ascending order by default.  If you want a particular key to sort in descending order, then instead pass in an array in this format: ['property_name', true].Here are some sample uses of the function followed by an explanation (where homes is an array containing the objects):objSort(homes, 'city') --> sort by city (ascending, case in-sensitive)objSort(homes, ['city', true]) --> sort by city (descending, case in-sensitive)objSort(homes, 'city', true) --> sort by city then price (ascending, case sensitive)objSort(homes, 'city', 'price') --> sort by city then price (both ascending, case in-sensitive)objSort(homes, 'city', ['price', true]) --> sort by city (ascending) then price (descending), case in-sensitive)And without further ado, here's the function:And here's some sample data:Here's another one that's perhaps closer to your idea for the syntaxDemo: http://jsfiddle.net/Nq4dk/2/Edit: Just for fun, here's a variation that just takes an sql-like string, so you can do sortObjects(homes, "city, price desc")This is a complete cheat but I think that it adds value to this question because it's basically a canned library function that you can use out-of-the box.If your code has access to lodash or a lodash compatible library like underscore then you can use the _.sortBy method. The snippet below is copied directly from the lodash documentation.The commented results in the examples looks like they return arrays of arrays but that's just showing the order and not the actual results which are an array of objects.Simpler one:I like SnowBurnt's approach but it needs a tweak to test for equivalence on city NOT a difference.Here is a generic version of @Snowburnt's solution:This is based on a sort routine I'm using.  I didn't test this specific code so it may have errors but you get the idea.  The idea is to sort based on the first field that indicates a difference and then stop and go to the next record.  So, if you're sorting by three fields and the first field in the compare is enough to determine the sort order of the two records being sorted then return that sort result and go to the next record.  I tested it (actually with a little more complex sort logic) on 5000 records and it did it in the blink of an eye.  If you're actually loading more than 1000 records to the client you should probably be using sever-side sorting and filtering.This code isn't handling case-sensitivity but I leave it to the reader to handle this trivial modification.Here's my solution based on the Schwartzian transform idiom, hope you find it useful.Here's an example how to use it:Another waysimple solution:If you need to sort more fields, add more ||How to use (put -(minus) sign before field if you want to sort in descending order particular field)Using above function you can sort any json array with multiple fields. No need to change function body at allAdaptation of @chriskelly 's answer. Most answers overlook that price will not sort properly if the value is in the ten thousands and lower or over a million. The resaon being JS sorts alphabetically. It was answered pretty well here, Why can't JavaScript sort "5, 10, 1" and here How to sort an array of integers correctly.Ultimately we have to do some evaluation if the field or node we're sorting by is an number. I am not saying that using parseInt() in this case is the correct answer, the sorted results are more important.A fiddle to test withWow, there are some complex solutions here. So complex I decided to come up with something simpler but also quite powerful. Here it is;And here is an example of how you use it.This will first sort by the precedence of the attributes, then by the value of the attributes.Here's an extensible way to sort by multiple fields.NotesI think this may be the easiest way to do it.https://coderwall.com/p/ebqhca/javascript-sort-by-two-fieldsIt's really simple and I tried it with 3 different key value pairs and it worked great.Here is a simple example, look at the link for more detailsHere is mine for your reference, with example:I was looking for something similar and ended up with this:First we have one or more sorting functions, always returning either 0, 1 or -1:You can create more functions for each other property you want to sort on.Then I have a function that combines these sorting functions into one:This can be used to combine the above sorting functions in a readable way:When a sorting function returns 0 the next sorting function will be called for further sorting.Here's a generic multidimensional sort, allowing for reversing and/or mapping on each level.Written in Typescript. For Javascript, check out this JSFiddleSorting a people array by last name, then first name:Sort language codes by their name, not their language code (see map), then by descending version (see reverse).Just another option. Consider to use the following utility function:Example of usage (in your case):It should be noted that this function can be even more generalized in order to be able to use nested properties like 'address.city' or 'style.size.width' etc.This is a recursive algorithm to sort by multiple fields while having the chance to format values before comparison.If a and b are equal it will just try the next field until none is available.Here 'AffiliateDueDate' and 'Title' are columns, both are sorted in ascending order.Sorting on two date fields and a numeric field example:http://jsfiddle.net/hcWgf/57/Using :How about this simple solution:

Based on this question javascript sort array by multiple (number) fields

How to access camera on iOS11 home screen web app?

ajayel

[How to access camera on iOS11 home screen web app?](https://stackoverflow.com/questions/46228218/how-to-access-camera-on-ios11-home-screen-web-app)

We cannot access camera from an iOS11 (public release) home screen web app using either WebRTC or the file input, details below. How can our users continue to access the camera please?We are serving the web app page over https.Update, April

The public release of iOS 11.3 seems to have fixed the issue and file input camera access is working again!Update, MarchAs people here have said the Apple docs advise web app camera function is returning in 11.3 along with service workers.  This is good but we are not sure yet if we want to everyone to to reinstall again until we can thoroughly test on 11.3GM.  Solution, November

We lost hope Apple want to fix this and moved forward.  Modified our web app to remove the iOS "Add to home screen" function and asked affected users to remove any previous home screen icon.Update, 6 DecemberiOS 11.2 and iOS 11.1.2 don't fix. Workarounds, 21 SeptemberSeems we could ask existing customers of the web app Our current production code uses a file input which has worked fine for years with iOS 10 and older. On iOS11 it works as a Safari tab but not from the home screen app. In the latter case the camera is opened and only a black screen is shown, hence it is unusable.Safari 11 on iOS11 offers WebRTC media capture which is great.  We can capture a camera image to canvas on a normal web page on desktop and mobile using navigator.mediaDevices.getUserMedia per the sample code linked here.  When we add the page to iPad or iPhone home screen, navigator.mediaDevices becomes undefined and unusable. 

2017-09-14 21:06:08Z

We cannot access camera from an iOS11 (public release) home screen web app using either WebRTC or the file input, details below. How can our users continue to access the camera please?We are serving the web app page over https.Update, April

The public release of iOS 11.3 seems to have fixed the issue and file input camera access is working again!Update, MarchAs people here have said the Apple docs advise web app camera function is returning in 11.3 along with service workers.  This is good but we are not sure yet if we want to everyone to to reinstall again until we can thoroughly test on 11.3GM.  Solution, November

We lost hope Apple want to fix this and moved forward.  Modified our web app to remove the iOS "Add to home screen" function and asked affected users to remove any previous home screen icon.Update, 6 DecemberiOS 11.2 and iOS 11.1.2 don't fix. Workarounds, 21 SeptemberSeems we could ask existing customers of the web app Our current production code uses a file input which has worked fine for years with iOS 10 and older. On iOS11 it works as a Safari tab but not from the home screen app. In the latter case the camera is opened and only a black screen is shown, hence it is unusable.Safari 11 on iOS11 offers WebRTC media capture which is great.  We can capture a camera image to canvas on a normal web page on desktop and mobile using navigator.mediaDevices.getUserMedia per the sample code linked here.  When we add the page to iPad or iPhone home screen, navigator.mediaDevices becomes undefined and unusable. We have quite similar problem. So far the only workaround we were able to do is to remove the meta tag for it to be "apple-mobile-web-app-capable" and let users to open it in Safari, where everything seems to work normally.Update: While some earlier published changelogs and postings led me to believe that Web Apps using a manifest.json instead of apple-mobile-web-app-capable would finally have access to a proper WebRTC implementation, unfortunately this is not true, as others here have pointed out and testing has confirmed. Sad face.

Sorry for the inconveniences caused by this and let's hope that one lucky day in a galaxy far, far away Apple will finally give us camera access in views powered by (non-Safari) WebKit...Yes, as others have mentioned, getUserMedia is only available directly in Safari but neither in a UIWebView nor WKWebView, so unfortunately your only choices are  Here's to hoping Apple removes this WebRTC restriction rather sooner than later...  Source:

For developers that use WebKit in their apps, RTCPeerConnection and RTCDataChannel are available in any web view, but access to the camera and microphone is currently limited to Safari.Good news! The camera finally seems to be accessible from a home screen web app in the first iOS 11.3 beta.I have made a repo with a few files, which demonstrate that it works:https://github.com/joachimboggild/uploadtestSteps to test:Now the camera should work normally and not be a black screen. This demonstrates that the functionality works again.I must add that I use a plain  field, not getUserMedia or somesuch. I do not know if that works.Apparently is solved in "ios 13 beta 1":

https://twitter.com/ChromiumDev/status/1136541745158791168?s=09This seems to be working again in iOS 11.4 if you are using a file input field.

Where can I learn jQuery? Is it worth it?

Jiaaro

[Where can I learn jQuery? Is it worth it?](https://stackoverflow.com/questions/27242/where-can-i-learn-jquery-is-it-worth-it)

I've had a lot of good experiences learning about web development on w3schools.com. It's hit or miss, I know, but the PHP and CSS sections specifically have proven very useful for reference.Anyway, I was wondering if there was a similar site for jQuery. I'm interested in learning, but I need it to be online/searchable, so I can refer back to it easily when I need the information in the future.Also, as a brief aside, is jQuery worth learning? Or should I look at different JavaScript libraries? I know Jeff uses jQuery on Stack Overflow and it seems to be working well.Thanks!Edit: jQuery's website has a pretty big list of tutorials, and a seemingly comprehensive documentation page. I haven't had time to go through it all yet, has anyone else had experience with it?Edit 2: It seems Google is now hosting the jQuery libraries. That should give jQuery a pretty big advantage in terms of publicity. Also, if everyone uses a single unified aQuery library hosted at the same place, it should get cached for most Internet users early on and therefore not impact the download footprint of your site should you decide to use it.Edit 3: I started using jQuery on a project at work recently and it is great to work with! Just wanted to let everyone know that I have concluded it is ABSOLUTELY worth it to learn and use jQuery.Also, I learned almost entirely from the Official jQuery documentation and tutorials. It's very straightforward.jQuery is a part of just about every web app I've made since I initially wrote this post. It makes progressive enhancement a breeze, and helps make the code maintainable.Also, all the jQuery plug-ins are an invaluable resource!Still using jQuery just about every day. I now author jQuery plug-ins and consult full time. I'm primarily a Djangonaut but I've done several javascript only contracts with jQuery. It's a life saver.From one jQuery user to another... You should look at templating with jQuery (or underscore -- see below).Other things I've found valuable in addition to jQuery (with estimated portion of projects I use it on):

2008-08-26 01:58:23Z

I've had a lot of good experiences learning about web development on w3schools.com. It's hit or miss, I know, but the PHP and CSS sections specifically have proven very useful for reference.Anyway, I was wondering if there was a similar site for jQuery. I'm interested in learning, but I need it to be online/searchable, so I can refer back to it easily when I need the information in the future.Also, as a brief aside, is jQuery worth learning? Or should I look at different JavaScript libraries? I know Jeff uses jQuery on Stack Overflow and it seems to be working well.Thanks!Edit: jQuery's website has a pretty big list of tutorials, and a seemingly comprehensive documentation page. I haven't had time to go through it all yet, has anyone else had experience with it?Edit 2: It seems Google is now hosting the jQuery libraries. That should give jQuery a pretty big advantage in terms of publicity. Also, if everyone uses a single unified aQuery library hosted at the same place, it should get cached for most Internet users early on and therefore not impact the download footprint of your site should you decide to use it.Edit 3: I started using jQuery on a project at work recently and it is great to work with! Just wanted to let everyone know that I have concluded it is ABSOLUTELY worth it to learn and use jQuery.Also, I learned almost entirely from the Official jQuery documentation and tutorials. It's very straightforward.jQuery is a part of just about every web app I've made since I initially wrote this post. It makes progressive enhancement a breeze, and helps make the code maintainable.Also, all the jQuery plug-ins are an invaluable resource!Still using jQuery just about every day. I now author jQuery plug-ins and consult full time. I'm primarily a Djangonaut but I've done several javascript only contracts with jQuery. It's a life saver.From one jQuery user to another... You should look at templating with jQuery (or underscore -- see below).Other things I've found valuable in addition to jQuery (with estimated portion of projects I use it on):Rick Strahl and Matt Berseth's blogs both tipped me into jQuery and man am I glad they did. jQuery completely changes a) your client programming perspective, b) the grief it causes it you, and c) how much fun it can be! http://www.west-wind.com/weblog/http://mattberseth.com/I used the book jQuery in Action 

http://www.amazon.com/jQuery-Action-Bear-Bibeault/dp/1933988355/ref=sr_1_1?ie=UTF8&s=books&qid=1219716122&sr=1-1 (I bought it used at Amazon for about $22). It has been a big help into bootstrapping me into jQuery. The documentation at jquery.com are also very helpful.A place where jQuery falls a little flat is with its UI components. Those don't seem to be quite ready for primetime just yet. It could be that Prototype or MooTools or ExtJS are as good as jQuery. But for me, jQuery seems to have a little more momentum behind it right now and that counts for something for me. Check jQuery out. It is very cool! A great resource for learning jQuery is: Learning jQuery. The author, Karl Swedberg, also co-wrote the book titled... ready? Yup, Learning jQuery.  Remy Sharp also has great info geared towards the visual aspects of jQuery on his blog.--SEAN OI used Prototype for about six months before I decided to learn jQuery.  To me, it was like a night and day difference.  For example, in Prototype you will loop over a set of elements checking if one exists and then setting something in it, in jQuery you just say $('div.class').find('[name=thing]') or whatever and set it.It's so much easier to use and feels a lot more powerful.  The plugin support is also great.  For almost any common js pattern, there's a plugin that does what you want.  With prototype, you'll be googling for blogs that have the snippet of code you need.It is very much worth it. jQuery really makes JavaScript fun again. It's as if all of JavaScript best practices were wrapped up into a single library.I learned it through jQuery in Action (Manning), which I whipped through over a weekend. It's a little bit behind the current state of affairs, especially in regard to plug-ins, but it's a great introduction.There are numerous JavaScript libraries that are worth at least a cursory review to see if they suit your particular need. First, come up with a short list of criteria to guide your selection and evaluation process.Then, check out a high level framework comparison/reviews somewhere like Wikipedia, select a few that fit your criteria and interest you.  Test them out to see how they work for you. Most, if not all, of these libraries have websites w/ reference documentation and user group type support. To put some names out there, Prototype, script.aculo.us, Jquery, Dojo, YUI...those all seem to have active users and contributers, so they are probably worth reading up on to see if they meet your needs.Jquery is good, but with a little extra effort, maybe you'll find that something else works better for you. Good luck.I found that these series of tutorials (「jQuery for Absolute Beginners」Video Series) by Jeffery Way are VERY HELPFUL.It targets those developers who are new to jQuery. He shows how to create many cool stuff with jQuery, like animation, Creating and Removing Elements and more.I learned a lot from it. He shows how it's easy to use jQuery.

Now I love it and I can read and understand any jQuery script even if it's complex.Here is one example I like "Resizing Text"1- jQuery:2- CSS Styling:2- HTML:I highly recommend these tutorials:http://blog.themeforest.net/screencasts/jquery-for-absolute-beginners-video-series/There are a number of resources to learn jQuery (which is completely worth it IMHO). Start here http://docs.jquery.com/Main_Page to read the jQuery documentation. This is a great site for seeing visually what it has to offer:

http://visualjquery.com/1.1.2.html. Manning publications also has a great book which is highly recommended called jQuery in Action. As far as JavaScript libraries are concerned, this one and Prototype are probably the most popular if you're looking to compare jQuery to something else.I started learning by looking at jQuery extensions to see how other developers work with the jQuery language.  It not only helped me to learn jQuery syntax but also taught me how to develop my own extensions.jQuery worths learning!!! I recommend reading "Learning jQuery" and "jQuery in Action". Both books are great with expalanation and examples. The next step is to actually use it to do something. You will find official http://docs.jquery.com docummentation very useful. I use it as a reference, google it all the time :)Also "Learning jQuery" blog mensioned by Sean is also very useful. Also jQuery HowTo is also has a great collection of jQuery code snippets.I haven't seen JQ-Fundamentals - by Rebecca Murphey mentioned anywhere here.It is a very good book. It also explains the fundamentals of JavaScript required to understand the basics of JQuery.Jquery.com is well organized and has many great examples. You don't need to buy a book. I found it easy to pickup on the fly by just referencing website's documentation. If you're someone who learns best by doing, I'd suggest this approach.And yes, it's absolutely worth learning. It'll save you a lot of time and you'll actually look forward to doing JavaScript work!I use Prototype, which I like. I'm afraid I don't know jQuery, so I can't compare them, but I think Prototype is worth checking out. Their API docs are generally pretty good, in my experience (which certainly helps with learnability).Hey, I am biased in that I now work with these guys, but Carsonified offers some great resources for people learning and improving their jQuery skill set.

Just next Monday there is an online conference on jQuery featuring John Resig himself - http://carsonified.com/online-conferences/jquery/Also, they now offer video tutorials via their membership scheme on the Think Vitamin blog,I know there's a lot of free resource out there, I guess the difference here is the quality of the content you get. hope it's useful!Below link my be helpful for you if you know SQL (Only css selectors).http://karticles.com/2011/06/learning-jquery-with-sql-basic-selectorshttp://karticles.com/2011/06/learning-jquery-with-sql-attribute-selectors

Change how fast「title」attribute's tooltip appears

Proffesor

[Change how fast「title」attribute's tooltip appears](https://stackoverflow.com/questions/9150796/change-how-fast-title-attributes-tooltip-appears)

Is there a way to change how fast the tooltip from an element's "title" attribute? I'd like it if the tooltip appeared immediately, but it seems to take a few seconds to apear.

2012-02-05 16:21:59Z

Is there a way to change how fast the tooltip from an element's "title" attribute? I'd like it if the tooltip appeared immediately, but it seems to take a few seconds to apear.No, there's no way. The title attribute is implemented in a browser dependent fashion. For example I remember differences between IE and FF when using \r\n inside it. Mozilla's docs explain the limits and functionality well.If you want customization you may take a look at third party plugins such as qTip2 which mimic it using divs and stuff and provide you full control.You could use jqueryUI as suggested. An example of controlling the duration on the show property:Jquery UI tooltip is extremely simple and customizable: Just download or include jquery UI in your page.If you want all the tooltips of your page to show immediately at hover, just use this:Note that this applies to all elements that have a 'title' attribute.

You can modify the selector to affect only a class, and set custom speed or effect:It isn't possible to change how fast default browser's tooltip appear, but you can use one of the tooltip plugins (here is few: http://www.1stwebdesigner.com/css/stylish-jquery-tooltip-plugins-webdesign/ ) where you can customise lot's of things, including delay. 

How does inline Javascript (in HTML) work?

Steven Lu

[How does inline Javascript (in HTML) work?](https://stackoverflow.com/questions/10607847/how-does-inline-javascript-in-html-work)

I know this is bad practice. Don't write code like this if at all possible. Of course, we'll always find ourselves in situations where a clever snippet of inline Javascript can address an issue quickly. I am pursuing this query in the interest of fully understanding what happens (and the potential pitfalls) when something like this is written: As far as I can tell this is functionally the same as Extrapolating from this it seems that the string assigned to attribute onclick is inserted within an anonymous function which is assigned to the element's click handler. Is this actually the case? Because I'm starting to do things like this: Which works. But I don't know how much of a hack this is. It looks suspicious because there is no apparent function that is being returned from!You might ask, why are you doing this, Steve? Inline JS is bad practice! Well to be quite honest I'm tired of editing three different sections of code just to modify one section of a page, especially when I'm just prototyping something to see if it will work at all. It is so much easier and sometimes even makes sense for the code specifically related to this HTML element to be defined right within the element: When I decide 2 minutes later that this was a terrible, terrible idea I can nuke the entire div (or whatever) and I don't have a bunch of mysterious JS and CSS cruft hanging around in the rest of the page, slowing down rendering ever so slightly. This is similar to the concept of locality of reference but instead of cache misses we're looking at bugs and code bloat. 

2012-05-15 19:54:40Z

I know this is bad practice. Don't write code like this if at all possible. Of course, we'll always find ourselves in situations where a clever snippet of inline Javascript can address an issue quickly. I am pursuing this query in the interest of fully understanding what happens (and the potential pitfalls) when something like this is written: As far as I can tell this is functionally the same as Extrapolating from this it seems that the string assigned to attribute onclick is inserted within an anonymous function which is assigned to the element's click handler. Is this actually the case? Because I'm starting to do things like this: Which works. But I don't know how much of a hack this is. It looks suspicious because there is no apparent function that is being returned from!You might ask, why are you doing this, Steve? Inline JS is bad practice! Well to be quite honest I'm tired of editing three different sections of code just to modify one section of a page, especially when I'm just prototyping something to see if it will work at all. It is so much easier and sometimes even makes sense for the code specifically related to this HTML element to be defined right within the element: When I decide 2 minutes later that this was a terrible, terrible idea I can nuke the entire div (or whatever) and I don't have a bunch of mysterious JS and CSS cruft hanging around in the rest of the page, slowing down rendering ever so slightly. This is similar to the concept of locality of reference but instead of cache misses we're looking at bugs and code bloat. You've got it nearly correct, but you haven't accounted for the this value supplied to the inline code.is actually closer to:Inline event handlers set this equal to the target of the event.

You can also use anonymous function in inline scriptWhat the browser does when you've gotis to set the actual value of "onclick" to something effectively like:That is, it creates a function that expects an "event" parameter.  (Well, IE doesn't; it's more like a plain simple anonymous function.)There seems to be a lot of bad practice being thrown around Event Handler Attributes. Bad practice is not knowing and using available features where it is most appropriate. The Event Attributes are fully W3C Documented standards and there is nothing bad practice about them. It's no different than placing inline styles, which is also W3C Documented and can be useful in times. Whether you place it wrapped in script tags or not, it's gonna be interpreted the same way.https://www.w3.org/TR/html5/webappapis.html#event-handler-idl-attributesThe best way to answer your question is to see it in action. In the js As you see in the console, if you're using chrome it prints an anonymous function with the event object passed in, although it's a little different in IE.  I agree with some of your points about inline event handlers. Yes they are easy to write, but i don't agree with your point about having to change code in multiple places, if you structure your code well, you shouldn't need to do this. It is an anonymous function that has been attached to the click event of the object.Why on earth are you doi.....Ah nevermind, as you've mentioned, it really is widely adopted bad practice :)Try this in the console:In Chrome, it shows this:...and the non-standard name property of div.onclick is "onclick".So, whether or not this is anonymous depends your definition of "anonymous." Compare with something like var foo = new Function(), where foo.name is an empty string, and foo.toString() will produce something like

Remove all the children DOM elements in div

David.Chu.ca

[Remove all the children DOM elements in div](https://stackoverflow.com/questions/683366/remove-all-the-children-dom-elements-in-div)

I have the following dojo codes to create a surface graphics element under a div:drawRec() will draw a rectangle graphics first time. If I call this function again in an anchor href like this:it will draw another graphics again. What I need to clean all the graphics under the div and then create again. How can I add some dojo codes to do that? 

2009-03-25 20:42:02Z

I have the following dojo codes to create a surface graphics element under a div:drawRec() will draw a rectangle graphics first time. If I call this function again in an anchor href like this:it will draw another graphics again. What I need to clean all the graphics under the div and then create again. How can I add some dojo codes to do that? Non-standard, but fast and well supported.First of all you need to create a surface once and keep it somewhere handy. Example:domNode is usually an unadorned <div>, which is used as a placeholder for a surface.You can clear everything on the surface in one go (all existing shape objects will be invalidated, don't use them after that):All surface-related functions and methods can be found in the official documentation on dojox.gfx.Surface. Examples of use can be found in dojox/gfx/tests/.In Dojo 1.7 or newer, use domConstruct.empty(String|DomNode):In older Dojo, use dojo.empty(String|DomNode) (deprecated at Dojo 1.8):Each of these empty methods safely removes all children of the node.From the dojo API documentation:If you are looking for a modern >1.7 Dojo way of destroying all node's children this is the way:Check "dom-construct" documentation for more details.

Detect Click into Iframe using JavaScript

Russ Bradberry

[Detect Click into Iframe using JavaScript](https://stackoverflow.com/questions/2381336/detect-click-into-iframe-using-javascript)

I understand that it is not possible to tell what the user is doing inside an iframe if it is cross domain.  What I would like to do is track if the user clicked at all in the iframe.  I imagine a scenario where there is an invisible div on top of the iframe and the the div will just then pass the click event to the iframe.  Is something like this possible?  If it is, then how would I go about it?  The iframes are ads, so I have no control over the tags that are used.

2010-03-04 17:25:21Z

I understand that it is not possible to tell what the user is doing inside an iframe if it is cross domain.  What I would like to do is track if the user clicked at all in the iframe.  I imagine a scenario where there is an invisible div on top of the iframe and the the div will just then pass the click event to the iframe.  Is something like this possible?  If it is, then how would I go about it?  The iframes are ads, so I have no control over the tags that are used.No. All you can do is detect the mouse going into the iframe, and potentially (though not reliably) when it comes back out (ie. trying to work out the difference between the pointer passing over the ad on its way somewhere else versus lingering on the ad).Nope, there is no way to fake a click event.By catching the mousedown you'd prevent the original click from getting to the iframe. If you could determine when the mouse button was about to be pressed you could try to get the invisible div out of the way so that the click would go through... but there is also no event that fires just before a mousedown.You could try to guess, for example by looking to see if the pointer has come to rest, guessing a click might be about to come. But it's totally unreliable, and if you fail you've just lost yourself a click-through.This is certainly possible. This works in Chrome, Firefox, and IE 11 (and probably others).JSFiddleCaveat: This only detects the first click. As I understand, that is all you want.Based on Mohammed Radwan's answer I came up with the following jQuery solution. Basically what it does is keep track of what iFrame people are hovering. Then if the window blurs that most likely means the user clicked the iframe banner.the iframe should be put in a div with an id, to make sure you know which iframe the user clicked on:so:...

this keeps overiFrame at -1 when no iFrames are hovered, or the 'bannerid' set in the wrapping div when an iframe is hovered. All you have to do is check if 'overiFrame' is set when the window blurs, like so:

...Very elegant solution with a minor downside: if a user presses ALT-F4 when hovering the mouse over an iFrame it will log it as a click. This only happened in FireFox though, IE, Chrome and Safari didn't register it. Thanks again Mohammed, very useful solution!This is small solution that works in all browsers even IE8:You can test it here: http://jsfiddle.net/oqjgzsm0/The following code will show you if the user click/hover or move out of the iframe:-You need to replace the src in the iframe with your own link. Hope this'll help.

Regards,

Mo.Just found this solution...

I tried it, I loved it..Works for cross domain iframes for desktop and mobile!Don't know if it is foolproof yetHappy codingYou can achieve this by using the blur event on window element.Here is a jQuery plugin for tracking click on iframes (it will fire a custom callback function when an iframe is clicked) :

https://github.com/finalclap/iframeTracker-jqueryUse it like this :see http://jsfiddle.net/Lcy797h2/ for my long winded solution that doesn't work reliably in IEThis works for me on all browsers (included Firefox)https://gist.github.com/jaydson/1780598https://jsfiddle.net/sidanmor/v6m9exsw/<iframe id="idanmorblog" src="https://sidanmor.com/" style="width:400px;height:600px" ></iframe>Mohammed Radwan,

Your solution is elegant. To detect iframe clicks in Firefox and IE, you can use a simple method with document.activeElement and a timer, however... I have searched all over the interwebs for a method to detect clicks on an iframe in Chrome and Safari. At the brink of giving up, I find your answer. Thank you, sir!Some tips:

I have found your solution to be more reliable when calling the init() function directly, rather than through attachOnloadEvent(). Of course to do that, you must call init() only after the iframe html. So it would look something like:You can do this to bubble events to parent document:Just extend the eventlist for more events.I ran into a situation where I had to track clicks on a social media button pulled in through an iframe. A new window would be opened when the button was clicked. Here was my solution:http://jsfiddle.net/QcAee/406/ Just make a invisible layer over the iframe that go back when click and go up when mouseleave event will be fired !!

Need jQuerythis solution don't propagate first click inside iframe!This definitely works if the iframe is from the same domain as your parent site. I have not tested it for cross-domain sites.Without jQuery you could try something like this, but again I have not tried this.You can even filter your results:Combining above answer with ability to click again and again without clicking outside iframe.I believe you can do something like:using jQuery to accomplish this.As found there : Detect Click into Iframe using JavaScript=> We can use iframeTracker-jquery :Based in the answer of Paul Draper, I created a solution that work continuously when you have Iframes that open other tab in the browser. When you return the page continue to be active to detect the click over the framework, this is a very common situation:The Code is simple, the blur event detect the lost of focus when the iframe is clicked, and test if the active element is the iframe (if you have several iframe you can know who was selected) this situation is frequently when you have publicity frames.The second event trigger a focus method when you return to the page. it is used the visibility change event.Here is solution using suggested approaches with hover+blur and active element tricks, not any libraries, just pure js. Works fine for FF/Chrome. Mostly approache is same as @Mohammed Radwan proposed, except that I use different method proposed by @zone117x to  track iframe click for FF, because window.focus is not working without addition user settings:Here is compound method:

Moment.js - how do I get the number of years since a date, not rounded up?

aknuds1

[Moment.js - how do I get the number of years since a date, not rounded up?](https://stackoverflow.com/questions/14057497/moment-js-how-do-i-get-the-number-of-years-since-a-date-not-rounded-up)

I'm trying to calculate a person's age using Moment.js, but I'm finding that the otherwise useful fromNow method rounds up the years. For instance, if today is 12/27/2012 and the person's birth date is 02/26/1978, moment("02/26/1978", "MM/DD/YYYY").fromNow() returns '35 years ago'. How can I make Moment.js ignore the number of months, and simply return the number of years (i.e. 34) since the date?

2012-12-27 16:00:47Z

I'm trying to calculate a person's age using Moment.js, but I'm finding that the otherwise useful fromNow method rounds up the years. For instance, if today is 12/27/2012 and the person's birth date is 02/26/1978, moment("02/26/1978", "MM/DD/YYYY").fromNow() returns '35 years ago'. How can I make Moment.js ignore the number of months, and simply return the number of years (i.e. 34) since the date?Using moment.js is as easy as:For additional reference, you can read moment.js official documentation.http://jsfiddle.net/xR8t5/27/if you do not want fraction values:if you want fraction values:Units can be [seconds, minutes, hours, days, weeks, months, years]There appears to be a difference function that accepts time intervals to use as well as an option to not round the result. So, something like I haven't tried this, and I'm not completely familiar with moment, but it seems like this should get what you want (without having to reset the month).I found that it would work to reset the month to January for both dates (the provided date and the present):This method is easy and powerful.Value is a date  and  "DD-MM-YYYY" is the mask of the date.Try this:   Explanation:We receive string something like this: '23 days ago'. Split it to array: ['23', 'days', 'ago'] and then take first item '23'.This method works for me. It's checking if the person has had their birthday this year and subtracts one year otherwise.Edit: First version didn't quite work perfectly. The updated one shouldIf you dont want to use any module for age calculationWhen you want to show years and the remaining days:I prefer this small method.

Making custom right-click context menus for my web-app

Gordon Gustafson

[Making custom right-click context menus for my web-app](https://stackoverflow.com/questions/4495626/making-custom-right-click-context-menus-for-my-web-app)

I've a few websites like google-docs and map-quest that have custom drop down menus when you right-click. Somehow they override the browser's behavior of drop-down menu, and I'm now sure exactly how they do it. I found a jQuery plugin that does this, but I'm still curious about a few things:See several custom-context menus in action

2010-12-21 01:37:22Z

I've a few websites like google-docs and map-quest that have custom drop down menus when you right-click. Somehow they override the browser's behavior of drop-down menu, and I'm now sure exactly how they do it. I found a jQuery plugin that does this, but I'm still curious about a few things:See several custom-context menus in actionI know this question is very old, but just came up with the same problem and solved it myself, so I'm answering in case anyone finds this through google as I did. I based my solution on @Andrew's one, but basically modified everything afterwards.EDIT: seeing how popular this has been lately, I decided to update also the styles to make it look more like 2014 and less like windows 95. I fixed the bugs @Quantico and @Trengot spotted so now it's a more solid answer.EDIT 2: I set it up with StackSnippets as they're a really cool new feature. I leave the good jsfiddle here for reference thought (click on the 4th panel to see them work).New Stack Snippet:Note: you might see some small bugs (dropdown far from the cursor, etc), please make sure that it works in the jsfiddle, as that's more similar to your webpage than StackSnippets might be.As Adrian said, the plugins are going to work the same way.  There are three basic parts you're going to need:1: Event handler for 'contextmenu' event:Here, you could bind the event handler to any selector that you want to show a menu for.  I've chosen the entire document.2: Event handler for 'click' event (to close the custom menu):3: CSS to control the position of the menu:The important thing with the CSS is to include the z-index and position: absoluteIt wouldn't be too tough to wrap all of this in a slick jQuery plugin.You can see a simple demo here: http://jsfiddle.net/andrewwhitaker/fELma/The browser's context menu is being overridden. There is no way to augment the native context menu in any major browser.Since the plugin is creating its own menu, the only part thats really being abstracted is the browser's context menu event. The plugin creates an html menu based on your configuration, then places that content at the location of your click.Yes, this is the only way to go about creating a custom context menu. Obviously, different plugins do things slightly different, but they will all override the browser's event and place their own html-based menu in the correct place.here is an example for right click context menu in javascript:

Right Click Context MenuUsed raw javasScript Code for context menu functionality. Can you please check this, hope this will help you.Live Code: You can watch this tutorial: http://www.youtube.com/watch?v=iDyEfKWCzhg

Make sure the context menu is hidden at first and has a position of absolute. This will 

ensure that there won't be multiple context menu and useless creation of context menu. The link to the page is placed in the description of the YouTube video.I know that this is rather old also. I recently had a need to create a context menu that I inject into other sites that have different properties based n the element clicked.It's rather rough, and there are probable better ways to achieve this.

It uses the jQuery Context menu Library Located HereI enjoyed creating it and though that you guys might have some use out of it.Here is the fiddle. I hope that it can hopefully help someone out there.

How to change CSS using jQuery?

user449914

[How to change CSS using jQuery?](https://stackoverflow.com/questions/3730035/how-to-change-css-using-jquery)

I am trying to change the CSS using jQuery:What am I missing here?

2010-09-16 19:25:45Z

I am trying to change the CSS using jQuery:What am I missing here?Ignore the people that are suggesting that the property name is the issue.  The jQuery API documentation explicitly states that either notation is acceptable: http://api.jquery.com/css/The actual problem is that you are missing a closing curly brace on this line:Change it to this:Here's a working demo: http://jsfiddle.net/YPYz8/You can do either:Or:To clear things up a little, since some of the answers are providing incorrect information:The jQuery .css() method allows the use of either DOM or CSS notation in many cases. So, both backgroundColor and background-color will get the job done.Additionally, when you call .css() with arguments you have two choices as to what the arguments can be. They can either be 2 comma separated strings representing a css property and its value, or it can be a Javascript object containing one or more key value pairs of CSS properties and values.In conclusion the only thing wrong with your code is a missing }. The line should read:You cannot leave the curly brackets out, but you may leave the quotes out from around backgroundColor and color. If you use background-color you must put quotes around it because of the hyphen.In general, it's a good habit to quote your Javascript objects, since problems can arise if you do not quote an existing keyword.A final note is that about the jQuery .ready() methodis synonymous with:as well as with a third not recommended form.This means that $(init) is completely correct, since init is the handler in that instance. So, init will be fired when the DOM is constructed.When you are using Multiple css property with jQuery then you must use the curly Brace in starting and in the end. You are missing the ending curly brace.You can have a look at this jQuery CSS Selector tutorial. Just wanted to add that when using numbers for values with the css method you have to add them outside the apostrophe and then add the CSS unit in apostrophes.orThe .css() method makes it super simple to find and set CSS properties and combined with other methods like .animate(), you can make some cool effects on your site.In its simplest form, the .css() method can set a single CSS property for a particular set of matched elements. You just pass the property and value as strings and the element’s CSS properties are changed.$('.example').css('background-color', 'red');This would set the ‘background-color’ property to ‘red’ for any element that had the class of ‘example’.But you aren’t limited to just changing one property at a time. Sure, you could add a bunch of identical jQuery objects, each changing just one property at a time, but this is making several, unnecessary calls to the DOM and is a lot of repeated code.Instead, you can pass the .css() method a Javascript object that contains the properties and values as key/value pairs. This way, each property will then be set on the jQuery object all at once.This will change all of these CSS properties on the ‘.example’ elements.$(".radioValue").css({"background-color":"-webkit-linear-gradient(#e9e9e9,rgba(255, 255, 255, 0.43137254901960786),#e9e9e9)","color":"#454545",    "padding": "8px"});wrong code:$("#myParagraph").css({"backgroundColor":"black","color":"white");its  missing   "}" after white"change it to this

Use underscore inside Angular controllers

Pablo

[Use underscore inside Angular controllers](https://stackoverflow.com/questions/14968297/use-underscore-inside-angular-controllers)

How do I use underscore library inside angularjs controllers?On this post: AngularJS limitTo by last 2 records

 somebody suggested to assign an _ variable to the rootScope so that the library will be available to all the scopes within the app. But I'm not clear where to do it. I mean should it go on the app module declaration? i.e: But then where do I load underscore lib? I just have on my index page the ng-app directive and script reference to both the angular-js and underscore libs?index.html:How do I achieve this?

2013-02-19 21:59:16Z

How do I use underscore library inside angularjs controllers?On this post: AngularJS limitTo by last 2 records

 somebody suggested to assign an _ variable to the rootScope so that the library will be available to all the scopes within the app. But I'm not clear where to do it. I mean should it go on the app module declaration? i.e: But then where do I load underscore lib? I just have on my index page the ng-app directive and script reference to both the angular-js and underscore libs?index.html:How do I achieve this?When you include Underscore, it attaches itself to the window object, and so is available globally.So you can use it from Angular code as-is.You can also wrap it up in a service or a factory, if you'd like it to be injected:And then you can ask for the _ in your app's module:I have implemented @satchmorun's suggestion here:

https://github.com/andresesfm/angular-underscore-moduleTo use it:I use this:See https://github.com/angular/angular.js/wiki/Understanding-Dependency-Injection about halfway for some more info on run.You can also take a look at this module for angularhttps://github.com/floydsoft/angular-underscoreIf you don't mind using lodash try out https://github.com/rockabox/ng-lodash it wraps lodash completely so it is the only dependency and you don't need to load any other script files such as lodash. Lodash is completely off of the window scope and no "hoping" that it's been loaded prior to your module.you can use this module ->  https://github.com/jiahut/ng.lodashthis is for lodash so does underscore

history.replaceState() example?

Serjas

[history.replaceState() example?](https://stackoverflow.com/questions/12832317/history-replacestate-example)

Can any one give a working example for history.replaceState? This is what w3.org says:Update:This works perfectly:Url is changing, but title is not changing. Is that a bug or am I missing something? Tested on latest Chrome.

2012-10-11 04:39:55Z

Can any one give a working example for history.replaceState? This is what w3.org says:Update:This works perfectly:Url is changing, but title is not changing. Is that a bug or am I missing something? Tested on latest Chrome.Indeed this is a bug, although intentional for 2 years now.

The problem lies with some unclear specs and the complexity when document.title and back/forward are involved.See bug reference on Webkit and Mozilla.

Also Opera on the introduction of History API said it wasn't using the title parameter and probably still doesn't.Potential solutionThe only way I see is to alter the title element and use pushState instead:Here is a minimal, contrived example.There is more to replaceState() but I don't know what exactly it is that you want to do with it. history.pushState pushes the current page state onto the history stack, and changes the URL in the address bar.  So, when you go back, that state (the object you passed) are returned to you.Currently, that is all it does.  Any other page action, such as displaying the new page or changing the page title, must be done by you.The W3C spec you link is just a draft, and browser may implement it differently.  Firefox, for example, ignores the title parameter completely.Here is a simple example of pushState that I use on my website.look at the example and search location.hash;The second argument Title does not mean Title of the page - It is more of a definition/information for the state of that pageBut we can still change the title using onpopstate event, and passing the title name not from the second argument, but as an attribute from the first parameter passed as objectReference: 

http://spoiledmilk.com/blog/html5-changing-the-browser-url-without-refreshing-page/According to MDN History doc

There is clearly said that second argument is for future used not for now. You are right that second argument is deal with web-page title but currently it's ignored by all major browser.  Firefox currently ignores this parameter, although it may use it in the future. Passing the empty string here should be safe against future changes to the method. Alternatively, you could pass a short title for the state to which you're moving.I really wanted to respond to @Sev's answer.Sev is right, there is a bug inside the window.history.replaceState

How to ignore a particular directory or file for tslint?

user3330840

[How to ignore a particular directory or file for tslint?](https://stackoverflow.com/questions/34578677/how-to-ignore-a-particular-directory-or-file-for-tslint)

The IDE being used is WebStorm 11.0.3, the tslint is configured and works, but, it hangs because it tries to parse large *.d.ts library files. Is there a way to ignore a particular file or directory?

2016-01-03 16:16:33Z

The IDE being used is WebStorm 11.0.3, the tslint is configured and works, but, it hangs because it tries to parse large *.d.ts library files. Is there a way to ignore a particular file or directory?Update for tslint v5.8.0As mentioned by Saugat Acharya, you can now update tslint.json CLI Options:More information in this pull request.This feature has been introduced with tslint 3.6You can now add --exclude (or -e) see PR here.CLIyou are looking at usingCurrently using Visual Studio Code and the command to disable tslint is /* tslint:disable */worked for me. Check out this page, about 3/4 of the way down there are some disable commands https://c9.io/lijunle/tslintSomething to note. The disable above disables ALL tslint rules on that page. If you want to disable a specific rule half way down the page there is a list of rules. So you can turn off specific things such asIn addition to Michael's answer, consider a second way: adding linterOptions.exclude to tslint.jsonFor example, you may have tslint.json with following lines:Starting from tslint v5.8.0 you can set an exclude property under your linterOptions key in your tslint.json file:More information on this here.There are others who encountered the problem. Unfortunately, there is only an open issue for excluding files: https://github.com/palantir/tslint/issues/73So I'm afraid the answer is no. I had to use the **/* syntax to exclude the files in a folder:linterOptions is currently only handled by the CLI.

If you're not using CLI then depending on the code base you're using you'll need to set the ignore somewhere else. webpack, tsconfig, etcCan confirm that on version tslint 5.11.0 it works by modifying lint script in package.json by defining exclude argument:Cheers!!As an additionTo disable all rules for the next line // tslint:disable-next-lineTo disable specific rules for the next line: // tslint:disable-next-line:rule1 rule2...To disable all rules for the current line: someCode(); // tslint:disable-lineTo disable specific rules for the current line: someCode(); // tslint:disable-line:rule1

Recommended Vim plugins for JavaScript coding? [closed]

Tarek Saied

[Recommended Vim plugins for JavaScript coding? [closed]](https://stackoverflow.com/questions/4777366/recommended-vim-plugins-for-javascript-coding)

I'm new to JS & Vim. Which plugins would help me to write Javascript code?

2011-01-23 23:45:55Z

I'm new to JS & Vim. Which plugins would help me to write Javascript code?There is a very easy way to integrate JSLint or the community-driven jshint.com (which is much better IMO) with Vim using the Syntastic Vim plugin. See my other post for more info.There's also a very neat way to add tag-listing using Mozilla's DoctorJS (formerly jsctags), which is also used in Cloud9 IDE's Ace online editor.DoctorJS is currently dead. There's a new promising project called tern.js. It's currently in early beta, and should eventually replace it.There is a project ramitos/jsctags which uses tern as its engine. Just npm install -g it, and tagbar will automatically use it for javascript files.  snipMate emulates TextMate's ⇥ insertion system and comes with a bunch of useful JS snippets (among others) by default. It's extremely easy to add your own.javaScriptLint allows you to validate your code against jsl.Also you can find a variety of JavaScript syntax files on vim.org. Try them and see which one works best for you and your coding style.The native omnicomplete (ctrlx-ctrlo) works very well for me. You can make it more dynamic with autoComplPop, but it can be annoying sometimes.edit, in response to tarek11011's comment:acp doesn't work for JavaScript by default, you have to tweak it a little. Here is how I did it (dirty hack, I'm still a Vim noob):In vim-autocomplpop/plugin/acp.vim I've added php and javascript (and actionscript) to behavs so that it looks like that :A little below, there is a series of code blocks that look like that :I've duplicated this one and edited it a little bit to look like that:and did the same for actionscript and php.If you want to edit JS/CSS within a HTML document you can do :set ft=html.css.javascript in Vim's command line to make ctrlx-ctrlo work as expected on method/properties names in JS blocks and properties/values in CSS blocks. However this approach has its drawbacks, too (weird indentation…).This plugin is also useful: https://github.com/maksimr/vim-jsbeautify.

It provides full autoformatting for javascript.

One keystroke, and your code looks beautiful. It can come in handy when pasting code snippets as well.

It makes use of the popular js-beautifier, which can also be found as an online application. The latter can be found right here: http://jsbeautifier.org/.I only use one js specific vim plugin - jslint.vim - https://github.com/hallettj/jslint.vim which validates your code with jslints rules and gives you syntax errors as well.To fix indentation and autoformatting (Ctrl =): JavaScript IndentTo set indentation width, add javascript.vim file into ~/.vim/ftplugin dir with following contents (for two space indentation):

Lightweight Javascript DB for use in Node.js [closed]

ConfusedNoob

[Lightweight Javascript DB for use in Node.js [closed]](https://stackoverflow.com/questions/7233057/lightweight-javascript-db-for-use-in-node-js)

Anybody know of a lightweight yet durable database, written in Javascript, that can be used with Node.js. I don't want the 'weight' of (great) solutions like Mongo or Couch. A simple, in memory JS database with the capability to persist to disk as a file would be enough. I would only use it to store small amounts of data. Requirements:I've come across TAFFY db so far but it really doesn't seem optimized for use in Node.js. Anybody seen what I'm looking for out there?Thanks

2011-08-29 16:38:11Z

Anybody know of a lightweight yet durable database, written in Javascript, that can be used with Node.js. I don't want the 'weight' of (great) solutions like Mongo or Couch. A simple, in memory JS database with the capability to persist to disk as a file would be enough. I would only use it to store small amounts of data. Requirements:I've come across TAFFY db so far but it really doesn't seem optimized for use in Node.js. Anybody seen what I'm looking for out there?ThanksI'm only familiar with Mongo and Couch, but there's also one named Persistence.I had the same requirements as you but couldn't find a suitable database. nStore was promising but the API was not nearly complete enough and not very coherent.That's why I made NeDB, which a dependency-less embedded database for Node.js projects. You can use it with a simple require(), it is persistent, and its API is the most commonly used subset of the very well-known MongoDB API.https://github.com/louischatriot/nedbNeDB seems to be what you are looking for. From the blurb:Lokijs: A fast, in-memory document-oriented datastore for node.js, browser and cordova. LokiJS to be the ideal solution:https://github.com/techfort/LokiJSTake a look at http://www.tingodb.com. I believe it does what you looking for. Additionally it fully compatible with MongoDB API. This reduces implementation risks and gives you option to switch to heavy solution as your app grows.https://github.com/sergeyksv/tingodbTry nStore, it seems like a nice key/value lightweight dembedded db for node.

See https://github.com/creationix/nstoreI had trouble with SQLite3, nStore and Alfred.What works for me is node-dirty:LevelUP aims to expose the features of LevelDB in a Node.js-friendly way.https://github.com/rvagg/node-levelupYou can also look at UnQLite. with a node.js binding node-unqlitehttps://github.com/symisc/unqliteMaybe you should try LocallyDB it's easy-to-use and lightweight in addition to the with advanced selecting system similar to javascript conditional expression...https://github.com/btwael/locallydbUeberDB provides abstraction for various databaseshttps://github.com/pita/ueberDBhttps://www.npmjs.org/package/ueberDBI wrote jaguarDb to handle some of the things that you are mentioning since I sometimes need a "little" database for demo or test projects too and I don't want to depend on mongoDB or another real database.https://github.com/hectorcorrea/jaguarDb

Why doesn't JavaScript have a last method? [closed]

Nikhil Garg

[Why doesn't JavaScript have a last method? [closed]](https://stackoverflow.com/questions/3235043/why-doesnt-javascript-have-a-last-method)

Its kinda weird that the JavaScript Array class does not offer a last method to retrieve the last element of an array. I know the solution is simple (Ar[Ar.length-1] ), but, still, this is too frequently used.Any serious reasons why this is not incorporated yet? 

2010-07-13 07:35:47Z

Its kinda weird that the JavaScript Array class does not offer a last method to retrieve the last element of an array. I know the solution is simple (Ar[Ar.length-1] ), but, still, this is too frequently used.Any serious reasons why this is not incorporated yet? Because Javascript changes very slowly. And that's because people upgrade browsers slowly.Many Javascript libraries implement their own last() function. Use one!You can do something like this:The amount of helper methods that can be added to a language is infinite. I suppose they just haven't considered adding this one.It's easy to define one yourself. That's the power of JavaScript.However, this may cause problems with 3rd-party code which (incorrectly) uses for..in loops to iterate over arrays.However, if you are not bound with browser support problems, then using the new ES5 syntax to define properties can solve that issue, by making the function non-enumerable, like so:i = [].concat(loves).pop(); //corn icon cat loves popcornAnother option, especially if you're already using UnderscoreJS, would be:Came here looking for an answer to this question myself. The slice answer is probably best, but I went ahead and created a "last" function just to practice extending prototypes, so I thought I would go ahead and share it. It has the added benefit over some other ones of letting you optionally count backwards through the array, and pull out, say, the second to last or third to last item. If you don't specify a count it just defaults to 1 and pulls out the last item.Here is another simpler way to slice last elementslastObj is now ["barfoo"].Python does this the same way and when I tried using JS it worked out. I am guessing string manipulation in scripting languages work the same way.Similarly, if you want the last two objects in a array,will give you ["foobar", "barfoo"] and so on.pop() method will pop the last value out. But the problem is that you will lose the last value in the arrayYeah, or just: if you want the value, and not a new list.

Can promises have multiple arguments to onFulfilled?

badunk

[Can promises have multiple arguments to onFulfilled?](https://stackoverflow.com/questions/22773920/can-promises-have-multiple-arguments-to-onfulfilled)

I'm following the spec here and I'm not sure whether it allows onFulfilled to be called with multiple arguments.  For example:such that my code:would receive both arg1 and arg2?I don't care about how any specific promises implementation does it, I wish to follow the w3c spec for promises closely.

2014-03-31 23:09:51Z

I'm following the spec here and I'm not sure whether it allows onFulfilled to be called with multiple arguments.  For example:such that my code:would receive both arg1 and arg2?I don't care about how any specific promises implementation does it, I wish to follow the w3c spec for promises closely.Nope, just the first parameter will be treated as resolution value in the promise constructor. You can resolve with a composite value like an object or array.That's where I believe you're wrong. The specification is designed to be minimal and is built for interoperating between promise libraries. The idea is to have a subset which DOM futures for example can reliably use and libraries can consume. Promise implementations do what you ask with .spread for a while now. For example:With Bluebird. One solution if you want this functionality is to polyfill it. This lets you do:With native promises at ease fiddle. Or use spread which is now (2018) commonplace in browsers:Or with await:You can use E6 destructuring:Object destructuring:Array destructuring:The fulfillment value of a promise parallels the return value of a function and the rejection reason of a promise parallels the thrown exception of a function. Functions cannot return multiple values so promises must not have more than 1 fulfillment value.As far as I can tell reading the ES6 Promise specification and the standard promise specification theres no clause preventing an implementation from handling this case - however its not implemented in the following libraries:I assume the reason for them omiting multi arg resolves is to make changing order more succinct (i.e. as you can only return one value in a function it would make the control flow less intuitive) Example:I am looking for the same solution and found seomething very intersting from this answer: Rejecting promises with multiple arguments (like $http) in AngularJSthe answer of this guy FlorianAnd to use it:To quote the article below, ""then" takes two arguments, a callback for a success case, and another for the failure case. Both are optional, so you can add a callback for the success or failure case only."I usually look to this page for any basic promise questions, let me know if I am wronghttp://www.html5rocks.com/en/tutorials/es6/promises/Since functions in Javascript can be called with any number of arguments, and the document doesn't place any restriction on the onFulfilled() method's arguments besides the below clause, I think that you can pass multiple arguments to the onFulfilled() method as long as the promise's value is the first argument.Great question, and great answer by Benjamin, Kris, et al - many thanks!I'm using this in a project and have created a module based on Benjamin Gruenwald's code. It's available on npmjs:Then in your code, do If you're using a library such as any-promiseMaybe others find this useful, too!

Is it possible to hide the cursor in a webpage using CSS or Javascript?

yeyeyerman

[Is it possible to hide the cursor in a webpage using CSS or Javascript?](https://stackoverflow.com/questions/1071356/is-it-possible-to-hide-the-cursor-in-a-webpage-using-css-or-javascript)

I want to hide the cursor when showing a webpage that is meant to display information in a building hall. It doesn't have to be interactive at all. I tried with the cursor property and a transparent cursor image but I didn't make it work.Does anybody know if this can be done? I suppose this can be thought as a security threat for a user that can't know where he is clicking on, so I'm not very optimistic... Thank you!

2009-07-01 20:56:42Z

I want to hide the cursor when showing a webpage that is meant to display information in a building hall. It doesn't have to be interactive at all. I tried with the cursor property and a transparent cursor image but I didn't make it work.Does anybody know if this can be done? I suppose this can be thought as a security threat for a user that can't know where he is clicking on, so I'm not very optimistic... Thank you!With CSS:An example:To set this on an element in Javascript, you can use the style property:If you want to set this on the whole body:Make sure you really want to hide the cursor, though. It can really annoy people.While the cursor: none CSS solution is definitely a solid and easy workaround, if your actual goal is to remove the default cursor while your web application is being used, or implement your own interpretation of raw mouse movement (for FPS games, for example), you might want to consider using the Pointer Lock API instead.You can use requestPointerLock on an element to remove the cursor, and redirect all mousemove events to that element (which you may or may not handle):To release the lock, you can use exitPointerLock:No cursor, for realThis is a very powerful API call. It not only renders your cursor invisible, but it actually removes your operating system's native cursor. You won't be able to select text, or do anything with your mouse (except listening to some mouse events in your code) until the pointer lock is released (either by using exitPointerLock or pressing ESC in some browsers).That is, you cannot leave the window with your cursor for it to show again, as there is no cursor.RestrictionsAs mentioned above, this is a very powerful API call, and is thus only allowed to be made in response to some direct user-interaction on the web, such as a click; for example:Also, requestPointerLock won't work from a sandboxed iframe unless the allow-pointer-lock permission is set.User-notificationsSome browsers will prompt the user for a confirmation before the lock is engaged, some will simply display a message. This means pointer lock might not activate right away after the call. However, the actual activation of pointer locking can be listened to by listening to the pointerchange event on the element on which requestPointerLock was called:Most browsers will only display the message once, but Firefox will occasionally spam the message on every single call. AFAIK, this can only be worked around by user-settings, see Disable pointer-lock notification in Firefox.Listening to raw mouse movementThe Pointer Lock API not only removes the mouse, but instead redirects raw mouse movement data to the element requestPointerLock was called on. This can be listened to simply by using the mousemove event, then accessing the movementX and movementY properties on the event object:If you want to do it in CSS:I did it with transparent *.cur 1px to 1px, but it looks like small dot. :( I think it's the best cross-browser thing that I can do.

CSS2.1 has no value 'none' for 'cursor' property - it was added in CSS3. Thats why it's workable not everywhere.For whole html document try thisOr if some css overwrite your cursor: none use !important

Capture iframe load complete event

Jaime Garcia

[Capture iframe load complete event](https://stackoverflow.com/questions/3142837/capture-iframe-load-complete-event)

Is there a way to capture when the contents of an iframe have fully loaded from the parent page?

2010-06-29 16:47:30Z

Is there a way to capture when the contents of an iframe have fully loaded from the parent page?How you listen to that event is up to you, but generally the best way is to:1) create your iframe programaticallyIt makes sure your load listener is always called by attaching it before the iframe starts loading.2) inline javascript, is another way that you can use inside your HTML markup.3) You may also attach the event listener after the element, inside a <script> tag, but keep in mind that in this case, there is a slight chance that the iframe is already loaded by the time you get to adding your listener. Therefore it's possible that it will not be called (e.g. if the iframe is very very fast, or coming from cache).Also see my other answer about which elements can also fire this type of load eventNeither of the above answers worked for me, however this did UPDATE:As @doppleganger pointed out below, load is gone as of jQuery 3.0, so here's an updated version that uses on. Please note this will actually work on jQuery 1.7+, so you can implement it this way even if you're not on jQuery 3.0 yet. There is another consistent way (only for IE9+) in vanilla JavaScript for this:And if you're interested in Observables this does the trick:You can also capture jquery ready event this way: Here is a working example:http://jsfiddle.net/ZrFzF/Note that the onload event doesn't seem to fire if the iframe is loaded when offscreen. This frequently occurs when using "Open in New Window" /w tabs.

Center Google Maps (V3) on browser resize (responsive)

Gregory Bolkenstijn

[Center Google Maps (V3) on browser resize (responsive)](https://stackoverflow.com/questions/8792676/center-google-maps-v3-on-browser-resize-responsive)

I have a Google Maps (V3) in my page at 100% page width with one marker in the middle. When I resize my browser window's width I would like the map to stay centered (responsive). Now the map just stays at the left side of the page and gets smaller.UPDATE

Got it to work exactly as described thanks to duncan. This is the final code:

2012-01-09 17:38:06Z

I have a Google Maps (V3) in my page at 100% page width with one marker in the middle. When I resize my browser window's width I would like the map to stay centered (responsive). Now the map just stays at the left side of the page and gets smaller.UPDATE

Got it to work exactly as described thanks to duncan. This is the final code:You need to have an event listener for when the window resizes.  This worked for me (put it in your initialize function):Detect the browser resize event, resizes the Google Map while preserving the center point:You can use the same code in other event handlers when resizing the google map via other means (e.g. with a jQuery-UI 'resizable' control).Source: http://hsmoore.com/blog/keep-google-map-v3-centered-when-browser-is-resized/ credit to @smftre for the link.Note: This code was linked in @smftre's comment on the accepted answer. I think it's worth adding it as its own answer since it is really superior to the accepted answer. It eliminates the need of a global variable to track the center point and an event handler to update that variable. Some good examples on w3schools.com. I used the following and it works great. http://www.w3schools.com/googleapi/google_maps_events.asphtml: Create a div with an id of your choicejs: Create a map and attach it to the div you just createdCenter when the window resizesUpdated of the above solution to es6.

How do I change the value of a global variable inside of a function

NullPoiиteя

[How do I change the value of a global variable inside of a function](https://stackoverflow.com/questions/10872006/how-do-i-change-the-value-of-a-global-variable-inside-of-a-function)

I am using JavaScript and I create a global variable. I define it outside of a function and I want to change the global variable value from inside a function and use it from another function, how do I do this? 

2012-06-03 16:30:52Z

I am using JavaScript and I create a global variable. I define it outside of a function and I want to change the global variable value from inside a function and use it from another function, how do I do this? Just reference the variable inside the function; no magic, just use it's name. If it's been created globally, then you'll be updating the global variable.You can override this behaviour by declaring it locally using var, but if you don't use var, then a variable name used in a function will be global if that variable has been declared globally.That's why it's considered best practice to always declare your variables explicitly with var. Because if you forget it, you can start messing with globals by accident. It's an easy mistake to make. But in your case, this turn around and becomes an easy answer to your question.Just use the name of that variable. In JavaScript, variables are only local to a function, if they are the function's parameter(s) or if you declare them as local explicitely by typing the var keyword before the name of the variable.If the name of the local value has the same name as the global value, use the window objectSee this jsfiddleWith ES2015 there came two more keywords const and let, which also affect the scope of a variable (Language Specification)With  window['variableName'] or window.variableName you can modify the value of a global variable inside a function.

Does React keep the order for state updates?

darksmurf

[Does React keep the order for state updates?](https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates)

I know that React may perform state updates asynchronously and in batch for performance optimization. Therefore you can never trust the state to be updated after having called setState. But can you trust React to update the state in the same order as setState is called forConsider clicking the button in the following examples:1. Is there ever a possibility that a is false and b is true for:2. Is there ever a possibility that a is false and b is true for:Keep in mind that these are extreme simplifications of my use case. I realize that I can do this differently, e.g. updating both state params at the same time in example 1, as well as performing the second state update in a callback to the first state update in example 2. However, this is not my question, and I am only interested in if there is a well defined way that React performs these state updates, nothing else.Any answer backed up by documentation is greatly appreciated.

2018-02-01 13:13:36Z

I know that React may perform state updates asynchronously and in batch for performance optimization. Therefore you can never trust the state to be updated after having called setState. But can you trust React to update the state in the same order as setState is called forConsider clicking the button in the following examples:1. Is there ever a possibility that a is false and b is true for:2. Is there ever a possibility that a is false and b is true for:Keep in mind that these are extreme simplifications of my use case. I realize that I can do this differently, e.g. updating both state params at the same time in example 1, as well as performing the second state update in a callback to the first state update in example 2. However, this is not my question, and I am only interested in if there is a well defined way that React performs these state updates, nothing else.Any answer backed up by documentation is greatly appreciated.I work on React.TLDR:Yes.Yes.The order of updates is always respected. Whether you see an intermediate state "between" them or not depends on whether you're inside in a batch or not.Currently (React 16 and earlier), only updates inside React event handlers are batched by default. There is an unstable API to force batching outside of event handlers for rare cases when you need it.In future versions (probably React 17 and later), React will batch all updates by default so you won't have to think about this. As always, we will announce any changes about this on the React blog and in the release notes.The key to understanding this is that no matter how many setState() calls in how many components you do inside a React event handler, they will produce only a single re-render at the end of the event. This is crucial for good performance in large applications because if Child and Parent each call setState() when handling a click event, you don't want to re-render the Child twice.In both of your examples, setState() calls happen inside a React event handler. Therefore they are always flushed together at the end of the event (and you don't see the intermediate state).The updates are always shallowly merged in the order they occur. So if the first update is {a: 10}, the second is {b: 20}, and the third is {a: 30}, the rendered state will be {a: 30, b: 20}. The more recent update to the same state key (e.g. like a in my example) always "wins".The this.state object is updated when we re-render the UI at the end of the batch. So if you need to update state based on a previous state (such as incrementing a counter), you should use the functional setState(fn) version that gives you the previous state, instead of reading from this.state. If you're curious about the reasoning for this, I explained it in depth in this comment.In your example, we wouldn't see the "intermediate state" because we are inside a React event handler where batching is enabled (because React "knows" when we're exiting that event).However, both in React 16 and earlier versions, there is yet no batching by default outside of React event handlers. So if in your example we had an AJAX response handler instead of handleClick, each setState() would be processed immediately as it happens. In this case, yes, you would see an intermediate state:We realize it's inconvenient that the behavior is different depending on whether you're in an event handler or not. This will change in a future React version that will batch all updates by default (and provide an opt-in API to flush changes synchronously). Until we switch the default behavior (potentially in React 17), there is an API you can use to force batching:Internally React event handlers are all being wrapped in unstable_batchedUpdates which is why they're batched by default. Note that wrapping an update in unstable_batchedUpdates twice has no effect. The updates are flushed when we exit the outermost unstable_batchedUpdates call. That API is "unstable" in the sense that we will remove it when batching is already enabled by default. However, we won't remove it in a minor version, so you can safely rely on it until React 17 if you need to force batching in some cases outside of React event handlers.To sum up, this is a confusing topic because React only batches inside event handlers by default. This will change in future versions, and the behavior will be more straightforward then. But the solution is not to batch less, it's to batch more by default. That's what we're going to do.This is actually a quite interesting question but the answer shouldn't be too complicated. There is this great article on medium that has an answer.1) If you do thisI don't think that there will be a situation where a will be true and b will be false because of batching.However, if b is dependent on a then there indeed might be a situation where you wouldn't get the expected state.After all the above calls are processed this.state.value will be 1, not 3 like you would expect.This is mentioned in the article: setState accepts a function as its parameterThis will give us this.state.value === 3Multiple calls during the same cycle may be batched together. For example, if you attempt to increment an item quantity more than once in the same cycle, that will result in the equivalent of:https://reactjs.org/docs/react-component.htmlas in doc it will preform the change as in queue (FIFO : First In First Out) the first call will be first to preform 

Removing duplicate objects with Underscore for Javascript

plus-

[Removing duplicate objects with Underscore for Javascript](https://stackoverflow.com/questions/9923890/removing-duplicate-objects-with-underscore-for-javascript)

I have this kind of array:I'd like to filter it to have:I tried using _.uniq, but I guess because { "a" : "1" } is not equal to itself, it doesn't work. Is there any way to provide underscore uniq with an overriden equals function?

2012-03-29 10:49:26Z

I have this kind of array:I'd like to filter it to have:I tried using _.uniq, but I guess because { "a" : "1" } is not equal to itself, it doesn't work. Is there any way to provide underscore uniq with an overriden equals function?.uniq/.unique accepts a callbackNotes:Another example : 

using the callback to extract car makes, colors from a listIf you're looking to remove duplicates based on an id you could do something like this:Implementation of Shiplu's answer.When I have an attribute id, this is my preffered way in underscore:Using underscore unique lib following is working for me, I m making list unique on the based of _id then returning String value of _id:Here is a simple solution, which uses a deep object comparison to check for duplicates (without resorting to converting to JSON, which is inefficient and hacky)It filters out all elements if they have a duplicate later in the array - such that the last duplicate element is kept.The testing for a duplicate uses _.isEqual which performs an optimised deep comparison between the two objects see the underscore isEqual documentation for more info.edit: updated to use _.filter which is a cleaner approachThe lodash 4.6.1 docs have this as an example for object key equality:_.uniqWith(objects, _.isEqual);https://lodash.com/docs#uniqWithTry iterator functionFor example you can return first elementhere's my solution (coffeescript) :example:with underscore i had to use String() in the iteratee functionI wanted to solve this simple solution in a straightforward way of writing, with a little bit of a pain of computational expenses... but isn't it a trivial solution with a minimum variable definition, is it?Lets break this down. First lets group the array items by their stringified valuegrouped looks like:Then lets grab the first element from each groupbar looks like:

[ { "a" : "1" }, { "b" : "2" } ]Put it all together:You can do it in a shorthand as:

_.uniq(foo, 'a')

Chart.js v2 - hiding grid lines

iSS

[Chart.js v2 - hiding grid lines](https://stackoverflow.com/questions/36676263/chart-js-v2-hiding-grid-lines)

I am using Chart.js v2 to draw a simple line chart. Everything looks fine, except there are grid lines that I don't want:The documentation for Line Chart is here: https://nnnick.github.io/Chart.js/docs-v2/#line-chart, but I can't find anything about hiding those "Grid Lines".How can I remove the grid lines?

2016-04-17 12:06:47Z

I am using Chart.js v2 to draw a simple line chart. Everything looks fine, except there are grid lines that I don't want:The documentation for Line Chart is here: https://nnnick.github.io/Chart.js/docs-v2/#line-chart, but I can't find anything about hiding those "Grid Lines".How can I remove the grid lines?I found a solution that works for hiding the grid lines in a Line chart.Set the gridLines color to be the same as the div's background color.or use If you want them gone by default, you can set:If you want to hide gridlines but want to show yAxes, you can set:OK, nevermind.. I found the trick: The code below removes remove grid lines from chart area only not the ones in x&y axis labels

Why can I not throw inside a Promise.catch handler?

demian85

[Why can I not throw inside a Promise.catch handler?](https://stackoverflow.com/questions/30715367/why-can-i-not-throw-inside-a-promise-catch-handler)

Why can't I just throw an Error inside the catch callback and let the process handle the error as if it were in any other scope?If I don't do console.log(err) nothing gets printed out and I know nothing about what happened. The process just ends...Example:If callbacks get executed in the main thread, why the Error gets swallowed by a black hole?

2015-06-08 17:20:19Z

Why can't I just throw an Error inside the catch callback and let the process handle the error as if it were in any other scope?If I don't do console.log(err) nothing gets printed out and I know nothing about what happened. The process just ends...Example:If callbacks get executed in the main thread, why the Error gets swallowed by a black hole?As others have explained, the "black hole" is because throwing inside a .catch continues the chain with a rejected promise, and you have no more catches, leading to an unterminated chain, which swallows errors (bad!)Add one more catch to see what's happening:A catch in the middle of a chain is useful when you want the chain to proceed in spite of a failed step, but a re-throw is useful to continue failing after doing things like logging of information or cleanup steps, perhaps even altering which error is thrown. To make the error show up as an error in the web console, as you originally intended, I use this trick:Even the line numbers survive, so the link in web console takes me straight to the file and line where the (original) error happened.Any exception in a function called as a promise fulfillment or rejection handler gets automatically converted to a rejection of the promise you're supposed to return. The promise code that calls your function takes care of this.A function called by setTimeout on the other hand, always runs from JavaScript stable state, i.e. it runs in a new cycle in the JavaScript event loop. Exceptions there aren't caught by anything, and make it to the web console. Since err holds all the information about the error, including the original stack, file and line number, it still gets reported correctly.Important things to understand hereIn your case, you are rejecting inside do1 by throwing an Error object. Now, the current promise will be in rejected state and the control will be transferred to the next handler, which is then in our case.Since the then handler doesn't have a rejection handler, the do2 will not be executed at all. You can confirm this by using console.log inside it. Since the current promise doesn't have a rejection handler, it will also be rejected with the rejection value from the previous promise and the control will be transferred to the next handler which is catch. As catch is a rejection handler, when you do console.log(err.stack); inside it, you are able to see the error stack trace. Now, you are throwing an Error object from it so the promise returned by catch will also be in rejected state.Since you have not attached any rejection handler to the catch, you are not able to observe the rejection.You can split the chain and understand this better, like thisThe output you will get will be something likeInside the catch handler 1, you are getting the value of promise object as rejected.Same way, the promise returned by the catch handler 1, is also rejected with the same error with which the promise was rejected and we are observing it in the second catch handler.I tried the setTimeout() method detailed above...Annoyingly, I found this to be completely untestable. Because it's throwing an asynchronous error, you can't wrap it inside a try/catch statement, because the catch will have stopped listening by the time error is thrown.I reverted to just using a listener which worked perfectly and, because it's how JavaScript is meant to be used, was highly testable.According the spec (see 3.III.d):That means that if you throw exception in then function, it will be caught and your promise will be rejected. catch don't make a sense here, it is just shortcut to .then(null, function() {})I guess you want to log unhandled rejections in your code. Most promises libraries fires a unhandledRejection for it. Here is relevant gist with discussion about it.I know this is a bit late, but I came across this thread, and none of the solutions were easy to implement for me, so I came up with my own:I added a little helper function which returns a promise, like so:Then, if I have a specific place in any of my promise chain where I want to throw an error (and reject the promise), I simply return from the above function with my constructed error, like so:This way I am in control of throwing extra errors from inside the promise-chain. If you want to also handle 'normal' promise errors, you would expand your catch to treat the 'self-thrown' errors separately.Hope this helps, it is my first stackoverflow answer!Yes promises swallow errors, and you can only catch them with .catch, as explained more in detail in other answers. If you are in Node.js and want to reproduce the normal throw behaviour, printing stack trace to console and exit process, you can do

nodeValue vs innerHTML and textContent. How to choose?

adam Kiryk

[nodeValue vs innerHTML and textContent. How to choose?](https://stackoverflow.com/questions/21311299/nodevalue-vs-innerhtml-and-textcontent-how-to-choose)

I'm using plain js to alter the inner text of a label element, and I wasn't sure on what grounds I should use innerHTML or nodeValue or textContent. I don't need to create a new node or change the HTML elements or anything — just replace the text. Here's an example of the code:I looked through the jQuery source, and it uses nodeValue exactly one time but innerHTML and textContent several times. Then I found this jsperf test that indicates the firstChild.nodeValue is significantly faster. At least that's what I interpret it to mean. If firstChild.nodeValue is so much faster, what's the catch? Is it not widely supported? Is there some other issue?

2014-01-23 14:41:38Z

I'm using plain js to alter the inner text of a label element, and I wasn't sure on what grounds I should use innerHTML or nodeValue or textContent. I don't need to create a new node or change the HTML elements or anything — just replace the text. Here's an example of the code:I looked through the jQuery source, and it uses nodeValue exactly one time but innerHTML and textContent several times. Then I found this jsperf test that indicates the firstChild.nodeValue is significantly faster. At least that's what I interpret it to mean. If firstChild.nodeValue is so much faster, what's the catch? Is it not widely supported? Is there some other issue?Differences between textContent/innerText/innerHTML on MDN.And a Stackoverflow answer about innerText/nodeValue.SummaryinnerText didn't exist in firefox until FireFox 45 according to caniuse but is now supported in all major browsers..textContent outputs text/plain while .innerHTML outputs text/html.Quick example:var example = document.getElementById('exampleId');example.textContent = '<a href="https://google.com">google</a>';output: <a href="http://google.com">google</a>example.innerHTML = '<a href="https://google.com">google</a>';output: googleYou can see from the first example that output of type text/plain is not parsed by the browser and results in the full content displaying. Output of the type text/html tells the browser to parse it before displaying it.MDN innerHTML, MDN textContent, MDN nodeValueThe two I know well and work with are innerHTML and textContent.I use textContent when I just want to change the text of a paragraph or heading like so:So, textContent just changes the text, but it doesn't parse HTML, as we can tell from the  tags visible in plain text in the result there.If we want to parse HTML, we use innerHTML like this:So, that second example parses the string I assign to the DOM element's innerHTML property as HTML.This is awesome, and a big security vulnerability : )(look up XSS if you want to know about security for this)innerText is roughly what you would get if you selected the text and copied it. Elements that are not rendered are not present in innerText.textContent is a concatenation of the values of all TextNodes in the sub-tree. Whether rendered or not. Here is a great post detailing the differencesinnerHTML should not be included in a comparison with innerText or textContent, as it is totally different, and you should really know why:-) Look it up separately[Note: this post is more about sharing a specific data that might help someone than telling people what to do]In case someone is wondering what's the fastest today:

https://jsperf.com/set-innertext-vs-innerhtml-vs-textcontent

& https://jsperf.com/get-innertext-vs-innerhtml-vs-textcontent (for the second test, the span's content is plain text, results might change according to its content)It seems that .innerHtml is the great winner in terms of pure speed!(NOTE: I'm only talking about speed here, you might want to look for others criteria before choosing which one to use!) Element.innerHTML property to set, or get element's HTML code.Ex: We have a <h1> tag and strong style with it:<h1 id="myHeader" style="color: green"><strong>My Header</strong> Normal Text</h1>

To get content of the element has id equals to "myHeader", we will do the same:Return result:To "set" new content (value) for this element, the code will be here:So this property not only works with plain text, but it is aimed at passing or copying HTML code.=> We should not use it.However, many programmers (including myself) use this attribute to insert text into a web page, and this method carries a potential risk:Because of this reason, using innerHTML is not recommended when inserting plain text, instead use textContent. The textContent property will not understand that the code you pass is an HTML syntax, but just a 100% text no more and no less.The result returns if using textContent in the above example:

Minimum and maximum date

MaxArt

[Minimum and maximum date](https://stackoverflow.com/questions/11526504/minimum-and-maximum-date)

I was wondering which is the minimum and the maximum date allowed for a Javascript Date object. I found that the minimum date is something like 200000 B.C., but I couldn't get any reference about it.Does anyone know the answer? I just hope that it doesn't depend on the browser.An answer in "epoch time" (= milliseconds from 1970-01-01 00:00:00 UTC+00) would be the best.

2012-07-17 16:07:02Z

I was wondering which is the minimum and the maximum date allowed for a Javascript Date object. I found that the minimum date is something like 200000 B.C., but I couldn't get any reference about it.Does anyone know the answer? I just hope that it doesn't depend on the browser.An answer in "epoch time" (= milliseconds from 1970-01-01 00:00:00 UTC+00) would be the best.From the spec, §15.9.1.1:The third paragraph being the most relevant. Based on that paragraph, we can get the precise earliest date per spec from new Date(-8640000000000000), which is Tuesday, April 20th, 271,821 BCE (BCE = Before Common Era, e.g., the year -271,821).To augment T.J.'s answer, exceeding the min/max values generates an Invalid Date.As you can see, 01/01/1970 returns 0, which means it is the lowest possible date.

Controller not a function, got undefined, while defining controllers globally

yokks

[Controller not a function, got undefined, while defining controllers globally](https://stackoverflow.com/questions/25111831/controller-not-a-function-got-undefined-while-defining-controllers-globally)

I am writing a sample application using angularjs. i got an error mentioned below on chrome browser. Error isWhich renders as Code

2014-08-04 04:35:49Z

I am writing a sample application using angularjs. i got an error mentioned below on chrome browser. Error isWhich renders as CodeWith Angular 1.3+ you can no longer use global controller declaration on the global scope (Without explicit registration). You would need to register the controller using module.controller syntax. Example:-orIt is a breaking change but it can be turned off to use globals by using allowGlobals.Example:-Here is the comment from Angular source:-Some additional checks:- I got this problem because I had wrapped a controller-definition file in a closure:But I had forgotten to actually invoke that closure to execute that definition code and actually tell Javascript my controller existed. I.e., the above needs to be:Note the () at the end.I am a beginner with Angular and I did the basic mistake of not including the app name in the angular root element. So, changing the code fromto worked for me. @PSL, has covered this already in his answer above. I had this error because I didn't understand the difference between angular.module('myApp', []) and angular.module('myApp').This creates the module 'myApp' and overwrites any existing module named 'myApp':angular.module('myApp', [])This retrieves an existing module 'myApp':angular.module('myApp')I had been overwriting my module in another file, using the first call above which created another module instead of retrieving as I expected.More detail here:  https://docs.angularjs.org/guide/moduleI just migrate to angular 1.3.3 and I found that If I had multiple controllers in different files when app is override and I lost first declared containers.I don't know if is a good practise, but maybe can be helpful for another one.I had this problem when I accidentally redeclared myApp:After the redeclare, Controller1 stops working and raises the OP error.Really great advise, except that the SAME error CAN occur simply by missing the critical script include on your root page example:page:  index.html MissingWhen a Route is told what controller and view to serve up:So essential the undefined controller issue CAN occur in this accidental mistake of not even referencing the controller!  This error might also occur when you have a large project with many modules.

Make sure that the app (module) used in you angular file is the same that you use in your template, in this example "thisApp".app.jsindex.htmlIf all else fails and you are using Gulp or something similar...just rerun it! I wasted 30mins quadruple checking everything when all it needed was a swift kick in the pants.If you're using routes (high probability) and your config has a reference to a controller in a module that's not declared as dependency then initialisation might fail too.E.g assuming you've configured ngRoute for your app, likeBe careful in the block that declares the routes, Declare secondModule as a dependency after 'ngRoute' should resolve the issue. I know I had this problem. I was getting this error because I was using an older version of angular that wasn't compatible with my code.These errors occurred, in my case, preceeded by syntax errors at list.find() fuction; 'find' method of a list not recognized by IE11, so has to replace by Filter method, which works for both IE11 and chrome. 

refer https://github.com/flrs/visavail/issues/19 This error, in my case, preceded by syntax error at find method of a list in IE11. so replaced find method by filter method as suggested https://github.com/flrs/visavail/issues/19 then above controller not defined error resolved.  I got the same error while following an old tutorial with (not old enough) AngularJS 1.4.3. By far the simplest solution is to edit angular.js source fromtoand just follow the tutorial as-is, and the deprecated global functions just work as controllers.

Get element inside element by class and ID - JavaScript

Tanner Babcock

[Get element inside element by class and ID - JavaScript](https://stackoverflow.com/questions/7815374/get-element-inside-element-by-class-and-id-javascript)

Alright, I've dabbled in JavaScript before, but the most useful thing I've written is a CSS style-switcher. So I'm somewhat new to this. Let's say I have HTML code like this:How would I change "Hello world!" to "Goodbye world!" ? I know how document.getElementByClass and document.getElementById work, but I would like to get more specific. Sorry if this has been asked before.

2011-10-19 00:45:09Z

Alright, I've dabbled in JavaScript before, but the most useful thing I've written is a CSS style-switcher. So I'm somewhat new to this. Let's say I have HTML code like this:How would I change "Hello world!" to "Goodbye world!" ? I know how document.getElementByClass and document.getElementById work, but I would like to get more specific. Sorry if this has been asked before.Well, first you need to select the elements with a function like getElementById.getElementById only returns one node, but getElementsByClassName returns a node list.  Since there is only one element with that class name (as far as I can tell), you can just get the first one (that's what the [0] is for—it's just like an array).Then, you can change the html with .textContent.You can do it like this:or, if you want to do it with with less error checking and more brevity, it can be done in one line like this:In explanation:Caveats: some older browsers don't support getElementsByClassName (e.g. older versions of IE).  That function can be shimmed into place if missing.This is where I recommend using a library that has built-in CSS3 selector support rather than worrying about browser compatibility yourself (let someone else do all the work).  If you want just a library to do that, then Sizzle will work great.  In Sizzle, this would be be done like this:jQuery has the Sizzle library built-in and in jQuery, this would be:If this needs to work in IE 7 or lower you need to remember that getElementsByClassName does not exist in all browsers.  Because of this you can create your own getElementsByClassName or you can try this.Recursive function : THe easiest way to do so is:or better readable:You should not used document.getElementByID because   its work only for client side controls which ids are fixed . You should use jquery instead like below example.use this :if you want any remove edit any operation then just add "." behind and do the operations

jQuery see if any or no checkboxes are selected

bba

[jQuery see if any or no checkboxes are selected](https://stackoverflow.com/questions/4086957/jquery-see-if-any-or-no-checkboxes-are-selected)

I know how to see if an individual checkbox is selected or not.But Im having trouble with the following - given a form id I need to see if any of the checkboxes are selected (i.e 1 or more), and I need to see if none are selected.  Basically I need two separate functions that answer these two questions.  Help would be appreciated.  Thanks!Actually, I would just need a function to tell me if none are selected.  Knowing this would answer the other question.

2010-11-03 12:19:35Z

I know how to see if an individual checkbox is selected or not.But Im having trouble with the following - given a form id I need to see if any of the checkboxes are selected (i.e 1 or more), and I need to see if none are selected.  Basically I need two separate functions that answer these two questions.  Help would be appreciated.  Thanks!Actually, I would just need a function to tell me if none are selected.  Knowing this would answer the other question.You can use something like thisJQuery .is will test all specified elements and return true if at least one of them matches selector:You can do this:Where:Without using 'length' you can do it like this:This is what I used for checking if any checkboxes in a list of checkboxes had changed:You can do a simple return of the .length here:This look for checkboxes in the given form, sees if any are :checked and returns true if they are (since the length would be 0 otherwise).  To make it a bit clearer, here's the non boolean converted version:This would return a count of how many were checked.Rahul's answer is best fit for your question. Anyway, if you have a group of checkboxes to be checked and not all the checkbox in your form, you can go for it.Put a classname for all the checkboxes you want to check, say for example, a classname test_check and now you can check if any of the checkbox is checked belonging to the group by:If it returns true, assume that one or more checkboxes are checked having the classname test_check and none checked if returns false. Hope it helps someone. Thanks :)-

JavaScript get element by name

Juliver Galleto

[JavaScript get element by name](https://stackoverflow.com/questions/10306129/javascript-get-element-by-name)

Consider this function:And this HTML part:The alert box is showing, but it shows "undefined".

2012-04-24 21:16:48Z

Consider this function:And this HTML part:The alert box is showing, but it shows "undefined".The reason you're seeing that error is because document.getElementsByName returns a NodeList of elements. And a NodeList of elements does not have a .value property.Use this instead:Note the plural in this method:That returns an array of elements, so use [0] to get the first occurence, e.g.You want this:Method document.getElementsByName returns an array of elements. You should select first, for example.

Allow Google Chrome to use XMLHttpRequest to load a URL from a local file

pimvdb

[Allow Google Chrome to use XMLHttpRequest to load a URL from a local file](https://stackoverflow.com/questions/4819060/allow-google-chrome-to-use-xmlhttprequest-to-load-a-url-from-a-local-file)

When trying to do a HTTP request using XMLHttpRequest from a local file, it basically fails due to Access-Control-Allow-Origin violation.However, I'm using the local web page myself, so I was wondering if there is any way to make Google Chrome allow these requests, which are from a local file to a URL on the Internet.E.g., $.get('http://www.google.com/') fails when executing in a local file, but I've scripted the page myself and I'm using it myself, so it would be extremely useful if I could suppress it and load the URL.So, how can I allow Google Chrome to load URLs using XMLHttpRequest from local files?

2011-01-27 16:34:16Z

When trying to do a HTTP request using XMLHttpRequest from a local file, it basically fails due to Access-Control-Allow-Origin violation.However, I'm using the local web page myself, so I was wondering if there is any way to make Google Chrome allow these requests, which are from a local file to a URL on the Internet.E.g., $.get('http://www.google.com/') fails when executing in a local file, but I've scripted the page myself and I'm using it myself, so it would be extremely useful if I could suppress it and load the URL.So, how can I allow Google Chrome to load URLs using XMLHttpRequest from local files?startup chrome with --disable-web-securityOn Windows:On Mac:This will allow for cross-domain requests.

I'm not aware of if this also works for local files, but let us know !And mention, this does exactly what you expect, it disables the web security, so be careful with it.Using --disable-web-security switch is quite dangerous! Why disable security at all while you can just allow XMLHttpRequest to access files from other files using --allow-file-access-from-files switch?Before using these commands be sure to end all running instances of Chrome.On Windows:On Mac:Discussions of this "feature" of Chrome:Mac version. From terminal run:On Ubuntu:For more details/switches:http://peter.sh/experiments/chromium-command-line-switches/Referenced from

how to split the ng-repeat data with three columns using bootstrap

kuppu

[how to split the ng-repeat data with three columns using bootstrap](https://stackoverflow.com/questions/21644493/how-to-split-the-ng-repeat-data-with-three-columns-using-bootstrap)

I am using ng-repeat with my code I have 'n' number of text box based on ng-repeat. I want to align the textbox with three columns.this is my code

2014-02-08 09:50:56Z

I am using ng-repeat with my code I have 'n' number of text box based on ng-repeat. I want to align the textbox with three columns.this is my codeThe most reliable and technically correct approach is to transform the data in the controller. Here's a simple chunk function and usage.Then your view would look like this:If you have any inputs within the ng-repeat, you will probably want to unchunk/rejoin the arrays as the data is modified or on submission. Here's how this would look in a $watch, so that the data is always available in the original, merged format:Many people prefer to accomplish this in the view with a filter. This is possible, but should only be used for display purposes! If you add inputs within this filtered view, it will cause problems that can be solved, but are not pretty or reliable.The problem with this filter is that it returns new nested arrays each time. Angular is watching the return value from the filter. The first time the filter runs, Angular knows the value, then runs it again to ensure it is done changing. If both values are the same, the cycle is ended. If not, the filter will fire again and again until they are the same, or Angular realizes an infinite digest loop is occurring and shuts down. Because new nested arrays/objects were not previously tracked by Angular, it always sees the return value as different from the previous. To fix these "unstable" filters, you must wrap the filter in a memoize function. lodash has a memoize function and the latest version of lodash also includes a chunk function, so we can create this filter very simply using npm modules and compiling the script with browserify or webpack.Remember: display only! Filter in the controller if you're using inputs!Install lodash:Create the filter:And here's a sample with this filter:Regarding vertical columns (list top to bottom) rather than horizontal (left to right), the exact implementation depends on the desired semantics. Lists that divide up unevenly can be distributed different ways. Here's one way:However, the most direct and just plainly simple way to get columns is to use CSS columns:This solution is very simple:JSON:HTML:DEMO in FIDDLEA clean, adaptable solution that does not require data manipulation:The HTML:The CSS:The JavaScript:This is a simple solution for rendering data into rows and columns dynamically with no need to manipulate the array of data you are trying to display. Plus if you try resizing the browser window you can see the grid dynamically adapts to the size of the screen/div.(I also added an {{$index}} suffix to your  id since ng-repeat will try to create multiple elements with the same id if you do not.)A similar working examplem59's answer is pretty good. The one thing I don't like about it is that it uses divs for what could potentially be data for a table.So in conjunction with m59's filter (answer somewhere above), here is how to display it in a table.Following is a more simple way:Cumulo Nimbus's answer is useful for me but I want this grid wrapped by a div which can show the scrollbar when the list is too long.  To achieve this I added style="height:200px; overflow:auto" to a div around the table which causes it to show as a single column.Now works for array length of one.I have a function and stored it in a service so i can use it all over my app:Service:});Controller:Markup:

My approach was a mixture of things.My objective was to have a grid adapting to the screen size. I wanted 3 columns for lg, 2 columns for sm and md, and 1 column for xs.First, I created the following scope function, using angular $window service:Then, I used the class proposed by @Cumulo Nimbus:In the div containing the ng-repeat, I added the resizable directive, as explained in this page, so that every time window is resized, angular $window service is updated with the new values.Ultimately, in the repeated div I have:  Please, let me know any flaws in this approach.Hope it can be helpful.A simple trick with "clearfix" CSS recommended by Bootstrap:Many advantages: Efficient, fast, using Boostrap recommendations, avoiding possible $digest issues, and not altering Angular model.This example produces a nested repeater where the outer data includes an inner array which I wanted to list in two column.  The concept would hold true for three or more columns.In the inner column I repeat the "row" until the limit is reached.  The limit is determined by dividing the length of the array of items by the number of columns desired, in this case by two.  The division method sits on the controller and is passed the current array length as a parameter.  The JavaScript slice(0, array.length / columnCount) function then applied the limit to the repeater.The second column repeater is then invoked and repeats slice( array.length / columnCount, array.length) which produces the second half of the array in column two.Hope this helps to look at the solution in yet another way.  (PS this is my first post here! :-))I fix without .rowand cssHere's an easy-hacky way of doing it. It's more manual and ends up with messy markup. I do not recommend this, but there are situations where this might be useful.Here's a fiddle link http://jsfiddle.net/m0nk3y/9wcbpydq/HTML:JS:This setup requires us to use some Math on the markup :/, so you'll need to inject Math by adding this line: $scope.Math = Math;All of these answers seem massively over engineered. By far the simplest method would be to set up the input divs in a col-md-4 column bootstrap, then bootstrap will automatically format it into 3 columns due to the 12 column nature of bootstrap:Basing off of m59's very good answer.  I found that model inputs would be blurred if they changed, so you could only change one character at a time.  This is a new one for lists of objects for anyone that needs it:And this would be the usage:I'm new in bootstrap and angularjs, but this could also make Array per 4 items as one group, the result will almost like 3 columns.

This trick use bootstrap break line principle.Lodash has a chunk method built-in now which I personally use:  https://lodash.com/docs#chunkBased on this, controller code might look like the following:View code:Another way is set width:33.33%; float:left to a wrapper div like this:I found myself in a similar case, wanting to generate display groups of 3 columns each. However, although I was using bootstrap, I was trying to separate these groups into different parent divs. I also wanted to make something generically useful.I approached it with 2 ng-repeat as below:This makes it very easy to change to a different number of columns, and separated out into several parent divs.Just in case someone wants an Angular 7 (and higher version) here is an example I used in one of my applications:HTML:.TS FILEThis is an awesome solution for dynamically creating new columns/rows depending on how much items your iterating from the database.  THanks!this answers the original question which is how to get 1,2,3 in a column. –  asked by kuppu Feb 8 '14 at 13:47 angularjs code:View Code (note: using bootstrap 3):This code will help to align the elements with three columns in lg, and md mode, two column in sm mode, and single column is xs mode

Trying to use fetch and pass in mode: no-cors

dwww

[Trying to use fetch and pass in mode: no-cors](https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors)

I can hit this endpoint, http://catfacts-api.appspot.com/api/facts?number=99 via Postman and it returns JSONAdditionally I am using create-react-app and would like to avoid setting up any server config.In my client code I am trying to use fetch to do the same thing, but I get the error:So I am trying to pass in an object, to my Fetch which will disable CORS, like so:Interestingly enough the error I get is actually a syntax error with this function. I am not sure my actual fetch is broken, because when I remove the { mode: 'no-cors' } object, and supply it with a different URL it works just fine.I have also tried to pass in the object { mode: 'opaque'} , but this returns the original error from above.I belive all I need to do is disable CORS.. What am I missing?

2017-04-06 17:36:05Z

I can hit this endpoint, http://catfacts-api.appspot.com/api/facts?number=99 via Postman and it returns JSONAdditionally I am using create-react-app and would like to avoid setting up any server config.In my client code I am trying to use fetch to do the same thing, but I get the error:So I am trying to pass in an object, to my Fetch which will disable CORS, like so:Interestingly enough the error I get is actually a syntax error with this function. I am not sure my actual fetch is broken, because when I remove the { mode: 'no-cors' } object, and supply it with a different URL it works just fine.I have also tried to pass in the object { mode: 'opaque'} , but this returns the original error from above.I belive all I need to do is disable CORS.. What am I missing?Adding mode: 'no-cors' won’t magically make things work. In fact it makes things worse, because one effect it has is to tell browsers,「Block my frontend JavaScript code from looking at contents of the response body and headers under all circumstances.」Of course that’s almost never what you want. What happens with cross-origin requests from frontend JavaScript is that browsers by default block frontend code from accessing resources cross-origin. If a site sends Access-Control-Allow-Origin in its responses, then browsers will relax that blocking and allow your code to access the response.But if a site sends no Access-Control-Allow-Origin header in its responses, there’s no way your frontend code can directly access responses from that site. In particular, you can’t fix it by specifying mode: 'no-cors' (in fact that’ll ensure your frontend code can’t access the response contents).However, one thing that will work is if you send your request through a CORS proxy, like this:Note: if when you go to try to use https://cors-anywhere.herokuapp.com, you find it’s down, you can also easily deploy your own proxy to Heroku in literally just 2-3 minutes, with 5 commands:After running those commands, you’ll end up with your own CORS Anywhere server running at, e.g., https://cryptic-headland-94862.herokuapp.com/. So then rather than prefixing your request URL with https://cors-anywhere.herokuapp.com, prefix it instead with the URL for your own instance; e.g., https://cryptic-headland-94862.herokuapp.com/https://example.com.https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS explains why it is that even though you can access the response with Postman, browsers won’t let you access the response cross-origin from frontend JavaScript code running in a web app unless the response includes an Access-Control-Allow-Origin response header.http://catfacts-api.appspot.com/api/facts?number=99 has no Access-Control-Allow-Origin response header, so there’s no way your frontend code can access the response cross-origin.Your browser can get the response fine and you can see it in Postman and even in browser devtools—but that doesn’t mean browsers will expose it to your code. They won’t, because it has no Access-Control-Allow-Origin response header. So you must instead use a proxy to get it.The proxy makes the request to that site, gets the response, adds the Access-Control-Allow-Origin response header and any other CORS headers needed, then passes that back to your requesting code. And that response with the Access-Control-Allow-Origin header added is what the browser sees, so the browser lets your frontend code actually access the response.You don’t want to do that. To be clear, when you say you want to「disable CORS」it seems you actually mean you want to disable the same-origin policy. CORS itself is actually a way to do that — CORS is a way to loosen the same-origin policy, not a way to restrict it.But anyway, it’s true you can — in just your local environment — do things like give your browser runtime flags to disable security and run insecurely, or you can install a browser extension locally to get around the same-origin policy, but all that does is change the situation just for you locally.No matter what you change locally, anybody else trying to use your app is still going to run into the same-origin policy, and there’s no way you can disable that for other users of your app.You most likely never want to use mode: 'no-cors' in practice except in a few limited cases, and even then only if you know exactly what you’re doing and what the effects are. That’s because what setting mode: 'no-cors' actually says to the browser is,「Block my frontend JavaScript code from looking into the contents of the response body and headers under all circumstances.」 In most cases that’s obviously really not what you want.As far as the cases when you would want to consider using mode: 'no-cors', see the answer at What limitations apply to opaque responses? for the details. The gist of it is that the cases are:But even in those limited cases, there are some important gotchas to be aware of; see the answer at What limitations apply to opaque responses? for the details.There is no mode: 'opaque' request mode — opaque is instead just a property of the response, and browsers set that opaque property on responses from requests sent with the no-cors mode.But incidentally the word opaque is a pretty explicit signal about the nature of the response you end up with:「opaque」means you can’t see it.So if you're like me and developing a website on localhost where you're trying to fetch data from Laravel API and use it in your Vue front-end, and you see this problem, here is how I solved it:Full credits to Pete Houston's blog article.header("Access-Control-Allow-Origin: *"); Solution for me was to just do it server sideI used the C# WebClient library to get the data (in my case it was image data) and send it back to the client. There's probably something very similar in your chosen server-side language.You can tweak it to whatever your own use case is. The main point is client.DownloadData() worked without any CORS errors. Typically CORS issues are only between websites, hence it being okay to make 'cross-site' requests from your server.Then the React fetch call is as simple as: Very easy solution (2 min to config) is to use local-ssl-proxy package from npmThe usage is straight pretty forward:

1. Install the package:

npm install -g local-ssl-proxy

2. While running your local-server mask it with the local-ssl-proxy --source 9001 --target 9000P.S: Replace --target 9000 with the -- "number of your port" and --source 9001 with --source "number of your port +1" 

Prevent a webpage from navigating away using JavaScript

Software Enthusiastic

[Prevent a webpage from navigating away using JavaScript](https://stackoverflow.com/questions/821011/prevent-a-webpage-from-navigating-away-using-javascript)

How to prevent a webpage from navigating away using JavaScript?

2009-05-04 17:19:03Z

How to prevent a webpage from navigating away using JavaScript?Using onunload allows you to display messages, but will not interrupt the navigation (because it is too late). However, using onbeforeunload will interrupt navigation:Note: An empty string is returned because newer browsers provide a message such as "Any unsaved changes will be lost" that cannot be overridden.In older browsers you could specify the message to display in the prompt:Unlike other methods presented here, this bit of code will not cause the browser to display a warning asking the user if he wants to leave; instead, it exploits the evented nature of the DOM to redirect back to the current page (and thus cancel navigation) before the browser has a chance to unload it from memory.Since it works by short-circuiting navigation directly, it cannot be used to prevent the page from being closed; however, it can be used to disable frame-busting.Disclaimer: You should never do this. If a page has frame-busting code on it, please respect the wishes of the author.I ended up with this slightly different version:Elsewhere I set the dirty flag to true when the form gets dirtied (or I otherwise want to prevent navigating away).  This allows me to easily control whether or not the user gets the Confirm Navigation prompt.With the text in the selected answer you see redundant prompts:In Ayman's example by returning false you prevent the browser window/tab from closing.The equivalent in a more modern and browser compatible way, using modern addEventListener APIs.Source: https://developer.mozilla.org/en-US/docs/Web/Events/beforeunloadThe equivalent to the accepted answer in jQuery 1.11:JSFiddle examplealtCognito's answer used the unload event, which happens too late for JavaScript to abort the navigation.Use onunload. For jQuery, I think this works like so:That suggested error message may duplicate the error message the browser already displays. In chrome, the 2 similar error messages are displayed one after another in the same window.In chrome, the text displayed after the custom message is: "Are you sure you want to leave this page?". In firefox, it does not display our custom error message at all (but still displays the dialog).A more appropriate error message might be:Or stackoverflow style: "You have started writing or editing a post."If you are catching a browser back/forward button and don't want to navigate away, you can use:Otherwise, you can use the beforeunload event, but the message may or may not work cross-browser, and requires returning something that forces a built-in prompt.

Why is document.body null in my javascript?

John Hoffman

[Why is document.body null in my javascript?](https://stackoverflow.com/questions/9916747/why-is-document-body-null-in-my-javascript)

Here is my brief HTML document.Why is Chrome Console noting this error:

2012-03-28 22:43:16Z

Here is my brief HTML document.Why is Chrome Console noting this error:The body hasn't been defined at this point yet. In general, you want to create all elements before you execute javascript that uses these elements. In this case you have some javascript in the head section that uses body. Not cool.You want to wrap this code in a window.onload handler or place it after the <body> tag (as mentioned by e-bacho 2.0).See demo.Your script is being executed before the body element has even loaded.There are a couple ways to workaround this.Add your code to the onload event. The accepted answer shows this correctly, however that answer as well as all the others at the time of writing also suggest putting the script tag after the closing body tag, . This is not valid html. However it will cause your code to work, because browsers are too kind ;)See this answer for more info

Is it wrong to place the <script> tag after the </body> tag?Downvoted other answers for this reason.Or add this partafter the HTML, like:Browser parses your html from top down, your script runs before body is loaded. To fix put script after body.document.body is not yet available when your code runs.What you can do instead:

How do I access properties of a javascript object if I don't know the names?

Adam Lassek

[How do I access properties of a javascript object if I don't know the names?](https://stackoverflow.com/questions/675231/how-do-i-access-properties-of-a-javascript-object-if-i-dont-know-the-names)

Say you have a javascript object like this:You can access the properties by the property name:But is it possible to get these values if you don't know the name of the properties? Does the unordered nature of these properties make it impossible to tell them apart?In my case I'm thinking specifically of a situation where a function needs to accept a series of name-value pairs, but the names of the properties may change.My thoughts on how to do this so far is to pass the names of the properties to the function along with the data, but this feels like a hack. I would prefer to do this with introspection if possible.

2009-03-23 21:05:43Z

Say you have a javascript object like this:You can access the properties by the property name:But is it possible to get these values if you don't know the name of the properties? Does the unordered nature of these properties make it impossible to tell them apart?In my case I'm thinking specifically of a situation where a function needs to accept a series of name-value pairs, but the names of the properties may change.My thoughts on how to do this so far is to pass the names of the properties to the function along with the data, but this feels like a hack. I would prefer to do this with introspection if possible.You can loop through keys like this:This logs "Name" and "Value".If you have a more complex object type (not just a plain hash-like object, as in the original question), you'll want to only loop through keys that belong to the object itself, as opposed to keys on the object's prototype:As you noted, keys are not guaranteed to be in any particular order. Note how this differs from the following:This example loops through values, so it would log Property Name and 0. N.B.: The for each syntax is mostly only supported in Firefox, but not in other browsers.If your target browsers support ES5, or your site includes es5-shim.js (recommended), you can also use Object.keys:and loop with Array.prototype.forEach:Old versions of JavaScript (< ES5) require using a for..in loop:ES5 introduces Object.keys and Array#forEach which makes this a little easier:ES2017 introduces Object.values and Object.entries.You often will want to examine the particular properties of an instance of an object,

without all of it's shared prototype methods and properties:This will get all properties and their values (inherited or own, enumerable or not) in a new object. original object is untouched. Now new object can be traversed usingYou can use Object.keys(), "which returns an array of a given object's own enumerable property names, in the same order as we get with a normal loop."You can use any object in place of stats:

How to do two-way filtering in AngularJS?

Jeremy Bell

[How to do two-way filtering in AngularJS?](https://stackoverflow.com/questions/11616636/how-to-do-two-way-filtering-in-angularjs)

One of the interesting things AngularJS can do is apply a filter to a particular databinding expression, which is a convenient way to apply, for example, culture-specific currency or date formatting of a model's properties. It is also nice to have computed properties on the scope. The problem is that neither of these features work with two-way databinding scenarios - only one-way databinding from the scope to the view. This seems to be a glaring omission in an otherwise excellent library - or am I missing something?In KnockoutJS, I could create a read/write computed property, which allowed me to specify a pair of functions, one which is called to get the value of the property, and one which is called when the property is set. This allowed me to implement, for example, culture-aware input - letting the user type "$1.24" and parsing that into a float in the ViewModel, and have changes in the ViewModel reflected in the input. The closest thing I could find similar to this is the use of $scope.$watch(propertyName, functionOrNGExpression); This allows me to have a function invoked when a property in the $scope changes. But this doesn't solve, for example, the culture-aware input problem. Notice the problems when I try to modify the $watched property within the $watch method itself:(http://jsfiddle.net/gyZH8/2/)The input element gets very confused when the user starts typing. I improved it by splitting the property into two properties, one for the unparsed value and one for the parsed value:(http://jsfiddle.net/XkPNv/1/)This was an improvement over the first version, but is a bit more verbose, and notice that there is still an issue of the parsedValue property of the scope changes (type something in the second input, which changes the parsedValue directly. notice the top input does not update). This might happen from a controller action or from loading data from a data service.Is there some easier way to implement this scenario using AngularJS? Am I missing some functionality in the documentation?

2012-07-23 16:31:09Z

One of the interesting things AngularJS can do is apply a filter to a particular databinding expression, which is a convenient way to apply, for example, culture-specific currency or date formatting of a model's properties. It is also nice to have computed properties on the scope. The problem is that neither of these features work with two-way databinding scenarios - only one-way databinding from the scope to the view. This seems to be a glaring omission in an otherwise excellent library - or am I missing something?In KnockoutJS, I could create a read/write computed property, which allowed me to specify a pair of functions, one which is called to get the value of the property, and one which is called when the property is set. This allowed me to implement, for example, culture-aware input - letting the user type "$1.24" and parsing that into a float in the ViewModel, and have changes in the ViewModel reflected in the input. The closest thing I could find similar to this is the use of $scope.$watch(propertyName, functionOrNGExpression); This allows me to have a function invoked when a property in the $scope changes. But this doesn't solve, for example, the culture-aware input problem. Notice the problems when I try to modify the $watched property within the $watch method itself:(http://jsfiddle.net/gyZH8/2/)The input element gets very confused when the user starts typing. I improved it by splitting the property into two properties, one for the unparsed value and one for the parsed value:(http://jsfiddle.net/XkPNv/1/)This was an improvement over the first version, but is a bit more verbose, and notice that there is still an issue of the parsedValue property of the scope changes (type something in the second input, which changes the parsedValue directly. notice the top input does not update). This might happen from a controller action or from loading data from a data service.Is there some easier way to implement this scenario using AngularJS? Am I missing some functionality in the documentation?It turns out that there's a very elegant solution to this, but it's not well documented.Formatting model values for display can be handled by the | operator and an angular formatter. It turns out that the ngModel that has not only a list of formatters but also a list of parsers.Here's a working example that transforms text to lowercase in the input and back to uppercase in the modelThe API Documentation for the Model Controller also has a brief explanation and an overview of the other available methods.

What is the equivalent to a JavaScript setInterval/setTimeout in Android/Java?

karse23

[What is the equivalent to a JavaScript setInterval/setTimeout in Android/Java?](https://stackoverflow.com/questions/4817933/what-is-the-equivalent-to-a-javascript-setinterval-settimeout-in-android-java)

Can anyone tell me if an equivalent for setInterval/setTimeout exists for Android? Does anybody have any example about how to do it?

2011-01-27 14:58:02Z

Can anyone tell me if an equivalent for setInterval/setTimeout exists for Android? Does anybody have any example about how to do it?As always with Android there's lots of ways to do this, but assuming you simply want to run a piece of code a little bit later on the same thread, I use this:.. this is pretty much equivalent to setInterval()function that repeats itself in every n millisecondsJavascript Approximate java EquivalentsetTimeout()function that works only after n millisecondsJavascript Approximate java EquivalentDepending on what you actually want to achieve, you should take a look at Android Handlers:http://developer.android.com/reference/android/os/Handler.htmlIf you previously used javascript setTimeout() etc to schedule a task to run in the future, this is the Android way of doing it (postDelayed / sendMessageDelayed).Note that neither Handlers or Timers makes an Android phone wake up from sleep mode. In other words, if you want to schedule something to actually happen even though the screen is off / cpu is sleeping, you need to check out the AlarmManager too.If you're not worried about waking your phone up or bringing your app back from the dead, try:I do not know much about JavaScript, but I think Timers may be what you are looking for.http://developer.android.com/reference/java/util/Timer.htmlFrom the link:One-shot are scheduled to run at an absolute time or after a relative delay.  Recurring tasks are scheduled with either a fixed period or a fixed rate.Here's a setTimeout equivalent, mostly useful when trying to update the User Interface

after a delay.As you may know, updating the user interface can only by done from the UI thread.

AsyncTask does that for you by calling its onPostExecute method from that thread.The first answer is definitely the correct answer and is what I based this lambda version off of, which is much shorter in syntax.  Since Runnable has only 1 override method "run()", we can use a lambda:I was creating a mp3 player for android, I wanted to update the current time every 500ms so I did it like thiswhich calls the  same method recursively

How to include multiple js files using jQuery $.getScript() method

sozhen

[How to include multiple js files using jQuery $.getScript() method](https://stackoverflow.com/questions/11803215/how-to-include-multiple-js-files-using-jquery-getscript-method)

I am trying to dynamically include javascript files into my js file. I did some research about it and find jQuery $.getScript() method would be a desired way to go.But I am wondering whether this method can load multiple scripts at one time? Why I am asking this is because sometimes my javascript file is depending on more than one js files. Thank you in advance. 

2012-08-03 20:58:13Z

I am trying to dynamically include javascript files into my js file. I did some research about it and find jQuery $.getScript() method would be a desired way to go.But I am wondering whether this method can load multiple scripts at one time? Why I am asking this is because sometimes my javascript file is depending on more than one js files. Thank you in advance. You can use promises with getScript() and wait until all the scripts are loaded, something like:FIDDLEANOTHER FIDDLE ​In the above code, adding a Deferred and resolving it inside $() is like placing any other function inside a jQuery call, like $(func), it's the same as i.e. it waits for the DOM to be ready, so in the above example $.when waits for all the scripts to be loaded and for the DOM to be ready because of the $.Deferred call which resolves in the DOM ready callback.A utility function that accepts any array of scripts could be created like this :which can be used like thiswhere the path will be prepended to all scripts, and is also optional, meaning that if the array contain the full URL's one could also do this, and leave out the path all togetherAs an aside, note that the done callback will contain a number of arguments matching the passed in scripts, each argument representing an array containing the responsewhere each array will contain something like [content_of_file_loaded, status, xhr_object].

We generally don't need to access those arguments as the scripts will be loaded automatically anyway, and most of the time the done callback is all we're really after to know that all scripts have been loaded, I'm just adding it for completeness, and for the rare occasions when the actual text from the loaded file needs to be accessed, or when one needs access to each XHR object or something similar.Also, if any of the scripts fail to load, the fail handler will be called, and subsequent scripts will not be loadedI implemented a simple function to load multiple scripts in parallel:Load the following up needed script in the callback of the previous one like:Sometimes it is necessary to load scripts in a specific order. For example jQuery must be loaded before jQuery UI. Most examples on this page load scripts in parallel (asynchronously) which means order of execution is not guaranteed. Without ordering, script y that depends on x could break if both are successfully loaded but in wrong order.I propose a hybrid approach which allows sequential loading of dependent scripts + optional parallel loading + deferred objects:The scripts in both queues will download in parallel, however, the scripts in each queue will download in sequence, ensuring ordered execution. Waterfall chart:Use yepnope.js or Modernizr (which includes yepnope.js as Modernizr.load).UPDATEJust to follow up, here's a good equivalent of what you currently have using yepnope, showing dependencies on multiple scripts:I ran into a number of issues with multi script loading inculding one issue with (at least in Chrome) same domain hot loading of scripts not actually running after being successfully loaded by Ajax where as Cross Domain works perfectly fine! :(The selected answer to original question does not work reliably.After many many iterations here is my final answer to getScript(s) and loading asynchronously multiple scripts in a specific strict order with per script loaded callback option and overall callback on completion, Tested in jQuery 2.1+ and modern versions of Chrome, Firefox plus the forsaken Internet Explorer.My test case was loading files for a THREE.JS webGL render then starting the render script when THREE global became available using an interval check passed to an anonymous function call to onComplete.The Prototype function ( getScripts )How to useThe function is as it is for I found using Deferred ( Deprecated now? ), When, Success & Complete in my trials to NOT be 100% reliable!?, Hence this function and use of statusCode for example.You may want to add in error/fail handling behaviour if you wish.You could make use of the $.when-method by trying the following function:This function would be used like this:That's the way to use Promises and have a minimum of overhead.Great answer, adeneo.It took me a little while to figure out how to make your answer more generic (so that I could load an array of code-defined scripts).  Callback gets called when all scripts have loaded and executed.  Here is my solution:Here's a different, but super simple approach.

To load multiple scripts you can simply append them to body. What you are looking for is an AMD compliant loader (like require.js).http://requirejs.org/http://requirejs.org/docs/whyamd.htmlThere are many good open source ones if you look it up. Basically this allows you to define a module of code, and if it is dependent on other modules of code, it will wait until those modules have finished downloading before proceeding to run. This way you can load 10 modules asynchronously and there should be no problems even if one depends on a few of the others to run.This function will make sure that a file is loaded after the dependency file is loaded completely. You just need to provide the files in a sequence keeping in mind the dependencies  on other files.This works for me:And use it:Here is answer using Maciej Sawicki's one and implementing Promise as callback:Use:All Javascript files are downloaded as soon as possible and executed in the given order. Then taskNeedingParameters is called.Shorter version of Andrew Marc Newton's comprehensive answer above. This one does not check the status code for success, which you should do to avoid undefined UI behaviour. This one was for an annoying system where I could guarantee jQuery but no other includes, so I wanted a technique short enough to not be farmed off into an external script if forced into it. (You could make it even shorter by passing the index 0 to the first "recursive" call but force of style habits made me add the sugar).I'm also assigning the dependency list to a module name, so this block can be included anywhere you need "module1" and the scripts and dependent initialization will only be included/run once (you can log index in the callback and see a single ordered set of AJAX requests runnning)There's a plugin out there that extends jQuery's getScript method. Allows for asynchronous and synchronous loading and uses jQuery's caching mechanism. Full disclosure, I wrote this. Please feel free to contribute if you find a better method.https://github.com/hudsonfoo/jquery-getscriptsLoads n scripts one by one (useful if for example 2nd file needs the 1st one):based on answer from @adeneo above:

Combining both loading of css and js filesany suggestions for improvements ??You can give this a try using recursion. This will download them in sync, one after another until it completes downloading the whole list.

how to show alternate image if source image is not found? (onerror working in IE but not in mozilla) [duplicate]

Jyoti

[how to show alternate image if source image is not found? (onerror working in IE but not in mozilla) [duplicate]](https://stackoverflow.com/questions/3984287/how-to-show-alternate-image-if-source-image-is-not-found-onerror-working-in-ie)

I need to show an alternate image in cell of table if source image is not found.

Currently below code is used to do so.Now the problem is that the above is solution is working in Internet Explorer but not in mozilla.Please tell me some solution which works in all browsers.

2010-10-21 04:30:18Z

I need to show an alternate image in cell of table if source image is not found.

Currently below code is used to do so.Now the problem is that the above is solution is working in Internet Explorer but not in mozilla.Please tell me some solution which works in all browsers.I think this is very nice and shortBut, be careful. The user's browser will be stuck in an endless loop if the onerror image itself generates an error.EDIT

To avoid endless loop, remove the onerror from it at once.By calling this.onerror=null it will remove the onerror then try to get the alternate image.NEW

I would like to add a jQuery way, if this can help anyone.You simply need to add class='backup_picture' to any img tag that you want a backup picture to load if it tries to show a bad image.I have got the solution for my query:i have done something like this:This way it's working in all browsers.If you're open to a PHP solution:////EDIT 

OK, here's a JS version:

Javascript Array of Functions

Nick

[Javascript Array of Functions](https://stackoverflow.com/questions/4908378/javascript-array-of-functions)

That does not work as intended because each function in the array is executed when the array is created.What is the proper way of executing any function in the array by doing:Thanks!

2011-02-05 17:30:47Z

That does not work as intended because each function in the array is executed when the array is created.What is the proper way of executing any function in the array by doing:Thanks!and then when you want to execute a given function in the array:I think this is what the original poster meant to accomplish:Hopefully this will help others (like me 20 minutes ago :-) looking for any hint about how to call JS functions in an array.Without more detail of what you are trying to accomplish, we are kinda guessing. But you might be able to get away with using object notation to do something like this...and to call one of them...Or just:I would complement this thread by posting an easier way to execute various functions within an Array using the shift() Javascript method originally described hereIt's basically the same as Darin Dimitrov's but it shows how you could use it do dynamically create and store functions and arguments.

I hope it's useful for you :)up above we saw some with iteration. Let's do the same thing using forEach:This is correctIf you're doing something like trying to dynamically pass callbacks you could pass a single object as an argument. This gives you much greater control over which functions you want to you execute with any parameter.Execution of many functions through an ES6 callback 🤗Maybe it can helps to someone. A short way to run 'em all:the probleme of these array of function are not in the "array form" but in the way these functions are called... then... 

try this.. with a simple eval()...it work's here, where nothing upper was doing the job at home... 

hopes it will helpUsing Function.prototype.bind()I have many problems trying to solve this one... tried the obvious, but did not work. It just append an empty function somehow.I solved it by using an array of strings, and later with eval:you got some top answers above. This is just another version of that.}

External template in Underscore

Tomáš

[External template in Underscore](https://stackoverflow.com/questions/8366733/external-template-in-underscore)

I use Underscore template. It is possible to attach a external file as template?In Backbone View I have:In my html is:It works well. But I need external template.

I try:oror but it did not work.

2011-12-03 09:22:50Z

I use Underscore template. It is possible to attach a external file as template?In Backbone View I have:In my html is:It works well. But I need external template.

I try:oror but it did not work.EDIT: This answer is old and outdated.  I'd delete it, but it is the "accepted" answer.  I'll inject my opinion instead.I wouldn't advocate doing this anymore. Instead, I would separate all templates into individual HTML files.  Some would suggest loading these asynchronously (Require.js or a template cache of sorts).  That works well on small projects but on large projects with lots of templates, you find yourself making a ton of small async requests on page load which I really dislike.  (ugh... ok, you can get around it with Require.js by pre-compiling your initial dependencies with r.js, but for templates, this still feels wrong to me)I like using a grunt task (grunt-contrib-jst) to compile all of the HTML templates into a single templates.js file and include that.  You get the best of all worlds IMO... templates live in a file, compilation of said templates happen at build time (not runtime), and you don't have one hundred tiny async requests when the page starts up.Everything below is junkFor me, I prefer the simplicity of including a JS file with my template.  So, I might create a file called view_template.js which includes the template as a variable:Then, it is as simple as including the script file like a normal one and then using it in your view:Taking it a step further, I actually use coffeescript, so my code actually looks more like this and avoid the end-of-line escape characters:Using this approach avoids brining in require.js where it really isn't necessary.Here is a simple solution:Using "async: false" here is not a bad way because in any case you must wait until template  will be loaded. So, "render" function[I am editing the answer instead of leaving a comment because I believe this to be important.]if templates are not showing up in native app, and you see HIERARCHY_REQUEST_ERROR: DOM Exception 3, look at answer by Dave Robinson to What exactly can cause an "HIERARCHY_REQUEST_ERR: DOM Exception 3"-Error?.  Basically, you must addto the $.ajax request.This mixin allows you to render external template using Underscore in very simple way: _.templateFromUrl(url, [data], [settings]). Method API is almost the same as Underscore's _.template(). Caching included.Usage:I didn't want to use require.js for this simple task, so I used modified koorchik's solution. Why to append templates to document, rather than storing them in javascript object? Because in production version I would like to generate html file with all templates already included, so I won't need to make any additional ajax requests. And in the same time I won't need to make any refactoring in my code, as I use in my Backbone views.This might be slightly off topic, but you could use Grunt (http://gruntjs.com/) - which runs on node.js (http://nodejs.org/, available for all major platforms) to run tasks from the command line. There are a bunch of plugins for this tool, like a template compiler, https://npmjs.org/package/grunt-contrib-jst. See documentation on GitHub, https://github.com/gruntjs/grunt-contrib-jst. (You will also need to understand how to run node package manager, https://npmjs.org/. Don't worry, it's incredibly easy and versatile. )You can then keep all your templates in separate html files, run the tool to precompile them all using underscore (which I believe is a dependency for the JST plugin, but don't worry, node package manager will auto install dependencies for you).This compiles all your templates to one script, say Loading the script will set a global - "JST" by default -  which is an array of functions, and can be accessed like so:JST['templates/listView.html']() which would be similar to if you put the content of that script tag in (templates/)listView.htmlHowever, the real kicker is this: Grunt comes with this task called 'watch', which will basically monitor changes to files that you have defined in your local grunt.js file (which is basically a config file for your Grunt project, in javascript). If you have grunt start this task for you, by typing: from the command line, Grunt will monitor all changes you make to the files and auto-execute all tasks that you have setup for it in that grunt.js file if it detects changes - like the jst task described above. Edit and then save your files, and all your templates recompile into one js file, even if they are spread out over a number of directories and subdirectories. Similar tasks can be configured for linting your javascript, running tests, concatenating and minifying / uglifying your script files. And all can be tied to the watch task so changes to your files will automatically trigger a new 'build' of your project. It takes some time to set things up and understand how to configure the grunt.js file, but it well, well worth the time invested, and I don't think you will ever go back to a pre-grunt way of workingI think this is what might help you. Everything in the solution revolves around require.js library which is a JavaScript file and module loader.The tutorial at the link above shows very nicely how a backbone project could be organized. A sample implementation is also provided. Hope this helps.I got interested on javascript templating and now I'm taking the first steps with backbone. This is what i came up with and seems to work pretty well. I had to set the data type to "text" to make it work for me:I found a solution that works for me with using jQuery.I add the underscore template code, with jQuery.load() method, to the main html file.Once it's there, I'm using it for generating the templates. 

All need to happen synchronously! The concept is:I have a underscore map template code:And I put that code in a file called map-template.htmlAfter that I create a a wrapper for the template files.Then I include that file in my main html file like so.In head:Cheers.I know this question is really old but it came up as the first result on a google search for underscore ajax templates.I was tired of not finding a good solution for this so I created my own:https://github.com/ziad-saab/underscore-async-templatesIn addition to loading underscore templates using AJAX, it adds <% include %> functionality. I hope it can be useful to someone.I was a bit uneasy forcing jQuery to function synchronously, so I modified the previous synchronous example using promises. It's pretty much the same, but runs asynchronously. I'm using hbs templates in this example:Then to use the rendered html:NOTE: As discussed by others, it would be preferable to compile all templates into a single templates.js file and load that in the beginning rather than have many small synchronous AJAX calls to get templates when the webpage loads.Forward warning - Here be dragons:I mention the approach shown below simply to help those struggling to make ASP.NET stacks (and similar frameworks) work harmoniously with the ecosystem of js-libs. It goes without saying that this is not a generic solution. Having said that .../endforwardwarningIf you are using ASP.NET you can externalize your templates simply by placing them inside one or more partial views of their own. Aka inside your .cshtml:Inside your template.cshtml:And now you can use the template like usual:Hope this elusively-obvious approach helps someone save an hour's worth of head-scratching.

Insert Unicode character into JavaScript

Bluefire

[Insert Unicode character into JavaScript](https://stackoverflow.com/questions/13093126/insert-unicode-character-into-javascript)

I need to insert an Omega (Ω) onto my html page. I am using its HTML escaped code to do that, so I can write &#937; and get Ω. That's all fine and well when I put it into a HTML element; however, when I try to put it into my JS, e.g. var Omega = &#937;, it parses that code as JS and the whole thing doesn't work. Anyone know how to go about this?

2012-10-26 19:22:45Z

I need to insert an Omega (Ω) onto my html page. I am using its HTML escaped code to do that, so I can write &#937; and get Ω. That's all fine and well when I put it into a HTML element; however, when I try to put it into my JS, e.g. var Omega = &#937;, it parses that code as JS and the whole thing doesn't work. Anyone know how to go about this?I'm guessing that you actually want Omega to be a string containing an uppercase omega? In that case, you can write:(Because Ω is the Unicode character with codepoint U+03A9; that is, 03A9 is 937, except written as four hexadecimal digits.)Although @ruakh gave a good answer, I will add some alternatives for completeness:You could in fact use even var Omega = '&#937;' in JavaScript, but only if your JavaScript code is:In these cases, the code will be first (before getting passed to the JavaScript interpreter) be parsed by an HTML parser so that character references like &#937; are recognized. The restrictions make this an impractical approach in most cases.You can also enter the Ω character as such, as in var Omega = 'Ω', but then the character encoding must allow that, the encoding must be properly declared, and you need software that let you enter such characters. This is a clean solution and quite feasible if you use UTF-8 encoding for everything and are prepared to deal with the issues created by it. Source code will be readable, and reading it, you immediately see the character itself, instead of code notations. On the other hand, it may cause surprises if other people start working with your code.Using the \u notation, as in var Omega = '\u03A9', works independently of character encoding, and it is in practice almost universal. It can however be as such used only up to U+FFFF, i.e. up to \uffff, but most characters that most people ever heard of fall into that area. (If you need「higher」characters, you need to use either surrogate pairs or one of the two approaches above.)You can also construct a character using the String.fromCharCode() method, passing as a parameter the Unicode number, in decimal as in var Omega = String.fromCharCode(937) or in hexadecimal as in var Omega = String.fromCharCode(0x3A9). This works up to U+FFFF. This approach can be used even when you have the Unicode number in a variable.The answer is correct, but you don't need to declare a variable.

A string can contain your character:Unfortunately still those codes in ASCII are needed for displaying UTF-8, but I am still waiting (since too many years...) the day when UTF-8 will be same as ASCII was, and ASCII will be just a remembrance of the past.

Create <div> and append <div> dynamically

Michael Berkowski

[Create <div> and append <div> dynamically](https://stackoverflow.com/questions/14004117/create-div-and-append-div-dynamically)

I am trying to create a <div> dynamically, with an appended <div> inside. I have this so far which works:I am just having trouble creating and appending the second div to the first div.I essentially want to do this as the final markup:

2012-12-22 15:43:32Z

I am trying to create a <div> dynamically, with an appended <div> inside. I have this so far which works:I am just having trouble creating and appending the second div to the first div.I essentially want to do this as the final markup:Use the same process. You already have the variable iDiv which still refers to the original element <div id='block'> you've created. You just need to create another <div> and call appendChild().http://jsfiddle.net/W4Sup/1/The order of event creation doesn't have to be as I have it above. You can alternately append the new innerDiv to the outer div before you add both to the <body>.Well, I don't know how dynamic this is is, but sometimes this might save your debugging life:"Rat javascript" If I did it correctly. Works for me  directly when the div and contents are not themselves dynamic of course, or you can even manipulate the string to change that too, though the string manipulating is complex than the "element.property=bla" approach, this gives some very welcome flexibility, and is a great debugging tool too :) Hope it helps.

Create JSON object dynamically via JavaScript (Without concate strings)

ohadinho

[Create JSON object dynamically via JavaScript (Without concate strings)](https://stackoverflow.com/questions/16507222/create-json-object-dynamically-via-javascript-without-concate-strings)

I have this JSON data:Suppose I don't know how many columns and rows of employees I have, how do I create this object in JavaScript (Without concate strings)? Assume that I get each row in "onGeneratedRow" method, and I need to push each column (firstName, lastName) to the '{}' brackets.

2013-05-12 12:11:25Z

I have this JSON data:Suppose I don't know how many columns and rows of employees I have, how do I create this object in JavaScript (Without concate strings)? Assume that I get each row in "onGeneratedRow" method, and I need to push each column (firstName, lastName) to the '{}' brackets.This is what you need!Perhaps this information will help you.This topic, especially the answer of Xotic750 was very helpful to me. I wanted to generate a json variable to pass it to a php script using ajax. My values were stored into two arrays, and i wanted them in json format.

This is a generic example:The result in the console Log should be something like this:

How to set header and options in axios?

user2950593

[How to set header and options in axios?](https://stackoverflow.com/questions/45578844/how-to-set-header-and-options-in-axios)

I use Axios to perform an HTTP post like this:Is this correct? Or should I do:

2017-08-08 22:16:54Z

I use Axios to perform an HTTP post like this:Is this correct? Or should I do:There are several ways to do this:You can pass a config object to axios like:  This is a simple example of a configuration with headers and responseType:Content-Type can be 'application/x-www-form-urlencoded' or 'application/json'

and it may work also 'application/json;charset=utf-8'responseType can be 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'In this example, this.data is the data you want to send. It can be a value or an Array. (If you want to send an object you'll probably have to serialize it)You can initialize a default header axios.defaults.headersif you want to do a get request with params and headers.Here is the Right way:-

In reactJS, how to copy text to clipboard?

Duke Dougal

[In reactJS, how to copy text to clipboard?](https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard)

I'm using ReactJS and when a user clicks a link I want to copy some text to the clipboard.I am using Chrome 52 and I do not need to support any other browsers.I can't see why this code does not result in the data being copied to the clipboard. (the origin of the code snippet is from a Reddit post).Am I doing this wrong? Can anyone suggest is there a "correct" way to implement copy to clipboard using reactjs?

2016-09-14 23:52:18Z

I'm using ReactJS and when a user clicks a link I want to copy some text to the clipboard.I am using Chrome 52 and I do not need to support any other browsers.I can't see why this code does not result in the data being copied to the clipboard. (the origin of the code snippet is from a Reddit post).Am I doing this wrong? Can anyone suggest is there a "correct" way to implement copy to clipboard using reactjs?I personally don't see the need for a library for this. Looking at http://caniuse.com/#feat=clipboard it's pretty widely supported now, however you can still do things like checking to see if the functionality exists in the current client and simply hide the copy button if it doesn't. Update: Rewritten using React Hooks in React 16.7.0-alpha.0Use this simple inline onClick function on a button if you want to programatically write data to the clipboard.You should definitely consider using a package like @Shubham above is advising, but I created a working codepen based on what you described: http://codepen.io/dtschust/pen/WGwdVN?editors=1111 . It works in my browser in chrome, perhaps you can see if there's something I did there that you missed, or if there's some extended complexity in your application that prevents this from working.The simplest way will be use the react-copy-to-clipboard npm package. You can install it with the following commandUse it in the following manner.A detailed explanation is provided at the following linkhttps://www.npmjs.com/package/react-copy-to-clipboardHere is a running fiddle.Why do not use just event clipboardData collection method e.clipboardData.setData(type, content)?In my opinion is the most streightforward method to achieve pushing smth inside clipboard, check this out (i've used that to modify data while native copying action):I followed that path: https://developer.mozilla.org/en-US/docs/Web/Events/copyCheers!EDIT: For testing purposes, i've added codepen: https://codepen.io/dprzygodzki/pen/ZaJMKbYour code should work perfectly, I use it the same way. Only make sure that if the click event is triggered from within a pop up screen like a bootstrap modal or something, the created element has to be within that modal otherwise it won't copy. You could always give the id of an element within that modal (as a second parameter) and retrieve it with getElementById, then append the newly created element to that one instead of the document. Something like this:I've taken a very similar approach as some of the above, but made it a little more concrete, I think. Here, a parent component will pass the url (or whatever text you want) as a prop.For those people who are trying to select from the DIV instead of the text field, here is the code. The code is self-explanatory but comment here if you want more information: If you want to select from the DIV instead of the text field, here is the code. The "code" is the value that has to be copiedhere is my code:

Hide div after a few seconds

James

[Hide div after a few seconds](https://stackoverflow.com/questions/820951/hide-div-after-a-few-seconds)

I was wondering, how in jquery am I able to hide a div after a few seconds? Like Gmail's messages for example.I've tried my best but am unable to get it working.

2009-05-04 17:02:23Z

I was wondering, how in jquery am I able to hide a div after a few seconds? Like Gmail's messages for example.I've tried my best but am unable to get it working.This will hide the div after 1 second (1000 milliseconds).If you just want to hide without fading, use hide().You can try the .delay()call the div set the delay time in milliseconds and set the property you want to change, in this case I used .fadeOut() so it could be animated, but you can use .hide() as well.http://api.jquery.com/delay/There's a really simple way to do this.The problem is that .delay only effects animations, so what you need to do is make .hide() act like an animation by giving it a duration.$("#whatever").delay().hide(1);By giving it a nice short duration, it appears to be instant just like the regular .hide function.jquery offers a variety of methods to hide the div in a timed manner that do not require setting up and later clearing or resetting interval timers or other event handlers. Here are a few examples. Pure hide, one second delay Pure hide, no delay Animated hide fade outAdditionally, the methods can take a queue name or function as a second parameter (depending on method). Documentation for all the calls above and other related calls can be found here:

https://api.jquery.com/category/effects/From http://james.padolsey.com/javascript/jquery-delay-plugin/(Allows chaining of methods)Using the jQuery timer will also allow you to have a name associated with the timers that are attached to the object. So you could attach several timers to an object and stop any one of them.The eval function (and its relatives, Function, setTimeout, and setInterval) provide access to the JavaScript compiler. This is sometimes necessary, but in most cases it indicates the presence of extremely bad coding. The eval function is the most misused feature of JavaScript.http://www.jslint.com/lint.htmlProbably the easiest way is to use the timers plugin.  http://plugins.jquery.com/project/timers and then call something likewe can directly use

Getting「Cannot call a class as a function」in my React Project

Mike Fleming

[Getting「Cannot call a class as a function」in my React Project](https://stackoverflow.com/questions/38481857/getting-cannot-call-a-class-as-a-function-in-my-react-project)

I'm trying to add a React map component to my project but run into an error. I'm using Fullstack React's blog post as a reference. I tracked down where the error gets thrown in google_map.js line 83:Here is my map component so far. The page loads just fine (without a map) when I comment out lines 58-60, the last three lines. edit: I made the changes that @Dmitriy Nevzorov suggested and it still gives me the same error.And here is where this map component gets routed in main.js:

2016-07-20 12:52:00Z

I'm trying to add a React map component to my project but run into an error. I'm using Fullstack React's blog post as a reference. I tracked down where the error gets thrown in google_map.js line 83:Here is my map component so far. The page loads just fine (without a map) when I comment out lines 58-60, the last three lines. edit: I made the changes that @Dmitriy Nevzorov suggested and it still gives me the same error.And here is where this map component gets routed in main.js:For me it happened when I forgot to write extends React.Component at the end.

I know it's not exactly what YOU had, but others reading this answer can benefit from this, hopefully.For me it was because I forgot to use the new keyword when setting up Animated state.eg:fadeAnim: Animated.Value(0),tofadeAnim: new Animated.Value(0),would fix it.If you use React Router v4 check your <Route/> component if you indeed use the component prop to pass your class based React component!More generally: If your class seems ok, check if the code that calls it doesn't try to use it as a function.I got this error because I was using React Router v4 and I accidentally used the render prop instead of the component one in the <Route/> component to pass my component that was a class. This was a problem, because render expects (calls) a function, while component is the one that will work on React components.So in this code:The line containing the <Route/> component, should have been written like this:It is a shame, that they don't check it and give a usable error for such and easy to catch mistake.Happened to me because I usedPropTypes.arrayOf(SomeClass)instead ofPropTypes.arrayOf(PropTypes.instanceOf(SomeClass))You have duplicated export default declaration. The first one get overridden by second one which is actually a function. I experienced the same issue, it occurred because my ES6 component class was not extending React.Component.For me, it was ComponentName.prototype instead of ComponentName.propTypes.

auto suggested by Phpstorm IDE. Hope it will help someone.Mostly these issues occur when you miss extending Component from react:For me it was because i used prototype instead of propTypesit ought to be tosomeone should comment on how to monitor such error in a very precise way.Looks like there're no single case when this error appears.Happened to me when I didn't declare constructor in statefull component.instead ofThis is a general issue, and doesn't appear in a single case. But, the common problem in all the cases is that you forget to import a specific component (doesn't matter if it's either from a library that you installed or a custom made component that you created):import {SomeClass} from 'some-library'When you use it later, without importing it, the compiler thinks it's a function. Therefore, it breaks. This is a common example:imports...code...and then somewhere inside your code<Image {..some props} />If you forgot to import the component <Image /> then the compiler will not complain like it does for other imports, but will break when it reaches your code.I had a similar problem I was calling the render method incorrectlyGave an error:instead ofcorrect: I had it when I did so :correctly:orFor me it happened because I didn't wrap my connect function properly, and tried to export default two componentsI faced this error when I imported the wrong class and referred to wrong store while using mobx in react-native.I faced error in this snippet :After few corrections like as below snippet. I resolved my issue like this way.What was actually wrong,I was using the wrong class instead of observer I used Observer and instead of counterStore I used counter.  I solved my issue like this way.In file MyComponent.jsI put some function related to that component:and then in another file imported that function:Can you spot the problem?I forgot the curly braces, and imported MyComponent under name myFunction!So, the fix was:I experienced this when writing an import statement wrong while importing a function, rather than a class. If removeMaterial is a function in another module:Right:Wrong:I received this error by making small mistake. My error was exporting the class as a function instead of as a class. At the bottom of my class file I had:when it should have been:Two things you can check is,For me, it was because I'd accidentally deleted my render method !I had a class with a componentWillReceiveProps method I didn't need anymore, immediately preceding a short render method.  In my haste removing it, I accidentally removed the entire render method as well.This was a PAIN to track down, as I was getting console errors pointing at comments in completely irrelevant files as being the "source" of the problem.I have also run into this, it is possible you have a javascript error inside of your react component. Make sure if you are using a dependency you are using the new operator on the class to instantiate the new instance. Error will throw ifthis.classInstance = Class({})instead usethis.classInstance = new Class({})you will see in the error chain in the browserat ReactCompositeComponentWrapper._constructComponentWithoutOwnerthat is the giveaway I believe.Try stopping you HMR and hit npm start again to rebuild you project.

This ,made the error to disappear, don't know why. In my case i wrote comment in place of Component by mistakeI just wrote this.Instead of this.it's not a big deal but for a beginner like me it's really confusing.

I hope this will be helpfull.In my case, using JSX a parent component  was calling other components without the "<>"fix Another report here: It didn't work as I exported: instead of Note the position of the brackets. Both are correct and won't get caught by either a linter or prettier or something similar. Took me a while to track it down. In my case, I accidentally put component name (Home) as the first argument to connect function while it was supposed to be at the end. duh.This one -surely- gave me the error:But this one worked -surely- fine:This occured when I accidentally named my render function incorrectly:My instance of this error was simply caused because my class did not have a proper render method.Actually all the problem redux connect. solutions:Correct: Wrong & Bug: For me it was a wrong import of a reducer in the rootReducer.js. I imported container instead of reducer file.ExampleBut sure it should be Where settings directory contains following files actions.js, index.js, reducer.js.To check it you can log reducers arg of the assertReducerShape() function from the redux/es/redux.js.

Overriding !important style

Enrico

[Overriding !important style](https://stackoverflow.com/questions/462537/overriding-important-style)

Title pretty much sums it up.The external style sheet has the following code:I have tried using:andbut neither works. Is it possible to override an !important style using javascript.This is for a greasemonkey extension, if that makes a difference.

2009-01-20 18:41:16Z

Title pretty much sums it up.The external style sheet has the following code:I have tried using:andbut neither works. Is it possible to override an !important style using javascript.This is for a greasemonkey extension, if that makes a difference.I believe the only way to do this it to add the style as a new CSS declaration with the '!important' suffix. The easiest way to do this is to append a new <style> element to the head of document:The rules added with the above method will (if you use the !important suffix) override other previously set styling. If you're not using the suffix then make sure to take concepts like 'specificity' into account.There are a couple of simple one-liners you can use to do this.1) Set a  "style" attribute on the element:or...2) Modify the cssText property of the style object:Either will do the job.===BTW - if you want a useful tool to manipulate !important rules in elements, I've written a jQuery plugin called "important": http://github.com/premasagar/importantelement.style has a setProperty method that can take the priority as a third parameter:It didn't work in old IEs but it should be fine in current browsers.Building on @Premasagar's excellent answer; if you don't want to remove all the other inline styles use this

Can't use removeProperty() because it wont remove !important rules in Chrome.

Can't use element.style[property] = '' because it only accepts camelCase in FireFox.

Better method I just discovered:  try to be more specific than the page CSS with your selectors.  I just had to do this today, and it works like a charm!  More info on the W3C site: http://www.w3.org/TR/CSS2/cascade.html#specificityIf you want to update / add single style in DOM Element style attribute you can use this function:style.cssText is supported for all major browsers.Use case example:Here is link to demoIf all you are doing is adding css to the page, then I would suggest you use the Stylish addon, and write a user style instead of a user script, because a user style is more efficient and appropriate.See this page with information on how to create a user stylehttps://developer.mozilla.org/en-US/docs/Web/CSS/initialuse initial property in css3 https://jsfiddle.net/xk6Ut/256/One option to override CSS class in JavaScript is using an ID for the style element so that we can update the CSS class..Rather than injecting style, if you inject a class(for eg: 'show') through java script, it will work. But here you need css like below. the added class css rule should be below your original rule.There we have another possibilty to remove a property value from the CSS.

Like using the replace method in js. But you have to know exactly the ID of the style, or you can write a for loop to detecting that by(count styles on page, then check if any of those 'includes' or 'match' an "!important" value. & you can count also - how much contains them, or just simply write a global [regexp: /str/gi] replacing method.) Mine is very simple, but i attack a jsBin for example:First i set the body background in css for yellow !impoartant, then i overrided by JS for darkPink.Below is a snippet of code to set the important parameter for the style attribute using jquery.Usage is pretty simple.Just pass an object containing all the attributes you want to set as important.There are two additional options.1.To just add important parameter to already present style attribute pass empty string.2.To add important param for all attributes present dont pass anything. It will set all attributes as important.Here is it live in action. http://codepen.io/agaase/pen/nkvjr

subtle differences between JavaScript and Lua [closed]

stefs

[subtle differences between JavaScript and Lua [closed]](https://stackoverflow.com/questions/1022560/subtle-differences-between-javascript-and-lua)

I simply love JavaScript. It's so elegant (imagine the quiet sound of lovestruck fanboy sighing in the background).So, recently I have played with Lua via the löve2d framework (nice!) - and I think Lua is also great. They way I see it, those two languages are very similar.There are obvious differences, likebut which are the more subtle ones? Is there anything a JavaScript coder would take for granted that works in Lua just slightly different? Are there any pitfalls that may not be obvious to the experienced coder of one language trying the other one?For example: in Lua, arrays and hashes are not separate (there are only tables) - in JavaScript, they are numerical Arrays and hashed Objects. Well, this is one of the more obvious differences.But are there differences in variable scope, immutability or something like this?

2009-06-20 21:10:56Z

I simply love JavaScript. It's so elegant (imagine the quiet sound of lovestruck fanboy sighing in the background).So, recently I have played with Lua via the löve2d framework (nice!) - and I think Lua is also great. They way I see it, those two languages are very similar.There are obvious differences, likebut which are the more subtle ones? Is there anything a JavaScript coder would take for granted that works in Lua just slightly different? Are there any pitfalls that may not be obvious to the experienced coder of one language trying the other one?For example: in Lua, arrays and hashes are not separate (there are only tables) - in JavaScript, they are numerical Arrays and hashed Objects. Well, this is one of the more obvious differences.But are there differences in variable scope, immutability or something like this?Some more differences:A couple of subtle differences that will catch you out at least once:† you can use a period if you want, but have to pass the self variable explicitly. a.foo(a) looks a bit cumbersome. See Programming in Lua for details.To be honest it would be easier to list the things which are common to Javascript and Lua than to list the differences. They are both dynamically-typed scripting languages, but that's about as far as you can go really. They have totally different syntax, different original design goals, different modes of operation (Lua is always compiled to bytecode and run on the Lua VM, Javascript varies), the list goes on and on.JavaScript arrays and objects are closer than you might think. You can use array notation to get at the elements of either of them, and you can add non-numeric indices to arrays. Individual array elements can hold anything, and the array can be sparse. They are nearly identical cousins.Off the top of my headLua ...I liked this question and the answers provided.  Additional reasons the two languages seem more alike than not to me:Both 

  assign functions to variables,

  can build functions on the fly,

  and define closures.Lua and JavaScript are both prototype base languages.A test reveals that current Javascript also returns objects, or at least strings from logic expressions like lua does:

Code coverage for Jest

Alex Palcuie

[Code coverage for Jest](https://stackoverflow.com/questions/24825860/code-coverage-for-jest)

Is there a way to have code coverage in the Javascript Jest testing framework that is built on top of Jasmine?The internal framework does not print out the code coverage it gets. I've also tried using Istanbul, blanket and JSCover, but none of them work.

2014-07-18 13:10:01Z

Is there a way to have code coverage in the Javascript Jest testing framework that is built on top of Jasmine?The internal framework does not print out the code coverage it gets. I've also tried using Istanbul, blanket and JSCover, but none of them work.When using Jest 21.2.1, I can see code coverage at the command line and create a coverage directory by passing --coverage to the Jest script. Below are some examples:I tend to install Jest locally, in which case the command might look like this: npx jest --coverageI assume (though haven't confirmed), that this would also work if I installed Jest globally:jest --coverageThe very sparse docs are hereWhen I navigated into the coverage/lcov-report directory I found an index.html file that could be loaded into a browser. It included the information printed at the command line, plus additional information and some graphical output.UPDATE: 7/20/2018 - Added links and updated name for coverageReporters.UPDATE: 8/14/2017 - This answer is totally outdated. Just look at the Jest docs now. They have official support and documentation about how to do this.@hankhsiao has got a forked repo where Istanbul is working with Jest.  Add this to your dev dependenciesAlso make sure coverage is enabled in your package.json jest entry and you can also specify formats you want.  (The html is pretty bad ass).See Jest documentation for coverageReporters (default is  ["json", "lcov", "text"])Or add --coverage when you invoke jest.For anyone looking into this question recently especially if testing using npm or yarn directlyCurrently, you don't have to change the configuration optionsAs per jest official website, you can do the following to generate coverage reports:You must put -- before passing the --coverage argument of jestif you try invoking the --coverage directly without the -- it won't workYou can pass the --coverage argument of jest directlyAlright, ignore my previous answer as someone told me it did not resolve the problem.New Answer: 1) Check the latest jest (v 0.22): https://github.com/facebook/jest2) The facebook team puts the istanbul as part of the coverage report and you can use it directly.3) After executing jest, you can get coverage report on console and under the root folder set by jest, you will find the coverage report in json and html format.4) FYI, if you install from npm, you might not get the latest version; so try the github first and make sure the coverage is what you need.Old Answer:Got the same problem as well. Short answer is: Istanbul and Jest are NOT working together.Check the following pages for greater details:https://github.com/facebook/jest/issues/101@Ciro Costa:

The config.collectCoverage is NOT working, as it's a 'TODO' function. Please check the source code.If you are having trouble with --coverage not working it may also be due to having coverageReporters enabled without 'text' or 'text-summary' being added.

From the docs: "Note: Setting this option overwrites the default values. Add "text" or "text-summary" to see a coverage summary in the console output." SourceConfigure your package.json file    Now run:All the test will start running and you will get the report.

I had the same issue and i fixed it as below.After you write the tests run the command npm run jest-coverage. This will create coverage folder in the root directory. /coverage/icov-report/index.html has the html view of code coverage.Happy coding! Try Chutzpah. I have just used it. And I blogged about it on how to integrate in Visual Studio.This is how I did code coverage with Chutzpah: http://francorobles.wordpress.com/2014/09/14/code-coverage-with-chutzpah/

Double negation (!!) in javascript - what is the purpose? [duplicate]

Eran Medan

[Double negation (!!) in javascript - what is the purpose? [duplicate]](https://stackoverflow.com/questions/10467475/double-negation-in-javascript-what-is-the-purpose)

I have encountered this piece of code And couldn't help to wonder why the double negation? And is there an alternative way to achieve the same effect?(code is from https://github.com/eriwen/javascript-stacktrace/blob/master/stacktrace.js)

2012-05-06 01:50:34Z

I have encountered this piece of code And couldn't help to wonder why the double negation? And is there an alternative way to achieve the same effect?(code is from https://github.com/eriwen/javascript-stacktrace/blob/master/stacktrace.js)It casts to boolean. The first ! negates it once, converting values like so:Then the other ! negates it again. A concise cast to boolean, exactly equivalent to ToBoolean simply because ! is defined as its negation. It’s unnecessary here, though, because it’s only used as the condition of the conditional operator, which will determine truthiness in the same way.Let's break it to pieces:So it's used convert a "truethy" \"falsy" value to a boolean.The following values are equivalent to false in conditional statements:All other values are equivalent to true.Double-negation turns a "truthy" or "falsy" value into a boolean value, true or false.Most are familiar with using truthiness as a test:But that does not necessarily mean:If you need to force a "truthy" value to a true boolean value, !! is a convenient way to do that:

VIM + JSLint?

ben lemasurier

[VIM + JSLint?](https://stackoverflow.com/questions/473478/vim-jslint)

I spend my days in vim, currently writing a lot of JavaScript. I've been trying to find a way to integrate JSLint or something similar into vim to improve my coding. Has anyone managed to do something like this?Edit:tried this: Javascript Syntax Checking From Vim, unfortunately the output is very crude.

2009-01-23 16:10:29Z

I spend my days in vim, currently writing a lot of JavaScript. I've been trying to find a way to integrate JSLint or something similar into vim to improve my coding. Has anyone managed to do something like this?Edit:tried this: Javascript Syntax Checking From Vim, unfortunately the output is very crude.You can follow the intructions from JSLint web-service + VIM integration or do what I did:Download http://jslint.webvm.net/mylintrun.js and http://www.jslint.com/fulljslint.js

 and put them in a directory of your choice.Then add the following line to the beginning of mylintrun.js:and change last line of code in mylintrun.js ("print( ...)") to:This makes in mylintrun.js output a error list that can be used with the VIM quickfix window (:copen).Now set the following in VIM:where you have to change /my/path/to/js to the path to SpiderMonkey and /my/path/to/mylintrun.js to the path where you put the JS files.Now, you can use :make in VIM and use the quickfix window (:he quickfix-window) to jump from error to error.The best-practice way IMO is:Enjoy! :)Another option is jslint.vim from Jesse Hallet. It's available on GitHub and works with or without Vim's QuickFix window. It's a nice plugin!I've been very happy using node-lintThen whack this somewhere in your .vimNow a :make will run jslint. Errors appear in the quickfix window.Here are the Mac OS instructions updated for Nov. 2012. Assumes you have Homebrew installed in order to get Node.js, and that you've already installed Syntastic for Vim (I use https://github.com/carlhuda/janus which provides this automatically):Then add '/usr/local/share/npm/bin' to your PATH (probably in ~/.bashrc). For example, add the line:

export PATH="$PATH:/usr/local/share/npm/bin"

restart your Terminal and check that 

$ jshint

is executable from the command line. Syntastic will discover jsHint automatically. Restart MacVim and enjoy!Much better is to pipe the results through Lynx to deal with JSLint's unfortunate choice of HTML for output format. I have a blog post on how to do it here:http://www.fleegix.org/articles/2008-09-06-jslint-in-vim-through-lynx

How to remove an HTML element using Javascript?

Newbie Coder

[How to remove an HTML element using Javascript?](https://stackoverflow.com/questions/5933157/how-to-remove-an-html-element-using-javascript)

I am a total newbie. Can somebody tell me how to remove an HTML element using the original Javascript not jQuery.index.htmlmyscripts.jsWhat happens when I click the submit button, is that it will disappear for a very very short time and then appear back immediately. I want to completely remove the element when I click the button.

2011-05-09 06:07:45Z

I am a total newbie. Can somebody tell me how to remove an HTML element using the original Javascript not jQuery.index.htmlmyscripts.jsWhat happens when I click the submit button, is that it will disappear for a very very short time and then appear back immediately. I want to completely remove the element when I click the button.What's happening is that the form is getting submitted, and so the page is being refreshed (with its original content). You're handling the click event on a submit button.If you want to remove the element and not submit the form, handle the submit event on the form instead, and return false from your handler:HTML:JavaScript:But you don't need (or want) a form for that at all, not if its sole purpose is to remove the dummy div. Instead:HTML:JavaScript:However, that style of setting up event handlers is old-fashioned. You seem to have good instincts in that your JavaScript code is in its own file and such. The next step is to take it further and avoid using onXYZ attributes for hooking up event handlers. Instead, in your JavaScript, you can hook them up with the newer (circa year 2000) way instead:HTML:JavaScript:...then call pageInit(); from a script tag at the very end of your page body (just before the closing </body> tag), or from within the window load event, though that happens very late in the page load cycle and so usually isn't good for hooking up event handlers (it happens after all images have finally loaded, for instance).Note that I've had to put in some handling to deal with browser differences. You'll probably want a function for hooking up events so you don't have to repeat that logic every time. Or consider using a library like jQuery, Prototype, YUI, Closure, or any of several others to smooth over those browser differences for you. It's very important to understand the underlying stuff going on, both in terms of JavaScript fundamentals and DOM fundamentals, but libraries deal with a lot of inconsistencies, and also provide a lot of handy utilities — like a means of hooking up event handlers that deals with browser differences. Most of them also provide a way to set up a function (like pageInit) to run as soon as the DOM is ready to be manipulated, long before window load fires.Just do this

element.remove();Try it here LOOKhttp://jsfiddle.net/4WGRP/You should use input type="button" instead of input type="submit".Checkout Mozilla Developer Center for basic html and javascript resourcesYour JavaScript is correct. Your button has type="submit" which is causing the page to refresh. It reappears because your submit button reloads the page.  The simplest way to prevent this behavior is to add a return false to the onclick like so:Change the input type to "button".  As T.J. and Pav said, the form is getting submitted.  Your Javascript looks correct, and I commend you for trying it out the non-JQuery way :)That is the right code. What is probably happening is your form is submitting, and you see the new page (where the element will exist again).index.htmlmyscripts.jsThis works. Just remove the button from the "dummy" div if you want to keep the button.Try running this code in your script.And it will hopefully remove the element/button.I'm still a newbie too, but here is one simple and easy way: You can use outerHTML, which is the whole tag, not just a portion:EX: <tag id='me'>blahblahblah</tag>'s innerHTML would be blahblahblah, and outerHTML would be the whole thing, <tag id='me'>blahblahblah</tag>.

Instead, if you want to just not display it, you can style it in JS using the visibility, opacity, and display properties.

How do I put a clear button inside my HTML text input box like the iPhone does?

Hugh Buchanan

[How do I put a clear button inside my HTML text input box like the iPhone does?](https://stackoverflow.com/questions/2803532/how-do-i-put-a-clear-button-inside-my-html-text-input-box-like-the-iphone-does)

I want to have a nice little icon that, when clicked will clear the text in the <INPUT> box.This is to save space rather than having a clear link outside of the input box.My CSS skills are weak...   Here is a screenshot photo of how the iPhone looks.

2010-05-10 14:43:54Z

I want to have a nice little icon that, when clicked will clear the text in the <INPUT> box.This is to save space rather than having a clear link outside of the input box.My CSS skills are weak...   Here is a screenshot photo of how the iPhone looks.@thebluefox has summarized the most of all. You're only also forced to use JavaScript to make that button to work anyway. Here's an SSCCE, you can copy'n'paste'n'run it:Live example here.jQuery is by the way not necessary, it just nicely separates the logic needed for progressive enhancement from the source, you can of course also go ahead with plain HTML/CSS/JS:You only ends up with uglier HTML (and non-crossbrowser compatible JS ;) ).Note that when the UI look'n'feel isn't your biggest concern, but the functionality is, then just use <input type="search"> instead of <input type="text">. It'll show the (browser-specific) clear button on HTML5 capable browsers.Nowadays with HTML5, it's pretty simple:Most modern browsers will automatically render a usable clear button in the field by default.(If you use Bootstrap, you'll have to add an override to your css file to make it show)Safari/WebKit browsers can also provide extra features when using type="search", like results=5 and autosave="...", but they also override many of your styles (e.g. height, borders) .  To prevent those overrides, while still retaining functionality like the X button, you can add this to your css:See css-tricks.com for more info  about the features provided by type="search".HTML5 introduces the 'search' input type that I believe does what you want.<input type="search" />Here's a live example.Check out our jQuery-ClearSearch plugin. It's a configurable jQuery plugin - adapting it to your needs by styling the input field is straightforward. Just use it as follows:​

Example: http://jsfiddle.net/wldaunfr/FERw3/You can't actually put it inside the text box unfortunately, only make it look like its inside it, which unfortunately means some css is needed :PTheory is wrap the input in a div, take all the borders and backgrounds off the input, then style the div up to look like the box. Then, drop in your button after the input box in the code and the jobs a good'un.Once you've got it to work anyway ;)I got a creative solution I think you are looking for

https://jsfiddle.net/qdesign/xn9eogmx/1/Of course the best approach is to use the ever-more-supported <input type="search" />.Anyway for a bit of coding fun I thought that it could be achieved also using the form's reset button, and this is the working result (it worths notings that cannot live other inputs but the search field with this approach, or the reset button will erase them too), no javascript needed:Maybe this simple solution can help:@Mahmoud Ali KaseemI have just changed some CSS to make it look different and added focus();https://jsfiddle.net/xn9eogmx/81/

Redis connection to 127.0.0.1:6379 failed - connect ECONNREFUSED

Huy Tran

[Redis connection to 127.0.0.1:6379 failed - connect ECONNREFUSED](https://stackoverflow.com/questions/8754304/redis-connection-to-127-0-0-16379-failed-connect-econnrefused)

I working with node.js by expressjs  I try to store an account to session. So, i try to test to use session with code in expressjsbut I got error Redis connection to 127.0.0.1:6379 failed - connect ECONNREFUSED.  Please help me resolve this problem

2012-01-06 06:40:03Z

I working with node.js by expressjs  I try to store an account to session. So, i try to test to use session with code in expressjsbut I got error Redis connection to 127.0.0.1:6379 failed - connect ECONNREFUSED.  Please help me resolve this problemAfter you install redis, type from terminal:and you'll have redis runningI solve this problem in next way:then run command to confirm that everything ok:And the output will be: redis-server is running - that means that the problem is solved.Install redis on your system first - then start the redis server - I'm on windows, and had to install Redis from here and then run redis-server.exe.From the top of this SO question.only hit below commend once and restart your server againI also have the same problem, first I tried to restart redis-server by sudo service restart but the problem still remained. Then I removed redis-server by sudo apt-get purge redis-server and install it again by sudo apt-get install redis-server and then the redis was working again. It also worth to have a look at redis log which located in here /var/log/redis/redis-server.logI used ubuntu 12.04

I solved that problem by installing redis-serverredis-server installation for ubuntu 12.04some configuration will new root permission

Also listed manuals for other OSThanksfor Windows users, you can use chocolatey to install Redisthen run server from Using Windows 10?

Go here: https://docs.microsoft.com/en-us/windows/wsl/wsl2-installThen run...For windows platform, You must check if redis-server is running on given ip:port. you can find redis configuration at installation directory /conf/redis.conf. by default client accept 127.0.0.1:6379. I'm on MBP , and install redis detail my problem was resolved .Fixed the 

Download, extract and compile Redis with:The binaries that are now compiled are available in the src directory. Run Redis with:Your connection to redis is failing. Try restarting your redis server, then starting up your client again by running these 3 commands:I think maybe you installed redis by source code.If that you need locate to redis-source-code-path/utils and run sudo install_server.sh command.

After that, make sure redis-server has been running as a service for your system

sudo service redis-server statusPS: based on Debian/UbuntuIn case of ubuntu, the error is due to redis-server not being set up.

Install the redis-server again and then check for the status.If there is no error, then a message like this would be displayed :-● redis-server.service - Advanced key-value store

   Loaded: loaded (/lib/systemd/system/redis-server.service; enabled; vendor preset: enabled)

   Active: active (running) since Wed 2018-01-17 20:07:27 IST; 16s ago

     Docs: http://redis.io/documentation,

           man:redis-server(1)

 Main PID: 4327 (redis-server)

   CGroup: /system.slice/redis-server.service

           └─4327 /usr/bin/redis-server 127.0.0.1:6379You have to install redis server first;You can install redis server on mac by following step - Good luck.Try upgrading your node to latest version.version 0.4 may not work properly.

Why is 0[0] syntactically valid?

Michael M.

[Why is 0[0] syntactically valid?](https://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid)

Why is this line valid in javascript ?After that, a is undefined.

2015-03-25 08:42:30Z

Why is this line valid in javascript ?After that, a is undefined.When you do 0[0], the JS interpreter will turn the first 0 into a Number object and then try to access the [0] property of that object which is undefined.There is no syntax error because the property access syntax 0[0] is allowed by the language grammar in this context.  This structure (using terms in the Javascript grammar) is NumericLiteral[NumericLiteral].The relevant part of the language grammar from section A.3 of the ES5 ECMAScript spec is this:So, one can follow the grammer through this progression:And, similarly Expression can also eventually be NumericLiteral so after following the grammar, we see that this is allowed:Which means that 0[0] is an allowed part of the grammar and thus no SyntaxError.Then, at run-time you are allowed to read a property that does not exist (it will just be read as undefined) as long as the source you are reading from either is an object or has an implicit conversion to an object.  And, a numeric literal does indeed have an implicit conversion to an object (a Number object).This is one of those often unknown features of Javascript.  The types Number, Boolean and String in Javascript are usually stored internally as primitives (not full-blown objects).  These are a compact, immutable storage representation (probably done this way for implementation efficiency).  But, Javascript wants you to be able to treat these primitives like objects with properties and methods.  So, if you try to access a property or method that is not directly supported on the primitive, then Javascript will temporarily coerce the primitive into an appropriate type of object with the value set to the value of the primitive.When you use an object-like syntax on a primitive such as 0[0], the interpreter recognizes this as a property access on a primitive.  Its response to this is to take the first 0 numeric primitive and coerce it into a full-blown Number object which it can then access the [0] property on.  In this specific case, the [0] property on a Number object is undefined which is why that's the value you get from 0[0].Here is an article on the auto-conversion of a primitive to an object for purposes of dealing with properties:The Secret Life of Javascript PrimitivesHere are the relevant portions of the ECMAScript 5.1 specification:9.10 CheckObjectCoercibleThrows TypeError if value is undefined or null, otherwise returns true.11.2.1 Property AccessorsAn operative part for this question is step #5 above.8.7.1 GetValue (V)This describes how when the value being accessed is a property reference, it calls ToObject(base) to get the object version of any primitive.9.9 ToObjectThis describes how Boolean, Number and String primitives are converted to an object form with the [[PrimitiveValue]] internal property set accordingly.As an interesting test, if the code was like this:It would still not throw a SyntaxError at parse time as this is technically legal syntax, but it would throw a TypeError at runtime when you run the code because when the above Property Accessors logic is applied to the value of x, it will call CheckObjectCoercible(x) or call ToObject(x) which will both throw a TypeError if x is null or undefined.Like most programming languages, JS uses a grammar to parse your code and convert it to an executable form. If there's no rule in the grammar that can be applied to a particular chunk of code, it throws a SyntaxError. Otherwise, the code is considered valid, no matter if it makes sense or not.The relevant parts of the JS grammar areSince 0[0] conforms to these rules, it's considered a valid expression. Whether it's correct (e.g. doesn't throw an error at run time) is another story, but yes it is. This is how JS evaluates expressions like someLiteral[someExpression]:So 0[0] is interpreted asHere's a example of a valid, but incorrect expression:It's parsed fine, but at run time, the interpreter fails on step 2 (because null can't be converted to an object) and throws a run time error.There are situations where you could validly subscript a number in Javascript:While not immediately apparent why you would want to do this, subscripting in Javascript is equivalent to using dotted notation (albeit the dot notation limits you to using identifiers as keys).I'd just like to note that this being valid syntax is not in any way unique to Javascript. Most languages will have a runtime error or a type error, but that's not the same thing as a syntax error. Javascript chooses to return undefined in many situations where another language might raise an exception, including when subscripting an object that does not have a property of the given name.The syntax doesn't know the type of an expression (even a simple expression like a numeric literal), and will allow you to apply any operator to any expression. For example, attempting to subscript undefined or null causes a TypeError in Javascript. It's not a syntax error - if this is never executed (being on the wrong side of an if-statement), it won't cause any problems, whereas a syntax error is by definition always caught at compile time (eval, Function, etc, all count as compiling).Because it is valid syntax, and even valid code to be interpreted. You can try to access any property of any object(and in this case 0 will be cast to a Number-object), and it will give you the value if it exists, otherwise undefined. Trying to access a property of undefined does not work however, so 0[0][0] would result in a runtime error. This would still be classified as valid syntax though. There's a difference of what is valid syntax and what won't cause runtime/compiletime errors.Not only is the syntax valid the result does not have to be undefined though in most, if not all sane cases it will. JS is one of the most pure object oriented languages. Most so called OO languages are class oriented, in the sense that you can't change the form (it's tied to the class) of the object once created, only the state of the object. In JS you can change the state as well as the form of the object and this you do more often than you think. This ability makes for some rather obscure code, if you misuse it. Numerals are immutable, so you can't change the object itself, not it's state nor it's form so you could dowhich is an valid assignment expression that returns 1 but doesn't actually assign anything, The numeral 0 is immutable. Which in itself is somewhat odd. You can have a valid and correct (executable) assingment expression, that doesn't assign anything(*). However the type of the numeral is a mutable object so you can mutate the type, and the changes will cascade down the prototype chain.of course it's a far cry from the sane use category but the language is specified to allow for this because in other scenarios, extending the objects capabilities actually makes a lot of sense. It's how jQuery plugins hook into the jQuery object to give an example.(*) It does actually assign the value 1 to the property of an object, however there's no way you can reference that (transcient) object and it will thus be collected at the nexx GC passIn JavaScript, everything is object, so when interpreter parse it, it treats 0 as a object and tries to return 0 as a property. The same thing happens when you try to access 0th element of true or ""(empty string). Even if you set 0[0]=1, it will set the property and its value in memory, but while you access 0 it treats as a number (Don't get confuse between treating as Object and number here.) 

Share variables between files in Node.js?

never_had_a_name

[Share variables between files in Node.js?](https://stackoverflow.com/questions/3922994/share-variables-between-files-in-node-js)

Here are 2 files:When I don't have "var" it works. But when I have:name will be undefined in main.js.I have heard that global variables are bad and you better use "var" before the references. But is this a case where global variables are good?

2010-10-13 11:11:36Z

Here are 2 files:When I don't have "var" it works. But when I have:name will be undefined in main.js.I have heard that global variables are bad and you better use "var" before the references. But is this a case where global variables are good?Global variables are almost never a good thing (maybe an exception or two out there...). In this case, it looks like you really just want to export your "name" variable.  E.g.,Then, in main.js...I'm unable to find an scenario where a global var is the best option, of course you can have one, but take a look at these examples and you may find a better way to accomplish the same:You need some value that it's the same across the application, but it changes depending on the environment (production, dev or test), the mailer type as example, you'd need:and(make a similar config for dev too)To decide which config will be loaded make a main config file (this will be used all over the application)And now you can get the data like this:And use it this wayNot a big fan of this one, but at least you can track the use of the 'name' (citing the OP's example) and put validations in place.And use itThere could be a use case when there is no other solution than having a global var, but usually you can share the data in your app using one of these scenarios, if you are starting to use node.js (as I was sometime ago) try to organize the way you handle the data over there because it can get messy really quick.If we need to share multiple variables use the below formatUsageUpdateSave any variable that want to be shared as one object. Then pass it to loaded module so it could access the variable through object reference...Old AnswerTo share variable between module you can use function to get the value of variable between the main and the modules..You can always get the value from main.js even the value was changed..a variable declared with or without the var keyword got attached to the global object. This is the basis for creating global variables in Node by declaring variables without the var keyword. While variables declared with the var keyword remain local to a module.see this article for further understanding - https://www.hacksparrow.com/global-variables-in-node-js.html With a different opinion, I think the global variables might be the best choice if you are going to publish your code to npm, cuz you cannot be sure that all packages are using the same release of your code. So if you use a file for exporting a singleton object, it will cause issues here.You can choose global, require.main or any other objects which are shared across files.Please tell me if there are some better solutions.

How to expire a cookie in 30 minutes using jQuery?

bluwater2001

[How to expire a cookie in 30 minutes using jQuery?](https://stackoverflow.com/questions/1830246/how-to-expire-a-cookie-in-30-minutes-using-jquery)

How to Expire a Cookie in 30 min ? I am using a jQuery cookie.

I am able to do something like this.This is for 1 day. But how can we set expiry time to 30 min. 

2009-12-02 02:12:24Z

How to Expire a Cookie in 30 min ? I am using a jQuery cookie.

I am able to do something like this.This is for 1 day. But how can we set expiry time to 30 min. 30 minutes is 30 * 60 * 1000 miliseconds. Add that to the current date to specify an expiration date 30 minutes in the future.I had issues getting the above code to work within cookie.js. The following code managed to create the correct timestamp for the cookie expiration in my instance.var inFifteenMinutes = new Date(new Date().getTime() + 15 * 60 * 1000);This was from the FAQs for Cookie.jsIf you're using https://plugins.jquery.com/cookie/, you can use decimal point or fractions.As one day is 1, one minute would be 1 / 1440 (there's 1440 minutes in a day).So 30 minutes is 30 / 1440 = 0.02083333.Final code:I've added path: '/' so that you don't forget that the cookie is set on the current path. If you're on /my-directory/ the cookie is only set for this very directory.

How to pass an object into a state using UI-router?

eddiec

[How to pass an object into a state using UI-router?](https://stackoverflow.com/questions/20632255/how-to-pass-an-object-into-a-state-using-ui-router)

I'd like to be able to transition to a state and a pass an arbitrary object using ui-router.I'm aware that usually $stateParams is used, but I believe this value is inserted into the URL, and I don't want users to be able to bookmark this data.I'd like to do something like this.Is there a way to do this without encoding values into the URL?

2013-12-17 10:54:50Z

I'd like to be able to transition to a state and a pass an arbitrary object using ui-router.I'm aware that usually $stateParams is used, but I believe this value is inserted into the URL, and I don't want users to be able to bookmark this data.I'd like to do something like this.Is there a way to do this without encoding values into the URL?In version 0.2.13, You should be able to pass objects into $state.go,and then access the parameter in your controller.myParam will not show up in the URL.Source:See the comment by christopherthielen https://github.com/angular-ui/ui-router/issues/983, reproduced here for convenience:There are two parts of this problem1) using a parameter that would not alter an url (using params property):2) passing an object as parameter:

Well, there is no direct way how to do it now, as every parameter is converted to string (EDIT: since 0.2.13, this is no longer true - you can use objects directly), but you can workaround it by creating the string on your ownand in target controller deserialize the object againActually you can do this.This is the official documentation about options in state.goEverything is described there and as you can see this is the way to be done.Btw you can also use the ui-sref attribute in your templates to pass objects 1)2) No, the URL will always be updated when params are passed to transitionTo.This happens on state.js:698 in ui-router.

How can I make an image carousel with only CSS?

royhowie

[How can I make an image carousel with only CSS?](https://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css)

I'm looking to make an image carousel, where a user can toggle between images, by clicking on arrows. For example:However, I can only use HTML and CSS—no JavaScript (and, therefore, jQuery). I just need the basic setup; smooth transitions and the like are not necessary.How can I go about accomplishing this?

2015-05-18 04:24:02Z

I'm looking to make an image carousel, where a user can toggle between images, by clicking on arrows. For example:However, I can only use HTML and CSS—no JavaScript (and, therefore, jQuery). I just need the basic setup; smooth transitions and the like are not necessary.How can I go about accomplishing this?That's easy! Just use radio buttons and targeted labels.Radio buttons have the (necessary) behavior of only allowing one to be selected at any one time—just like an image in our carousel.Here's what the basic HTML structure should look like:div#holder will hold all of our content in place. Then, we'll group our radio buttons, labels, and images all under a div.group. This makes sure our radio inputs don't suffer from destructive interference (pun).First, we'll hide our radio buttons—they're ugly anyway:We won't ever have to click the radio buttons. Instead, we'll style our labels and add targets (for properties), so that they redirect the click to the appropriate radio input block.Most of our labels should be hidden:(I will omit all aesthetic styling, so as to make the styling easier to understand. You can see the better-looking version in the stack snippet.)Except for those next to a radio input that is toggled on, or :checkedIn addition, the div.content following a checked input should also be displayed:However, when the radio button is not checked, div.content should be hidden:Bazinga! Now our carousel should be fully mostly functional, albeit a little ugly. Let's move our labels to the correct position:And center our images within their respective divs:Note how, given a radio input with an id of n, the label.previous will have a for attribute of (n - 1) % M and the label.next will have a for attribute of (n + 1) % M, where M is the number of images in the carousel.If you're using Jade (or some other template engine), you can set it up with a simple for-loop like this:Note, css below does not meet the specific requirement at QuestionUtilizes :target pseudo class , thumbnails as controls to toggle between images ; modeled on pattern described at How to Trigger CSS3 Transitions on Click using :targetInspired by royhowie I ended up with a much simpler solution if it comes to HTML syntax. Also, with nice animation and fully customizable!The main idea was to create the arrows not by placing them in HTML one by one, but by creating and then carefully positioning pseudoelements.You can read more about customizations and some technical limitations on my fiddle.Please check this link for CSS only carousel with Auto Play option in the beginning, Left Right navs buttons, nav dots, and resumes play when clicked on button... Demo Link - http://blog.puneets.in/2016/02/pure-responsive-css3-slider-with.htmlExtending royhowie's awesome solution by adding an animation property on img:Why not making it smooth and nice looking with only CSS?This is part of a library I created, Picnic CSS. However, that jsfiddle includes the library and all of the plugins for the next version (4.0 is being finished now). You can see the current 3.x version of the same plugin here, which also fulfills all of your requirements, but it's not so smooth as I'd like:Right now you can only see the scss source code in the dev branch but it is scheduled to be released in the following days, so I'll update my answer.Some code please! This is the HTML that you need for the 4.0 version, as others commented, you basically play with <input type='radio'> and <label> to achieve the desired effect:

Get css top value as number not as string?

Pim Jager

[Get css top value as number not as string?](https://stackoverflow.com/questions/395163/get-css-top-value-as-number-not-as-string)

In jQuery you can get the top position relative to the parent as a number, but you can not  get the css top value as a number if it was set in px.

Say I have the following:But I want to have the css top property as the number 10.

How would one achieve this?

2008-12-27 17:04:01Z

In jQuery you can get the top position relative to the parent as a number, but you can not  get the css top value as a number if it was set in px.

Say I have the following:But I want to have the css top property as the number 10.

How would one achieve this?You can use the parseInt() function to convert the string to a number, e.g:Update: (as suggested by Ben): You should give the radix too:Forces it to be parsed as a decimal number, otherwise strings beginning with '0' might be parsed as an octal number (might depend on the browser used).A jQuery plugin based on M4N's answerSo then you just use this method to get number valuesA slightly more practical/efficient plugin based on Ivan Castellanos' answer (which was based on M4N's answer). Using || 0 will convert Nan to 0 without the testing step.I've also provided float and int variations to suit the intended use:

How do I capture response of form.submit

nmdr

[How do I capture response of form.submit](https://stackoverflow.com/questions/374644/how-do-i-capture-response-of-form-submit)

I have the following code:I want to capture the html response of form1.submit? How do I do this? Can I register any callback function to form1.submit method?

2008-12-17 14:15:01Z

I have the following code:I want to capture the html response of form1.submit? How do I do this? Can I register any callback function to form1.submit method?You won't be able to do this easily with plain javascript. When you post a form, the form inputs are sent to the server and your page is refreshed - the data is handled on the server side. That is, the submit() function doesn't actually return anything, it just sends the form data to the server.If you really wanted to get the response in Javascript (without the page refreshing), then you'll need to use AJAX, and when you start talking about using AJAX, you'll need to use a library. jQuery is by far the most popular, and my personal favourite. There's a great plugin for jQuery called Form which will do exactly what it sounds like you want.Here's how you'd use jQuery and that plugin:An Ajax alternative is to set an invisible <iframe> as your form's target and read the contents of that <iframe> in its onload handler. But why bother when there's Ajax?Note: I just wanted to mention this alternative since some of the answers claim that it's impossible to achieve this without Ajax.The non-jQuery vanilla Javascript way, extracted from 12me21's comment:For POST's the default content type is "application/x-www-form-urlencoded" which matches what we're sending in the above snippet.  If you want to send "other stuff" or tweak it somehow see here for some nitty gritty details.I am doing it this way and its working.Future internet searchers:For new browsers (as of 2018: Chrome, Firefox, Safari, Opera, Edge, and most mobile browsers, but not IE), fetch is a standard API that simplifies asynchronous network calls (for which we used to need XMLHttpRequest or jQuery's $.ajax).Here is a traditional form:If a form like the above is handed to you (or you created it because it is semantic html), then you can wrap the fetch code in an event listener as below:(Or, if like the original poster you want to call it manually without a submit event, just put the fetch code there and pass a reference to the form element instead of using event.target.)Docs:Fetch:

https://developer.mozilla.org/en-US/docs/Web/API/Fetch_APIOther:

https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Sending_forms_through_JavaScript

That page in 2018 does not mention fetch (yet).

But it mentions that the target="myIFrame" trick is deprecated.

And it also has an example of form.addEventListener for the 'submit' event.I am not sure that you understand what submit() does...When you do form1.submit(); the form information is sent to the webserver.The WebServer will do whatever its supposed to do and return a brand new webpage to the client(usually the same page with something changed).So, there is no way you can "catch" the return of a form.submit() action.There is no callback. It's like following a link.If you want to capture the server response, use AJAX or post it to an Iframe and grab what appears there after the iframe's onload() event.You can event.preventDefault() in the click handler for your submit button to ensure that the HTML form default submit event doesn't fire (which is what leads to the page refreshing). Another alternative would be to use hackier form markup: It's the use of <form> and type="submit" that is getting in the way of the desired behavior here; as these ultimately lead to click events refreshing the page.If you want to still use <form>, and you don't want to write custom click handlers, you can use jQuery's ajax method, which abstracts the entire problem away for you by exposing promise methods for success, error, etc. To recap, you can solve your problem by either: • preventing default behavior in the handling function by using event.preventDefault()• using elements that don't have default behavior (e.g. <form>) • using jQuery ajax (i just noticed this question is from 2008, not sure why it showed up in my feed; at any rate, hopefully this is a clear answer) This is my code for this problem:In case you want to capture the output of an AJAX request using Chrome you can follow these simple steps:Building on the answer by @rajesh_kw (https://stackoverflow.com/a/22567796/4946681), I handle form post errors and success:I make use of this so that my logic is reusable, I expect HTML to be returned on a success so I render it and replace the current page, and in my case I expect a redirect to the login page if the session is timed out, so I intercept that redirect in order to preserve the state of the page.Now users can log in via another tab and try their submit again.You need to be using AJAX. Submitting the form usually results in the browser loading a new page.You can do that using javascript and AJAX technology. Have a look at jquery and at this form plug in. You only need to include two js files to register a callback for the form.submit.You can accomplish this using jQuery and the ajax() method:firrst of all use $(document).ready(function()) inside this use ('formid').submit(function(event))

and then prevent default action aftyer that call ajax form submission

$.ajax({, , , , }); 

it will take  parameter u can choose according your requirement

then call afunction success:function(data){

//do whatever you want my example to put response html on div }First of all we will need serializeObject();then you make a basic post and get responseI have Following code perfactly run using ajax with multi-part form data  You can use jQuery.post() and return nicely structured JSON answers from server. It also allows you to validate/sanitize your data directly on server, which is a good practice because it's more secure (and even easier) than doing this on client.For example if you need to post html form to server (to saveprofilechanges.php) with user data for simple registration:I. Client parts:I.a. HTML part:I.b. Script part:II. Server part (saveprofilechanges.php):you can do that without ajax. write your  like below. 

..

..

..

and then in "action.php" then after frmLogin.submit();read variable $submit_return.. $submit_return contains return value. good luck. 

How to make a JSONP request from Javascript without JQuery?

Dave

[How to make a JSONP request from Javascript without JQuery?](https://stackoverflow.com/questions/6132796/how-to-make-a-jsonp-request-from-javascript-without-jquery)

Can I make a cross-domain JSONP request in JavaScript without using jQuery or other external library? I would like to use JavaScript itself and then parse the data and make it an object so I could use it. Do I have to use an external library? If not, how can I do it?

2011-05-26 01:32:16Z

Can I make a cross-domain JSONP request in JavaScript without using jQuery or other external library? I would like to use JavaScript itself and then parse the data and make it an object so I could use it. Do I have to use an external library? If not, how can I do it?Lightweight example (with support for onSuccess and onTimeout). You need to pass callback name within URL if you need it.Sample usage:At GitHub: https://github.com/sobstel/jsonp.js/blob/master/jsonp.jsWhat is JSONP?The important thing to remember with jsonp is that it isn't actually a protocol or data type. Its just a way of loading a script on the fly and processing the script that is introduced to the page. In the spirit of JSONP, this means introducing a new javascript object from the server into the client application/ script.When is JSONP needed?It is 1 method of allowing one domain to access/ process data from another in the same page asyncronously. Primarily, it is used to override CORS (Cross Origin Resource Sharing) restrictions which would occur with an XHR (ajax) request. Script loads are not subject to CORS restrictions.How is it doneIntroducing a new javascript object from the server can be implemented in many ways, but the most common practice is for the server to implement the execution of a 'callback' function, with the required object passed into it. The callback function is just a function you have already set up on the client which the script you load calls at the point the script loads to process the data passed in to it.Example:I have an application which logs all items in someone's home. My application is set up and I now want to retrieve all the items in the main bedroom. My application is on app.home.com. The apis I need to load data from are on api.home.com. Unless the server is explicitly set up to allow it, I cannot use ajax to load this data, as even pages on separate subdomains are subject to XHR CORS restrictions.Ideally, set things up to allow x-domain XHRIdeally, since the api and app are on the same domain, I might have access to set up the headers on api.home.com. If I do, I can add an Access-Control-Allow-Origin: header item granting access to app.home.com. Assuming the header is set up as follows: Access-Control-Allow-Origin: "http://app.home.com", this is far more secure than setting up JSONP. This is because app.home.com can get everything it wants from api.home.com without api.home.com giving CORS access to the whole internet.The above XHR solution isn't possible. Set up JSONP On my client script:  I set up a function to process the reponse from the server when I make the JSONP call.:The server will need to be set up to return a mini script looking something like "processJSONPResponse({"room":"main bedroom","items":["bed","chest of drawers"]});" It might be designed to return such a string if something like //api.home.com?getdata=room&room=main_bedroom is called.Then the client sets up a script tag as such:This loads the script and immediately calls window.processJSONPResponse() as written/ echo/ printed out by the server. The data passed in as the parameter to the function is now stored in the dataFromServer local variable and you can do with it whatever you need.Clean upOnce the client has the data, ie. immediately after the script is added to the DOM, the script element can be removed from the DOM:My understanding is that you actually use script tags with JSONP, sooo...The first step is to create your function that will handle the JSON:Make sure that this function is accessible on a global level.Next, add a script element to the DOM:The script will load the JavaScript that the API provider builds, and execute it.the way I use jsonp like below:then use 'jsonp' method like this:reference:JavaScript XMLHttpRequest using JsonPhttp://www.w3ctech.com/topic/721 (talk about the way of use Promise)I have a pure javascript library to do that https://github.com/robertodecurnex/J50Npi/blob/master/J50Npi.jsTake a look at it and let me know if you need any help using or understanding the code. Btw, you have simple usage example here: http://robertodecurnex.github.com/J50Npi/I wrote a library to handle this, as simply as possible. No need to make it external, its just one function. Unlike some other options, this script cleans up after itself, and is generalized for making further requests at runtime. https://github.com/Fresheyeball/micro-jsonpPlease find below JavaScript example to make a JSONP call without JQuery:Also, you can refer my GitHub repository for reference.https://github.com/shedagemayur/JavaScriptCode/tree/master/jsonpIf you are using ES6 with NPM, you can try node module "fetch-jsonp".

Fetch API Provides support for making a JsonP call as a regular XHR call.Prerequisite:

you should be using isomorphic-fetch node module in your stack.Just pasting an ES6 version of sobstel's nice answer:

getMonth in javascript gives last month

developer747

[getMonth in javascript gives last month](https://stackoverflow.com/questions/18624326/getmonth-in-javascript-gives-last-month)

I am using a datepicker which gives a date in the format Sun Jul 7 00:00:00 EDT 2013.

Even though the month says July, if I do a getMonth, it gives me the previous month.What am I doing wrong?

2013-09-04 21:46:32Z

I am using a datepicker which gives a date in the format Sun Jul 7 00:00:00 EDT 2013.

Even though the month says July, if I do a getMonth, it gives me the previous month.What am I doing wrong?Because getmonth() start from 0. You may want to have d1.getMonth() + 1 to achieve what you want.getMonth() function is zero indexed based. You need to do d1.getMonth() + 1Recently I used Moment.js library and never looked back. Try it!I suspect these methods lack consistency for historical reasons

Controlling fps with requestAnimationFrame?

robert.vinluan

[Controlling fps with requestAnimationFrame?](https://stackoverflow.com/questions/19764018/controlling-fps-with-requestanimationframe)

It seems like requestAnimationFrame is the de facto way to animate things now. It worked pretty well for me for the most part, but right now I'm trying to do some canvas animations and I was wondering: Is there any way to make sure it runs at a certain fps? I understand that the purpose of rAF is for consistently smooth animations, and I might run the risk of making my animation choppy, but right now it seems to run at drastically different speeds pretty arbitrarily, and I'm wondering if there's a way to combat that somehow.I'd use setInterval but I want the optimizations that rAF offers (especially automatically stopping when the tab is in focus).In case someone wants to look at my code, it's pretty much:Where Node.drawFlash() is just some code that determines radius based off a counter variable and then draws a circle.

2013-11-04 08:31:58Z

It seems like requestAnimationFrame is the de facto way to animate things now. It worked pretty well for me for the most part, but right now I'm trying to do some canvas animations and I was wondering: Is there any way to make sure it runs at a certain fps? I understand that the purpose of rAF is for consistently smooth animations, and I might run the risk of making my animation choppy, but right now it seems to run at drastically different speeds pretty arbitrarily, and I'm wondering if there's a way to combat that somehow.I'd use setInterval but I want the optimizations that rAF offers (especially automatically stopping when the tab is in focus).In case someone wants to look at my code, it's pretty much:Where Node.drawFlash() is just some code that determines radius based off a counter variable and then draws a circle.How to throttle requestAnimationFrame to a specific frame rateDemo throttling at 5 FPS: http://jsfiddle.net/m1erickson/CtsY3/This method works by testing the elapsed time since executing the last frame loop.Your drawing code executes only when your specified FPS interval has elapsed.The first part of the code sets some variables used to calculate elapsed time.And this code is the actual requestAnimationFrame loop which draws at your specified FPS.Update 2016/6The problem throttling the frame rate is that the screen has a constant update rate, typically 60 FPS.If we want 24 FPS we will never get the true 24 fps on the screen, we can time it as such but not show it as the monitor can only show synced frames at 15 fps, 30 fps or 60 fps (some monitors also 120 fps).However, for timing purposes we can calculate and update when possible.You can build all the logic for controlling the frame-rate by encapsulating calculations and callbacks into an object:Then add some controller and configuration code:It becomes very simple - now, all that we have to do is to create an instance by setting callback function and desired frame rate just like this:Then start (which could be the default behavior if desired):That's it, all the logic is handled internally.Old answerThe main purpose of requestAnimationFrame is to sync updates to the monitor's refresh rate. This will require you to animate at the FPS of the monitor or a factor of it (ie. 60, 30, 15 FPS for a typical refresh rate @ 60 Hz).If you want a more arbitrary FPS then there is no point using rAF as the frame rate will never match the monitor's update frequency anyways (just a frame here and there) which simply cannot give you a smooth animation (as with all frame re-timings) and you can might as well use setTimeout or setInterval instead.This is also a well known problem in the professional video industry when you want to playback a video at a different FPS then the device showing it refresh at. Many techniques has been used such as frame blending and complex re-timing re-building intermediate frames based on motion vectors, but with canvas these techniques are not available and the result will always be jerky video.The reason why we place setTimeout first (and why some place rAF first when a poly-fill is used) is that this will be more accurate as the setTimeout will queue an event immediately when the loop starts so that no matter how much time the remaining code will use (provided it doesn't exceed the timeout interval) the next call will be at the interval it represents (for pure rAF this is not essential as rAF will try to jump onto the next frame in any case).Also worth to note that placing it first will also risk calls stacking up as with setInterval. setInterval may be slightly more accurate for this use.And you can use setInterval instead outside the loop to do the same.And to stop the loop:In order to reduce frame rate when the tab gets blurred you can add a factor like this:This way you can reduce the FPS to 1/4 etc.I suggest wrapping your call to requestAnimationFrame in a setTimeout. If you call setTimeout from within the function from which you requested the animation frame, you're defeating the purpose of requestAnimationFrame. But if you call requestAnimationFrame from within setTimeout it works smoothly:These are all good ideas in theory, until you go deep.  The problem is you can't throttle an RAF without de-synchronizing it, defeating it's very purpose for existing.  So you let it run at full-speed, and update your data in a separate loop, or even a separate thread!Yes, I said it.  You can do multi-threaded JavaScript in the browser! There are two methods I know that work extremely well without jank, using far less juice and creating less heat.  Accurate human-scale timing and machine efficiency are the net result.  Apologies if this is a little wordy, but here goes...Method 1: Update data via setInterval, and graphics via RAF.Use a separate setInterval for updating translation and rotation values, physics, collisions, etc.  Keep those values in an object for each animated element.  Assign the transform string to a variable in the object each setInterval 'frame'.  Keep these objects in an array.  Set your interval to your desired fps in ms:  ms=(1000/fps).  This keeps a steady clock that allows the same fps on any device, regardless of RAF speed.  Do not assign the transforms to the elements here!In a requestAnimationFrame loop, iterate through your array with an old-school for loop-- do not use the newer forms here, they are slow!In your rafUpdate function, get the transform string from your js object in the array, and its elements id.  You should already have your 'sprite' elements attached to a variable or easily accessible through other means so you don't lose time 'get'-ing them in the RAF.  Keeping them in an object named after their html id's works pretty good.  Set that part up before it even goes into your SI or RAF.Use the RAF to update your transforms only, use only 3D transforms (even for 2d), and set css "will-change: transform;" on elements that will change.  This keeps your transforms synced to the native refresh rate as much as possible, kicks in the GPU, and tells the browser where to concentrate most.So you should have something like this pseudocode...This keeps your updates to the data objects and transform strings synced to desired 'frame' rate in the SI, and the actual transform assignments in the RAF synced to GPU refresh rate.  So the actual graphics updates are only in the RAF, but the changes to the data, and building the transform string are in the SI, thus no jankies but 'time' flows at desired frame-rate.Flow:Method 2.  Put the SI in a web-worker. This one is FAAAST and smooth!Same as method 1, but put the SI in web-worker.  It'll run on a totally separate thread then, leaving the page to deal only with the RAF and UI.  Pass the sprite array back and forth as a 'transferable object'.  This is buko fast.  It does not take time to clone or serialize, but it's not like passing by reference in that the reference from the other side is destroyed, so you will need to have both sides pass to the other side, and only update them when present, sort of like passing a note back and forth with your girlfriend in high-school.Only one can read and write at a time.  This is fine so long as they check if it's not undefined to avoid an error.  The RAF is FAST and will kick it back immediately, then go through a bunch of GPU frames just checking if it's been sent back yet.  The SI in the web-worker will have the sprite array most of the time, and will update positional, movement and physics data, as well as creating the new transform string, then pass it back to the RAF in the page.  This is the fastest way I know to animate elements via script.  The two functions will be running as two separate programs, on two separate threads, taking advantage of multi-core CPU's in a way that a single js script does not.  Multi-threaded javascript animation.And it will do so smoothly without jank, but at the actual specified frame-rate, with very little divergence.Result:Either of these two methods will ensure your script will run at the same speed on any PC, phone, tablet, etc (within the capabilities of the device and the browser, of course).How to easily throttle to a specific FPS:Source: A Detailed Explanation of JavaScript Game Loops and Timing by Isaac SukinSkipping requestAnimationFrame cause not smooth(desired) animation at custom fps.  Original code by @tavnab.I always do it this very simple way without messing with timestamps:Here's a good explanation I found: CreativeJS.com, to wrap a setTimeou) call inside the function passed to requestAnimationFrame.  My concern with a "plain" requestionAnimationFrame would be, "what if I only want it to animate three times a second?"  Even with requestAnimationFrame (as opposed to setTimeout) is that it still wastes (some) amount of "energy" (meaning that the Browser code is doing something, and possibly slowing the system down) 60 or 120 or however many times a second, as opposed to only two or three times a second (as you might want).Most of the time I run my browsers with JavaScript intentially off for just this reason.  But, I'm using Yosemite 10.10.3, and  I think there's some kind of timer problem with it - at least on my old system (relatively old - meaning 2011).

How to filter an array from all elements of another array

Koop4

[How to filter an array from all elements of another array](https://stackoverflow.com/questions/34901593/how-to-filter-an-array-from-all-elements-of-another-array)

I'd like to understand the best way to filter an array from all elements of another one. I tried with the filter function, but it doesn't come to me how to give it the values i want to remove.  Something Like:in case the filter function is not usefull, how would you implement this ?

Edit: i checked the possible duplicate question, and it could be useful for those who understand javascript easily. The answer checked as good makes things easy.

2016-01-20 13:38:31Z

I'd like to understand the best way to filter an array from all elements of another one. I tried with the filter function, but it doesn't come to me how to give it the values i want to remove.  Something Like:in case the filter function is not usefull, how would you implement this ?

Edit: i checked the possible duplicate question, and it could be useful for those who understand javascript easily. The answer checked as good makes things easy.You can use the this parameter of the filter() function to avoid to store your filter array in a global variable.I would do as follows;In the callback, you check if each value of array is in anotherOnehttps://jsfiddle.net/0tsyc1sx/If you are using lodash.js, use _.difference DemoIf you have an array of objects :Demo array of objectsDemo diff array of objects with lodashThere are many answers for your question, but I don't see anyone using lambda expresion:This will be the Simplest way to filter an array with respect to another array. Both arrays can have objects inside them instead of values.All the above solutions "work", but are less than optimal for performance and are all approach the problem in the same way which is linearly searching all entries at each point using Array.prototype.indexOf or Array.prototype.includes. A far faster solution (far faster even than a binary search for most cases) would be to sort the arrays and skip ahead as you go along as seen below. However, one downside is that this requires all entries in the array to be numbers or strings. Also however, binary search may in some rare cases be faster than the progressive linear search. These cases arise from the fact that my progressive linear search has a complexity of O(2n1+n2) (only O(n1+n2) in the faster C/C++ version) (where n1 is the searched array and n2 is the filter array), whereas the binary search has a complexity of O(n1ceil(log2n2)) (ceil = round up -- to the ceiling), and, lastly, the indexOf search has a highly variable complexity between O(n1) and O(n1n2), averaging out to O(n1ceil(n2÷2)). Thus, indexOf will only be the fastest, on average, in the cases of (n1,n2) equaling {1,2}, {1,3}, or {x,1|x∈N}. However, this is still not a perfect representation of modern hardware. IndexOf is natively optimized to the fullest extent imaginable in most modern browsers, making it very subject to the laws of branch prediction. Thus, if we make the same assumption on indexOf as we do with progressive linear and binary search -- that the array is presorted -- then, according to the stats listed in the link, we can expect roughly a 6x speed up for IndexOf, shifting its complexity to between O(n1÷6) and O(n1n2), averaging out to O(n1ceil(n27÷12)). Finally, take note that the below solution will never work with objects because it is impossible to get the internal object pointer (for numerical comparison) in javascript. If only Javascript could bePlease see my other post here for more details on the binary search algorithim usedIf you are squeamish about file size like I am, then you can sacrifice some performance in order to greatly reduce the file size and increase maintainability.To prove the difference in speed, let us examine some JSPerfs. For filtering an array of 16 elements, binary search is roughly 17% faster than indexOf while filterArrayByAnotherArray is roughly 93% faster than indexOf. For filtering an array of 256 elements, binary search is roughly 291% faster than indexOf while filterArrayByAnotherArray is roughly 353% faster than indexOf. For filtering an array of 4096 elements, binary search is roughly 2655% faster than indexOf while filterArrayByAnotherArray is roughly 4627% faster than indexOf.The OA can also be implemented in ES6 as followsES6:The best description to filter function is https://developer.mozilla.org/pl/docs/Web/JavaScript/Referencje/Obiekty/Array/filterYou should simply condition function:And you can't access the variable value before it is assignedYou can setup the filter function to iterate over the "filter array".You can use the filter and then for the filter function use a reduction of the filtering array which checks and returns true when it finds a match then invert on return (!).  The filter function is called once per element in the array.  You are not doing a comparison of any of the elements in the function in your post.A more flexible filtering array from another array which contain object propertiesYou can write a generic filterByIndex() function and make use of type inference in TS to save the hassle with the callback function:let's say you have your array [1,2,3,4] that you want to filter() with the indices specified in the [2,4] array.the byIndex function expects the element function and an array and looks like this:result is then The following examples use new Set() to create a filtered array that has only unique elements:Array with primitive data types: string, number, boolean, null, undefined, symbol:Array with objects as items:The solution of Jack Giffin is great but doesn't work for arrays with numbers bigger than 2^32. Below is a refactored, fast version to filter an array based on Jack's solution but it works for 64-bit arrays.

Is Chrome's JavaScript console lazy about evaluating arrays?

Eric Mickelsen

[Is Chrome's JavaScript console lazy about evaluating arrays?](https://stackoverflow.com/questions/4057440/is-chromes-javascript-console-lazy-about-evaluating-arrays)

I'll start with the code:Simple, right?  In response to this, Firebug says:Wonderful, but Chrome's JavaScript console (7.0.517.41 beta) says:Have I done something wrong, or is Chrome's JavaScript console being exceptionally lazy about evaluating my array?  

2010-10-30 05:51:01Z

I'll start with the code:Simple, right?  In response to this, Firebug says:Wonderful, but Chrome's JavaScript console (7.0.517.41 beta) says:Have I done something wrong, or is Chrome's JavaScript console being exceptionally lazy about evaluating my array?  Thanks for the comment, tec.  I was able to find an existing unconfirmed Webkit bug that explains this issue: https://bugs.webkit.org/show_bug.cgi?id=35801 (EDIT: now fixed!)There appears to be some debate regarding just how much of a bug it is and whether it's fixable.  It does seem like bad behavior to me.  It was especially troubling to me because, in Chrome at least, it occurs when the code resides in scripts that are executed immediately (before the page is loaded), even when the console is open, whenever the page is refreshed.  Calling console.log when the console is not yet active only results in a reference to the object being queued, not the output the console will contain.  Therefore, the array (or any object), will not be evaluated until the console is ready.  It really is a case of lazy evaluation.However, there is a simple way to avoid this in your code:By calling toString, you create a representation in memory that will not be altered by following statements, which the console will read when it is ready.  The console output is slightly different from passing the object directly, but it seems acceptable:From Eric's explanation, it is due to console.log() being queued up, and it prints a later value of the array (or object).There can be 5 solutions:You can clone an array with Array#slice:A function that you can use instead of console.log that doesn't have this problem is as follows:For the case of objects, unfortunately, the best method appears to be to debug first with a non-WebKit browser, or to write a complicated function to clone. If you are only working with simple objects, where order of keys doesn't matter and there are no functions, you could always do:All of these methods are obviously very slow, so even more so than with normal console.logs, you have to strip them off after you're done debugging.This has been patched in Webkit, however when using the React framework this happens for me in some circumstances, if you have such problems just use as others suggest:This is already answered, but I'll drop my answer anyway. I implemented a simple console wrapper which doesn't suffer from this issue. Requires jQuery.It implements only log, warn and error methods, you will have to add some more in order for it to be interchangeable with a regular console.Looks like Chrome is replacing in its "pre compile" phase any instance of "s" with pointer to the actual array.One way around is by cloning the array, logging fresh copy instead:

Override console.log(); for production [duplicate]

Chase Florell

[Override console.log(); for production [duplicate]](https://stackoverflow.com/questions/7042611/override-console-log-for-production)

I'm fairly new to Javascript development so this might be a real newbie question.I've got a sencha-touch application riddled with console.log(); for debugging purposes.I've got chirpy doing all of my build time combining. It outputs a app.debug.js for debugging as well as a app.min.js for productionNow I could go through all of my code files looking for console.log(); and delete it manually when I'm ready to go to production, but I'm wondering if there's a way to override the method.Basically, whenever the console.log(); method is called, DO NOTHING.That way, I can put the override code file in my production config, and NOT in my debug config.Is this possible?

2011-08-12 15:40:07Z

I'm fairly new to Javascript development so this might be a real newbie question.I've got a sencha-touch application riddled with console.log(); for debugging purposes.I've got chirpy doing all of my build time combining. It outputs a app.debug.js for debugging as well as a app.min.js for productionNow I could go through all of my code files looking for console.log(); and delete it manually when I'm ready to go to production, but I'm wondering if there's a way to override the method.Basically, whenever the console.log(); method is called, DO NOTHING.That way, I can put the override code file in my production config, and NOT in my debug config.Is this possible?Put this at the top of the file:For some browsers and minifiers, you may need to apply this onto the window object.Or if you just want to redefine the behavior of the console (in order to add logs for example) 

You can do something like that: It would be super useful to be able to toggle logging in the production build. The code below turns the logger off by default.When I need to see logs, I just type debug(true) into the console.To be thorough, this overrides ALL of the console methods, not just console.log.Override it like any other thing.I use something similar to what posit labs does. Save the console in a closure and you have it all in one portable function.Just do globalDebug(false) to toggle log messages off or globalDebug(false,true) to remove all console messages.I would recommend using: https://github.com/sunnykgupta/jsLoggerFeatures:Is open for modifications and will be updated whenever new suggestions come up.Disclaimer: I am the author of the plugin.Just remember that with this method each console.log call will still do a call to a (empty) function causing overhead, if there are 100 console.log commands, you are still doing 100 calls to a blank function. Not sure how much overhead this would cause, but there will be some, it would be preferable to have a flag to turn debug on then use something along the lines of:You could also use regex to delete all the console.log() calls in your code if they're no longer required. Any decent IDE will allow you to search and replace these across an entire project, and allow you to preview the matches before committing the change. Theres no a reason to let all that console.log all over your project in prod enviroment... If you want to do it on the proper way, add UglifyJS2 to your deployment process using "drop_console" option.After read a lot of posts, I made my own solution as follow:SCRIPT:USAGE:EXAMPLE:http://jsfiddle.net/rodolphobrock/2rzxb5bo/10/This will override console.log function when the url does not contain localhost. You can replace the localhost with your own development settings.You can look into UglifyJS: http://jstarrdewar.com/blog/2013/02/28/use-uglify-to-automatically-strip-debug-messages-from-your-javascript/, https://github.com/mishoo/UglifyJS

I haven't tried it yet.Quoting,Here is what I didAlso posted about it here. http://bhavinsurela.com/naive-way-of-overriding-console-log/

How do I split a string into an array of characters? [duplicate]

DrStrangeLove

[How do I split a string into an array of characters? [duplicate]](https://stackoverflow.com/questions/6484670/how-do-i-split-a-string-into-an-array-of-characters)

I want to string.split a word into array of characters.The above code doesn't seem to work - it returns  "overpopulation"  as Object..How do i split it into array of characters, if original string doesn't contain commas and whitespace?

2011-06-26 14:49:49Z

I want to string.split a word into array of characters.The above code doesn't seem to work - it returns  "overpopulation"  as Object..How do i split it into array of characters, if original string doesn't contain commas and whitespace?You can split on an empty string:If you just want to access a string in an array-like fashion, you can do that without split:You can also access each character with its index using normal array syntax. Note, however, that strings are immutable, which means you can't set the value of a character using this method, and that it isn't supported by IE7 (if that still matters to you).Old question but I should warn:You'll get weird results with non-BMP (non-Basic-Multilingual-Plane) character sets.Reason is that methods like .split() and .charCodeAt() only respect the characters with a code point below 65536; bec. higher code points are represented by a pair of (lower valued) "surrogate" pseudo-characters.Using the spread operator:Or Array.fromOr split with the new u RegExp flag:Examples:I came up with this function that internally uses MDN example to get the correct code point of each character.This requires knownCharCodeAt() function and for some browsers; a String.fromCodePoint() polyfill.Examples:Note: str[index] (ES5) and str.charAt(index) will also return weird results with non-BMP charsets. e.g. '😎'.charAt(0) returns "�".UPDATE: Read this nice article about JS and unicode.It's as simple as:The delimiter is an empty string, hence it will break up between each single character..split('') would split emojis in half.Onur's solutions and the regex's proposed work for some emojis, but can't handle more complex languages or combined emojis. 

Consider this emoji being ruined:Also consider this Hindi text "अनुच्छेद" which is split like this:but should in fact be split like this:because some of the characters are combining marks (think diacritics/accents in European languages).You can use the grapheme-splitter library for this:https://github.com/orling/grapheme-splitterIt does proper standards-based letter split in all the hundreds of exotic edge-cases - yes, there are that many.The split() method in javascript accepts two parameters: a separator and a limit.

The separator specifies the character to use for splitting the string. If you don't specify a separator, the entire string is returned, non-separated. But, if you specify the empty string as a separator, the string is split between each character.Therefore:will have the effect you seek.More information hereYou can use the regular expression /(?!$)/:The negative look-ahead assertion (?!$) will match right in front of every character.A string in Javascript is already a character array.You can simply access any character in the array as you would any other array.UPDATEAs is pointed out in the comments below, the above method for accessing a character in a string is part of ECMAScript 5 which certain browsers may not conform to.An alternative method you can use is charAt(index).To support emojis use this=> ['D', 'r', 'a', 'g', 'o', 'n', ' ', '🐉']

Javascript array search and remove string?

Rolando

[Javascript array search and remove string?](https://stackoverflow.com/questions/9792927/javascript-array-search-and-remove-string)

I have:I want to be able to do something like:array.remove("B");but there is no remove function. How do I accomplish this?

2012-03-20 18:40:18Z

I have:I want to be able to do something like:array.remove("B");but there is no remove function. How do I accomplish this?I'm actually updating this thread with a more recent 1-line solution: The idea is basically to filter the array by selecting all elements different to the element you want to remove. Note: will remove all occurrences. EDIT:If you want to remove only the first occurence: Loop through the list in reverse order, and use the .splice method.The reverse order is important when all occurrences of the search term has to be removed. Otherwise, the counter will increase, and you will skip elements.When only the first occurrence has to be removed, the following will also work:You need to find the location of what you're looking for with .indexOf() then remove it with .splice()This will take care of all occurrences. List of One LinersLet's solve this problem for this array:1. Remove only the first:

Use If you are sure that the item exist2. Remove only the last:

Use If you are sure that the item exist3. Remove all occurrences:Simply Simple solution (ES6)If you don't have duplicate elementOnline demo (fiddle)You have to write you own remove.  You can loop over the array, grab the index of the item you want to remove, and use splice to remove it.Alternatively, you can create a new array,  loop over the current array, and if the current object doesn't match what you want to remove, put it in a new array.use:This removes one item from the array, starting at index 2 (3rd item)use array.spliceSource:

     https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/spliceor you can use :The changedArray will contain the without value 'B'

Set height of chart in Chart.js

Vincent T

[Set height of chart in Chart.js](https://stackoverflow.com/questions/41953158/set-height-of-chart-in-chart-js)

I want to draw a horizontal bar chart with Chart.js but it keeps scaling the chart instead of using the height I assign the canvas form the script.Is there any way to set the height of the graph from the script?See fiddle: JsfidleHTMLJavaScript

2017-01-31 08:47:55Z

I want to draw a horizontal bar chart with Chart.js but it keeps scaling the chart instead of using the height I assign the canvas form the script.Is there any way to set the height of the graph from the script?See fiddle: JsfidleHTMLJavaScriptSeems like var ctx = $('#myChart'); is returning a list of elements. You would need to reference the first by using ctx[0]. 

Also height is a property, not a function.I did it this way in my code: If you disable the maintain aspect ratio in options then it uses the available height:The easiest way is to create a container for the canvas and set its height:and setYou can wrap your canvas element in a parent div, relatively positioned, then give that div the height you want, setting maintainAspectRatio: false in your optionsThis one worked for me:I set the height from HTML  Then I disabled to maintaining aspect ratio He's right. If you want to stay with jQuery you could do thisorSet the aspectRatio property of the chart to 0 did the trick for me...You can also set the dimensions to the canvasAnd then set the responsive options to false to always maintain the chart at the size specified.Just to add on to the answer given by @numediaweb In case you're banging your head against the wall because after following the instructions to set maintainAspectRatio=false: I originally copied my code from an example I got on a website on using Chart.js with Angular 2+:To make this work correctly you must remove the embedded (and unnecessary) style="display: block"  Instead define a class for the enclosing div, and define its height in CSS.Once you do that, the chart should have responsive width but fixed height.Needed the chart to fill the parent element 100%, rather than setting height manually, and the problem was to force parent div to always fill remaining space.After setting responsive and ratio options (check out related chartjs doc), the following css did the trick:htmlscss:I created a container and set it the desired height of the view port (depending on the number of charts or chart specific sizes):To be dynamic to screen sizes I set the container as follows:Of course very important (as have been referred to numerous times) set the following option properties of your chart:

Call method in directive controller from other controller

user253530

[Call method in directive controller from other controller](https://stackoverflow.com/questions/14883476/call-method-in-directive-controller-from-other-controller)

I have a directive that has its own controller. See the below code:This is meant to be a notification system for errors/notifications/warnings. What I want to do is from another controller (not a directive one) to call the function show on this controller. And when I do that, I would also want my link function to detect that some properties changed and perform some animations.Here is some code to exemplify what I'm asking for:So when calling show on the popdown directive controller, the link function should also be triggered and perform an animation. How could I achieve that?

2013-02-14 20:29:16Z

I have a directive that has its own controller. See the below code:This is meant to be a notification system for errors/notifications/warnings. What I want to do is from another controller (not a directive one) to call the function show on this controller. And when I do that, I would also want my link function to detect that some properties changed and perform some animations.Here is some code to exemplify what I'm asking for:So when calling show on the popdown directive controller, the link function should also be triggered and perform an animation. How could I achieve that?This is an interesting question, and I started thinking about how I would implement something like this. I came up with this (fiddle);Basically, instead of trying to call a directive from a controller, I created a module to house all the popdown logic:I put two things in the module, a factory for the API which can be injected anywhere, and the directive for defining the behavior of the actual popdown element:The factory just defines a couple of functions success and error and keeps track of a couple of variables:The directive gets the API injected into its controller, and watches the api for changes (I'm using bootstrap css for convenience):Then I define an app module that depends on Popdown:And the HTML looks like:I'm not sure if it's completely ideal, but it seemed like a reasonable way to set up communication with a global-ish popdown directive.Again, for reference, the fiddle.You can also use events to trigger the Popdown.Here's a fiddle based on satchmorun's solution. It dispenses with the PopdownAPI, and the top-level controller instead $broadcasts 'success' and 'error' events down the scope chain:The Popdown module then registers handler functions for these events, e.g:This works, at least, and seems to me to be a nicely decoupled solution. I'll let others chime in if this is considered poor practice for some reason.You could also expose the directive's controller to the parent scope, like ngForm with name attribute does: http://docs.angularjs.org/api/ng.directive:ngFormHere you could find a very basic example how it could be achieved http://plnkr.co/edit/Ps8OXrfpnePFvvdFgYJf?p=previewIn this example I have myDirective with dedicated controller with $clear method (sort of very simple public API for the directive). I can publish this controller to the parent scope and use call this method outside the directive.I got much better solution .here is my directive , I have injected on object reference in directive and has extend that by adding invoke function in directive code .Declaring the directive in the HTML with a parameter:my Controller:

HTML tag <a> want to add both href and onclick working

Ian

[HTML tag <a> want to add both href and onclick working](https://stackoverflow.com/questions/14867558/html-tag-a-want-to-add-both-href-and-onclick-working)

I'd like to ask about HTML tag How to make this a tag working with href and onClick? (prefer onClick running first then href)

2013-02-14 03:56:41Z

I'd like to ask about HTML tag How to make this a tag working with href and onClick? (prefer onClick running first then href)You already have what you need, with a minor syntax change:The default behavior of the <a> tag's onclick and href properties is to execute the onclick, then follow the href as long as the onclick doesn't return false, canceling the event (or the event hasn't been prevented)Use jQuery. You need to capture the click event and then go on to the website.To achieve this use following html:Here is working example.Use ng-click in place of onclick. and its as simple as that:

How to change href of <a> tag on button click through javascript

Chauhan

[How to change href of <a> tag on button click through javascript](https://stackoverflow.com/questions/4365246/how-to-change-href-of-a-tag-on-button-click-through-javascript)

How to change the href attribute value of an <a/> tag through Javascript on button click ?

2010-12-06 10:05:52Z

How to change the href attribute value of an <a/> tag through Javascript on button click ?Without having a href, the click will reload the current page, so you need something like this:Or prevent the scroll like this:Or return false in your f1 function and:....or, the unobtrusive way:Exactly what Nick Carver did there but I think it would be best if used the DOM setAttribute method.It's one extra line of code but find it better structure-wise.remove href attribute:if link styles are important then:To have a link dynamically change on clicking it:Here's my take on it. I needed to create a URL by collecting the value from a text box , when the user presses a Submit button.I know its bit old post. Still, it might help some one.Instead of  tag,if possible you can this as well.Any comments on this?

What's the fastest way to convert String to Number in JavaScript?

beatak

[What's the fastest way to convert String to Number in JavaScript?](https://stackoverflow.com/questions/12862624/whats-the-fastest-way-to-convert-string-to-number-in-javascript)

Any number, it's number.  String looks like a number, it's number.  Everything else, it goes NaN.

2012-10-12 15:43:07Z

Any number, it's number.  String looks like a number, it's number.  Everything else, it goes NaN.There are 4 ways to do it as far as I know.By this quick test I made, it actually depends on browsers.http://jsperf.com/best-of-string-to-number-conversion/2Implicit marked the fastest on 3 browsers, but it makes the code hard to read… So choose whatever you feel like it!If you want to convert to integers only, another fast (and short) way is the double-bitwise not (i.e. using two tilde characters):e.g.Reference: http://james.padolsey.com/cool-stuff/double-bitwise-not/The 5 common ways I know so far to convert a string to a number all have their differences (there are more bitwise operators that work, but they all give the same result as ~~). This JSFiddle shows the different results you can expect in the debug console: http://jsfiddle.net/TrueBlueAussie/j7x0q0e3/22/The ~~x version results in a number in "more" cases, where others often result in undefined, but it fails for invalid input (e.g. it will return 0 if the string contains non-number characters after a valid number).Please note: Integer overflow and/or bit truncation can occur with ~~, but not the other conversions. While it is unusual to be entering such large values, you need to be aware of this. Example updated to include much larger values.Some Perf tests indicate that the standard parseInt and parseFloat functions are actually the fastest options, presumably highly optimised by browsers, but it all depends on your requirement as all options are fast enough: http://jsperf.com/best-of-string-to-number-conversion/37This all depends on how the perf tests are configured as some show parseInt/parseFloat to be much slower. A fast way to convert strings to an integer is to use a bitwise or, like so:  While it depends on how it is implemented, in theory it should be relatively fast (at least as fast as +x) since it will first cast x to a number and then perform a very efficient or.Prefix the string with the + operator.Here  is simple way to do it:    var num = Number(str);   in this example str is the variable that contains the string.

You can tested and see how it works open: Google chrome developer tools, then go to the console and paste the following code.

read the comments to understand better how the conversion is done. This is probably not that fast, but has the added benefit of making sure your number is at least a certain value (e.g. 0), or at most a certain value:If you need to ensure a minimum value, usually you'd doMath.max(..., 0) saves you from writing two statements.I find that num * 1 is simple, clear, and works for integers and floats...You can try using UnitOf, a measurement and data type conversion library we just officially released! UnitOf is super fast, small in size, and efficient at converting any data type without ever throwing an error or null/undefined. Default values you define or UnitOf's defaults are returned when a conversion is unsuccessful.

forEach is not a function error with JavaScript array

alexchenco

[forEach is not a function error with JavaScript array](https://stackoverflow.com/questions/35969974/foreach-is-not-a-function-error-with-javascript-array)

I'm trying to make a simple loop:But I get the following error:Even though parent.children logs:What could be the problem?Note: Here's a JSFiddle.

2016-03-13 12:03:30Z

I'm trying to make a simple loop:But I get the following error:Even though parent.children logs:What could be the problem?Note: Here's a JSFiddle.The parent.children is an Array like object. Use the following solution:The parent.children is NodeList type, which is an Array like object because:See more details in this article.parent.children is an HTMLCollection: which implements the iterable protocol. In an ES2015 environment, you can use the HTMLCollection with any construction that accepts iterables.Use HTMLCollection with the spread operatator:Or with the for..of cycle (which is my preferred option):parent.children is not an array. It is HTMLCollection and it does not have forEach method. You can convert it to the array first. For example in ES6:or using spread operator:parent.children will return a node list list, technically a html Collection. That is an array like object, but not an array, so you cannot call array functions over it directly. At this context you can use Array.from() to convert that into a real array,A more naive version, at least your sure that it's work on all device, without conversion and ES6 :https://jsfiddle.net/swb12kqn/5/parent.children is a HTMLCollection which is array-like object. First, you have to convert it to a real Array to use Array.prototype methods.That's because parent.children is a NodeList, and it doesn't support the .forEach method (as NodeList is an array like structure but not an array), so try to call it by first converting it to array usingThere is no need for the forEach, you can iterate using only the from's second parameter, like so:If you are trying to loop over a NodeList like this:I highly recommend loop it this way:Personally, I've tried several ways but most of them didn't work as I wanted to loop over a NodeList, but this one works like a charm, give it a try!The NodeList isn't an Array, but we treat it as an Array, using Array. So, you need to know that it is not supported in older browsers!Need more information about NodeList? Please read its documentation on MDN.Since you are using features of ES6 (arrow functions), you may also simply use a for loop like this:

How to get highcharts dates in the x axis?

Jeff

[How to get highcharts dates in the x axis?](https://stackoverflow.com/questions/7101464/how-to-get-highcharts-dates-in-the-x-axis)

Is there a standard way to get dates on the x-axis for Highcharts?  Can't find it in their documentation: http://www.highcharts.com/ref/#xAxis--typeWhen my time range is large enough, it shows dates.  However, when the time range isn't large enough, it just shows hours, like this:This is less than ideal... if it could show a date and time in this case, that'd be great.  Anyone know how?

2011-08-18 01:38:37Z

Is there a standard way to get dates on the x-axis for Highcharts?  Can't find it in their documentation: http://www.highcharts.com/ref/#xAxis--typeWhen my time range is large enough, it shows dates.  However, when the time range isn't large enough, it just shows hours, like this:This is less than ideal... if it could show a date and time in this case, that'd be great.  Anyone know how?Highcharts will automatically try to find the best format for the current zoom-range. This is done if the xAxis has the type 'datetime'. Next the unit of the current zoom is calculated, it could be one of:This unit is then used find a format for the axis labels. The default patterns are:If you want the day to be part of the "hour"-level labels you should change the dateTimeLabelFormats option for that level include %d or %e.

These are the available patters:http://api.highcharts.com/highcharts#xAxis.dateTimeLabelFormatsCheck this sample out from the Highcharts API.Replace thisWith thisLook here about the dateFormat() function.Also see - tickInterval and pointIntervalYou write like this-:also check for other datetime formathttp://api.highcharts.com/highcharts#xAxis.dateTimeLabelFormats

AJAX Mailchimp signup form integration

alexndm

[AJAX Mailchimp signup form integration](https://stackoverflow.com/questions/8425701/ajax-mailchimp-signup-form-integration)

Is there any way to integrate mailchimp simple (one email input) with AJAX, so there is no page refresh and no redirection to default mailchimp page.This solution doesn't work jQuery Ajax POST not working with MailChimpThanks 

2011-12-08 03:17:59Z

Is there any way to integrate mailchimp simple (one email input) with AJAX, so there is no page refresh and no redirection to default mailchimp page.This solution doesn't work jQuery Ajax POST not working with MailChimpThanks You don't need an API key, all you have to do is plop the standard mailchimp generated form into your code ( customize the look as needed ) and in the forms "action" attribute change post?u= to post-json?u= and then at the end of the forms action append &c=? to get around any cross domain issue. Also it's important to note that when you submit the form you must use GET rather than POST.Your form tag will look something like this by default:change it to look something like thisMail Chimp will return a json object containing 2 values: 'result' - this will indicate if the request was successful or not ( I've only ever seen 2 values, "error" and "success" ) and 'msg' - a message describing the result. I submit my forms with this bit of jQuery:Based on gbinflames' answer, I kept the POST and URL, so that the form would continue to work for those with JS off. Then, using jQuery's .submit() changed the type, and URL to handle JSON repsonses.You should use the server-side code in order to secure your MailChimp account.The following is an updated version of this answer which uses PHP:The PHP files are "secured" on the server where the user never sees them yet the jQuery can still access & use.1)  Download the PHP 5 jQuery example here...http://apidocs.mailchimp.com/downloads/mcapi-simple-subscribe-jquery.zipIf you only have PHP 4, simply download version 1.2 of the MCAPI and replace the corresponding MCAPI.class.php file above.http://apidocs.mailchimp.com/downloads/mailchimp-api-class-1-2.zip2)  Follow the directions in the Readme file by adding your API key and List ID to the store-address.php file at the proper locations.3)  You may also want to gather your users' name and/or other information.  You have to add an array to the store-address.php file using the corresponding Merge Variables.Here is what my store-address.php file looks like where I also gather the first name, last name, and email type:4)  Create your HTML/CSS/jQuery form.  It is not required to be on a PHP page.Here is something like what my index.html file looks like:Required pieces...For anyone looking for a solution on a modern stack:Based on gbinflames' answer, this is what worked for me:Generate a simple mailchimp list sign up form , copy the action URL and method (post) to your custom form. Also rename your form field names to all capital ( name='EMAIL' as in original mailchimp code, EMAIL,FNAME,LNAME,... ), then use this:Use jquery.ajaxchimp plugin to achieve that. It's dead easy!JavaScript:As for this date (February 2017), it seems that mailchimp has integrated something similar to what gbinflames suggests into their own javascript generated form.You don't need any further intervention now as mailchimp will convert the form to an ajax submitted one when javascript is enabled.All you need to do now is just paste the generated form from the embed menu into your html page and NOT modify or add any other code.This simply works. Thanks MailChimp!In the other hand, there is some packages in AngularJS which are helpful (in AJAX WEB):https://github.com/cgarnier/angular-mailchimp-subscribe

Javascript Drag and drop for touch devices [closed]

joe

[Javascript Drag and drop for touch devices [closed]](https://stackoverflow.com/questions/5186441/javascript-drag-and-drop-for-touch-devices)

I am looking for a drag & DROP plugin that works on touch devices.I would like similar functionality to the jQuery UI plugin which allows "droppable" elements.The jqtouch plugin supports dragging, but no dropping.Here is drag & drop that only supports iPhone/iPad.Can anyone point me in the direction of a drag & drop plugin that works on android/ios? ...Or it might be possible to update the jqtouch plugin for droppability, it already runs on Andriod and IOS.Thanks!

2011-03-03 20:56:37Z

I am looking for a drag & DROP plugin that works on touch devices.I would like similar functionality to the jQuery UI plugin which allows "droppable" elements.The jqtouch plugin supports dragging, but no dropping.Here is drag & drop that only supports iPhone/iPad.Can anyone point me in the direction of a drag & drop plugin that works on android/ios? ...Or it might be possible to update the jqtouch plugin for droppability, it already runs on Andriod and IOS.Thanks!You can use the Jquery UI for drag and drop with an additional library that translates mouse events into touch which is what you need, the library I recommend is https://github.com/furf/jquery-ui-touch-punch, with this your drag and drop from Jquery UI should work on touch devises or you can use this code which I am using, it also converts mouse events into touch and it works like magic. And in your document.ready just call the init() function code found from HereFor anyone looking to use this and keep the 'click' functionality (as John Landheer mentions in his comment), you can do it with just a couple of modifications:Add a couple of globals: Then modify the switch statement from the original to this:You may want to adjust 'clickms' to your tastes. Basically it's just watching for a 'touchstart' followed quickly by a 'touchend' to simulate a click. Thanks for the above codes! - I tried several options and this was the ticket. I had problems in that preventDefault was preventing scrolling on the ipad - I am now testing for draggable items and it works great so far.I had the same solution as gregpress answer, but my draggable items used a class instead of an id. It seems to work.Old thread I know.......Problem with the answer of @ryuutatsuo is that it blocks also any input or other element that has to react on 'clicks' (for example inputs), so i wrote this solution. This solution made it possible to use any existing drag and drop library that is based upon mousedown, mousemove and mouseup events on any touch device (or cumputer). This is also a cross-browser solution.I have tested in on several devices and it works fast (in combination with the drag and drop feature of ThreeDubMedia (see also http://threedubmedia.com/code/event/drag)). It is a jQuery solution so you can use it only with jQuery libs. I have used jQuery 1.5.1 for it because some newer functions don't work properly with IE9 and above (not tested with newer versions of jQuery).Before you add any drag or drop operation to an event you have to call this function first:You can also block all components/children for input or to speed up event handling by using the following syntax:Here is the code i wrote. I used some nice tricks to speed up evaluating things (see code).What it does:

At first, it translates single touch events into mouse events. It checks if an event is caused by an element on/in the element that must be dragged around. If it is an input element like input, textarea etc, it skips the translation, or if a standard mouse event is attached to it it will also skip a translation. Result:

Every element on a draggable element is still working.  Happy coding, greetz,

Erwin Haantjes

Accessing JPEG EXIF rotation data in JavaScript on the client side

Mikko Ohtamaa

[Accessing JPEG EXIF rotation data in JavaScript on the client side](https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side)

I'd like to rotate photos based on their original rotation, as set by the camera in JPEG EXIF image data. The trick is that all this should happen in the browser, using JavaScript and <canvas>.How could JavaScript access JPEG, a local file API object, local <img> or remote <img>, EXIF data to read the rotation information?Server-side answers are not OK; I am looking for a client-side solution. 

2011-09-28 14:25:33Z

I'd like to rotate photos based on their original rotation, as set by the camera in JPEG EXIF image data. The trick is that all this should happen in the browser, using JavaScript and <canvas>.How could JavaScript access JPEG, a local file API object, local <img> or remote <img>, EXIF data to read the rotation information?Server-side answers are not OK; I am looking for a client-side solution. If you only want the orientation tag and nothing else and don't like to include another huge javascript library I write a little code that extract only orientation tag as fast as possible (It uses DataView and readAsArrayBuffer which are available in IE10+, but you can write your own data reader for older browsers):values:For those using Typescript, you can use the following code:You can use the exif-js library in combination with the HTML5 File API: http://jsfiddle.net/xQnMd/1/.Firefox 26 supports image-orientation: from-image: images are displayed portrait or landscape, depending on EXIF data. (See sethfowler.org/blog/2013/09/13/new-in-firefox-26-css-image-orientation.)There is also a bug to implement this in Chrome.Beware that this property is only supported by Firefox and is likely to be deprecated.https://github.com/blueimp/JavaScript-Load-Image is a modern javascript library that can not only extract the exif orientation flag - it can also correctly mirror/rotate JPEG images on the client side.I just solved the same problem with this library: JS Client-Side Exif Orientation: Rotate and Mirror JPEG ImagesIf you want it cross-browser, your best bet is to do it on the server. You could have an API that takes a file URL and returns you the EXIF data; PHP has a module for that. This could be done using Ajax so it would be seamless to the user. If you don't care about cross-browser compatibility, and can rely on HTML5 file functionality, look into the library JsJPEGmeta that will allow you to get that data in native JavaScript.Check out a module I've written (you can use it in browser) which converts exif orientation to CSS transform: https://github.com/Sobesednik/exif2cssThere is also this node program to generate JPEG fixtures with all orientations: https://github.com/Sobesednik/generate-exif-fixturesI upload expansion code to show photo by android camera on html as normal on some img tag with right rotaion, especially for img tag whose width is wider than height. I know this code is ugly but you don't need to install any other packages. (I used above code to obtain exif rotation value, Thank you.)and then use such asImproving / Adding more functionality to Ali's answer from earlier, I created a util method in Typescript that suited my needs for this issue. This version returns rotation in degrees that you might also need for your project.Usage:

javascript: recursive anonymous function?

Incognito

[javascript: recursive anonymous function?](https://stackoverflow.com/questions/3883780/javascript-recursive-anonymous-function)

Let's say I have a basic recursive function:How could I do this if I have an anonymous function such as...I'd like a way to call the function that called this function... I've seen scripts somewhere (I can't remember where) that can tell you the name of a function called, but I can't recall any of that information right now.

2010-10-07 16:34:32Z

Let's say I have a basic recursive function:How could I do this if I have an anonymous function such as...I'd like a way to call the function that called this function... I've seen scripts somewhere (I can't remember where) that can tell you the name of a function called, but I can't recall any of that information right now.You can give the function a name, even when you're creating the function as a value and not a "function declaration" statement. In other words:is a stack-blowing recursive function.  Now, that said, you probably don't may not want to do this in general because there are some weird problems with various implementations of Javascript. (note — that's a fairly old comment; some/many/all of the problems described in Kangax's blog post may be fixed in more modern browsers.)When you give a name like that, the name is not visible outside the function (well, it's not supposed to be; that's one of the weirdnesses).  It's like "letrec" in Lisp.As for arguments.callee, that's disallowed in "strict" mode and generally is considered a bad thing, because it makes some optimizations hard.  It's also much slower than one might expect.edit — If you want to have the effect of an "anonymous" function that can call itself, you can do something like this (assuming you're passing the function as a callback or something like that):What that does is define a function with a nice, safe, not-broken-in-IE function declaration statement, creating a local function whose name will not pollute the global namespace. The wrapper (truly anonymous) function just returns that local function.People talked about the Y combinator in comments, but no one wrote it as an answer.The Y combinator can be defined in javascript as follows: (thanks to steamer25 for the link)And when you want to pass your anonymous function:The most important thing to note about this solution is that you shouldn't use it.U combinatorThe U combinator takes a function and applies it to itself. So the function you give it should at least have one parameter that will bind to the function (itself)In the example below, we have no exit condition, so we will just loop indefinitely until a stack overflow happensWe can stop the infinite recursion using a variety of techniques. Here, I'll write our anonymous function to return another anonymous function that's waiting for an input; in this case, some number. When a number is supplied, if it is greater than 0, we will continue recurring, otherwise return 0.What's not immediately apparent here is that our function, when first applied to itself using the U combinator, it returns a function waiting for the first input. If we gave a name to this, can effectively construct recursive functions using lambdas (anonymous functions)Only this isn't direct recursion – a function that calls itself using its own name. Our definition of countDown does not reference itself inside of its body and still recursion is possibleHow to remove self-reference from an existing function using U combinatorHere I'll show you how to take a recursive function that uses a reference to itself and change it to a function that employs the U combinator to in place of the self referenceNow using the U combinator to replace the inner reference to factorialThe basic replacement pattern is this. Make a mental note, we will be using a similar strategy in the next sectionY combinatorIn the previous section we saw how to transform self-reference recursion into a recursive function that does not rely upon a named function using the U combinator. There's a bit of an annoyance tho with having to remember to always pass the function to itself as the first argument. Well, the Y-combinator builds upon the U-combinator and removes that tedious bit. This is a good thing because removing/reducing complexity is the primary reason we make functionsFirst, let's derive our very own Y-combinatorNow we will see how it's usage compares to the U-combinator. Notice, to recur, instead of U (f) we can simply call f ()Now I'll demonstrate the countDown program using Y – you'll see the programs are almost identical but the Y combinator keeps things a bit cleanerAnd now we'll see factorial as wellAs you can see, f becomes the mechanism for recursion itself. To recur, we call it like an ordinary function. We can call it multiple times with different arguments and the result will still be correct. And since it's an ordinary function parameter, we can name it whatever we like, such as recur below -U and Y combinator with more than 1 parameterIn the examples above, we saw how we can loop and pass an argument to keep track of the "state" of our computation. But what if we need to keep track of additional state?We could use compound data like an Array or something...But this is bad because it's exposing internal state (counters a and b). It would be nice if we could just call fibonacci (7) to get the answer we want.Using what we know about curried functions (sequences of unary (1-paramter) functions), we can achieve our goal easily without having to modify our definition of Y or rely upon compound data or advanced language features.Look at the definition of fibonacci closely below. We're immediately applying 0 and 1 which are bound to a and b respectively. Now fibonacci is simply waiting for the last argument to be supplied which will be bound to x. When we recurse, we must call f (a) (b) (x) (not f (a,b,x)) because our function is in curried form.This sort of pattern can be useful for defining all sorts of functions. Below we'll see two more functions defined using the Y combinator (range and reduce) and a derivative of reduce, map.IT'S ALL ANONYMOUS OMGBecause we're working with pure functions here, we can substitute any named function for its definition. Watch what happens when we take fibonacci and replace named functions with their expressionsAnd there you have it – fibonacci (7) calculated recursively using nothing but anonymous functionsIt may be simplest to use an "anonymous object" instead:Your global space is completely unpolluted. It's pretty straightforward. And you can easily take advantage of the object's non-global state.I would not do this as an inline function. It's pushing against the boundaries of good taste and doesn't really get you anything.If you really must, there is arguments.callee as in Fabrizio's answer. However this is generally considered inadvisable and is disallowed in ECMAScript Fifth Edition's ‘strict mode’. Although ECMA 3 and non-strict-mode are not going away, working in strict mode promises more possible language optimisations.One can also use a named inline function:However named inline function expressions are also best avoided, as IE's JScript does some bad things to them. In the above example foo incorrectly pollutes the parent scope in IE, and the parent foo is a separate instance to the foo seen inside foo.What's the purpose of putting this in an inline anonymous function? If you just want to avoid polluting the parent scope, you can of course hide your first example inside another self-calling-anonymous-function (namespace). Do you really need to create a new copy of nothing each time around the recursion? You might be better off with a namespace containing two simple mutually-recursive functions.You could do something like:or in your case:When you declare an anonymous function like this:Its considered a function expression and it has an optional name (that you can use to call it from within itself. But because it's a function expression (and not a statement) it stays anonymous (but has a name that you can call). So this function can call itself:Why not pass the function to the functio itself ?In certain situations you have to rely on anonymous functions. Given is a recursive map function:Please note that map must not modify the structure of the array. So the accumulator acc needn't to be exposed. We can wrap map into another function for instance:But this solution is quite verbose. Let's use the underestimated U combinator:Concise, isn't it? U is dead simple but has the disadvantage that the recursive call gets a bit obfuscated: sum(...) becomes h(h)(...) - that's all.I am not sure if the answer is still required but this can also be done using delegates created using function.bind:This does not involve named functions or arguments.callee.Like bobince wrote, simply name your function.But, I'm guessing you also want to pass in an initial value and stop your function eventually!i needed (or rather, wanted) an one-liner anonymous function to walk its way up an object building up a string, and handled it like this:which produces a string like 'Root : foo : bar : baz : ...'With ES2015 we can play around a bit with the syntax and abuse default parameters and thunks. The latter are just functions without any arguments:Please note that f is a parameter with the anonymous function (x, y, n) => n === 0 ? x : f(y, x + y, n - 1) as its default value. When f is invoked by applyT this invocation must take place without arguments, so that the default value is used. The default value is a function and hence f is a named function, which can call itself recursively.Another answer which does not involve named function or arguments.calleeThis is a rework of jforjs answer with different names and a slightly modified entry. There was no need to unroll the first recursion. The function receiving itself as a reference harkens back to the primordial ooze of OOP.This is a version of @zem's answer with arrow functions.You can use the U or the Y combinator. Y combinator being the simplest to use.U combinator, with this you have to keep passing the function:

const U = f => f(f)

U(selfFn => arg => selfFn(selfFn)('to infinity and beyond'))

Y combinator, with this you don't have to keep passing the function:

const Y = gen => U(f => gen((...args) => f(f)(...args)))

Y(selfFn => arg => selfFn('to infinity and beyond'))

Yet another Y-combinator solution, using rosetta-code link (I think somebody previously mentioned the link somewhere on stackOverflow. Arrows are for anonymous functions more readable to me:This may not work everywhere, but you can use arguments.callee to refer to the current function.So, factorial could be done thus:

SyntaxError: Unexpected token function - Async Await Nodejs

bozzmob

[SyntaxError: Unexpected token function - Async Await Nodejs](https://stackoverflow.com/questions/37815790/syntaxerror-unexpected-token-function-async-await-nodejs)

I was experimenting on using Node version 6.2.1 with some of my code. Had plans to migrate most of the hyper-callback oriented codes to something that looks cleaner and maybe performs better.I have no clue why, the terminal throws up an error when I try to execute the node code.helloz.jsLogs-What am I missing? Please throw me some light on the same.Update 1:I tried to use Babel as Quentin suggested, But, I am getting the following error still.Updated Code-Logs-

2016-06-14 15:07:14Z

I was experimenting on using Node version 6.2.1 with some of my code. Had plans to migrate most of the hyper-callback oriented codes to something that looks cleaner and maybe performs better.I have no clue why, the terminal throws up an error when I try to execute the node code.helloz.jsLogs-What am I missing? Please throw me some light on the same.Update 1:I tried to use Babel as Quentin suggested, But, I am getting the following error still.Updated Code-Logs-Async functions are not supported by Node versions older than version 7.6.You'll need to transpile your code (e.g. using Babel) to a version of JS that Node understands if you are using an older version.That said, the current (2018) LTS version of Node.js is 8.x, so if you are using an earlier version you should very strongly consider upgrading.Nodejs supports async/await from version 7.6.Release post: https://v8project.blogspot.com.br/2016/10/v8-release-55.htmlNode.JS does not fully support ES6 currently, so you can either use asyncawait module or transpile it using Bable. install helloz.jsIf you are just experimenting you can use babel-node command line tool to try out the new JavaScript featuresThis is only for development and testing but that seems to be what you are doing. In the end you'll want to set up webpack (or something similar) to transpile all your code for productionIf you want to run the code somewhere else, webpack can help and here is the simplest configuration I could work out:node v6.6.0If you just use in development. You can do this: the package.json would be like this: create .babelrc file and write this: and then, run your async/await script like this:Though I'm coming in late, what worked for me was to install transform-async-generator and transform-runtime plugin like so:npm i babel-plugin-transform-async-to-generator babel-plugin-transform-runtime --save-devthe package.json would be like this: create .babelrc file and write this: and then happy coding with async/await include and specify the node engine version to the latest, say at this time I did add version 8.in the following file

