I'm trying to access a script as JSON via AJAX, which works fine on Safari and other browsers but unfortunately will not execute in Chrome. It's coming with the following error:Here's the request:Does anyone have a workaround for this?By adding a callback argument, you are telling jQuery that you want to make a request for JSONP using a script element instead of a request for JSON using XMLHttpRequest.JSONP is not JSON. It is a JavaScript program.Change your server so it outputs the right MIME type for JSONP which is application/javascript.(While you are at it, stop telling jQuery that you are expecting JSON as that is contradictory: dataType: 'jsonp').If your proxy server or container adds the following header when serving the .js file, it will force some browsers such as Chrome to perform strict checking of MIME types:Remove this header to prevent Chrome performing the MIME check.FYI, I've got the same error from Chrome console. I thought my AJAX function causing it, but I uncommented my minified script from /javascripts/ajax-vanilla.min.js to /javascripts/ajax-vanilla.js. But in reality the source file was at /javascripts/src/ajax-vanilla.js. So in Chrome you getting bad MIME type error even if the file cannot be found. In this case, the error message is described as text/plain bad MIME type.I encountered this error using IIS 7.0 with a custom 404 error page, although I suspect this will happen with any 404 page. The server returned an html 404 response with a text/html mime type which could not (rightly) be executed.For the record and Google search users,

If you are a .NET Core developer, you should set the content-types manually, because their default value is null or empty:In my case, I useto make the request (to Flickr's API), and I got the same MIME error.

Like the answer above suggested, adding the following code:Fixed the issue and I no longer see the MIME type error in Chrome's console.if application is hosted on IIS, make sure Static Content is installed. Control Panel > Programs > Turn Windows features on or off > Internet Information Services > World Wide Web Services > Common HTTP Features > Static Content. I faced this problem when trying to run an existing application on a new IIS 10.0 installation

iPad Web App: Detect Virtual Keyboard Using JavaScript in Safari?

LKM

[iPad Web App: Detect Virtual Keyboard Using JavaScript in Safari?](https://stackoverflow.com/questions/2593139/ipad-web-app-detect-virtual-keyboard-using-javascript-in-safari)

I'm writing a web app for the iPad (not a regular App Store app - it's written using HTML, CSS and JavaScript). Since the keyboard fills up a huge part of the screen, it would make sense to change the app's layout to fit the remaining space when the keyboard is shown. However, I have found no way to detect when or whether the keyboard is shown.My first idea was to assume that the keyboard is visible when a text field has focus. However, when an external keyboard is attached to an iPad, the virtual keyboard does not show up when a text field receives focus.In my experiments, the keyboard also did not affect the height or scrollheight of any of the DOM elements, and I have found no proprietary events or properties which indicate whether the keyboard is visible.

2010-04-07 14:12:24Z

I'm writing a web app for the iPad (not a regular App Store app - it's written using HTML, CSS and JavaScript). Since the keyboard fills up a huge part of the screen, it would make sense to change the app's layout to fit the remaining space when the keyboard is shown. However, I have found no way to detect when or whether the keyboard is shown.My first idea was to assume that the keyboard is visible when a text field has focus. However, when an external keyboard is attached to an iPad, the virtual keyboard does not show up when a text field receives focus.In my experiments, the keyboard also did not affect the height or scrollheight of any of the DOM elements, and I have found no proprietary events or properties which indicate whether the keyboard is visible.I found a solution which works, although it is a bit ugly. It also won't work in every situation, but it works for me. Since I'm adapting the size of the user interface to the iPad's window size, the user is normally unable to scroll. In other words, if I set the window's scrollTop, it will remain at 0.If, on the other hand, the keyboard is shown, scrolling suddenly works. So I can set scrollTop, immediately test its value, and then reset it. Here's how that might look in code, using jQuery:Normally, you would expect this to not be visible to the user. Unfortunately, at least when running in the Simulator, the iPad visibly (though quickly) scrolls up and down again. Still, it works, at least in some specific situations.I've tested this on an iPad, and it seems to work fine.You can use the focusout event to detect keyboard dismissal. It's like blur, but bubbles. It will fire when the keyboard closes (but also in other cases, of course). In Safari and Chrome the event can only be registered with addEventListener, not with legacy methods. Here is an example I used to restore a Phonegap app after keyboard dismissal. Without this snippet, the app container stayed in the up-scrolled position until page refresh.maybe a slightly better solution is to bind (with jQuery in my case) the "blur" event on the various input fields.This because when the keyboard disappear all form fields are blurred.

So for my situation this snipped solved the problem.hope it helps.

MicheleIf there is an on-screen keyboard, focusing a text field that is near the bottom of the viewport will cause Safari to scroll the text field into view.  There might be some way to exploit this phenomenon to detect the presence of the keyboard (having a tiny text field at the bottom of the page which gains focus momentarily, or something like that).During the focus event you can scroll past the document height and magically the window.innerHeight is reduced by the height of the virtual keyboard. Note that the size of the virtual keyboard is different for landscape vs. portrait orientations so you'll need to redetect it when it changes. I would advise against remembering these values as the user could connect/disconnect a bluetooth keyboard at any time.Note that when the user is using a bluetooth keyboard, the keyboardHeight is 44 which is the height of the [previous][next] toolbar.There is a tiny bit of flicker when you do this detection, but it doesn't seem possible to avoid it.Edit: Documented by Apple although I couldn't actually get it to work: WKWebView Behavior with Keyboard Displays: "In iOS 10, WKWebView objects match Safari’s native behavior by updating their window.innerHeight property when the keyboard is shown, and do not call resize events" (perhaps can use focus or focus plus delay to detect keyboard instead of using resize).Edit: code presumes onscreen keyboard, not external keyboard. Leaving it because info may be useful to others that only care about onscreen keyboards. Use http://jsbin.com/AbimiQup/4 to view page params.We test to see if the document.activeElement is an element which shows the keyboard (input type=text, textarea, etc).The following code fudges things for our purposes (although not generally correct).The above code is only approximate: It is wrong for split keyboard, undocked keyboard, physical keyboard. As per comment at top, you may be able to do a better job than the given code on Safari (since iOS8?) or WKWebView (since iOS10) using window.innerHeight property. I have found failures under other circumstances: e.g. give focus to input then go to home screen then come back to page; iPad  shouldnt make viewport smaller; old IE browsers won't work, Opera didnt work because Opera kept focus on element after keyboard closed.However the tagged answer (changing scrolltop to measure height) has nasty UI side effects if viewport zoomable (or force-zoom enabled in preferences). I don't use the other suggested solution (changing scrolltop) because on iOS, when viewport is zoomable and scrolling to focused input, there are buggy interactions between scrolling & zoom & focus (that can leave a just focused input outside of viewport - not visible).Only tested on Android 4.1.1:blur event is not a reliable event to test keyboard up and down because the user as the option to explicitly hide the keyboard which does not trigger a blur event on the field that caused the keyboard to show.resize event however works like a charm if the keyboard comes up or down for any reason.coffee: fires on anytime the keyboard is shown or hidden for any reason.Note however on in the case of an android browser (rather than app) there is a retractable url bar which does not fire resize when it is retracted yet does change the available window size.Instead of detecting the keyboard, try to detect the size of the windowIf the height of the window was reduced, and the width is still the same, it means that the keyboard is on.

Else the keyboard is off, you can also add to that, test if any input field is on focus or not.Try this code for example.This solution remembers the scroll position Try this one:As noted in the previous answers somewhere the window.innerHeight variable gets updated properly now on iOS10 when the keyboard appears and since I don't need the support for earlier versions I came up with the following hack that might be a bit easier then the discussed "solutions".then you can use:to check if the keyboard is visible. I've been using it for a while now in my web app and it works well, but (as all of the other solutions) you might find a situation where it fails because the "expected" size is not updated properly or something.Answering this for 2019.On iOS 12, I am not seeing window.innerHeight changing depending whether the keyboard is displayed. This is consistent with the native WKWebView behavior that simply pushes part of the view offscreen rather than resizing it (which I believe is the Android behavior).The only way I have been consistently successful has been to create a fixed position element and check its position. The element must be created some time before the position check; typically by creating it once on load and doing the check later.I did some searching, and I couldn't find anything concrete for a "on keyboard shown" or "on keyboard dismissed".  See the official list of supported events. Also see Technical Note TN2262 for iPad.  As you probably already know, there is a body event onorientationchange you can wire up to detect landscape/portrait.Similarly, but a wild guess... have you tried detecting resize?  Viewport changes may trigger that event indirectly from the keyboard being shown / hidden.Which would simply alert the new height on any resize event....I haven't attempted this myself, so its just an idea... but have you tried using media queries with CSS to see when the height of the window changes and then change the design for that?  I would imagine that Safari mobile isn't recognizing the keyboard as part of the window so that would hopefully work.Example:The problem is that, even in 2014, devices handle screen resize events, as well as scroll events, inconsistently while the soft keyboard is open.I've found that, even if you're using a bluetooth keyboard, iOS in particular triggers some strange layout bugs; so instead of detecting a soft keyboard, I've just had to target devices that are very narrow and have touchscreens.I use media queries (or window.matchMedia) for width detection and Modernizr for touch event detection.Perhaps it's easier to have a checkbox in your app's settings where the user can toggle 'external keyboard attached?'.In small print, explain to the user that external keyboards are currently not detectable in today's browsers.Well, you can detect when your input boxes have the focus, and you know the height of the keyboard.  There is also CSS available to get the orientation of the screen, so I think you can hack it.You would want to handle the case of a physical keyboard somehow, though. 

Is there any kind of hash code function in JavaScript?

Boog

[Is there any kind of hash code function in JavaScript?](https://stackoverflow.com/questions/194846/is-there-any-kind-of-hash-code-function-in-javascript)

Basically, I'm trying to create an object of unique objects, a set. I had the brilliant idea of just using a JavaScript object with objects for the property names. Such as,This works, up to a point. It works great with string and numbers, but with other objects, they all seem to "hash" to the same value and access the same property. Is there some kind of way I can generate a unique hash value for an object? How do strings and numbers do it, can I override the same behavior?

2008-10-11 23:45:37Z

Basically, I'm trying to create an object of unique objects, a set. I had the brilliant idea of just using a JavaScript object with objects for the property names. Such as,This works, up to a point. It works great with string and numbers, but with other objects, they all seem to "hash" to the same value and access the same property. Is there some kind of way I can generate a unique hash value for an object? How do strings and numbers do it, can I override the same behavior?JavaScript objects can only use strings as keys (anything else is converted to a string).You could, alternatively, maintain an array which indexes the objects in question, and use its index string as a reference to the object. Something like this:Obviously it's a little verbose, but you could write a couple of methods that handle it and get and set all willy nilly.Edit:This brings up another interesting point; you can define a toString method on the objects you want to hash, and that can form their hash identifier.If you want a hashCode() function like Java's in JavaScript, that is yours:That is the way of implementation in Java (bitwise operator).The easiest way to do this is to give each of your objects its own unique toString method:I had the same problem and this solved it perfectly for me with minimal fuss, and was a lot easier that re-implementing some fatty Java style Hashtable and adding equals() and hashCode() to your object classes. Just make sure that you don't also stick a string '<#MyObject:12> into your hash or it will wipe out the entry for your exiting object with that id.Now all my hashes are totally chill. I also just posted a blog entry a few days ago about this exact topic.What you described is covered by Harmony WeakMaps, part of the ECMAScript 6 specification (next version of JavaScript). That is: a set where the keys can be anything (including undefined) and is non-enumerable.This means it's impossible to get a reference to a value unless you have a direct reference to the key (any object!) that links to it. It's important for a bunch of engine implementation reasons relating to efficiency and garbage collection, but it's also super cool for in that it allows for new semantics like revokable access permissions and passing data without exposing the data sender.From MDN:WeakMaps are available in current Firefox, Chrome and Edge. They're also supported in Node v7 , and in v6 with the --harmony-weak-maps flag.The solution I chose is similar to Daniel's, but rather than use an object factory and override the toString, I explicitly add the hash to the object when it is first requested through a getHashCode function. A little messy, but better for my needs :)For my specific situation I only care about the equality of the object as far as keys and primitive values go. The solution that worked for me was converting the object to its JSON representation and using that as the hash. There are limitations such as order of key definition potentially being inconsistent; but like I said it worked for me because these objects were all being generated in one place.The JavaScript specification defines indexed property access as performing a toString conversion on the index name. For example,is the same asThis is necessary as in JavaScriptis the same asAnd yes, it makes me sad as well :-(I put together a small JavaScript module a while ago to produce hashcodes for strings, objects, arrays, etc. (I just committed it to GitHub :) )Usage:In ECMAScript 6 there's now a Set that works how you'd like: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SetIt's already available in the latest Chrome, FF, and IE11.Reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbolyou can use Es6 symbol to create unique key and access object.

    Every symbol value returned from Symbol() is unique.  A symbol value may be used as an identifier for object properties; this is the data type's only purpose. Here's my simple solution that returns a unique integer.Based on the title, we can generate strong hashes with js, it can be used to generate a unique hash from an object, an array of params, a string, or whatever.Later for indexing this avoid any possible matching errors, while allowing to retrieve an index from the params (avoid searching/looping the object etc):The above output in my browser, it should be equal for you too (Is it really?):https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest#Converting_a_digest_to_a_hex_stringMy solution introduces a static function for the global Object object.I think this is more convenient with other object manipulating functions in JavaScript.I will try to go a little deeper than other answers.Even if JS had better hashing support it would not magically hash everything perfectly, in many cases you will have to define your own hash function. For example Java has good hashing support, but you still have to think and do some work.One problem is with the term hash/hashcode ... there is cryptographic hashing and non-cryptographic hashing. The other problem, is you have to understand why hashing is useful and how it works.When we talk about hashing in JavaScript or Java most of the time we are talking about non-cryptographic hashing, usually about hashing for hashmap/hashtable (unless we are working on authentication or passwords, which you could be doing server-side using NodeJS ...).It depends on what data you have and what you want to achieve.Your data has some natural "simple" uniqueness:Your data has some natural "composite" uniqueness:You have no idea what your data will be:There is no magically efficient hashing technique for unknown data, in some cases it is quite easy, in other cases you may have to think twice. So even if JavaScript/ECMAScript adds more support, there is no magic language solution for this problem.In practice you need two things: enough uniqueness, enough speedIn addition to that it is great to have: "hashcode equal if objects are equal"If you truly want set behavior (I'm going by Java knowledge), then you will be hard pressed to find a solution in JavaScript. Most developers will recommend a unique key to represent each object, but this is unlike set, in that you can get two identical objects each with a unique key. The Java API does the work of checking for duplicate values by comparing hash code values, not keys, and since there is no hash code value representation of objects in JavaScript, it becomes almost impossible to do the same. Even the Prototype JS library admits this shortcoming, when it says:http://www.prototypejs.org/api/hashIn addition to eyelidlessness's answer, here is a function that returns a reproducible, unique ID for any object:As you can see it uses a list for look-up which is very inefficient, however that's the best I could find for now.If you want to use objects as keys you need to overwrite their toString Method, as some already mentioned here. The hash functions that were used are all fine, but they only work for the same objects not for equal objects.I've written a small library that creates hashes from objects, which you can easily use for this purpose. The objects can even have a different order, the hashes will be the same. Internally you can use different types for your hash (djb2, md5, sha1, sha256, sha512, ripemd160).Here is a small example from the documentation:The package can be used either in browser and in Node-Js.Repository: https://bitbucket.org/tehrengruber/es-js-hashIf you want to have unique values in a lookup object you can do something like this:Creating a lookup objectSetting up the hashcode functionObjectArrayOther typesFinal result{ 1337: true, 01132337: true, StackOverflow: true }Do note that getHashCode doesn't return any value when the object or array is emptyThis is similar to @ijmacd solution only getHashCode doesn't has the JSON dependency.I combined the answers from eyelidlessness and KimKha.The following is an angularjs service and it supports numbers, strings, and objects.Example Usage:OutputExplanationAs you can see the heart of the service is the hash function created by KimKha.I have added types to the strings so that the sturucture of the object would also impact the final hash value.The keys are hashed to prevent array|object collisions.eyelidlessness object comparision is used to prevent infinit recursion by self referencing objects.UsageI created this service so that I could have an error service that is accessed with objects. So that one service can register an error with a given object and another can determine if any errors were found.ieJsonValidation.jsUserOfData.jsThis would return:WhileThis would returnJust use hidden secret property with the defineProperty enumerable: falseIt work very fast:

Which characters are valid/invalid in a JSON key name?

Christophe

[Which characters are valid/invalid in a JSON key name?](https://stackoverflow.com/questions/8676011/which-characters-are-valid-invalid-in-a-json-key-name)

Are there any forbidden characters in key names, for JavaScript objects or JSON strings? Or characters that need to be escaped?To be more specific, I'd like to use "$", "-" and space in key names.

2011-12-30 03:58:17Z

Are there any forbidden characters in key names, for JavaScript objects or JSON strings? Or characters that need to be escaped?To be more specific, I'd like to use "$", "-" and space in key names.No. Any valid string is a valid key. It can even have " as long as you escape it:There is perhaps a chance you'll encounter difficulties loading such values into some languages, which try to associate keys with object field names. I don't know of any such cases, however.Following characters must be escaped in JSON data to avoid any problems JSON Parser can help you to deal with JSON.EDIT: 

 Here's a replacement JSON parser since OP's link is deadIt is worth mentioning that while starting the keys with numbers is valid, it could cause some unintended issues.Example:Unicode codepoints U+D800 to U+DFFF must be avoided: they are invalid in Unicode because they are reserved for UTF-16 surrogate pairs. Some JSON encoders/decoders will replace them with U+FFFD. See for example how the Go language and its JSON library deals with them.So avoid "\uD800" to "\uDFFF" alone (not in surrogate pairs).

Save Javascript objects in sessionStorage

Ferran Basora

[Save Javascript objects in sessionStorage](https://stackoverflow.com/questions/6193574/save-javascript-objects-in-sessionstorage)

SessionStorage and LocalStorage allows to save key/value pairs in a web browser. The value must be a string, and save js objects is not trivial.Nowadays, you can avoid this limitation by serializing objects to JSON, and then deserializing them to recover the objects. But the Storage API always pass through the setItem and getItem methods.Can I avoid this limitation?I just want to execute something like this:I have tried the defineGetter and defineSetter methods to intercept the calls but its a tedious job, because I have to define all properties and my target is not to know the future properties.

2011-05-31 21:08:05Z

SessionStorage and LocalStorage allows to save key/value pairs in a web browser. The value must be a string, and save js objects is not trivial.Nowadays, you can avoid this limitation by serializing objects to JSON, and then deserializing them to recover the objects. But the Storage API always pass through the setItem and getItem methods.Can I avoid this limitation?I just want to execute something like this:I have tried the defineGetter and defineSetter methods to intercept the calls but its a tedious job, because I have to define all properties and my target is not to know the future properties.Either you can use the accessors provided by the Web Storage API or you could write a wrapper/adapter. From your stated issue with defineGetter/defineSetter is sounds like writing a wrapper/adapter is too much work for you.I honestly don't know what to tell you. Maybe you could reevaluate your opinion of what is a "ridiculous limitation". The Web Storage API is just what it's supposed to be, a key/value store.Could you not 'stringify' your object...then use sessionStorage.setItem() to store that string representation of your object...then when you need it sessionStorage.getItem() and then use $.parseJSON() to get it back out?Working example http://jsfiddle.net/pKXMa/The solution is to stringify the object before calling setItem on the sessionStorage.This is a dynamic solution which works with all value types including objects : Then : Session storage cannot support an arbitrary object because it may contain function literals (read closures) which cannot be reconstructed after a page reload.You could also use the store library which performs it for you with crossbrowser ability.example :

Why does typeof array with objects return「object」and not「array」? [duplicate]

Johan

[Why does typeof array with objects return「object」and not「array」? [duplicate]](https://stackoverflow.com/questions/12996871/why-does-typeof-array-with-objects-return-object-and-not-array)

Why is an array of objects considered an object, and not an array? For example:Fiddle

2012-10-21 10:05:04Z

Why is an array of objects considered an object, and not an array? For example:FiddleOne of the weird behaviour and spec in Javascript is the typeof Array is Object.You  can check if the variable is an array in couple of ways:But the most reliable way is:Since you tagged your question with jQuery, you can use jQuery isArray function:Quoting the specAnd here's a table for typeofTo add some background, there are two data types in JavaScript:An object in JavaScript is similar in structure to the associative array/dictionary seen in most object oriented languages - i.e., it has a set of key-value pairs.An array can be considered to be an object with the following properties/keys:Hope this helped shed more light on why typeof Array returns an object. Cheers!Try this example and you will understand also what is the difference between Associative Array and Object in JavaScript.Associative Arrayreturns trueKeep in mind that a.length will be undefined, because length is treated as a key, you should use Object.keys(a).length to get the length of an Associative Array.  Objectreturns falseJSON returns an Object ... could return an Associative Array ... but it is not like thatThere is no plain JS array in your code. The data is a native JS object.

 Be aware of the different meanings of the different types of brackets:

What  is jQuery Unobtrusive Validation?

user1438940

[What  is jQuery Unobtrusive Validation?](https://stackoverflow.com/questions/11534910/what-is-jquery-unobtrusive-validation)

I know what the jQuery Validation plugin is.  I know the jQuery Unobtrusive Validation library was made by Microsoft and is included in the ASP.NET MVC framework.  But I cannot find a single online source that explains what it is.  What is the difference between the standard jQuery Validation library and the "unobtrusive" version?

2012-07-18 05:41:37Z

I know what the jQuery Validation plugin is.  I know the jQuery Unobtrusive Validation library was made by Microsoft and is included in the ASP.NET MVC framework.  But I cannot find a single online source that explains what it is.  What is the difference between the standard jQuery Validation library and the "unobtrusive" version?Brad Wilson has a couple great articles on unobtrusive validation and unobtrusive ajax.

It is also shown very nicely in this Pluralsight video in the section on " AJAX and JavaScript".Basically, it is simply Javascript validation that doesn't pollute your source code with its own validation code. This is done by making use of data- attributes in HTML.With the unobtrusive way:Jquery Validate Example:Jquery Validate Unobtrusive Example:For clarification, here is a more detailed example demonstrating Form Validation using jQuery Validation Unobtrusive.Both use the following JavaScript with jQuery:The main differences between the two plugins are the attributes used for each approach.jQuery ValidationSimply use the following attributes:Here's the form...jQuery Validation UnobtrusiveThe following data attributes are needed:Here's the form...Based on either of these examples, if the form fields that are required have been filled, and they meet the additional attribute criteria, then a message will pop up notifying that all form fields are validated. Otherwise, there will be text near the offending form fields that indicates the error.References:

 - jQuery Validation: https://jqueryvalidation.org/documentation/jQuery Validation Unobtrusive Native is a collection of ASP.Net MVC HTML helper extensions. 

These make use of jQuery Validation's native support for validation driven by HTML 5 data attributes. 

Microsoft shipped jquery.validate.unobtrusive.js back with MVC 3. 

It provided a way to apply data model validations to the client side using a combination of jQuery Validation and HTML 5 data attributes 

(that's the "unobtrusive" part).

Creating JS object with Object.create(null)?

Royi Namir

[Creating JS object with Object.create(null)?](https://stackoverflow.com/questions/15518328/creating-js-object-with-object-createnull)

I know a lot of ways to create JS objects but I didn't know the Object.create(null)'s one.Question:is it exactly the same as:vs?

2013-03-20 08:12:35Z

I know a lot of ways to create JS objects but I didn't know the Object.create(null)'s one.Question:is it exactly the same as:vs?They are not equivalent. {}.constructor.prototype == Object.prototype while Object.create(null) doesn't inherit from anything and thus has no properties at all.In other words: A javascript object inherits from Object by default, unless you explicitly create it with null as its prototype, like: Object.create(null).{} would instead be equivalent to Object.create(Object.prototype).In Chrome Devtool you can see that Object.create(null) has no __proto__ property, while {} does.They are definitely not equivalent. I'm writing this answer to more fully explain why it makes a difference.If you are using an object as a map, and you create an object using method 1 above, then you have to be extra careful when doing lookups in the map. Because the properties and methods from Object are inherited, your code may run into a case where there are keys in the map that you never inserted. For example, if you did a lookup on toString, you would find a function, even though you never put that value there. You can work around that like this:Note that it is fine to assign something to p.toString, it will simply override the inherited toString function on p.Note that you can't just do p.hasOwnProperty('toString') because you may have inserted a key "hasOwnProperty" into p, so we force it to use the implementation in Object.On the other hand, if you use method 2 above, then you won't have to worry about things from Object appearing in the map.You can't check for the existence of a property with a simple if like this:The value might be an empty string, might be false, or null, or undefined, or 0, or NaN, etc. To check whether a property exists at all, you would still need to use Object.prototype.hasOwnProperty.call(p, someKey).Creating objects by using {} will create an object whose prototype is Object.prototype which inherits the basic functions from Object prototype while creating objects by using Object.create(null) will create an empty object whose prototype is null.If someone is looking for implementing Object.create(null), just to know how it works. It is written using __proto__ which is non-standard and hence, I do not recommend it.Note: I wrote this, out of curiosity, and it is only written in simple terms, for instance, I am not transferring the property descriptors from the second object to the return object.

How do I load the contents of a text file into a javascript variable?

danb

[How do I load the contents of a text file into a javascript variable?](https://stackoverflow.com/questions/196498/how-do-i-load-the-contents-of-a-text-file-into-a-javascript-variable)

I have a text file in the root of my web app http://localhost/foo.txt and I'd like to load it into a variable in javascript.. in groovy I would do this:How can I get a similar result in javascript?

2008-10-13 01:57:13Z

I have a text file in the root of my web app http://localhost/foo.txt and I'd like to load it into a variable in javascript.. in groovy I would do this:How can I get a similar result in javascript?XMLHttpRequest, i.e. AJAX, without the XML.The precise manner you do this is dependent on what JavaScript framework you're using, but if we disregard interoperability issues, your code will look something like:Normally speaking, though, XMLHttpRequest isn't available on all platforms, so some fudgery is done. Once again, your best bet is to use an AJAX framework like jQuery.One extra consideration: this will only work as long as foo.txt is on the same domain. If it's on a different domain, same-origin security policies will prevent you from reading the result.here is how I did it in jquery:https://developer.mozilla.org/en-US/docs/Web/API/Fetch_APIIf you only want a constant string from the text file, you could include it as JavaScript:The string loaded from the file becomes accessible to JavaScript after being loaded. The `(backtick) character begins and ends a template literal, allowing for both " and ' characters in your text block.This approach works well when you're attempting to load a file locally, as Chrome will not allow AJAX on URLs with the file:// scheme.One thing to keep in mind is that Javascript runs on the client, and not on the server. You  can't really "load a file" from the server in Javascript. What happens is that Javascript sends a request to the server, and the server sends back the contents of the requested file. How does Javascript receive the contents? That's what the callback function is for. In Edward's case, that isand in danb's case, it isThis function is called whenever the data happen to arrive. The jQuery version implicitly uses Ajax, it just makes the coding easier by encapsulating that code in the library.This should work in almost all browsers:Additionally, there's the new Fetch API:When working with jQuery, instead of using jQuery.get, e.g.you could use .load which gives you a much more condensed form:.load gives you also the option to load partial pages which can come in handy, see api.jquery.com/load/.If your input was structured as XML, you could use the importXML function. (More info here at quirksmode).If it isn't XML, and there isn't an equivalent function for importing plain text, then you could open it in a hidden iframe and then read the contents from there.

Combining a class selector and an attribute selector with jQuery

Jason Child

[Combining a class selector and an attribute selector with jQuery](https://stackoverflow.com/questions/6246683/combining-a-class-selector-and-an-attribute-selector-with-jquery)

Is it possible to combine both a class selector and an attribute selector with jQuery?For example, given the following HTML:What would be the selector I can use to select rows 1 and 3 only?I have tried:I'm sure the answer is very simple and I have tried searching the jQuery forums and documentation but I can't seem to figure this one out. Can anyone help?

2011-06-05 23:43:00Z

Is it possible to combine both a class selector and an attribute selector with jQuery?For example, given the following HTML:What would be the selector I can use to select rows 1 and 3 only?I have tried:I'm sure the answer is very simple and I have tried searching the jQuery forums and documentation but I can't seem to figure this one out. Can anyone help?Combine them. Literally combine them; attach them together without any punctuation.Your first selector looks for elements with the attribute value, contained in elements with the class.

The space is being interpreted as the descendant selector.Your second selector, like you said, looks for elements with either the attribute value, or the class, or both.

The comma is being interpreted as the multiple selector operator — whatever that means (CSS selectors don't have a notion of "operators"; the comma is probably more accurately known as a delimiter).I think you just need  to remove the space. i.e.There is a fiddle here http://jsfiddle.net/xXEHY/This code works too:This will also work:

How does the paste image from clipboard functionality work in Gmail and Google Chrome 12+?

Emil Lerch

[How does the paste image from clipboard functionality work in Gmail and Google Chrome 12+?](https://stackoverflow.com/questions/6333814/how-does-the-paste-image-from-clipboard-functionality-work-in-gmail-and-google-c)

I noticed a blog post from Google that mentions the ability to paste images directly from the clipboard into a Gmail message if you're using the latest version of Chrome.  I tried this with my version of Chrome (12.0.742.91 beta-m) and it works great using control keys or the context menu.  From that behavior I need to assume that the latest version of webkit used in Chrome is able to deal with images in the Javascript paste event, but I have been unable to locate any references to such an enhancement.  I believe ZeroClipboard binds to keypress events to trigger its flash functionality and as such wouldn't work through the context menu (also, ZeroClipboard is cross-browser and the post says this works only with Chrome).  So, how does this work and where the enhancement was made to Webkit (or Chrome) that enables the functionality?

2011-06-13 17:18:37Z

I noticed a blog post from Google that mentions the ability to paste images directly from the clipboard into a Gmail message if you're using the latest version of Chrome.  I tried this with my version of Chrome (12.0.742.91 beta-m) and it works great using control keys or the context menu.  From that behavior I need to assume that the latest version of webkit used in Chrome is able to deal with images in the Javascript paste event, but I have been unable to locate any references to such an enhancement.  I believe ZeroClipboard binds to keypress events to trigger its flash functionality and as such wouldn't work through the context menu (also, ZeroClipboard is cross-browser and the post says this works only with Chrome).  So, how does this work and where the enhancement was made to Webkit (or Chrome) that enables the functionality?I spent some time experimenting with this.  It seems to sort of follow the new Clipboard API spec.  You can define a "paste" event handler and look at event.clipboardData.items, and call getAsFile() on them to get a Blob.  Once you have a Blob, you can use FileReader on it to see what's in it.  This is how you can get a data url for the stuff you just pasted in Chrome:Once you have a data url you can display the image on the page.  If you want to upload it instead, you could use readAsBinaryString, or you could put it into an XHR using FormData.The answer by Nick seems to need small changes to still work :)Example running code: http://jsfiddle.net/bt7BU/225/So the changes to nicks answer were:to Also I had to take the second element from the pasted items (first one seems to be text/html if you copy an image from another web page into the buffer). So I changedto a loop finding the item containing the image (see above)I didn't know how to answer directly to Nick's answer, hope it is fine here :$ :)Here's a smooth jQuery plugin wrapping up the whole deal (basically the same principles as Nick's answer): http://strd6.com/2011/09/html5-javascript-pasting-image-data-in-chrome/It's got a live demo, annotated source code, and everything.Web browsers keep marching forward. I recently found this:Code Snippet — Accessing Clipboard Images with Javascriptand this:The Paste Wasteland (or, why the onPaste event is a mess)The first link describes a way to get clipboard images using JavaScript only on Firefox and Chrome. The second link contains a postscript that mentions the same technique was adapted to IE (unknown version).As far as I know -With HTML 5 features(File Api and the related) - accessing clipboard image data is now possible with plain javascript.This however fails to work on IE (anything less than IE 10). Don't know much about IE10 support also.For IE the optiens that I believe are the 'fallback' options are 

either using Adobe's AIR api

or 

using a signed appletWow, that's cool.  I haven't dived into the gmail source to figure it out yet (I did with the drag-out functionality), but I'm guessing that it's an extension of the drag/drop API that chrome has already extended.  There's a decent write-up on how the drag-to-desktop feature works: http://www.thecssninja.com/javascript/gmail-dragout that may at least point you in the right direction.This is from an example with angular2 typescript that works for my project. Hope it helps someone. Logic is same for other cases as-well.https://gist.github.com/sandeepsuvit/a8ba77faebba260455985504be24aef7Here is a live implementation:https://stackblitz.com/edit/angular-f7kcny?file=app/app.component.ts

How should I call 3 functions in order to execute them one after the other?

texai

[How should I call 3 functions in order to execute them one after the other?](https://stackoverflow.com/questions/5187968/how-should-i-call-3-functions-in-order-to-execute-them-one-after-the-other)

If I need call this functions one after other,I know in jQuery I could do something like:But, let's assume that I'm not using jQuery and I want to call:How I should call this functions in order to execute some_3secs_function, and AFTER that call ends, then execute some_5secs_function and AFTER that call ends, then call some_8secs_function?UPDATE:This still not working:Three animations start at same timeWhere is my mistake?

2011-03-03 23:32:48Z

If I need call this functions one after other,I know in jQuery I could do something like:But, let's assume that I'm not using jQuery and I want to call:How I should call this functions in order to execute some_3secs_function, and AFTER that call ends, then execute some_5secs_function and AFTER that call ends, then call some_8secs_function?UPDATE:This still not working:Three animations start at same timeWhere is my mistake?In Javascript, there are synchronous and asynchronous functions.Most functions in Javascript are synchronous. If you were to call several synchronous functions in a rowthey will execute in order. doSomethingElse will not start until doSomething has completed. doSomethingUsefulThisTime, in turn, will not start until doSomethingElse has completed.Asynchronous function, however, will not wait for each other. Let us look at the same code sample we had above, this time assuming that the functions are asynchronousThe functions will be initialized in order, but they will all execute roughly at the same time. You can't consistently predict which one will finish first: the one that happens to take the shortest amount of time to execute will finish first.But sometimes, you want functions that are asynchronous to execute in order, and sometimes you want functions that are synchronous to execute asynchronously. Fortunately, this is possible with callbacks and timeouts, respectively.Let's assume that we have three asynchronous functions that we want to execute in order, some_3secs_function, some_5secs_function, and some_8secs_function.Since functions can be passed as arguments in Javascript, you can pass a function as a callback to execute after the function has completed.If we create the functions like thisthen you can call then in order, like this:In Javascript, you can tell a function to execute after a certain timeout (in milliseconds). This can, in effect, make synchronous functions behave asynchronously.If we have three synchronous functions, we can execute them asynchronously using the setTimeout function.This is, however, a bit ugly and violates the DRY principle[wikipedia]. We could clean this up a bit by creating a function that accepts an array of functions and a timeout. This can be called like so:In summary, if you have asynchronous functions that you want to execute syncronously, use callbacks, and if you have synchronous functions that you want to execute asynchronously, use timeouts.Look at my answer here Wait till a Function with animations is finished until running another Function if you want to use jQuery animations.Here is what your code would look like with ES6 Promises and jQuery animations.Normal methods can also be wrapped in Promises. The then method is executed as soon as the Promise finished. Normally, the return value of the function passed to then is passed to the next one as result. But if a Promise is returned, the next then function waits until the Promise finished executing and receives the results of it (the value that is passed to fulfill). It sounds like you're not fully appreciating the difference between synchronous and asynchronous function execution. The code you provided in your update immediately executes each of your callback functions, which in turn immediately start an animation. The animations, however, execute asyncronously. It works like this:This continues until the last step in the animation completes. In the meantime, your synchronous functions have long ago completed. In other words, your call to the animate function doesn't really take 3 seconds. The effect is simulated with delays and callbacks.What you need is a queue. Internally, jQuery queues the animations, only executing your callback once its corresponding animation completes. If your callback then starts another animation, the effect is that they are executed in sequence. In the simplest case this is equivalent to the following:Here's a general asynchronous looping function. It will call the given functions in order, waiting for the specified number of seconds between each.Usage:You could obviously modify this to take configurable wait times or to immediately execute the first function or to stop executing when a function in the chain returns false or to apply the functions in a specified context or whatever else you might need.I believe the async library will provide you a very elegant way to do this. While promises and callbacks can get a little hard to juggle with, async can give neat patterns to streamline your thought process. To run functions in serial, you would need to put them in an async waterfall. In async lingo, every function is called a task that takes some arguments and a callback; which is the next function in the sequence. The basic structure would look something like:I've just tried to briefly explain the structure here. Read through the waterfall guide for more information, it's pretty well written.your functions should take a callback function, that gets called when it finishes.then usage would be like:I won't go into a deep discussion of setTimeout here, but:  Since you tagged it with javascript, I would go with a timer control since your function names are 3, 5, and 8 seconds. So start your timer, 3 seconds in, call the first, 5 seconds in call the second, 8 seconds in call the third, then when it's done, stop the timer.Normally in Javascript what you have is correct for the functions are running one after another, but since it looks like you're trying to do timed animation, a timer would be your best bet.You could also use promises in this way:You would have to make some_value global in order to access it from inside the .thenAlternatively, from the outer function you could return the value the inner function would use, like so:I use a 'waitUntil' function based on javascript's setTimeoutThis would work perfectly if your functions set a certain condition to true, which you would be able to poll. Plus it comes with timeouts, which offers you alternatives in case your function failed to do something (even within time-range. Think about user feedback!)egIf method 1 has to be executed after method 2, 3, 4. The following code snippet can be the solution for this using Deferred object in JavaScript.

SameSite warning Chrome 77

peiblox

[SameSite warning Chrome 77](https://stackoverflow.com/questions/58270663/samesite-warning-chrome-77)

Since the last update, I'm having an error with cookies, related with SameSite attribute.The cookies are from third party developers (Fontawesome, jQuery, Google Analytics, Google reCaptcha, Google Fonts, etc.)The errors in the Chrome console are like this.Is there anything I need to do in my local machine or server or is just some feature they should implement in future releases of their libraries?

2019-10-07 13:34:32Z

Since the last update, I'm having an error with cookies, related with SameSite attribute.The cookies are from third party developers (Fontawesome, jQuery, Google Analytics, Google reCaptcha, Google Fonts, etc.)The errors in the Chrome console are like this.Is there anything I need to do in my local machine or server or is just some feature they should implement in future releases of their libraries?This console warning is not an error or an actual problem — Chrome is just spreading the word about this new standard to increase developer adoption.Release date for a fix is February 4, 2020 per:

https://www.chromium.org/updates/same-siteFebruary, 2020: Enforcement rollout for Chrome 80 Stable: The SameSite-by-default and SameSite=None-requires-Secure behaviors will begin rolling out to Chrome 80 Stable for an initial limited population starting the week of February 17, 2020, excluding the US President’s Day holiday on Monday. We will be closely monitoring and evaluating ecosystem impact from this initial limited phase through gradually increasing rollouts. For the full Chrome release schedule, see here.I solved same problem by adding in response headerSameSite prevents the browser from sending the cookie along with cross-site requests. The main goal is mitigating the risk of cross-origin information leakage. It also provides some protection against cross-site request forgery attacks. Possible values for the flag are Lax or Strict.SameSite cookies explained herePlease refer this before applying any option.Hope this helps you.To elaborate on Rahul Mahadik's answer, this works for MVC5 C#.NET:AllowSameSiteAttribute.csHomeController.csorIf you are testing on localhost and you have no control of the response headers, you can disable the it with a chrome flag.Visit the url and disable it: chrome://flags/#same-site-by-default-cookies

I need to disable it because Chrome Canary just started enforcing this rule as of approximately V 82.0.4078.2 and now it's not setting these cookies.Note: I only turn this flag on in Chrome Canary that I use for development. It's best not to turn the flag on for everyday Chrome browsing for the same reasons that google is introducing it.

Changing the selected option of an HTML Select element

llihttocs

[Changing the selected option of an HTML Select element](https://stackoverflow.com/questions/7373058/changing-the-selected-option-of-an-html-select-element)

In my HTML, I have a <select> with three <option> elements.  I want to use jQuery to check each option's value against a Javascript var.  If one matches, I want to set the selected attribute of that option.  How would I do that?

2011-09-10 16:32:10Z

In my HTML, I have a <select> with three <option> elements.  I want to use jQuery to check each option's value against a Javascript var.  If one matches, I want to set the selected attribute of that option.  How would I do that?Using plain old JavaScript:But if you really want to use jQuery:In case your options have value attributes which differ from their text content and you want to select via text content:But if you do have the above set up and want to select by value using jQuery, you can do as before:For the browsers that support document.querySelector and the HTMLOptionElement::selected property, this is a more succinct way of accomplishing this task:Note: this has not been updated for the final stable release.None of the examples using jquery in here are actually correct as they will leave the select displaying the first entry even though value has been changed.The right way to select Alaska and have the select show the right item as selected using:With jquery would be:You can change the value of the select element, which changes the selected option to the one with that value, using JavaScript:DEMOI want to change the select element's selected option's both value & textContent (what we see) to 'Mango'.Simplest code that worked is below:Hope that helps someone. Best of luck.

Up vote if this helped you.Test this DemoExcellent answers - here's the D3 version for anyone looking:I used almost all of the answers posted here but not comfortable with that so i dig one step furter and found easy solution that fits my need and feel worth sharing with you guys.

Instead of iteration all over the options or using JQuery you can do using core JS in simple steps:ExampleSo you must know the value of the option to select.How to Use?Your comments are welcome. :) AzmatHunzai.I used this after updating a register and changed the state of request via ajax, then I do a query with the new state in the same script and put it in the select tag element new state to update the view.I hope this is useful.After a lot of searching I tried @kzh on select list where I only know option inner text not value attribute, 

this code based on select answer I used it to change select option according to current page urlon this format 

http://www.example.com/index.php?u=SteveThis  will keeps url parameters shown as  selected to make it more user friendly and the visitor knows what page or profile he is currently viewing . Slightly neater Vanilla.JS version. Assuming you've already fixed nodeList missing .forEach():Just:

lodash multi-column sortBy descending

nhaa123

[lodash multi-column sortBy descending](https://stackoverflow.com/questions/22928841/lodash-multi-column-sortby-descending)

There's a nifty method to sort an array of objects based on several properties:However that is only for ascending sorting. Is there some handy way of defining direction per column? E.g.

2014-04-08 06:07:54Z

There's a nifty method to sort an array of objects based on several properties:However that is only for ascending sorting. Is there some handy way of defining direction per column? E.g.As of lodash 3.5.0 you can use sortByOrder (renamed orderBy in v4.3.0):Since version 3.10.0 you can even use standard semantics for ordering (asc, desc):In version 4 of lodash this method has been renamed orderBy:You can always use Array.prototype.reverse()It's worth noting that if you want to sort particular properties descending, you don't want to simply append .reverse() at the end, as this will make all of the sorts descending.To make particular sorts descending, chain your sorts from least significant to most significant, calling .reverse() after each sort that you want to be descending.Since _'s sort is a stable sort, you can safely chain and reverse sorts because if two items have the same value for a property, their order is preserved.More informationDeep field & multi field & different direction ordering 

Lodash  >4 No. You cannot specify the sort order other than by a callback function that inverses the value. Not even this is possible for a multicolumn sort.You might be able to doFor everything else, you will need to resort to the native .sort() with a custom comparison function:In the documentation of the version 4.11.x, says: `

"This method is like _.sortBy except that it allows specifying the sort orders of the iteratees to sort by. If orders is unspecified, all values are sorted in ascending order. Otherwise, specify an order of "desc" for descending or "asc" for ascending sort order of corresponding values."

(source https://lodash.com/docs/4.17.10#orderBy)let sorted = _.orderBy(this.items, ['fieldFoo', 'fieldBar'], ['asc', 'desc'])You can also try this:

parseInt vs unary plus - when to use which

hereandnow78

[parseInt vs unary plus - when to use which](https://stackoverflow.com/questions/17106681/parseint-vs-unary-plus-when-to-use-which)

What are the differences between this line:and this lineThis jsperf test shows that the unary operator is much faster in the current chrome version, assuming it is for node.js!?If I try to convert strings which are not numbers both return NaN:So when should I prefer using parseInt over the unary plus (especially in node.js)???edit: and what's the difference to the double tilde operator ~~?

2013-06-14 10:44:56Z

What are the differences between this line:and this lineThis jsperf test shows that the unary operator is much faster in the current chrome version, assuming it is for node.js!?If I try to convert strings which are not numbers both return NaN:So when should I prefer using parseInt over the unary plus (especially in node.js)???edit: and what's the difference to the double tilde operator ~~?Well, here are a few differences I know of:The ultimate whatever-to-number conversion table:

The table in thg435's answer I believe is comprehensive, however we can summarize with the following patterns:Falsy values convert to Number following what would make sense in C:  null and false are both zero.  "" going to 0 doesn't quite follow this convention but makes enough sense to me.Therefore I think if you are validating user input, unary plus has correct behavior for everything except it accepts decimals (but in my real life cases I'm more interested in catching email input instead of userId, value omitted entirely, etc.), whereas parseInt is too liberal.Be carefull, parseInt is faster than + unary operator in Node.JS,

it's false that + or |0 are faster, them are faster only for NaN elements.Check this out:Consider performance too. I was suprised that parseInt beats unary plus on iOS :) This is helpful for web apps with heavy CPU consumption only. As a rule-of-thumb I'd suggest JS opt-guys to consider any JS operator over another one from the mobile performance point of view nowadays. So, go mobile-first ;)

Invalid date in safari

Shrinath

[Invalid date in safari](https://stackoverflow.com/questions/4310953/invalid-date-in-safari)

chrome, ff doesn't have problems with this, but safari cries "invalid date". Why ?edit : ok, as per the comments below, I used string parsing and tried this : edit Mar 22 2018 : Seems like people are still landing here - Today, I would use moment or date-fns and be done with it. Date-fns is very much pain free and light as well. 

2010-11-30 05:58:18Z

chrome, ff doesn't have problems with this, but safari cries "invalid date". Why ?edit : ok, as per the comments below, I used string parsing and tried this : edit Mar 22 2018 : Seems like people are still landing here - Today, I would use moment or date-fns and be done with it. Date-fns is very much pain free and light as well. The pattern yyyy-MM-dd isn't an officially supported format for Date constructor. Firefox seems to support it, but don't count on other browsers doing the same.Here are some of supported strings, taken from this site:DateJS seems like a good library for parsing non standard date formats.Edit: just checked ECMA-262 standard. Quoting from section 15.9.1.15:Date Time String Format So, it seems that YYYY-MM-DD is included in the standard, but for some reason, Safari doesn't support it.Update: after looking at datejs documentation, using it, your problem should be solved using code like this:For me implementing a new library just because Safari cannot do it correctly is too much and a regex is overkill.

Here is the oneliner:I was facing a similar issue. Date.Parse("DATESTRING") was working on Chrome (Version 59.0.3071.115 ) but not of Safari (Version 10.1.1 (11603.2.5) )Safari:Chrome:The solution that worked for me was replacing the space in the dateString with "T". ( example : dateString.replace(/ /g,"T") )Safari:Chrome:Note that the response from Safari browser is 8hrs (28800000ms) less than the response seen in Chrome browser because Safari returned the response in local TZ (which is 8hrs behind UTC)To get both the times in same TZSafari:Chrome:I use moment to solve the problem.

For exampleTo have a solution working on most browsers, you should create your date-object with this formate.g.:works fine with IE, FF, Chrome and Safari. Even older versions.IE Dev Center: Date Object (JavaScript)Mozilla Dev Network: Dateconvert string to Date fromat (you have to know server timezone)where  +08:00 = timeZone from serverI had the same issue.Then I used moment.Js.Problem has vanished. e.g.Though you might hope that browsers would support ISO 8601 (or date-only subsets thereof), this is not the case. All browsers that I know of (at least in the US/English locales I use) are able to parse the horrible US MM/DD/YYYY format.If you already have the parts of the date, you might instead want to try using Date.UTC(). If you don't, but you must use the YYYY-MM-DD format, I suggest using a regular expression to parse the pieces you know and then pass them to Date.UTC().Use the below format, it would work on all the browsers//Your output would look like this "Wed Mar 23 2016 00:00:00 GMT+0530 (IST)"//Note this would be in the current timezone in this case denoted by IST, to convert to UTC timezone you can include//Your output now would like this "Tue, 22 Mar 2016 18:30:00 GMT"Note that now the dateObj shows the time in GMT format, also note that the date and time have been changed correspondingly.The "toUTCSting" function retrieves the corresponding time at the Greenwich meridian. This it accomplishes by establishing the time difference between your current timezone to the Greenwich Meridian timezone.In the above case the time before conversion was 00:00 hours and minutes on the 23rd of March in the year 2016. And after conversion from GMT+0530 (IST) hours to GMT (it basically subtracts 5.30 hours from the given timestamp in this case) the time reflects 18.30 hours on the 22nd of March in the year 2016 (exactly 5.30 hours behind the first time). Further to convert any date object to timestamp you can use //output would look something similar to this "1458671400000"This would give you the unique timestamp of the timeHow about hijack Date with fix-date? No dependencies, min + gzip = 280 BBest way to do it is by using the following format:This is supported in all browsers and will not give you any issues.

Please note that the months are written from 0 to 11.The same problem facing in Safari and it was solved by inserting this in web pageHope it will work also your  case too ThanksAs @nizantz previously mentioned, using Date.parse() wasn't working for me in Safari. After a bit of research, I learned that the lastDateModified property for the File object has been deprecated, and is no longer supported by Safari. Using the lastModified property of the File object resolved my issues. Sure dislike it when bad info is found online.Thanks to all who contributed to this post that assisted me in going down the path I needed to learn about my issue. Had it not been for this info, I never would have probably figured out my root issue. Maybe this will help someone else in my similar situation.I am also facing the same problem in Safari BrowserHere the solution:This is not the best solution, although I simply catch the error and send back current date. I personally feel like not solving Safari issues, if users want to use a sh*t non-standards compliant browser - they have to live with quirks.I'd suggest having your backend send ISO dates.use the format 'mm/dd/yyyy'. For example :- new Date('02/28/2015'). It works well in all browsers.

How to count the number of certain element in an array?

Leem

[How to count the number of certain element in an array?](https://stackoverflow.com/questions/6120931/how-to-count-the-number-of-certain-element-in-an-array)

If I have an array [1, 2, 3, 5, 2, 8, 9, 2], I would like to check how many 2s there are in the array. What is the most elegant way to do it in JavaScript without looping with for loop?

2011-05-25 07:26:44Z

If I have an array [1, 2, 3, 5, 2, 8, 9, 2], I would like to check how many 2s there are in the array. What is the most elegant way to do it in JavaScript without looping with for loop?Very simple:[this answer is a bit dated: read the edits]Say hello to your friends: map and filter and reduce and forEach and every etc.(I only occasionally write for-loops in javascript, because of block-level scoping is missing, so you have to use a function as the body of the loop anyway if you need to capture or clone your iteration index or value. For-loops are more efficient generally, but sometimes you need a closure.)The most readable way:(We could have written .filter(function(x){return x==2}).length instead)The following is more space-efficient (O(1) rather than O(N)), but I'm not sure how much of a benefit/penalty you might pay in terms of time (not more than a constant factor since you visit each element exactly once):(If you need to optimize this particular piece of code, a for loop might be faster on some browsers... you can test things on jsperf.com.)You can then be elegant and turn it into a prototype function:Like this:You can also stick the regular old for-loop technique (see other answers) inside the above property definition (again, that would likely be much faster).2017 edit:Whoops, this answer has gotten more popular than the correct answer. Actually, just use the accepted answer. While this answer may be cute, the js compilers probably don't (or can't due to spec) optimize such cases. So you should really write a simple for loop:You could define a version .countStrictEq(...) which used the === notion of equality. The notion of equality may be important to what you're doing! (for example [1,10,3,'10'].count(10)==2, because numbers like '4'==4 in javascript... hence calling it .countEq or .countNonstrict stresses it uses the == operator.) Also consider using your own multiset data structure (e.g. like python's 'collections.Counter') to avoid having to do the counting in the first place.Demo:sidenote: Though, if you still wanted the functional-programming way (or a throwaway one-liner without overriding Array.prototype), you could write it more tersely nowadays as [...].filter(x => x==2).length. If you care about performance, note that while this is asymptotically the same performance as the for-loop (O(N) time), it may require O(N) extra memory (instead of O(1) memory) because it will almost certainly generate an intermediate array and then count the elements of that intermediate array.2017:

If someone is still interested in the question, my solution is the following:  ES6 Update to JS:The following unanimous Arrow function (lambda function) in JS:may be simplified to this concise form for a single input:where the return is implied.If you are using lodash or underscore the _.countBy method will provide an object of aggregate totals keyed by each value in the array. You can turn this into a one-liner if you only need to count one value:This also works fine on arrays of numbers. The one-liner for your example would be:Weirdest way I can think of doing this is:Where:My suggestion, use a while or for loop ;-)Not using a loop usually means handing the process over to some method that does use a loop.Here is a way our loop hating coder can satisfy his loathing, at a price:You can also repeatedly call indexOf, if it is available as an array method, and move the search pointer each time.This does not create a new array, and the loop is faster than a forEach or filter.It could make a difference if you have a million members to look at.Really, why would you need map or filter for this?

reduce was "born" for these kind of operations:[1, 2, 3, 5, 2, 8, 9, 2].reduce( (count,2)=>count+(item==val), 0);that's it! (if item==val in each iteration, then 1 will be added to the accumulator count, as true will resolve to 1).As a function: Or, go ahead and extend your arrays:Most of the posted solutions using array functions such as filter are incomplete because they aren't parameterized.Here goes a solution with which the element to count can be set at run time.The advantage of this approach is that could easily change the function to count for instance the number of elements greater than X.You may also declare the reduce function inlineI'm a begin fan of js array's reduce function. In fact if you really want to get fancy you can create a count function on the Array prototype. Then you can reuse it. Then do Solution by recursionI would do something like  that:Create a new method for Array class in core level file and use it all over your project.Use this anywhere in your project -Here is a one liner in javascript.The result is 3.I believe what you are looking for is functional approachelem === 'a' is the condition, replace it with your own.You can use length property in JavaScript array:

Is there a case insensitive jQuery :contains selector?

Pat

[Is there a case insensitive jQuery :contains selector?](https://stackoverflow.com/questions/187537/is-there-a-case-insensitive-jquery-contains-selector)

Is there a case insensitive version of the :contains jQuery selector or should I do the work manually by looping over all elements and comparing their .text() to my string?

2008-10-09 14:30:19Z

Is there a case insensitive version of the :contains jQuery selector or should I do the work manually by looping over all elements and comparing their .text() to my string?What I ended up doing for jQuery 1.2 is :This will extend jquery to have a :Contains selector that is case insensitive, the :contains selector remains unchanged.Edit: For jQuery 1.3 (thanks @user95227) and later you needEdit: 

Apparently accessing the DOM directly by usinginstead of In the previous expression speeds it up considerably so try at your own risk if speed is an issue. (see @John 's question)Latest edit: For jQuery 1.8 it should be:To make it optionally case insensitive:

http://bugs.jquery.com/ticket/278then use :containsi instead of :containsAs of jQuery 1.3, this method is deprecated. To get this to work it needs to be defined as a function:If someone (like me) is interested what do a and m[3] mean in Contains definition.KEY/LEGEND: Params made available by jQuery for use in the selector definitions: r = jQuery array of elements being scrutinised. (eg: r.length = Number of elements) i = index of element currently under scrutiny, within array r. a = element currently under scrutiny. Selector statement must return true to include it in its matched results. m[2] = nodeName or * that we a looking for (left of colon). m[3] = param passed into the :selector(param). Typically an index number, as in :nth-of-type(5), or a string, as in :color(blue).In jQuery 1.8 you will need to use A variation that seems to perform slightly faster and that also allows regular expressions is:Not only is this case-insensitive, but it allows powerful searches like:May be late.... but,I'd prefer to go this way..This way, you DO NOT tamper with jQuery's NATIVE '.contains'... You may need the default one later...if tampered with, you might find yourself back to stackOverFlow...The update code works great in 1.3, but "contains" should be lower case on the first letter unlike the previous example. Refer below to use ":contains" to find text ignoring its case sensitivity from an HTML code,You can also use this link to find case ignoring code based on your jquery version,

Make jQuery :contains Case-InsensitiveA faster version using regular expressions.I had a similar problem with the following not working...This works and without the need for an extensionThis works too, but probably falls into the "manually looping" category....New a variable I give it name subString and put string you want to search in some elements text. Then using Jquery selector select elements you need like my example $("elementsYouNeed") and filter by .filter(). In the .filter() it will compare each elements in $("elementsYouNeed") with the function. In the function i using .toLowerCase() for element text also subString that can avoid case sensitive condition and check if there is a subString in it. After that the .filter() method constructs a new jQuery object from a subset of the matching elements. Now you can get the match elements in matchObjects and do whatever you want. 

Is there a mechanism to loop x times in ES6 (ECMAScript 6) without mutable variables?

at.

[Is there a mechanism to loop x times in ES6 (ECMAScript 6) without mutable variables?](https://stackoverflow.com/questions/30452263/is-there-a-mechanism-to-loop-x-times-in-es6-ecmascript-6-without-mutable-varia)

The typical way to loop x times in JavaScript is:But I don't want to use the ++ operator or have any mutable variables at all. So is there a way, in ES6, to loop x times another way? I love Ruby's mechanism:Anything similar in JavaScript/ES6? I could kind of cheat and make my own generator:Of course I'm still using i++. At least it's out of sight :), but I'm hoping there's a better mechanism in ES6.

2015-05-26 07:32:28Z

The typical way to loop x times in JavaScript is:But I don't want to use the ++ operator or have any mutable variables at all. So is there a way, in ES6, to loop x times another way? I love Ruby's mechanism:Anything similar in JavaScript/ES6? I could kind of cheat and make my own generator:Of course I'm still using i++. At least it's out of sight :), but I'm hoping there's a better mechanism in ES6.OK!The code below is written using ES6 syntaxes but could just as easily be written in ES5 or even less. ES6 is not a requirement to create a "mechanism to loop x times"If you don't need the iterator in the callback, this is the most simple implementationIf you do need the iterator, you can use a named inner function with a counter parameter to iterate for youBut something should feel off about those..."Isn't there a better way ?"There is. Let's first revisit our initial implementationSure, it's simple, but notice how we just call f() and don't do anything with it. This really limits the type of function we can repeat multiple times. Even if we have the iterator available, f(i) isn't much more versatile.What if we start with a better kind of function repetition procedure ? Maybe something that makes better use of input and output.Generic function repetitionAbove, we defined a generic repeat function which takes an additional input which is used to start the repeated application of a single function.Implementing times with repeatWell this is easy now; almost all of the work is already done.Since our function takes i as an input and returns i + 1, this effectively works as our iterator which we pass to f each time.We've fixed our bullet list of issues tooJavaScript comma operator, theIn case you're having trouble seeing how the last example is working, it depends on your awareness of one of JavaScript's oldest battle axes; the comma operator – in short, it evaluates expressions from left to right and returns the value of the last evaluated expressionIn our above example, I'm usingwhich is just a succinct way of writingTail Call OptimisationAs sexy as the recursive implementations are, at this point it would be irresponsible for me to recommend them given that no JavaScript VM I can think of supports proper tail call elimination – babel used to transpile it, but it's been in "broken; will reimplement" status for well over a year.As such, we should revisit our implementation of repeat to make it stack-safe.The code below does use mutable variables n and x but note that all mutations are localized to the repeat function – no state changes (mutations) are visible from outside of the functionThis is going to have a lot of you saying "but that's not functional !" – I know, just relax. We can implement a Clojure-style loop/recur interface for constant-space looping using pure expressions; none of that while stuff.Here we abstract while away with our loop function – it looks for a special recur type to keep the loop running. When a non-recur type is encountered, the loop is finished and the result of the computation is returnedUsing the ES2015 Spread operator:Or if you don't need the result:Or using the ES2015 Array.from operator:Note that if you just need a string repeated you can use  String.prototype.repeat. I think the best solution is to use let:That will create a new (mutable) i variable for each body evaluation and assures that the i is only changed in the increment expression in that loop syntax, not from anywhere else.That should be enough imo. Even in pure languages all operations (or at least, their interpreters) are built from primitives that use mutation. As long as it is properly scoped, I cannot see what is wrong with that.You should be fine withThen your only choice is to use recursion. You can define that generator function without a mutable i as well:But that seems overkill to me and might have performance problems (as tail call elimination is not available for return yield*).This snippet will console.log test 4 times.Answer: 09 December 2015 Personally, I found the accepted answer both concise (good) and terse (bad). Appreciate this statement might be subjective, so please read this answer and see if you agree or disagreeThe example given in the question was something like Ruby's:Expressing this in JS using below would permit:Here is the code:That's it!Simple example usage:Alternatively, following the examples of the accepted answer:Side note - Defining a range functionA similar / related question, that uses fundamentally very similar code constructs, might be is there a convenient Range function in (core) JavaScript, something similar to underscore's range function.Create an array with n numbers, starting from xUnderscoreES2015Couple of alternatives:Demo using n = 10, x = 1:In a quick test I ran, with each of the above running a million times each using our solution and doStuff function, the former approach (Array(n).fill()) proved slightly faster.I think it is pretty simple:orThis version satisifies the OP's requirement for immutability. Also consider using reduce instead of map  depending on your use case.This is also an option if you don't mind a little mutation in your prototype.Now we can do this+1 to arcseldon for the .fill suggestion.Not something I would teach (or ever use in my code), but here's a codegolf-worthy solution without mutating a variable, no need for ES6:More of an interesting proof-of-concept thing than a useful answer, really.Afaik, there is no mechanism in ES6 similar to Ruby's times method. But you can avoid mutation by using recursion:Demo: http://jsbin.com/koyecovano/1/edit?js,consoleIf you're willing to use a library, there's also lodash _.times or underscore _.times:Note this returns an array of the results, so it's really more like this ruby:In the functional paradigm repeat is usually an infinite recursive function. To use it we need either lazy evaluation or continuation passing style.I use a thunk (a function without arguments) to achieve lazy evaluation in Javascript.CPS is a little scary at first. However, it always follows the same pattern: The last argument is the continuation (a function), which invokes its own body: k => k(...). Please note that CPS turns the application inside out, i.e. take(8) (repeat...) becomes k(take(8)) (...) where k is the partially applied repeat.By separating the repetition (repeat) from the termination condition (take) we gain flexibility - separation of concerns up to its bitter end :DHere is another good alternative:Advantages of this solutionDisadvantages

 - Mutation. Being internal only I don't care, maybe some others will not either.Examples and Code  TypeScipt version

https://codepen.io/whitneyland/pen/aVjaaE?editors=0011addressing the functional aspect:Generators? Recursion? Why so much hatin' on mutatin'? ;-)If it is acceptable as long as we "hide" it, then just accept the use of a unary operator and we can keep things simple:Just like in ruby:I am late to the party, but since this question turns up often in search results, I would just like to add a solution that I consider to be the best in terms of readability while not being long (which is ideal for any codebase IMO). It mutates, but I'd make that tradeoff for KISS principles.

Convert XML to JSON (and back) using Javascript

Jason Suárez

[Convert XML to JSON (and back) using Javascript](https://stackoverflow.com/questions/1773550/convert-xml-to-json-and-back-using-javascript)

How would you convert from XML to JSON and then back to XML?The following tools work quite well, but aren't completely consistent:Has anyone encountered this situation before?

2009-11-20 22:06:54Z

How would you convert from XML to JSON and then back to XML?The following tools work quite well, but aren't completely consistent:Has anyone encountered this situation before?I think this is the best one:  Converting between XML and JSONBe sure to read the accompanying article on the xml.com O'Reilly site, which goes into details of the problems with these conversions, which I think you will find enlightening.  The fact that O'Reilly is hosting the article should indicate that Stefan's solution has merit.https://github.com/abdmob/x2js - my own library (updated URL from http://code.google.com/p/x2js/):Online Demo on http://jsfiddle.net/abdmob/gkxucxrj/1/These answers helped me a lot to make this function:As long as you pass in a jquery dom/xml object: for me it was:where content was the field I was storing my xml in.A while back I wrote this tool https://bitbucket.org/surenrao/xml2json for my TV Watchlist app, hope this helps too.I would personally recommend this tool. It is an XML to JSON converter.It is very lightweight and is in pure JavaScript. It needs no dependencies. You can simply add the functions to your code and use it as you wish. It also takes the XML attributes into considerations.Here's an online demo!Disclaimer: I've written fast-xml-parserFast XML Parser can help to convert XML to JSON and vice versa. Here is the example;If you want to parse JSON or JS object into XML thenHere' a good tool from a documented and very famous npm library that does the xml <-> js conversions very well: differently from some (maybe all) of the above proposed solutions, it converts xml comments also.I was using xmlToJson just to get a single value of the xml.

I found doing the following is much easier (if the xml only occurs once..)In 6 simple ES6 lines:Test with echo "xml2json_example()" | node -r xml2json.es6 with source at https://github.com/brauliobo/biochemical-db/blob/master/lib/xml2json.es6The best way to do it using server side as client side doesn't work well in all scenarios. I was trying to build online json to xml and xml to json converter using javascript and I felt almost impossible as it was not working in all scenarios. Ultimately I ended up doing it server side using Newtonsoft in ASP.MVC. Here is the online converter http://techfunda.com/Tools/XmlToJson

What does ${} (dollar sign and curly braces) mean in a string in Javascript?

Darren Joy

[What does ${} (dollar sign and curly braces) mean in a string in Javascript?](https://stackoverflow.com/questions/35835362/what-does-dollar-sign-and-curly-braces-mean-in-a-string-in-javascript)

I haven't seen anything here or on MDN. I'm sure I'm just missing something. There's got to be some documentation on this somewhere?Functionally, it looks like it allows you to nest a variable inside a string without doing concatenation using the + operator. I'm looking for documentation on this feature.Example:

2016-03-07 02:44:30Z

I haven't seen anything here or on MDN. I'm sure I'm just missing something. There's got to be some documentation on this somewhere?Functionally, it looks like it allows you to nest a variable inside a string without doing concatenation using the + operator. I'm looking for documentation on this feature.Example:You're talking about template literals.They allow for both multiline strings and string interpolation.Multiline strings:String interpolation:As mentioned in a comment above, you can have expressions within the template strings/literals. Example:

where is create-react-app webpack config and files?

Mohammad

[where is create-react-app webpack config and files?](https://stackoverflow.com/questions/48395804/where-is-create-react-app-webpack-config-and-files)

I create a ReactJS project with the create-react-app package and that worked well, but I cannot find webpack files and configurations.How does react-create-app work with webpack? Where are the webpack configuration files located in a default installation with create-react-app? I'm unable to find configuration files in my project's folders.I have not created an override config file. I can manage config settings with other articles but I want to find the conventional config file(s).

2018-01-23 06:55:02Z

I create a ReactJS project with the create-react-app package and that worked well, but I cannot find webpack files and configurations.How does react-create-app work with webpack? Where are the webpack configuration files located in a default installation with create-react-app? I'm unable to find configuration files in my project's folders.I have not created an override config file. I can manage config settings with other articles but I want to find the conventional config file(s).If you want to find webpack files and configurations go to your package.json file and look for scripts You will find that scripts object is using a library react-scriptsNow go to node_modules and look for react-scripts folder react-script-in-node-modulesThis react-scripts/scripts and react-scripts/config folder contains all the webpack configurations.From the documentation:If you want to have access to the config files, you need to eject by running:In most scenarios, it is best not to eject and try to find a way to make it work for you in another way. That way, you can update your dependencies through create-react-app and not have to deal with Webpack dependency hell.A lot of people come to this page with the goal of finding the webpack config and files in order to add their own configuration to them. Another way to achieve this without running npm run eject is to use react-app-rewired. This allows you to overwrite your webpack config file without ejecting. Assuming you don't want to eject and you just want to look at the config you will find them in /node_modules/react-scripts/configWebpack config used by create-react-app is here:

https://github.com/facebook/create-react-app/tree/master/packages/react-scripts/configYou can find it inside the /config folder.When you eject you get a message like: Webpack configuration is being handled by react-scripts.

You can find all webpack config inside node_modules react-scripts/config.And If you want to customize webpack config, you can follow this customize-webpack-config

Set cursor position on contentEditable <div>

GONeale

[Set cursor position on contentEditable <div>](https://stackoverflow.com/questions/1181700/set-cursor-position-on-contenteditable-div)

I am after a definitive, cross-browser solution to set the cursor/caret position to the last known position when a contentEditable='on' <div> regains focus.  It appears default functionality of a content editable div is to move the caret/cursor to the beginning of the text in the div each time you click on it, which is undesirable.I believe I would have to store in a variable the current cursor position when they are leaving focus of the div, and then re-set this when they have focus inside again, but I have not been able to put together, or find a working code sample yet.If anybody has any thoughts, working code snippets or samples I'd be happy to see them.I don't really have any code yet but here is what I do have:PS. I have tried this resource but it appears it does not work for a <div>.  Perhaps only for textarea (How to move cursor to end of contenteditable entity)

2009-07-25 09:18:17Z

I am after a definitive, cross-browser solution to set the cursor/caret position to the last known position when a contentEditable='on' <div> regains focus.  It appears default functionality of a content editable div is to move the caret/cursor to the beginning of the text in the div each time you click on it, which is undesirable.I believe I would have to store in a variable the current cursor position when they are leaving focus of the div, and then re-set this when they have focus inside again, but I have not been able to put together, or find a working code sample yet.If anybody has any thoughts, working code snippets or samples I'd be happy to see them.I don't really have any code yet but here is what I do have:PS. I have tried this resource but it appears it does not work for a <div>.  Perhaps only for textarea (How to move cursor to end of contenteditable entity)This is compatible with the standards-based browsers, but will probably fail in IE. I'm providing it as a starting point. IE doesn't support DOM Range.This solution works in all major browsers:saveSelection() is attached to the onmouseup and onkeyup events of the div and saves the selection to the variable savedRange.restoreSelection() is attached to the onfocus event of the div and reselects the selection saved in savedRange.This works perfectly unless you want the selection to be restored when the user clicks the div aswell (which is a bit unintuitative as normally you expect the cursor to go where you click but code included for completeness)To achieve this the onclick and onmousedown events are canceled by the function cancelEvent() which is a cross browser function to cancel the event. The cancelEvent() function also runs the restoreSelection() function because as the click event is cancelled the div doesn't receive focus and therefore nothing is selected at all unless this functions is run.The variable isInFocus stores whether it is in focus and is changed to "false" onblur and "true" onfocus. This allows click events to be cancelled only if the div is not in focus (otherwise you would not be able to change the selection at all).If you wish to the selection to be change when the div is focused by a click, and not restore the selection onclick (and only when focus is given to the element programtically using document.getElementById("area").focus(); or similar then simply remove the onclick and onmousedown events. The onblur event and the onDivBlur() and cancelEvent() functions can also safely be removed in these circumstances.This code should work if dropped directly into the body of an html page if you want to test it quickly:UpdateI've written a cross-browser range and selection library called Rangy that incorporates an improved version of the code I posted below. You can use the selection save and restore module for this particular question, although I'd be tempted to use something like @Nico Burns's answer if you're not doing anything else with selections in your project and don't need the bulk of a library.Previous answerYou can use IERange (http://code.google.com/p/ierange/) to convert IE's TextRange into something like a DOM Range and use it in conjunction with something like eyelidlessness's starting point. Personally I would only use the algorithms from IERange that do the Range <-> TextRange conversions rather than use the whole thing. And IE's selection object doesn't have the focusNode and anchorNode properties but you should be able to just use the Range/TextRange obtained from the selection instead.I might put something together to do this, will post back here if and when I do.EDIT:I've created a demo of a script that does this. It works in everything I've tried it in so far except for a bug in Opera 9, which I haven't had time to look into yet. Browsers it works in are IE 5.5, 6 and 7, Chrome 2, Firefox 2, 3 and 3.5, and Safari 4, all on Windows.http://www.timdown.co.uk/code/selections/Note that selections may be made backwards in browsers so that the focus node is at the start of the selection and hitting the right or left cursor key will move the caret to a position relative to the start of the selection. I don't think it is possible to replicate this when restoring a selection, so the focus node is always at the end of the selection.I will write this up fully at some point soon.I had a related situation, where I specifically needed to set the cursor position to the END of a contenteditable div. I didn't want to use a full fledged library like Rangy, and many solutions were far too heavyweight. In the end, I came up with this simple jQuery function to set the carat position to the end of a contenteditable div:The theory is simple: append a span to the end of the editable, select it, and then remove the span - leaving us with a cursor at the end of the div. You could adapt this solution to insert the span wherever you want, thus putting the cursor at a specific spot.Usage is simple:That's it!I took Nico Burns's answer and made it using jQuery:You'll need jQuery 1.6 or higher:After playing around I've modified eyelidlessness' answer above and made it a jQuery plugin so you can just do one of these:Excuse the long code post, but it may help someone:You can leverage selectNodeContents which is supported by modern browsers.In Firefox you might have the text of the div in a child node (o_div.childNodes[0])               

How to extract extension from filename string in Javascript? [duplicate]

santanu

[How to extract extension from filename string in Javascript? [duplicate]](https://stackoverflow.com/questions/680929/how-to-extract-extension-from-filename-string-in-javascript)

how would i get the File extension of the file in a variable?

like if I have a file as 1.txt I need the txt part of it.

2009-03-25 10:00:20Z

how would i get the File extension of the file in a variable?

like if I have a file as 1.txt I need the txt part of it.A variant that works with all of the following inputs:would be:ExplanationUse the lastIndexOf method to find the last period in the string, and get the part of the string after that:I personally prefer to split the string by . and just return the last array element :)var fileExt = filename.split('.').pop();If there is no . in filename you get the entire string back.Examples:I would recommend using lastIndexOf() as opposed to indexOf()Better to use the following; Works always!This will return the extension without a dot prefix. You can add "." + ext to check against the extensions you wish to support!note 1: this will not work if the filename is of the form file.example.txt

note 2: this will fail if the filename is of the form fileThis is the solution if your file has more . (dots) in the name.Try this. May solve your problem.RegardsI use code below:get the value in the variable & then separate its extension just like this.This will help you.

Check if event is triggered by a human

Dziamid

[Check if event is triggered by a human](https://stackoverflow.com/questions/6692031/check-if-event-is-triggered-by-a-human)

I have a handler attached to an event and I would like it to execute only if it is triggered by a human, and not by a trigger() method. How do I tell the difference?For example,

2011-07-14 10:50:43Z

I have a handler attached to an event and I would like it to execute only if it is triggered by a human, and not by a trigger() method. How do I tell the difference?For example,You can check e.originalEvent: if it's defined the click is human:Look at the fiddle http://jsfiddle.net/Uf8Wv/my example in the fiddle:More straight forward than above would be: I think that the only way to do this would be to pass in an additional parameter on the trigger call as per the documentation.Example: http://jsfiddle.net/wG2KY/Accepted answer didn't work for me. It's been 6 years and jQuery has changed a lot since then.For example event.originalEvent returns always true with jQuery 1.9.x. I mean object always exists but content is different.Those who use newer versions of jQuery can try this one. Works on Chrome, Edge, IE, Opera, FFCurrently most of browsers support event.isTrusted:From docs:You can use onmousedown to detect mouse click vs trigger() call.I would think about a possibility where you check the mouse position, like: Incase you have control of all your code, no alien calls $(input).focus() than setFocus().Use a global variable is a correct way for me.If some alien still want to call $(input).focus() from another planet.

Good luck or check other answers

typescript: error TS2693: 'Promise' only refers to a type, but is being used as a value here

kalyanvgopal

[typescript: error TS2693: 'Promise' only refers to a type, but is being used as a value here](https://stackoverflow.com/questions/43119163/typescript-error-ts2693-promise-only-refers-to-a-type-but-is-being-used-as)

I am trying to use Typescript for my AWS Lambda and i am getting the following errors where ever I use promises.I tried using the following variations in the code Using the Promise constructorusing Promise.rejectFollowing are the versions in my dev dependencies:I am using grunt-ts with the following configuration for running ts task.I tried with the solution mentioned in I get: [ts] 'Promise' only refers to a type, but is being used as a value here but no luck.

2017-03-30 13:22:01Z

I am trying to use Typescript for my AWS Lambda and i am getting the following errors where ever I use promises.I tried using the following variations in the code Using the Promise constructorusing Promise.rejectFollowing are the versions in my dev dependencies:I am using grunt-ts with the following configuration for running ts task.I tried with the solution mentioned in I get: [ts] 'Promise' only refers to a type, but is being used as a value here but no luck.I had the same issue with the aws-sdk and I solved it by using "target": "es2015". This is my tsconfig.json file.Encounter the same error today and solved it with:Update:add:I solved this by adding below code to tsconfig.json file.Solved by changing the target in compilerOptions.Here is my tip. Tested with vscode 1.21.1 (on MAC)Put below config to tsconfig.jsoninto 

compilerOptionsRestart IDE (this action is required :D )I had this error but I resolved it by using this command, my ts file name is promises-fs.ts:and the error is goneAdd below line to file where error is being thrown.This should fix the issueP.S: This is definitely not the optimal solutionFinally tsc started working without any errors. But multiple changes. Thanks to Sandro Keil, Pointy & unionaltsconfig.jsonGruntfile.jsHad the same issue with typescript and the aws-sdk. The solve was to change the target to es6.My complete tsconfig.json file:I had the same issue until I added the following lib array in typeScript 3.0.1tsconfig.jsonWell, this might be counter-intuitive but I solved this adding esnext to my lib. The FIX, as suggested by the compiler is toCore-js did not work for me as it caused other issues, however, simply installing the latest version of npm i @types/es6-promise --save-dev got rid of the issues. The issues for me stemmed from compiling an sdk that was using rxjs. Here is the error I was getting:None of the up-voted answers here work for me. Here is a guaranteed and reasonable solution. Put this near the top of any code file that uses Promise...If you're using the DefinitelyTyped repository in your project you might be experiencing this recent issue.A decent workaround you might use (other than waiting for an updated build of the definitions file or refactoring your TS code) is to specify an explicit version+build for the core-js typings rather than let Visual Studio pick the latest/most recent one. I found one that seems to be unaffected by this problem (in my case at least), you can use it replacing the following line from your package.json file:With the following one:This fixed my issue for good. However, is highly recommended to remove the explicit version+build reference as soon as the issue will be released.For further info regarding this issue, you can also read this blog post that I wrote on the topic.I had the same problem and this saved me from the problem in second:write in console this:in the file where the problem is copy paste this:Just change the target to "ES2017" in tsconfig.json file.this is my tsconfig.json filenpm i --save-dev  @types/es6-promiseafter up command, you'd better check tsconfig.json make sure the "target" must great than "es6". maybe tsc not support es5 yet.Having spent lot of time trying to fix this. I had no luck with any solution provide here or elsewhere.But then later realised it wasn't so much as just solving the issue. But you also need to RESTART the VSCODE for it to take affect.I had the same error and I fixed it with this configuration:File: tsconfig.jsonPlease be aware that if you are running the tsc command with a file name ie:then the tsconfig.json compiler configuration file is ignored.

The solution is to run either the tsc command on its own, in which case all .ts files in the directory will be compiled, unless you have edited the tsconfig.json to include a set of files.see 'using the files property'...

https://www.typescriptlang.org/docs/handbook/tsconfig-json.htmlThe same error here. I fixed this, using "module": "ES6" in tsconfig.

Asynchronously load images with jQuery

Arief

[Asynchronously load images with jQuery](https://stackoverflow.com/questions/4285042/asynchronously-load-images-with-jquery)

I want to load external images on my page asynchronously using jQuery and I have tried the following:But it always returns error, is it even possible to load image like this?I tried to use .load method and it works but I have no idea how I can set timeout if the image is not available (404). How can I do this?

2010-11-26 11:51:26Z

I want to load external images on my page asynchronously using jQuery and I have tried the following:But it always returns error, is it even possible to load image like this?I tried to use .load method and it works but I have no idea how I can set timeout if the image is not available (404). How can I do this?No need for ajax. You can create a new image element, set its source attribute and place it somewhere in the document once it has finished loading:IF YOU REALLY NEED TO USE AJAX...I came accross usecases where the onload handlers were not the right choice. In my case when printing via javascript. So there are actually two options to use AJAX style for this:Solution 1Use Base64 image data and a REST image service. If you have your own webservice, you can add a JSP/PHP REST script that offers images in Base64 encoding. Now how is that useful? I came across a cool new syntax for image encoding: So you can load the Image Base64 data using Ajax and then on completion you build the Base64 data string to the image! Great fun :). I recommend to use this site http://www.freeformatter.com/base64-encoder.html for image encoding.Solution2: Trick the browser to use its cache. This gives you a nice fadeIn() when the resource is in the browsers cache:However, both methods have its drawbacks: The first one only works on modern browsers. The second one has performance glitches and relies on assumption how the cache will be used.cheers,

willUsing jQuery you may simply change the "src" attribute to "data-src". The image won't be loaded. But the location is stored with the tag. Which I like.A Simple piece of jQuery copies data-src to src, which will start loading the image when you need it. In my case when the page has finished loading.I bet the jQuery code could be abbreviated, but it is understandable this way.Should be better than ajax because if its a gallery and you are looping through a list of pics, if the image is already in cache, it wont send another request to server. It will request in the case of jQuery/ajax and return a HTTP 304 (Not modified) and then use original image from cache if its already there. The above method reduces an empty request to server after the first loop of images in the gallery.You can use a Deferred objects for ASYNC loading.Please pay attention: image.onload must be before image.src to prevent problems with cache.If you just want to set the source of the image you can use this.This works too ..AFAIK you would have to do a .load() function here as apposed to the .ajax(), but you could use jQuery setTimeout to keep it live (ish)use .load to load your image.  to test if you get an error ( let's say 404 ) you can do the following:careful - .error() event will not trigger when the src attribute is empty for an image. $(function () {

How can I create an Asynchronous function in Javascript?

markzzz

[How can I create an Asynchronous function in Javascript?](https://stackoverflow.com/questions/9516900/how-can-i-create-an-asynchronous-function-in-javascript)

Check out this code :As you can see in the console, the "animate" function is asynchronous, and it "fork"s the flow of the event handler block code. In fact :follow the flow of the block code!If I wish to create my function asyncFunct() { } with this behaviour, how can I do it with javascript/jquery? I think there is a strategy without the use of  setTimeout()

    ​

2012-03-01 13:16:47Z

Check out this code :As you can see in the console, the "animate" function is asynchronous, and it "fork"s the flow of the event handler block code. In fact :follow the flow of the block code!If I wish to create my function asyncFunct() { } with this behaviour, how can I do it with javascript/jquery? I think there is a strategy without the use of  setTimeout()

    ​You cannot make a truly custom asynchronous function. You'll eventually have to leverage on a technology provided natively, such as:In fact, for the animation jQuery uses setInterval.You can use a timer:(where yourFn is a reference to your function)or, with Lodash:here you have simple solution (other write about it)

http://www.benlesh.com/2012/05/calling-javascript-function.htmlAnd here you have above ready solution:TEST 1 (may output '1 x 2 3' or '1 2 x 3' or '1 2 3 x'):TEST 2 (will always output 'x 1'):This function is executed with timeout 0 - it will simulate asynchronous taskHere is a function that takes in another function and outputs a version that runs async.It is used as a simple way to make an async function:This is different from @fider's answer because the function itself has its own structure (no callback added on, it's already in the function) and also because it creates a new function that can be used.Edit: I totally misunderstood the question. In the browser, I would use setTimeout. If it was important that it ran in another thread, I would use Web Workers.Late, but to show an easy solution using promises after their introduction in ES6, it handles asynchronous calls a lot easier:You set the asynchronous code in a new promise:Note to set resolve() when async call finishes.

Then you add the code that you want to run after async call finishes inside .then() of the promise:Here is a snippet of it:

or JSFiddleThis page walks you through the basics of creating an async javascript function.Since ES2017, asynchronous javacript functions are much easier to write.  You should also read more on Promises.If you want to use Parameters and regulate the maximum number of async functions you can use a simple async worker I've build:You can use it like this:Although not fundamentally different than the other solutions, I think my solution does a few additional nice things:Also, the similarity to the built-in function Function.prototype.apply seems appropriate to me. Next to the great answer by @pimvdb, and just in case you where wondering, async.js does not offer truly asynchronous functions either. Here is a (very) stripped down version of the library's main method:So the function protects from errors and gracefully hands it to the callback to handle, but the code is as synchronous as any other JS function.Unfortunately, JavaScript doesn't provide an async functionality. It works only in a single one thread. But the most of the modern browsers provide Workers, that are second scripts which gets executed in background and can return a result.

So, I reached a solution I think it's useful to asynchronously run a function, which creates a worker for each async call.The code below contains the function async to call in background.This is an example for usage:This executes a function which iterate a for with a huge number to take time as demonstration of asynchronicity, and then gets the double of the passed number.

The async method provides a function which calls the wanted function in background, and in that which is provided as parameter of async callbacks the return in its unique parameter.

So in the callback function I alert the result.MDN has a good example on the use of setTimeout preserving "this".Like the following:

Rendering HTML inside textarea

The Coding Monk

[Rendering HTML inside textarea](https://stackoverflow.com/questions/4705848/rendering-html-inside-textarea)

I need to be able to render some HTML tags inside a textarea (namely <strong>, <i>, <u>, <a>) but textareas only interpret their content as text. Is there an easy way of doing it without relying on external libraries/plugins (I'm using jQuery)?

If not, do you know of any jQuery plugin I could use to do this?

2011-01-16 14:23:25Z

I need to be able to render some HTML tags inside a textarea (namely <strong>, <i>, <u>, <a>) but textareas only interpret their content as text. Is there an easy way of doing it without relying on external libraries/plugins (I'm using jQuery)?

If not, do you know of any jQuery plugin I could use to do this?This is not possible to do with a textarea. What you are looking for is an content editable div, which is very easily done:jsFiddleWith an editable div you can use the method document.execCommand (more details) to easily provide the support for  the tags you specified and for some other functionality..Since you only said render, yes you can. You could do something along the lines of this:

An addendum to this. You can use character entities (such as changing <div> to &lt;div&gt;) and it will render in the textarea. But when it is saved, the value of the textarea is the text as rendered. So you don't need to de-encode. I just tested this across browsers (ie back to 11).I have the same problem but in reverse, and the following solution. I want to put html from a div in a textarea (so I can edit some reactions on my website; I want to have the textarea in the same location.)To put the content of this div in a textarea I use:try this example This is possible with <textarea>

the only thing you need to do is use 

Summernote WYSIWYG editorit interprets HTML tags inside a textarea (namely <strong>, <i>, <u>, <a>) 

How do I change the background color with JavaScript?

Anders

[How do I change the background color with JavaScript?](https://stackoverflow.com/questions/197748/how-do-i-change-the-background-color-with-javascript)

Anyone know a simple method to swap the background color of a webpage using JavaScript?

2008-10-13 14:23:39Z

Anyone know a simple method to swap the background color of a webpage using JavaScript?Modify the JavaScript property document.body.style.background.For example:Note: this does depend a bit on how your page is put together, for example if you're using a DIV container with a different background colour you will need to modify the background colour of that instead of the document body.You don't need AJAX for this, just some plain java script setting the background-color property of the body element, like this:If you want to do it as if it was initiated by the server, you would have to poll the server and then change the color accordingly.I agree with the previous poster that changing the color by className is a prettier approach. My argument however is that a className can be regarded as a definition of "why you want the background to be this or that color." For instance, making it red is not just because you want it red, but because you'd want to inform users of an error. As such, setting the className AnErrorHasOccured on the body would be my preferred implementation.In cssIn JavaScript:This leaves you the options of styling more elements according to this className. And as such, by setting a className you kind of give the page a certain state.AJAX is getting data from the server using Javascript and XML in an asynchronous fashion. Unless you want to download the colour code from the server, that's not what you're really aiming for!But otherwise you can set the CSS background with Javascript. If you're using a framework like jQuery, it'll be something like this:Otherwise, this should work:You can do it in following ways

STEP 1 For changing background of BODYTo change an element with IDfor elements with same classI wouldn't really class this as "AJAX". Anyway, something like following should do the trick: Css approach:If you want to see continuous colour, use this code:If you want to see it faster or slower, change 10 second to 5 second etc.You can change background of a page by simply using:However the below script will change the background of the page after every 3 seconds using setTimeout() function:READ MOREDEMOI would prefer to see the use of a css class here. It avoids having hard to read colors / hex codes in javascript.This will change the background color according to the choice of user selected from the drop-down menu:Add this script element to your body element, changing the color as desired:But you would want to configure the body color before the <body> element exists. That way it has the right color from the get go.This you can put in the <head> of the document or in your js file.Here is a nice color to play with.I would suggest the following code:if you wish to use a button or some other event, just use this in JS:You can change background of a page by simply using:Read more @ Changing the Background ColorAlternatively, if you wish to specify the background color value in rgb notation then trywhere a,b,c are the color valuesExample:This is simple coding for changing background using javascript

Placeholder in IE9

chriscatfr

[Placeholder in IE9](https://stackoverflow.com/questions/6366021/placeholder-in-ie9)

It seems it's a very well known problem but all the solutions I found on Google don't work on my newly downloaded IE9.Which is your favorite way in order to enable the Placeholder property on the input and textarea tags?Optional: I lost a lot of time on that and didn't look for the required property yet. Would you also have some advice for this? Obviously I can check the value in PHP, but to help the user this property is very convenient.

2011-06-16 00:53:05Z

It seems it's a very well known problem but all the solutions I found on Google don't work on my newly downloaded IE9.Which is your favorite way in order to enable the Placeholder property on the input and textarea tags?Optional: I lost a lot of time on that and didn't look for the required property yet. Would you also have some advice for this? Obviously I can check the value in PHP, but to help the user this property is very convenient.HTML5 Placeholder jQuery Plugin

- by Mathias Bynens (a collaborator on HTML5 Boilerplate and jsPerf)https://github.com/mathiasbynens/jquery-placeholderDemo & Exampleshttp://mathiasbynens.be/demo/placeholderp.s

I have used this plugin many times and it works a treat. Also it doesn't submit the placeholder text as a value when you submit your form (... a real pain I found with other plugins).I think this is what you are looking for: jquery-html5-placeholder-fixThis solution uses feature detection (via modernizr) to determine if placeholder is supported. If not, adds support (via jQuery).If you want to do it without using jquery or modenizer you can use the code below:For each text field you want to use it for you need to run placeHolder(HTMLInputElement), but I guess you can just change that to suit!  Also, doing it this way, rather than just on load means that you can make it work for inputs which aren't in the DOM when the page loads. Note, that this works by applying the class: usingPlaceHolder to the input element, so you can use this to style it (e.g. add the rule .usingPlaceHolder { color: #999; font-style: italic; } to make it look better).Here is a much better solution. 

http://bavotasan.com/2011/html5-placeholder-jquery-fix/

I've adopted it a bit to work only with browsers under IE10If you want to input a description you can use this.  This works on IE 9 and all other browsers.Using mordernizr to detect browsers that are not supporting Placeholder, I created this short code to fix them. I know I'm late but I found a solution inserting in the head the tag:to make it work in IE-9 use below .it works for meJQuery need to include:CSS Style need to include:A bit late to the party but I use my tried and trusted JS that takes advantage of Modernizr. Can be copy/pasted and applied to any project. Works every time:I usually think fairly highly of http://cdnjs.com/ and they are listing://cdnjs.cloudflare.com/ajax/libs/placeholder-shiv/0.2/placeholder-shiv.jsNot sure who's code that is but it looks straightforward:I searched on the internet and found a simple jquery code to handle this problem. In my side, it was  solved and worked on ie 9.

JavaScript loop through json array?

Alosyius

[JavaScript loop through json array?](https://stackoverflow.com/questions/18238173/javascript-loop-through-json-array)

I am trying to loop through the following json array:And have tried the followingBut for some reason i am only getting the first part, id 1 values.Any ideas?

2013-08-14 17:18:23Z

I am trying to loop through the following json array:And have tried the followingBut for some reason i am only getting the first part, id 1 values.Any ideas?Your JSON should look like this:You can loop over the Array   like this:Or like this (suggested from Eric) be careful with IE supportThere's a few problems in your code, first your json must look like :Next, you can iterate like this :And it gives perfect result.See the fiddle here : http://jsfiddle.net/zrSmp/forEach method for easy implementation.Since i already started looking into it:And this function You can call it like thisAs eric pointed out a for in loop for an array can have unexpected results. The referenced question has a lengthy discussion about pros and cons. But it seems that the follwing is quite save:Although a test in chrome had the following resultAt least in chrome 30 this works as expectedIt is working. I just added square brackets to JSON data. The data is:And the loop is:try this It must be an array if you want to iterate over it. You're very likely missing [ and ].Check out this jsfiddle: http://jsfiddle.net/lpiepiora/kN7yZ/A bit late but i hope i may help others :Dyour json needs to look like something Niklas already said. And then here you go:if you have an Multidimensional array, this is your code: Well, all I can see there is that you have two JSON objects, seperated by a comma. If both of them were inside an array ([...]) it would make more sense.And, if they ARE inside of an array, then you would just be using the standard "for var i = 0..." type of loop. As it is, I think it's going to try to retrieve the "id" property of the string "1", then "id" of "hi", and so on.A short solution using map and an arrow functionAnd to cover the cases when the property "id" is not present use filter:

Set「this」variable easily?

ForYourOwnGood

[Set「this」variable easily?](https://stackoverflow.com/questions/456967/set-this-variable-easily)

I have a pretty good understanding of Javascript, except that I can't figure out a nice way to set the "this" variable.  Consider:Is there a way to do this without the last 4 lines?  It's rather annoying...  I've tried   binding an anonymous function, which I thought was beautiful and clever, but to no avail:Obviously, passing the variable into myFunction is an option... but that's not the point of this question.Thanks.

2009-01-19 09:09:08Z

I have a pretty good understanding of Javascript, except that I can't figure out a nice way to set the "this" variable.  Consider:Is there a way to do this without the last 4 lines?  It's rather annoying...  I've tried   binding an anonymous function, which I thought was beautiful and clever, but to no avail:Obviously, passing the variable into myFunction is an option... but that's not the point of this question.Thanks.There are two methods defined for all functions in JavaScript, call(), and apply(). The function syntax looks like:What these functions do is call the function they were invoked on, assigning the value of the object parameter to this.I think you're looking for call:This calls myFunction with this set to obj.There is also the slightly different method apply, which takes the function parameters as an array:If you want to 'store' the this value to a function so that you can call it seamlessly later (e.g. when you don't have access to that value anymore), you can bind it (not available in all browsers though):My search on how to bind this brought me here so I am posting my findings: In 'ECMAScript 2015' we can also set this lexically using arrow functions to.See: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functionsInstead of:We can now do:Javascript has 3 built in methods for setting the this keyword conveniently. They are all located on the Function.prototype object so every function can use them (since every function inherits from this prototype via prototypal inheritance). These functions are the following:

How to filter by object property in angularJS

sh3nan1gans

[How to filter by object property in angularJS](https://stackoverflow.com/questions/17793751/how-to-filter-by-object-property-in-angularjs)

I am trying to create a custom filter in AngularJS that will filter a list of objects by the values of a specific property. In this case, I want to filter by the "polarity" property(possible values of "Positive", "Neutral", "Negative"). Here is my working code without the filter:HTML:    Here is the "$scope.tweets" array in JSON format:The best filter I could come up with as follows:This method returns an empty array. And nothing is printed from the "console.log(polarity)" statement. It seems like I am not inserting the correct parameters to access the object property of "polarity." Any ideas? Your response is greatly appreciated.

2013-07-22 17:29:51Z

I am trying to create a custom filter in AngularJS that will filter a list of objects by the values of a specific property. In this case, I want to filter by the "polarity" property(possible values of "Positive", "Neutral", "Negative"). Here is my working code without the filter:HTML:    Here is the "$scope.tweets" array in JSON format:The best filter I could come up with as follows:This method returns an empty array. And nothing is printed from the "console.log(polarity)" statement. It seems like I am not inserting the correct parameters to access the object property of "polarity." Any ideas? Your response is greatly appreciated.You simply have to use the filter filter (see the documentation) :FiddleThe documentation has the complete answer. Anyway this is how it is done:will filter only age in data array and true is for exact match.For deep filtering, The $ is a special property for deep filter and the true is for exact match like above.You could also do this to make it more dynamic.Then you ng-repeat will look like thisThis filter will of course only be used to filter by polarityWe have Collection as below: 

Syntax: Example: -OR-Syntax:  Example: You can try this. its working for me 'name' is a property in arr.

Check if an element's content is overflowing?

Harry

[Check if an element's content is overflowing?](https://stackoverflow.com/questions/9333379/check-if-an-elements-content-is-overflowing)

What's the easiest way to detect if an element has been overflowed?My use case is, I want to limit a certain content box to have a height of 300px. If the inner content is taller than that, I cut it off with an overflow. But if it is overflowed I want to show a 'more' button, but if not I don't want to show that button.Is there an easy way to detect overflow, or is there a better method?

2012-02-17 18:22:03Z

What's the easiest way to detect if an element has been overflowed?My use case is, I want to limit a certain content box to have a height of 300px. If the inner content is taller than that, I cut it off with an overflow. But if it is overflowed I want to show a 'more' button, but if not I don't want to show that button.Is there an easy way to detect overflow, or is there a better method?If you want to show only an identifier for more content, then you can do this with pure CSS. I use pure scrolling shadows for this. The trick is the use of background-attachment: local;. Your css looks like this:The code and the example you can find on http://dabblet.com/gist/2462915And an explanation you can find here: http://lea.verou.me/2012/04/background-attachment-local/.The element may be overflown vertically, horizontally or both. This function will return you a boolean value if the DOM element is overflown:ES6 example:Comparing element.scrollHeight to element.clientHeight should do the task.Below are the images from MDN explaining Element.scrollHeight and Element.clientHeight.I made a multipart codepen demonstrating the above answers ( e.g. using overflow hidden and height) but also how you would expand / collapse overflowed itemsExample 1: https://codepen.io/Kagerjay/pen/rraKLB ( Real simple example, no javascript, just to clip overflowed items)Example 2: https://codepen.io/Kagerjay/pen/LBErJL (Single event handler show more / showless on overflowed items)Example 3: https://codepen.io/Kagerjay/pen/MBYBoJ (Multi event handler on many show more/ show less on overflowed items)I have attached example 3 below as well, I use Jade/Pug so it might be a tad verbose. I suggest checking out the codepens I've made its simpler to grasp.Would something like this: http://jsfiddle.net/Skooljester/jWRRA/1/ work? It just checks the height of the content and compares it to the height of the container. If it's greater than you can put in the code to append a "Show more" button.Update: Added the code to create a "Show More" button at the top of the container.If you are using jQuery, you might try a trick: make outer div with overflow: hiddenand inner div with content. Then use .height() function to check if height of the inner div is greater than the height of the outer div. I'm not sure it will work but give it a try.use js to check if the child's offsetHeight is more than the parents.. if it is,make the parents overflow scroll/hidden/auto whichever you want and also display:block on the more div.. Another issue you should consider is a JS unavailability. Think about progressive enchantment or graceful degradation. I would suggest:Here is a fiddle for determining whether an element has been overflowed using a wrapper div with overflow:hidden and JQuery height() to measure the difference between the wrapper and an inner content div.Source: Frameworks & Extensions on jsfiddle.netThis is the jQuery solution that worked for me. clientWidth etc. didn't work.If this doesn't work, ensure that elements' parent has the desired width (personally, I had to use parent().parent()). position is relative to the parent. I've also included extra_width because my elements ("tags") contain images which take small time to load, but during the function call they have zero width, spoiling the calculation. To get around that, I use the following calling code:Hope this helps.You can check the bounds relative to the offset parent.If you pass this an element it will tell you whether its bounds are entirely inside a container, and will default to the element's offset parent if no explicit container is provided.  It usesThis was worked for me. Thank you.The jquery alternative to the answer is to use the [0] key to access the raw element such as this:I've extended Element for encapsulation reasons. From micnic answer.Use it like this

Return positions of a regex match() in Javascript?

stagas

[Return positions of a regex match() in Javascript?](https://stackoverflow.com/questions/2295657/return-positions-of-a-regex-match-in-javascript)

Is there a way to retrieve the (starting) character positions inside a string of the results of a regex match() in Javascript?

2010-02-19 10:45:24Z

Is there a way to retrieve the (starting) character positions inside a string of the results of a regex match() in Javascript?exec returns an object with a index property:And for multiple matches:Here's what I came up with:From developer.mozilla.org docs on the String .match() method:When dealing with a non-global regex (i.e., no g flag on your regex), the value returned by .match() has an index property...all you have to do is access it.Here is an example showing it working as well:I have successfully tested this all the way back to IE5.You can use the search method of the String object. This will only work for the first match, but will otherwise do what you describe. For example:Here is a cool feature I discovered recently, I tried this on the console and it seems to work:Which returned: "border 6 bottom 13 left 18 radius"So this seems to be what you are looking for. This member fn returns an array of 0-based positions, if any, of the input word inside the String objectNow tryYou can also input regular expressions:Here one gets the position index of linear term.or

Capture key press (or keydown) event on DIV element

Lalchand

[Capture key press (or keydown) event on DIV element](https://stackoverflow.com/questions/3149362/capture-key-press-or-keydown-event-on-div-element)

How do you trap the keypress or key down event on a DIV element (using jQuery)?What is required to give the DIV element focus?

2010-06-30 12:48:27Z

How do you trap the keypress or key down event on a DIV element (using jQuery)?What is required to give the DIV element focus?(1) Set the tabindex attribute:(2) Bind to keydown:To set the focus on start:To remove - if you don't like it - the div focus border, set outline: none in the CSS.See the table of keycodes for more keyCode possibilities.All of the code assuming you use jQuery.tabindex HTML attribute indicates if its element can be focused, and if/where it participates in sequential keyboard navigation (usually with the Tab key). Read MDN Web Docs for full reference.Here example on plain JS:

Using Razor, how do I render a Boolean to a JavaScript variable?

Nikos

[Using Razor, how do I render a Boolean to a JavaScript variable?](https://stackoverflow.com/questions/14448604/using-razor-how-do-i-render-a-boolean-to-a-javascript-variable)

How do I render a Boolean to a JavaScript variable in a cshtml file?Presently this shows a syntax error:

2013-01-21 22:46:57Z

How do I render a Boolean to a JavaScript variable in a cshtml file?Presently this shows a syntax error:You may also want to try:and an ever better way is to use:The JSON boolean must be lowercase. Therefore, try this (and make sure nto to have the // comment on the line):Or (note: you need to use the namespace System.Xml):Because a search brought me here: in ASP.NET Core, IJsonHelper doesn't have an Encode() method.  Instead, use Serialize(). E.g.:Why True and not true you ask... Good question:

Why does Boolean.ToString output "True" and not "true"Here's another option to consider, using the !! conversion to boolean.This will generate the following on the client side, with 1 being converted to true and 0 to false.A solution which is easier to read would be to do this:

How to hide code from cells in ipython notebook visualized with nbviewer?

lucacerone

[How to hide code from cells in ipython notebook visualized with nbviewer?](https://stackoverflow.com/questions/27934885/how-to-hide-code-from-cells-in-ipython-notebook-visualized-with-nbviewer)

I have an ipython/jupyter notebook that I visualize using NBviewer.How can I hide all the code from the notebook rendered by NBviewer, so that only the output of code (e.g. plots and tables) and the markdown cells are shown?

2015-01-14 02:25:06Z

I have an ipython/jupyter notebook that I visualize using NBviewer.How can I hide all the code from the notebook rendered by NBviewer, so that only the output of code (e.g. plots and tables) and the markdown cells are shown?This is now possible directly from nbconvert as of version 5.2.1: content can be filtered using the built-in template exporter exclude options. For example:will exclude the "input code" cells, ie the code itself. Similar options exist to exclude prompts, markdown cells, or outputs, or both inputs and outputs.(These options should work irrespective of output format.)I would use hide_input_all from nbextensions (https://github.com/ipython-contrib/IPython-notebook-extensions). Here's how:IPython Notebook will now have a button to toggle code cells, no matter the workbook.The newest IPython notebook version do not allow executing javascript in markdown cells anymore, so adding a new markdown cell with the following javascript code will not work anymore to hide your code cells (refer to this link)Change ~/.ipython/profile_default/static/custom/custom.js as below:I wrote some code that accomplishes this, and adds a button to toggle visibility of code.The following goes in a code cell at the top of a notebook:You can see an example of how this looks in NBviewer here.Update: This will have some funny behavior with Markdown cells in Jupyter, but it works fine in the HTML export version of the notebook.There is a nice solution provided 

here that works well for notebooks exported to HTML. The website even links back here to this SO post, but I don't see Chris's solution here! (Chris, where are you at?) This is basically the same solution as the accepted answer from harshil, but it has the advantage of hiding the toggle code itself in the exported HTML. I also like that this approach avoids the need for the IPython HTML function. To implement this solution, add the following code to a 'Raw NBConvert' cell at the top of your notebook:Then simply export the notebook to HTML. There will be a toggle button at the top of the notebook to show or hide the code. Chris also provides an example here.I can verify that this works in Jupyter 5.0.0Update:

It is also convenient to show/hide the div.prompt elements along with the div.input elements. This removes the In [##]: and Out: [##] text and reduces the margins on the left.This can be done using an IPython ToggleButton widget and a little bit of JavaScript. The following code should be placed into a code cell at the top of the document:This creates the following button to toggle showing/hiding the code for the Jupyter Notebook, defaulted to the "hide" state:When set to the "show" state, you can then see the code for the Jupyter Notebook:As an aside, while much of this code should be placed at the beginning of the Notebook, the location of the toggle button is optional. Personally, I prefer to keep it at the bottom of the document. To do so, simply move the display(button) line to a separate code cell at the bottom of the page:For better display with printed document or a report, we need to remove the button as well, and the ability to show or hide certain code blocks. Here's what I use (simply copy-paste this to your first cell):Then in your next cells:andThis will render an IPython notebook output. However, you will note be able to view the input code. You can copy a notebook, then add this code if needed to share with someone who does not need to view the code. Convert cell to Markdown and use HTML5 <details> tag as in the example by joyrexus:https://gist.github.com/joyrexus/16041f2426450e73f5df9391f7f7ae5fHere is another solution suggested by p3trus:As described by p3trus:

"[It] adds a button to the ipython notebook toolbar to hide/show the input code cell. To use it, you have to put the custom.js file in your .ipython_<profile name>/static/custom/ folder, where  is the ipython profile in use."My own comments: I verified this solution and it works with iPython 3.1.0.The accepted solution also works in julia Jupyter/IJulia with the following modifications:note in particular:(Paper) Printing or Saving as HTMLFor those of you wishing to print to paper the outputs the above answers alone seem not to give a nice final output. However, taking @Max Masnick's code and adding the following allows one to print it on a full A4 page.The reason for the indent is that the prompt section removed by Max Masnick means everything shifts to the left on output. This however did nothing for the maximum width of the output which was restricted to max-width:100%-14ex;. This changes the max width of the output_subarea to max-width:100%;.With all the solutions above even though you're hiding the code, you'll still get the [<matplotlib.lines.Line2D at 0x128514278>] crap above your figure which you probably don't want.If you actually want to get rid of the input rather than just hiding it, I think

 the cleanest solution is to save your figures to disk in hidden cells, and then just including the images in Markdown cells using e.g. ![Caption](figure1.png). Here is a nice article (the same one @Ken posted) on how to polish up Jpuyter (the new IPython) notebooks for presentation. There are countless ways to extend Jupyter using JS, HTML, and CSS, including the ability to communicate with the notebook's python kernel from javascript. There are magic decorators for %%HTML and %%javascript so you can just do something like this in a cell by itself:I can also vouch Chris's methods work in jupyter 4.X.X.

What's the difference between Require.js and simply creating a <script> element in the DOM? [closed]

maxedison

[What's the difference between Require.js and simply creating a <script> element in the DOM? [closed]](https://stackoverflow.com/questions/4915201/whats-the-difference-between-require-js-and-simply-creating-a-script-element)

What's the difference between using Require.JS amd simply creating a <script> element in the DOM?My understanding of Require.JS is that it offers the ability to load dependencies, but can this not simply be done by creating a <script> element that loads the necessary external JS file?For example, lets assume I have the function doStuff(), which requires the function needMe(). doStuff() is in the external file do_stuff.js, while needMe() is in the external file need_me.js.Doing this the Require.JS way:Doing this by simply creating a script element:Both of these work. However, the second version doesn't require me to load all of the Require.js library. I don't really see any functional difference...

2011-02-06 18:22:27Z

What's the difference between using Require.JS amd simply creating a <script> element in the DOM?My understanding of Require.JS is that it offers the ability to load dependencies, but can this not simply be done by creating a <script> element that loads the necessary external JS file?For example, lets assume I have the function doStuff(), which requires the function needMe(). doStuff() is in the external file do_stuff.js, while needMe() is in the external file need_me.js.Doing this the Require.JS way:Doing this by simply creating a script element:Both of these work. However, the second version doesn't require me to load all of the Require.js library. I don't really see any functional difference...Here is the nice article on ajaxian.com as to why use it:RequireJS: Asynchronous JavaScript loadingIn your example, you're creating the script tag asynchronously, which means your needMe() function would be invoked before the need_me.js file finishes loading. This results in uncaught exceptions where your function is not defined.Instead, to make what you're suggesting actually work, you'd need to do something like this:Arguably, it may or may not be best to use a package manager such as RequireJS or to utilize a pure-JavaScript strategy as demonstrated above.  While your Web application may load faster, invoking functionality and features on the site would be slower since it would involve waiting for resources to load before that action could be performed.If a Web application is built as a single-page app, then consider that people won't actually be reloading the page very often. In these cases, preloading everything would help make the experience seem faster when actually using the app. In these cases, you're right, one can merely load all resources simply by including the script tags in the head or body of the page.However, if building a website or a Web application that follows the more traditional model where one transitions from page to page, causing resources to be reloaded, a lazy-loading approach may help speed up these transitions.Some other very pointed reasons why using RequireJS makes sense:Taken from rmurphey's comments here in this Gist.Layers of abstraction can be a nightmare to learn and adjust to, but when it serves a purpose and does it well, it just makes sense.Here's a more concrete example.I'm working in a project with 60 files. We have 2 different modes of running it.We're using a loader so we just have one script in the webpage That defaults to mode#1 (loading the one large concatenated file). To run the in mode#2 (separate files) we set some flag. It could be anything. A key in the query string. In this example we just do thisloader.js looks something like thisThe build script is just an .sh file that looks like thisetc...If a new file is added we'll likely be using mode#2 since we're doing development we have to add an injectScript("somenewfile.js") line to loader.jsThen later for production we also have to add somenewfile.js to our build script. A step we often forget and then get error messages.By switching to AMD we don't have to edit 2 files. The problem of keeping loader.js and the build script in sync goes away. Using r.js or webpack it can just read the code to build large-concantinated.jsIt can also deal with dependencies, for example we had 2 files lib1.js and lib2.js loaded like thislib2 needs lib1. It has code inside that does something likeBut as the injected scripts are loaded asynchronously there's no guarantee they'll load in the correct order. These 2 scripts are not AMD scripts but using require.js we can tell it their dependenciesI our module that uses lib1 we do thisNow require.js will inject the scripts for us and it won't inject lib2 until lib1 has be loaded since we told it lib2 depends on lib1. It also won't start our module that use lib1 until both lib2 and lib1 have loaded.This makes development nice (no build step, no worrying about loading order) and it makes production nice (no need to update a build script for each script added).As an added bonus we can use webpack's babel plugin to run babel over the code for older browsers and again we don't have to maintain that build script either. Note that if Chrome (our browser of choice)  started supporting import for real we'd probably switch to that for development but that wouldn't really change anything. We could still use webpack to make a concatenated file and we could use it run babel over the code for all browsers.All of this is gained by not using script tags and using AMD

How to implement private method in ES6 class with Traceur [duplicate]

Glen Swift

[How to implement private method in ES6 class with Traceur [duplicate]](https://stackoverflow.com/questions/27849064/how-to-implement-private-method-in-es6-class-with-traceur)

I use Traceur Compiler to have advantage with ES6 features now. I want to implement this stuff from ES5:Currently traceur does not support private and public keywords (from harmony). And ES6 class syntax does not allow to use simple var (or let) statements in class body. The only way that I am find is to simulate privates before class declaration. Something like:It is better then nothing but as expected you can not pass correct this to private method without apply-ing or bind-ing it every time.So, is there any possibility to use private data in ES6 class compatible with traceur compiler?

2015-01-08 20:35:56Z

I use Traceur Compiler to have advantage with ES6 features now. I want to implement this stuff from ES5:Currently traceur does not support private and public keywords (from harmony). And ES6 class syntax does not allow to use simple var (or let) statements in class body. The only way that I am find is to simulate privates before class declaration. Something like:It is better then nothing but as expected you can not pass correct this to private method without apply-ing or bind-ing it every time.So, is there any possibility to use private data in ES6 class compatible with traceur compiler?There are no private, public or protected keywords in current ECMAScript 6 specification.So Traceur does not support private and public. 6to5 (currently it's called "Babel") realizes this proposal for experimental purpose (see also this discussion). But it's just proposal, after all.So for now you can just simulate private properties through WeakMap (see here). Another alternative is Symbol - but it doesn't provide actual privacy as the property can be easily accessed through Object.getOwnPropertySymbols.IMHO the best solution at this time - just use pseudo privacy. If you frequently use apply or call with your method, then this method is very object specific. So it's worth to declare it in your class just with underscore prefix:You can always use normal functions:Although currently there is no way to declare a method or property as private, ES6 modules are not in the global namespace. Therefore, anything that you declare in your module and do not export will not be available to any other part of your program, but will still be available to your module during run time. Thus, you have private properties and methods :)Here is an example

(in test.js file)

In another file

    You can use Symbol P.S. alexpods is not correct. he get protect rather than private, since inheritance is a name conflictActually you can use var say = String(Math.random()) instead SymbolIN ES6:I hope this can be helpful. :)I. Declaring vars, functions inside IIFE(Immediately-invoked function expression), those can be used only in the anonymous function. (It can be good to use "let, const" keywords without using 'var' when you need to change code for ES6.) II. WeakMap object can be good for memoryleak trouble. Stored variables in the WeakMap will be removed when the instance will be removed. Check this article. (Managing the private data of ES6 classes)III. Let's put all together.As alexpods says, there is no dedicated way to do this in ES6. However, for those interested, there is also a proposal for the bind operator which enables this sort of syntax:Once again, this is just a proposal. Your mileage may vary.Have you considered using factory functions?

They usually are a much better alternative to classes or constructor functions in Javascript. 

Here is an example of how it works:Thanks to closures you have access to all private functions and variabels inside the returned object, but you can not access them from outside.As Marcelo Lazaroni has already said,But his example didn't show how the private method could access members of the instance of the class. Max shows us some good examples of how access instance members through binding or the alternative of using a lambda method in the constructor, but I would like to add one more simple way of doing it: passing the instance as a parameter to the private method. Doing it this way would lead Max's MyClass to look like this:Which way you do it really comes down to personal preference. I came up with what I feel is a much better solution allowing:with this you can do:see New for the code and more elaborate examples including constructor and composition

How to convert unix timestamp to calendar date moment.js

Andrew

[How to convert unix timestamp to calendar date moment.js](https://stackoverflow.com/questions/20943089/how-to-convert-unix-timestamp-to-calendar-date-moment-js)

I have a unix timestamp, and I'm trying to convert it into a calendar date such as MM/DD/YYYY. 

So far, I have this:When I try to print out the calendar date, the window says "Invalid date". Can anyone help me out? 

2014-01-06 04:38:18Z

I have a unix timestamp, and I'm trying to convert it into a calendar date such as MM/DD/YYYY. 

So far, I have this:When I try to print out the calendar date, the window says "Invalid date". Can anyone help me out? Using moment.js as you asked, there is a unix method that accepts unix timestamps in seconds:UNIX timestamp it is count of seconds from 1970, so you need to convert it to JS Date object:Moment.js provides Localized formats which can be used. Here is an example:Only it,Might be a little late but for new issues like this I use this code:You can change the format to match your needs and also add timezone like this:I fixed it like this example.There is a strict mode and a Forgiving mode. While strict mode works better in most situations, forgiving mode can be very useful when the format of the string being passed to moment may vary.In a later release, the parser will default to using strict mode.

Strict mode requires the input to the moment to exactly match the specified format, including separators. Strict mode is set by passing true as the third parameter to the moment function.A common scenario where forgiving mode is useful is in situations where a third party API is providing the date, and the date format for that API could change.

Suppose that an API starts by sending dates in 'YYYY-MM-DD' format, and then later changes to 'MM/DD/YYYY' format.In strict mode, the following code results in 'Invalid Date' being displayed:In forgiving mode using a format string, you get a wrong date:another way would beThis function creates date from timestamp:

Detect URLs in text with JavaScript

arbales

[Detect URLs in text with JavaScript](https://stackoverflow.com/questions/1500260/detect-urls-in-text-with-javascript)

Does anyone have suggestions for detecting URLs in a set of strings?Update: I wound up using this regex for link detection… Apparently several years later.The full helper (with optional Handlebars support) is at gist #1654670.

2009-09-30 19:41:40Z

Does anyone have suggestions for detecting URLs in a set of strings?Update: I wound up using this regex for link detection… Apparently several years later.The full helper (with optional Handlebars support) is at gist #1654670.First you need a good regex that matches urls. This is hard to do. See here, here and here:Anyway, this answer is not meant to give you the best regex but rather a proof of how to do the string wrapping inside the text, with JavaScript.OK so lets just use this one: /(https?:\/\/[^\s]+)/gAgain, this is a bad regex. It will have many false positives. However it's good enough for this example.So in sum try:Here is what I ended up using as my regex:This doesn't include trailing punctuation in the URL. Crescent's function works like a charm :) 

so:I googled this problem for quite a while, then it occurred to me that there is an Android method, android.text.util.Linkify, that utilizes some pretty robust regexes to accomplish this. Luckily, Android is open source.They use a few different patterns for matching different types of urls. You can find them all here:

http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.0_r1/android/text/util/Regex.java#Regex.0WEB_URL_PATTERNIf you're just concerned about url's that match the WEB_URL_PATTERN, that is, urls that conform to the RFC 1738 spec, you can use this:Here is the full text of the source:If you want to be really fancy, you can test for email addresses as well. The regex for email addresses is:PS: The top level domains supported by above regex are current as of June 2007. For an up to date list you'll need to check https://data.iana.org/TLD/tlds-alpha-by-domain.txt.Based on Crescent Fresh answerif you want to detect links with http:// OR without http:// and by www. you can use the followingThis library on NPM looks like it is pretty comprehensive https://www.npmjs.com/package/linkifyjsFunction can be further improved to render images as well:or for a thumbnail image that links to fiull size image:And here is the strip() function that pre-processes the text string for uniformity by removing any existing html.Short Code Big Work!...Result:-tmp.innerText is undefined. You should use tmp.innerHTMLThere is existing npm package: url-regex, just install it with yarn add url-regex or npm install url-regex and use as following:try this:will also recognize urls such as  google.com , http://www.google.bla ,  http://google.bla , www.google.bla but not google.blaYou can use a regex like this to extract normal url patterns.If you need more sophisticated patterns, use a library like this.https://www.npmjs.com/package/pattern-dreamerGeneric Object Oriented SolutionFor people like me that use frameworks like angular that don't allow manipulating DOM directly, I created a function that takes a string and returns an array of url/plainText objects that can be used to create any UI representation that you want.URL regexFor URL matching I used (slightly adapted) h0mayun regex: /(?:(?:https?:\/\/)|(?:www\.))[^\s]+/gMy function also drops punctuation characters from the end of a URL like . and , that I believe more often will be actual punctuation than a legit URL ending (but it could be! This is not rigorous science as other answers explain well) For that I apply the following regex onto matched URLs /^(.+?)([.,?!'"]*)$/.Typescript code

What's the best way to add a full screen background image in React Native

talpaz

[What's the best way to add a full screen background image in React Native](https://stackoverflow.com/questions/29322973/whats-the-best-way-to-add-a-full-screen-background-image-in-react-native)

I wanted to add a full-screen image to the View so I write this codeand defined the style asbut in this way how am I supposed to find the actual iPhone screen size?I've seen an API to access the Pixel Density but nothing about the screen size...Any idea?

2015-03-28 21:44:05Z

I wanted to add a full-screen image to the View so I write this codeand defined the style asbut in this way how am I supposed to find the actual iPhone screen size?I've seen an API to access the Pixel Density but nothing about the screen size...Any idea?You can use flex: 1 styling on an <Image> element to have it fill the whole screen. You can then use one of the Image resize modes to have the image completely fill the element:Style:I'm pretty sure you can get rid of the <View> wrapping your image and this will work.  (This has been deprecated now you can use ImageBackground)This is how I've done it. The main deal was getting rid of the static fixed sizes.Note: This solution is old. Please refer to https://facebook.github.io/react-native/docs/images.html#background-image-via-nesting insteadTry this solution. It is officially supported. I have just tested it and works flawlessly.And as for using it as Background image, just do the following.I tried several of these answers to no avail for android using react-native version = 0.19.0.  For some reason, the resizeMode inside my stylesheet did not work appropriately? However, when sytlesheet had and, within the Image tag I specified the resizeMode: It worked perfectly! As mentioned above, you can use Image.resizeMode.cover or contain as well.Hope this helps! Based on Braden Rockwell Napier's answer, I made this BackgroundImage componentBackgroundImage.jssomeWhereInMyApp.jsIf you want to use it as a background image, you will need to use the new <ImageBackground> component introduced at the end of June 2017 in v0.46. It supports nesting while <Image> soon won't.Here is the commit summary:UPDATE to ImageBackgroundSince using <Image /> as a container is deprecated for a while, all answers actually miss something important. For proper use choose <ImageBackground /> with style and imageStyle prop. Apply all Image relevant styles to imageStyle.For example:https://github.com/facebook/react-native/blob/master/Libraries/Image/ImageBackground.jsOh God Finally I find a great way for React-Native V 0.52-RC and native-base:Your Content Tag Should be something like this:

//==============================================================And Your essential style is :

//==============================================================It works fine friends ... have fun Latest as of Oct'17 (RN >= .46)http://facebook.github.io/react-native/releases/0.49/docs/images.html#background-image-via-nestingSince 0.14 this method won't work, so I built a static component that will make this simple for you guys.  You can just paste this in or reference it as a component.  This should be re-useable and it will allow you to add additional styles and properties as-if it were a standard <Image /> componentjust paste this in and then you can use it like image and it should fit the entire size of the view it is in (so if it's the top view it will fill your screen.Click here for a Preview ImageYou need to ensure your Image has resizeMode={Image.resizeMode.contain} or {Image.resizeMode.stretch} and set image style width to nullThe width and height with value null doesn't work for me, then I thought to use top, bottom, left, and right position and it worked.

Example:And the JSX:(RN >= .46) or you can use ImageBackgroundEasiest way to implemet background:incase you didn't solve it yet, React Native v.0.42.0 have resizeModeYou can try it at: https://sketch.expo.io/B1EAShDie (from: github.com/Dorian/sketch-reactive-native-apps)Docs: https://facebook.github.io/react-native/docs/images.html#background-image-via-nestingYou can also use your image as a container:I've heard about having to use BackgroundImage because in future you are supposed to not be able to nest the Image tag. But I could not get BackgroudImage to properly display my background. What I did was nest my Image inside a View tag and style both the outer View as well as the image. Keys were setting width to null, and setting resizeMode to 'stretch'. Below is my code:Use <ImageBackground> as already said by antoine129. Using <Image> with children is deprecated now.To handle this use case, you can use the <ImageBackground> component, which has the same props as <Image>, and add whatever children to it you would like to layer on top of it.Example:For more: ImageBackground | React NativeAn another easy solution:I solved my background image issue using this code.ImageBackground might have limitIf you want to add Background Image in React Native and also wants to add other elements on that Background Image, follow the step below: This is the code I use:Enjoy Coding....Output:

How to serialize an Object into a list of URL query parameters?

bobsoap

[How to serialize an Object into a list of URL query parameters?](https://stackoverflow.com/questions/6566456/how-to-serialize-an-object-into-a-list-of-url-query-parameters)

Without knowing the keys of a JavaScript Object, how can I turn something like......into......?

2011-07-04 00:48:23Z

Without knowing the keys of a JavaScript Object, how can I turn something like......into......?Example:  http://jsfiddle.net/WFPen/If you use jQuery, this is what it uses for parameterizing the options of a GET ajax request:http://api.jquery.com/jQuery.param/An elegant one: (assuming you are running a modern browser or node)And the ES2017 equivalent: (thanks to Lukas)Note: You probably want to use encodeURIComponent() if the keys/values are not URL encoded.ES6:How about this? It is one line and no dependencies:Use it with the URL builtin like so:For one level deep...jsFiddle.There was talk about a recursive function for arbitrarily deep objects...jsFiddle.This of course means that the nesting context is lost in the serialisation. If the values are not URL encoded to begin with, and you intend to use them in a URL, check out JavaScript's encodeURIComponent().Just for the record and in case you have a browser supporting ES6, here's a solution with reduce:And here's a snippet in action!Since I made such a big deal about a recursive function, here is my own version.http://jsfiddle.net/userdude/Kk3Lz/2/A useful code when you have the array in your query:Give this a shot.Example: http://jsfiddle.net/T2UWT/You can use jQuery's param method:seems to do the job. No need for encodeURIComponent.

Outputs hello=world&foo=barA functional approach. If you're using NodeJS 13.1 or superior you can use the native querystring module to parse query strings.If you need a recursive function that will produce proper URL parameters based on the object given, try my Coffee-Script one.or the JavaScript compiled...This will construct strings like so:this method uses recursion to descend into object hierarchy and generate rails style params which rails interprets as embedded hashes. objToParams generates a query string with an extra ampersand on the end, and objToQuery removes the final amperseand.You could use npm lib query-string

Can scrapy be used to scrape dynamic content from websites that are using AJAX?

Joseph

[Can scrapy be used to scrape dynamic content from websites that are using AJAX?](https://stackoverflow.com/questions/8550114/can-scrapy-be-used-to-scrape-dynamic-content-from-websites-that-are-using-ajax)

I have recently been learning Python and am dipping my hand into building a web-scraper.  It's nothing fancy at all; its only purpose is to get the data off of a betting website and have this data put into Excel.Most of the issues are solvable and I'm having a good little mess around. However I'm hitting a massive hurdle over one issue. If a site loads a table of horses and lists current betting prices this information is not in any source file. The clue is that this data is live sometimes, with the numbers being updated obviously from some remote server. The HTML on my PC simply has a hole where their servers are pushing through all the interesting data that I need.Now my experience with dynamic web content is low, so this thing is something I'm having trouble getting my head around. I think Java or Javascript is a key, this pops up often. The scraper is simply a odds comparison engine.  Some sites have APIs but I need this for those that don't. I'm using the scrapy library with Python 2.7I do apologize if this question is too open-ended. In short, my question is: how can scrapy be used to scrape this dynamic data so that I can use it?  So that I can scrape this betting odds data in real-time?

2011-12-18 06:03:11Z

I have recently been learning Python and am dipping my hand into building a web-scraper.  It's nothing fancy at all; its only purpose is to get the data off of a betting website and have this data put into Excel.Most of the issues are solvable and I'm having a good little mess around. However I'm hitting a massive hurdle over one issue. If a site loads a table of horses and lists current betting prices this information is not in any source file. The clue is that this data is live sometimes, with the numbers being updated obviously from some remote server. The HTML on my PC simply has a hole where their servers are pushing through all the interesting data that I need.Now my experience with dynamic web content is low, so this thing is something I'm having trouble getting my head around. I think Java or Javascript is a key, this pops up often. The scraper is simply a odds comparison engine.  Some sites have APIs but I need this for those that don't. I'm using the scrapy library with Python 2.7I do apologize if this question is too open-ended. In short, my question is: how can scrapy be used to scrape this dynamic data so that I can use it?  So that I can scrape this betting odds data in real-time?Webkit based browsers (like Google Chrome or Safari) has built-in developer tools. In Chrome you can open it Menu->Tools->Developer Tools. The Network tab allows you to see all information about every request and response:In the bottom of the picture you can see that I've filtered request down to XHR - these are requests made by javascript code.Tip: log is cleared every time you load a page, at the bottom of the picture, the black dot button will preserve log.After analyzing requests and responses you can simulate these requests from your web-crawler and extract valuable data. In many cases it will be easier to get your data than parsing HTML, because that data does not contain presentation logic and is formatted to be accessed by javascript code.Firefox has similar extension, it is called firebug. Some will argue that firebug is even more powerful but I like the simplicity of webkit.Here is a simple example of  scrapy with an AJAX request. Let see the site rubin-kazan.ru.All messages are loaded with an AJAX request. My goal is to fetch these messages with all their attributes (author, date, ...):When I analyze the source code of the page I can't see all these messages because the web page uses AJAX technology. But I can with Firebug from Mozilla Firefox (or an equivalent tool in other browsers) to analyze the HTTP request that generate the messages on the web page:It doesn't reload the whole page but only the parts of the page that contain messages. For this purpose I click an arbitrary number of page on the bottom:And I observe the HTTP request that is responsible for message body:After finish, I analyze the headers of the request (I must quote that this URL I'll extract from source page from var section, see the code below):And the form data content of the request (the HTTP method is "Post"):And the content of response, which is a JSON file:Which presents all the information I'm looking for.From now, I must implement all this knowledge in scrapy. Let's define the spider for this purpose:In parse function I have the response for first request.

In RubiGuessItem I have the JSON file with all information. Many times when crawling we run into problems where content that is rendered on the page is generated with Javascript and therefore scrapy is unable to crawl for it (eg. ajax requests, jQuery craziness).However, if you use Scrapy along with the web testing framework Selenium then we are able to crawl anything displayed in a normal web browser.Some things to note:Reference: http://snipplr.com/view/66998/Another solution would be to implement a download handler or download handler middleware. (see scrapy docs for more information on downloader middleware) The following is an example class using selenium with headless phantomjs webdriver: 1) Define class within the middlewares.py script.2) Add JsDownload() class to variable DOWNLOADER_MIDDLEWARE within settings.py:3) Integrate the HTMLResponse within your_spider.py. Decoding the response body will get you the desired output.Optional Addon: 

I wanted the ability to tell different spiders which middleware to use so I implemented this wrapper:for wrapper to work all spiders must have at minimum:to include a middleware:Advantage: 

The main advantage to implementing it this way rather than in the spider is that you only end up making one request. In A T's solution for example: The download handler processes the request and then hands off the response to the spider. The spider then makes a brand new request in it's parse_page function -- That's two requests for the same content.I was using a custom downloader middleware, but wasn't very happy with it, as I didn't manage to make the cache work with it.A better approach was to implement a custom download handler.There is a working example here. It looks like this:Suppose your scraper is called "scraper". If you put the mentioned code inside a file called handlers.py on the root of the "scraper" folder, then you could add to your settings.py:And voilà, the JS parsed DOM, with scrapy cache, retries, etc.I wonder why no one has posted the solution using Scrapy only. Check out the blog post from Scrapy team SCRAPING INFINITE SCROLLING PAGES

. The example scraps http://spidyquotes.herokuapp.com/scroll website which uses infinite scrolling. The idea is to use Developer Tools of your browser and notice the AJAX requests, then based on that information create the requests for Scrapy.yes, Scrapy can scrap dynamic websites, website that are rendered through javaScript.There are Two approaches to scrapy these kind of websites.First,you can use splash to render Javascript code and then parse the rendered HTML.

you can find the doc and project here Scrapy splash, gitSecond, As everyone is stating, by monitoring the network calls, yes, you can find the api call that fetch the data and mock that call in your scrapy spider might help you to get desired data.I handle the ajax request by using Selenium and the Firefox web driver. It is not that fast if you need the crawler as a daemon, but much better than any manual solution. I wrote a short tutorial here for reference

Fixing JavaScript Array functions in Internet Explorer (indexOf, forEach, etc.) [closed]

cemerick

[Fixing JavaScript Array functions in Internet Explorer (indexOf, forEach, etc.) [closed]](https://stackoverflow.com/questions/2790001/fixing-javascript-array-functions-in-internet-explorer-indexof-foreach-etc)

As detailed elsewhere, and otherwise apparently well-known, Internet Explorer (definitely version 7, and in some instances, version 8) do not implement key functions, in particular on Array (such as forEach, indexOf, etc).There are a number of workarounds here and there, but I'd like to fold a proper, canonical set of implementations into our site rather than copy and paste or hack away at our own implementations. I've found js-methods, which looks promising, but thought I'd post here to see whether another library comes more highly-recommended. A couple of miscellaneous criteria:

2010-05-07 16:14:08Z

As detailed elsewhere, and otherwise apparently well-known, Internet Explorer (definitely version 7, and in some instances, version 8) do not implement key functions, in particular on Array (such as forEach, indexOf, etc).There are a number of workarounds here and there, but I'd like to fold a proper, canonical set of implementations into our site rather than copy and paste or hack away at our own implementations. I've found js-methods, which looks promising, but thought I'd post here to see whether another library comes more highly-recommended. A couple of miscellaneous criteria:Many use the MDC fallback implementations (eg. for indexOf). They're generally rigorously standards-compliant, even to the extent of explicitly checking the types of all the arguments.Unfortunately whilst it is clear that the authors regard this code as trivial and freely-usable, there doesn't seem to be an explicit licence-grant to put this in writing. The wiki as a whole is CC Attribution-ShareAlike, if that's an acceptable licence (though CC isn't designed for code as such).js-methods looks OK in general, but is not as standards-compliant around the edges of how the functions are supposed to be (eg. undefined list items, functions that mutate the list). It's also full of other random non-standard methods, including some questionable ones like the dodgy stripTags and the incomplete UTF-8 codec (which is also a bit unnecessary given the unescape(encodeURIComponent) trick).For what it's worth, here's what I use (which I hereby release into the public domain, if it can be said to be copyrightable at all). It's a bit shorter than the MDC versions as it doesn't attempt to type-sniff that you haven't done something silly like pass non-function callbacks or non-integer indexes, but apart from that it attempts to be standards-compliant. (Let me know if I've missed anything. ;-))Other ECMA262-5 methods not implemented here include Array reduce/reduceRight, the JSON ones and the few new Object methods that can be reliably implemented as JS functions.Take a look at Underscore.js.Kris Kowal has compiled a small library that acts as a shim for ECMAScript 5 functions that may be missing from the browser's implementation.  Some of the functions have been revised numerous times by other people to be optimized for speed and to work around browser bugs.  The functions are written to follow the specification as closely as possible.es5-shim.js was released under the MIT license, the Array.prototype extensions are near the top and you can chop and remove any functions you don't need quite easily.  I also suggest you minify the script as the comments make it much larger than it needs to be.By 'not implement key functions' you actually means 'conforms to the ECMA 262 3'rd ed' right? :)The methods you are referring to are part of the new 5'th edition - for browsers not supporting this you can use the following 'shim' that extends 3'rd into 5'th

http://github.com/kriskowal/narwhal-lib/blob/narwhal-lib/lib/global-es5.js.Those scripts don't work well in my tests. I create a file with the same functions based on MDN documents.Too many problems areas are solved in Internet Explorer 8. See the code in  egermano / ie-fix.js. With the Underscore.js var arr=['a','a1','b'] 

_.filter(arr, function(a){ return a.indexOf('a') > -1; })

Chrome Uncaught Syntax Error: Unexpected Token ILLEGAL [duplicate]

agmcleod

[Chrome Uncaught Syntax Error: Unexpected Token ILLEGAL [duplicate]](https://stackoverflow.com/questions/5733275/chrome-uncaught-syntax-error-unexpected-token-illegal)

Receiving the subject error when Chrome tries to load the script file on the page. It says it's at the last line of the javascript file. I can't seem to find anything wrong with it. No errors in firefox, and the script works as expected. Just using form validation

2011-04-20 16:02:57Z

Receiving the subject error when Chrome tries to load the script file on the page. It says it's at the last line of the javascript file. I can't seem to find anything wrong with it. No errors in firefox, and the script works as expected. Just using form validationThere's some sort of bogus character at the end of that source.  Try deleting the last line and adding it back.I can't figure out exactly what's there, yet ...edit — I think it's a zero-width space, Unicode 200B.  Seems pretty weird and I can't be sure of course that it's not a Stackoverflow artifact, but when I copy/paste that last function including the complete last line into the Chrome console, I get your error.A notorious source of such characters are websites like jsfiddle.  I'm not saying that there's anything wrong with them — it's just a side-effect of something, maybe the use of content-editable input widgets.If you suspect you've got a case of this ailment, and you're on MacOS or Linux/Unix, the od command line tool can show you (albeit in a fairly ugly way) the numeric values in the characters of the source code file. Some IDEs and editors can show "funny" characters as well. Note that such characters aren't always a problem. It's perfectly OK (in most reasonable programming languages, anyway) for there to be embedded Unicode characters in string constants, for example. The problems start happening when the language parser encounters the characters when it doesn't expect them.I get the same error in Chrome after pasting code copied from jsfiddle. If you select all the code from a panel in jsfiddle and paste it into the free text editor Notepad++, you should be able to see the problem character as a question mark "?" at the very end of your code. Delete this question mark, then copy and paste the code from Notepad++ and the problem will be gone.I had the same error when multiline string included new line (\n) characters. Merging all lines into one (thus removing all new line characters) and sending it to a browser used to solve. But was very inconvenient to code.Often could not understand why this was an issue in Chrome until I came across to a statement which said that the current version of JavaScript engine in Chrome doesn't support multiline strings which are wrapped in single quotes and have new line (\n) characters in them. To make it work, multiline string need to be wrapped in double quotes. Changing my code to this, resolved this issue.I will try to find a reference to a standard or Chrome doc which proves this. Until then, try this solution and see if works for you as well.I had the same error in Chrome.

The Chrome console told me that the error was in the 1st line of the HTML file.It was actually in the .js file. So watch out for setValidNou(1060, $(this).val(), 0')  error types.

How do I detect「shift+enter」and generate a new line in Textarea?

TIMEX

[How do I detect「shift+enter」and generate a new line in Textarea?](https://stackoverflow.com/questions/6014702/how-do-i-detect-shiftenter-and-generate-a-new-line-in-textarea)

Currently, if the person presses enter inside the text area, the form will submit.

Good, I want that.But when they type shift + enter, I want the textarea to move to the next line: \n How can I do that in JQuery or plain JavaScript as simple as possible?

2011-05-16 08:19:13Z

Currently, if the person presses enter inside the text area, the form will submit.

Good, I want that.But when they type shift + enter, I want the textarea to move to the next line: \n How can I do that in JQuery or plain JavaScript as simple as possible?Tim's solution below is better I suggest using that:

https://stackoverflow.com/a/6015906/4031815I think you can do something like this..   EDIT : Changed the code to work irrespective of the caret postionFirst part of the code is to get the caret position.Ref: How to get the caret column (not pixels) position in a textarea, in characters, from the start?And then replacing the textarea value accordingly when Shift + Enter together , submit the form if Enter is pressed alone. Here is a demoFirst, pressing Enter inside a textarea does not submit the form unless you have script to make it do that. That's the behaviour the user expects and I'd recommend against changing it. However, if you must do this, the easiest approach would be to find the script that is making Enter submit the form and change it. The code will have something like... and you could just change it to On the other hand, if you don't have access to this code for some reason, you need to do the following to make it work in all major browsers even if the caret is not at the end of the text:jsFiddle: http://jsfiddle.net/zd3gA/1/Code:Most of these answers overcomplicate this.  Why not try it this way?No messing around with caret position or shoving line breaks into JS.  Basically, the function will not run if the shift key is being pressed, therefore allowing the enter/return key to perform its normal function.Why not justUse the jQuery hotkeys plugin and this codeHere is an AngularJS solution using ng-keyup if anyone has the same issue using AngularJS.I found this thread looking for a way to control Shift + any key.  I pasted together other solutions to make this combined function to accomplish what I needed.  I hope it helps someone else.  In case someone is still wondering how to do this without jQuery.HTML<textarea id="description"></textarea>JavascriptVanilla JSFor who using ReactJS ES6 here's the simplest wayshift + enter New Lineenter Blocked

I use div by adding contenteditable true instead of using textarea.Hope can help you.using ng-keyup directive in angularJS, only send a message on pressing Enter key and Shift+Enter will just take a new line.This works for me!

Remove All Event Listeners of Specific Type

J S

[Remove All Event Listeners of Specific Type](https://stackoverflow.com/questions/19469881/remove-all-event-listeners-of-specific-type)

I want to remove all event listeners of a specific type that were added using addEventListener(). All the resources I'm seeing are saying you need to do this:But I want to be able to clear it without knowing what it is currently, like this:

2013-10-19 19:03:56Z

I want to remove all event listeners of a specific type that were added using addEventListener(). All the resources I'm seeing are saying you need to do this:But I want to be able to clear it without knowing what it is currently, like this:That is not possible without intercepting addEventListener calls and keep track of the listeners or use a library that allows such features unfortunately. It would have been if the listeners collection was accessible but the feature wasn't implemented.The closest thing you can do is to remove all listeners by cloning the element, which will not clone the listeners collection.Note: This will also remove listeners on element's children.If your only goal by removing the listeners is to stop them from running, you can add an event listener to the window capturing and canceling all events of the given type:Passing in true for the third parameter causes the event to be captured on the way down. Stopping propagation means that the event never reaches the listeners that are listening for it.I know this is old, but I had a similar issue with no real answers, where I wanted to remove all "keydown" event listeners from the document.  Instead of removing them, I overrode the addEventListener to ignore them before they were even added, similar to Toms answer above, by adding this before any other scripts are loaded.:You must override EventTarget.prototype.addEventListener to build an trap function for logging all 'add listener' calls. Something like this:Then you can build an EventTarget.prototype.removeEventListeners:In ES6 you can use a Symbol, to hide the original function and the list of all added listener directly in the instantiated object self.You can test this code with this little snipper:In the extreme case of not knowing which callback is attached to a window listener, an handler can be wrapper around window addEventListener and a variable can store ever listeners to properly remove each one of those through a removeAllEventListener('scroll') for example.You could alternatively overwrite the 'yourElement.addEventListener()' method and use the '.apply()' method to execute the listener like normal, but intercepting the function in the process. Like:This script must be run on page load or it might not intercept all event listeners.Make sure to remove the 'removeListeners()' call before using.Remove all listeners in element by one js line: You cant remove a single event, but all? at once? just do document.body.innerHTML = document.body.innerHTML

Adding div element to body or document in JavaScript

Om3ga

[Adding div element to body or document in JavaScript](https://stackoverflow.com/questions/15741006/adding-div-element-to-body-or-document-in-javascript)

I am creating a light box in pure JavaScript. For that I am making an overlay. I want to add this overlay to body but I also want to keep the content on the page. My current code adds the overlay div but it also removes the current contents in body. How to add div element and keep contents on body?

2013-04-01 09:37:58Z

I am creating a light box in pure JavaScript. For that I am making an overlay. I want to add this overlay to body but I also want to keep the content on the page. My current code adds the overlay div but it also removes the current contents in body. How to add div element and keep contents on body?http://jsfiddle.net/adiioo7/vmfbA/Use instead of Edit:-

Ideally you should use body.appendChild method instead of changing the innerHTMLUsing JavascriptUsing jQueryInstead of replacing everything with innerHTML try:document.body.appendChild(myExtraNode);improving the post of @Peter T, by gathering all solutions together at one place.Element.insertAdjacentHTML()Using XPath find the position of the Element in the DOM Tree and insert the specified text at a specified position to an XPath_Element. try this code over browser console. Try doingYou can make your div HTML code and set it directly into body(Or any element) with following code:The best and better way is to create an element and append it to the body tag.

Second way is to first get the innerHTML property of body and add code with it. For example:Here's a really quick trick:

Let's say you wanna add p tag inside div tag.And that's it.

Remove URL parameters without refreshing page

Derek

[Remove URL parameters without refreshing page](https://stackoverflow.com/questions/22753052/remove-url-parameters-without-refreshing-page)

I am trying to remove everything after the "?" in the browser url on document ready. Here is what I am trying:I can do this and see it the below works:

2014-03-31 03:12:10Z

I am trying to remove everything after the "?" in the browser url on document ready. Here is what I am trying:I can do this and see it the below works:1- To modify current URL and add / inject it (the new modified URL) as a new URL entry to history list, use pushState:2- To replace current URL without adding it to history entries, use replaceState:3- Depending on your business logic, pushState will be useful in cases such as:As I understood from your comment, you want to clean your URL without redirecting again. Note that you cannot change the whole URL. You can just change what comes after the domain's name. This means that you cannot change www.example.com/ but you can change what comes after .com/We can use:1- The pushState() method if you want to add a new modified URL to history entries.2- The replaceState() method if you want to update/replace current history entry.To do that I will use The pushState() method for this example which works similarly to the following format: Feel free to replace pushState with replaceState based on your requirements. You can substitute the paramter "object or string" with {} and "Title" with document.title so the final statment will become: The previous two lines of code will make a URL such as: To become:Now let's try a different approach. Say you need to keep the file's name. The file name comes after the last / and before the query string ?. Will be: Something like this will get it working: For one liner fans, try this out in your console/firebug and this page URL will change: This page URL will change from:ToNote: as Samuel Liew indicated in the comments below, this feature has been introduced only for HTML5.An alternative approach would be to actually redirect your page (but you will lose the query string `?', is it still needed or the data has been processed?). These are all misleading, you never want to add to the browser history unless you want to go to a different page in a single page app. If you want to remove the parameters without a change in the page, you must use:a simple way to do this, works on any page, requires HTML 5I belive the best and simplest method for this is:if I have a special tag at the end of my URL like: http://domain.com/?tag=12345

Here is the below code to remove that tag whenever it presents in the URL:This gives the idea to remove one or more (or all) parameters from URLWith window.location.pathname you basically get everything before '?' in the url.Better solution :I wanted to remove only one param success. Here's how you can do this:This also retains #hash.URLSearchParams won't work on IE, but being worked on for Edge. You can use a polyfill or a could use a naïve helper function for IE-support:This can be used like:None of these solutions really worked for me, here is a IE11-compatible function that can also remove multiple parameters:To clear out all the parameters, without doing a page refresh, AND if you are using HTML5, then you can do this:history.pushState({}, '', 'index.html' ); //replace 'index.html' with whatever your page name isThis will add an entry in the browser history. You could also consider replaceState if you don't wan't to add a new entry and just want to replace the old entry.Here is an ES6 one liner which preserves the location hash and does not pollute browser history by using replaceState:In jquery use <

prevent refresh of page when button inside form clicked

bunkdeath

[prevent refresh of page when button inside form clicked](https://stackoverflow.com/questions/7803814/prevent-refresh-of-page-when-button-inside-form-clicked)

I have an issue while using buttons inside form. I want that button to call function. It does, but with unwanted result that it refresh the page.My simple code goes like thisOn clicking the button, the function gets called with page refreshed, which resets all my previous request which affects the current page which was result of the previous request.What should I do to prevent the page refresh?

2011-10-18 07:27:35Z

I have an issue while using buttons inside form. I want that button to call function. It does, but with unwanted result that it refresh the page.My simple code goes like thisOn clicking the button, the function gets called with page refreshed, which resets all my previous request which affects the current page which was result of the previous request.What should I do to prevent the page refresh?Let getData() return false. This will fix it.Add type="button" to the button.The default value of "type" for a button is "submit", which self posts the form in your case and makes it look like a refresh.The problem is that it triggers the form submission. If you make the getData function return false then it should stop the form from submitting. Alternatively, you could also use the preventDefault method of the event object:All you need to do is put a type tag and make the type button.That solves the issueinstead of using button tag, use input tag. Like this,A javascript method to disable the button itselfOnce all form fields have satisfied your criteria, you can re-enable the buttonUsing a Jquery will be something like thisIf your button is default "button" make sure you explicity set the type attribute, otherwise the WebForm will treat it as submit by default.if you use js do like thisFor any reason in Firefox even though I have return false; and myform.preventDefault(); in the function, it refreshes the page after function runs. And I don't know if this is a good practice, but it works for me, I insert javascript:this.preventDefault(); in the action attribute .As I said, I tried all the other suggestions and they work fine in all browsers but Firefox, if you have the same issue, try adding the prevent event in the action attribute either javascript:return false; or javascript:this.preventDefault();. Do not try with javascript:void(0); which will break your code. Don't ask me why :-).I don't think this is an elegant way to do it, but in my case I had no other choice.Update:If you received an error... after ajax is processed, then remove the attribute action and in the onsubmit attribute, execute your function followed by the false return:onsubmit="functionToRun(); return false;"I don't know why all this trouble with Firefox, but hope this works.Return function is not working in all the cases. 

I tried this: It didnt work for me. I tried to return false inside the function and it worked for me.I was facing the same problem. The problem is with the onclick function. There should not be any problem with the function getData. It worked by making the onclick function return false.This one is the best solution:Note: My code is very simple.You can use ajax and jquery to solve this problem:

Remove an item from array using UnderscoreJS

climboid

[Remove an item from array using UnderscoreJS](https://stackoverflow.com/questions/16994212/remove-an-item-from-array-using-underscorejs)

Say I have this codeand I want to remove the item with id = 3 from the array. Is there a way of doing this without splicing? Maye something using underscore or something like that?Thanks!

2013-06-07 23:09:02Z

Say I have this codeand I want to remove the item with id = 3 from the array. Is there a way of doing this without splicing? Maye something using underscore or something like that?Thanks!Just using plain JavaScript, this has been answered already: remove objects from array by object property.Using underscore.js, you could combine .findWhere with .without:Although, since you are creating a new array in this case anyway, you could simply use _.filter or the native Array.prototype.filter function (just like shown in the other question). Then you would only iterate over array once instead of potentially twice like here.If you want to modify the array in-place, you have to use .splice. This is also shown in the other question and undescore doesn't seem to provide any useful function for that.You can use Underscore .filterCan also be written as:Check FiddleYou can also use .rejectUse Underscore _.reject():Underscore has a _without() method perfect for removing an item from an array, especially if you have the object to remove.Works with more complex objects too.If you don't have the item to remove, just a property of it, you can use _.findWhere and then _.without.Please exercise care if you are filtering strings and looking for case insensitive filters. _.without() is case sensitive. You can also use _.reject() as shown below.Other answers create a new copy of the array, if you want to modify the array in place you can use:But that assumes that the element will always be found inside the array (because if is not found it will still remove the last element). To be safe you can use:or another handy way:my 2 centsUse can use plain JavaScript's Array#filter method like this:           Or, use Array#reduce and Array#concat methods like this:          NOTE: I used to try this methodThere might be better methods too like the above solutions provided by usersBy Using underscore.jsThe result will be :: [{id:1name:'a'},{id:2,name:'c'}]You can use reject method of Underscore, below will return a new array which won't have array with particular match    

Remove all special characters except space from a string using JavaScript

nithi

[Remove all special characters except space from a string using JavaScript](https://stackoverflow.com/questions/6555182/remove-all-special-characters-except-space-from-a-string-using-javascript)

I want to remove all special characters except space from a string using JavaScript.For example,

abc's test#s

should output as

abcs tests.

2011-07-02 04:52:00Z

I want to remove all special characters except space from a string using JavaScript.For example,

abc's test#s

should output as

abcs tests.You should use the string replace function, with a single regex.

Assuming by special characters, you mean anything that's not letter, here is a solution:You can do it specifying the characters you want to remove:Alternatively, to change all characters except numbers and letters, try:The first solution does not work for any UTF-8 alphabet. (It will cut text such as Привіт). I have managed to create a function which does not use RegExp and use good UTF-8 support in the JavaScript engine. The idea is simple if a symbol is equal in uppercase and lowercase it is a special character. The only exception is made for whitespace.    Update: Please note, that this solution works only for languages where there are small and capital letters. In languages like Chinese, this won't work.Update 2: I came to the original solution when I was working on a fuzzy search. If you also trying to remove special characters to implement search functionality, there is a better approach. Use any transliteration library which will produce you string only from Latin characters and then the simple Regexp will do all magic of removing special characters. (This will work for Chinese also and you also will receive side benefits by making Tromsø == Tromso).  I don't know JavaScript, but isn't it possible using regex?Something like [^\w\d\s] will match anything but digits, characters and whitespaces. It would be just a question to find the syntax in JavaScript. I tried Seagul's very creative solution, but found it treated numbers also as special characters, which did not suit my needs. So here is my (failsafe) tweak of Seagul's solution...search all not (word characters || space):dot (.) may not be considered special. I have added an OR condition to Mozfet's & Seagull's answer:Try to use this onehere ^ carat is for negation \w for [a-zA-Z0-9_] word characters and \s for space 

/[]/gi for global Whose special characters you want to remove from a string, prepare a list of them and then user javascript replace function to remove all special characters.or you can run loop for a whole string and compare single single character with the ASCII code and regenerate a new string.

How to configure the web.config to allow requests of any length

some_bloody_fool

[How to configure the web.config to allow requests of any length](https://stackoverflow.com/questions/11636386/how-to-configure-the-web-config-to-allow-requests-of-any-length)

I am building a site in which i would like to create a file client side from the value of a textarea element.I have the code in place to do this, but i am getting this errorIs there a way to override this so that I am able to process requests of any size?If not, is there a way to generate files client side without using the filesystem/active x object?thanks

2012-07-24 17:44:26Z

I am building a site in which i would like to create a file client side from the value of a textarea element.I have the code in place to do this, but i am getting this errorIs there a way to override this so that I am able to process requests of any size?If not, is there a way to generate files client side without using the filesystem/active x object?thanksAdd the following to your web.config:See:http://www.iis.net/ConfigReference/system.webServer/security/requestFiltering/requestLimitsUpdated to reflect comments.requestLimits Element for requestFiltering [IIS Settings Schema]You may have to add the following in your web.config as wellSee: httpRuntime Element (ASP.NET Settings Schema)Of course the numbers (32768 and 65536) in the config settings above are just examples.  You don't have to use those exact values.In my case ( Visual Studio 2012 / IIS Express / ASP.NET MVC 4 app / .Net Framework 4.5 ) what really worked after 30 minutes of trial and error was setting the maxQueryStringLength property in the <httpRuntime> tag:maxQueryStringLength defaults to 2048.More about it here:Expanding the Range of Allowable URLsI tried setting it in <system.webServer> as @MattVarblow suggests, but it didn't work... and this is because I'm using IIS Express (based on IIS 8) on my dev machine with Windows 8.When I deployed my app to the production environment (Windows Server 2008 R2 with IIS 7), IE 10 started returning 404 errors in AJAX requests with long query strings. Then I thought that the problem was related to the query string and tried @MattVarblow's answer. It just worked on IIS 7. :)Something else to check: if your site is using MVC, this can happen if you added [Authorize] to your login controller class. It can't access the login method because it's not authorized so it redirects to the login method --> boom.If you run into this issue when running an IIS 8.5 web server you can use the following method.First, find the "Request Filtering" module in the IIS site you are working on, then double click it...Next, you need to right click in the white area shown below then click the context menu option called "Edit Feature Settings".Then the last thing to do is change the "Maximum query string (Bytes)" value from 2048 to something more appropriate such as 5000 for your needs.I had a similar issue trying to deploy an ASP Web Application to IIS 8. To fix it I did as Matt and Leniel suggested above. But also had to configure the Authentication setting of my site to enable Anonymous Authentication. And that Worked for me.I had to add [AllowAnonymous] to the ActionResult functions in my login page because the user was not authenticated yet.If your website is using authentication, but you don't have the correct authentication method set up in IIS (e.g. Basic, Forms etc..) then the browser will be getting stuck in a redirect loop.  This causes the redirect url to get longer and longer until it explodes.It will also  generate error when you pass large string in  ajax call parameter.so for that alway use type post in  ajax will resolve your issue 100%  and no  need to set the length in web.config.//  var UserId= array of 1000 userids$.ajax({

        global: false,

        url: SitePath + "/User/getAussizzMembersData",

        "data": { UserIds: UserId},

        "type": "POST",

        "dataType": "JSON"

}}To resolve this problem, check in the source code whether the Form tag has a property method is get/set state.If so, the method property should be removed.

Detect If Browser Tab Has Focus

Fenton

[Detect If Browser Tab Has Focus](https://stackoverflow.com/questions/7389328/detect-if-browser-tab-has-focus)

Is there a reliable cross-browser way to detect that a tab has focus.The scenario is that we have an application that polls regularly for stock prices, and if the page doesn't have focus we could stop the polling and save everyone the traffic noise, especially as people are fans of opening several tabs with different portfolios.Is window.onblur and window.onfocus an option for this?

2011-09-12 14:17:43Z

Is there a reliable cross-browser way to detect that a tab has focus.The scenario is that we have an application that polls regularly for stock prices, and if the page doesn't have focus we could stop the polling and save everyone the traffic noise, especially as people are fans of opening several tabs with different portfolios.Is window.onblur and window.onfocus an option for this?Yes, window.onfocus and window.onblur should work for your scenario:http://www.thefutureoftheweb.com/blog/detect-browser-window-focusImportant Edit: This answer is outdated. Since writing it, the Visibility API (mdn, example, spec) has been introduced. It is the better way to solve this problem.AFAIK, focus and blur are all supported on...everything. (see http://www.quirksmode.org/dom/events/index.html )While searching about this problem, I found a recommendation that Page Visibility API should be used. Most modern browsers support this API according to Can I Use: http://caniuse.com/#feat=pagevisibility.Here's a working example (derived from this snippet):Update: The example above used to have prefixed properties for Gecko and WebKit browsers, but I removed that implementation because these browsers have been offering Page Visibility API without a prefix for a while now. I kept Microsoft specific prefix in order to stay compatible with IE10.Yes those should work for you. You just reminded me of this link I came across that exploits those techniques. interesting readSurprising to see nobody mentioned document.hasFocusMDN has more information.I would do it this way (Reference http://www.w3.org/TR/page-visibility/):The following plugin will go through your standard test for various versions of IE, Chrome, Firefox, Safari, etc.. and establish your declared methods accordingly. It also deals with issues such as:Use is as simple as: Scroll Down to 'Run Snippet'

boolean in an if statement

DirkZz

[boolean in an if statement](https://stackoverflow.com/questions/15393935/boolean-in-an-if-statement)

Today I've gotten a remark about code considering the way I check whether a variable is true or false in a school assignment.The code which I had written was something like this:They said it was better/neater to write it like this:The remark which I have gotten about the "=== true" part was that it was not needed and could create confusion.However my idea is that it is better to check whether the variable is a boolean or not, especially since Javascript is a loosetyped language.In the second example a string would also return "something";So my question; Is it neater to loose the "=== true" part in the future, or is it good practise to check the type of the variable as well.Edit:

In my "real" code the boolean represents whether an image has been deleted or not, so the only values boolValue should ever have is true or false.0 and 1 for example shouldn't be in that variable.

2013-03-13 18:50:12Z

Today I've gotten a remark about code considering the way I check whether a variable is true or false in a school assignment.The code which I had written was something like this:They said it was better/neater to write it like this:The remark which I have gotten about the "=== true" part was that it was not needed and could create confusion.However my idea is that it is better to check whether the variable is a boolean or not, especially since Javascript is a loosetyped language.In the second example a string would also return "something";So my question; Is it neater to loose the "=== true" part in the future, or is it good practise to check the type of the variable as well.Edit:

In my "real" code the boolean represents whether an image has been deleted or not, so the only values boolValue should ever have is true or false.0 and 1 for example shouldn't be in that variable.First off, the facts:Will satisfy the if statement for any truthy value of booleanValue including true, any non-zero number, any non-empty string value, any object or array reference, etc... On the other hand:This will only satisfy the if condition if booleanValue is exactly equal to true.  No other truthy value will satisfy it.On the other hand if you do this:Then, what Javascript will do is type coerce true to match the type of someVar and then compare the two variables.  There are lots of situations where this is likely not what one would intend.  Because of this, in most cases you want to avoid == because there's a fairly long set of rules on how Javascript will type coerce two things to be the same type and unless you understand all those rules and can anticipate everything that the JS interpreter might do when given two different types (which most JS developers cannot), you probably want to avoid == entirely.As an example of how confusing it can be:For the value 2, you would think that 2 is a truthy value so it would compare favorably to true, but that isn't how the type coercion works.  It is converting the right hand value to match the type of the left hand value so its converting true to the number 1 so it's comparing 2 == 1 which is certainly not what you likely intended.So, buyer beware.  It's likely best to avoid == in nearly all cases unless you explicitly know the types you will be comparing and know how all the possible types coercion algorithms work.So, it really depends upon the expected values for booleanValue and how you want the code to work.  If you know in advance that it's only ever going to have a true or false value, then comparing it explicitly with is just extra code and unnecessary andis more compact and arguably cleaner/better.If, on the other hand, you don't know what booleanValue might be and you want to test if it is truly set to true with no other automatic type conversions allowed, then is not only a good idea, but required.For example, if you look at the implementation of .on() in jQuery, it has an optional return value.  If the callback returns false, then jQuery will automatically stop propagation of the event.  In this specific case, since jQuery wants to ONLY stop propagation if false was returned, they check the return value explicity for === false because they don't want undefined or 0 or "" or anything else that will automatically type-convert to false to also satisfy the comparison.For example, here's the jQuery event handling callback code:You can see that jQuery is explicitly looking for ret === false.But, there are also many other places in the jQuery code where a simpler check is appropriate given the desire of the code.  For example:If you write: if(x === true) , It will be true for only x = trueIf you write: if(x) , it will be true for any x that is not: '' (empty string), false, null, undefined, 0, NaN.In the plain "if" the variable will be coerced to a Boolean and it uses toBoolean on the object:-But comparison with === does not have any type coercion, so they must be equal without coercion.If you are saying that the object may not even be a Boolean then you may have to consider more than just true/false.It depends on your usecase. It may make sense to check the type too, but if it's just a flag, it does not.In general, it is cleaner and simpler to omit the === true.However, in Javascript, those statements are different.  if (booleanValue) will execute if booleanValue is truthy – anything other than 0, false, '', NaN, null, and undefined.if (booleanValue === true) will only execute if booleanValue is precisely equal to true.The identity (===) operator behaves identically to the equality (==) operator except no type conversion is done, and the types must be the same to be considered equal. Since the checked value is Boolean it's preferred to use it directly for less coding and at all it did same ==true Since you already initialized clearly as bool, I think === operator is not required.I think that your reasoning is sound.  But in practice I have found that it is far more common to omit the === comparison.  I think that there are three reasons for that:Consider this example:I think that this kind of code is not uncommon.  It handles cases where getInput() returns undefined, null, or an empty string.  Due to the two boolean evaluations submitInput() is only called if the given input is a string that contains non-whitespace characters.In JavaScript && returns its first argument if it is falsy or its second argument if the first argument is truthy; so normalized will be undefined if someString was undefined and so forth.  That means that none of the inputs to the boolean expressions above are actually boolean values.I know that a lot of programmers who are accustomed to strong type-checking cringe when seeing code like this.  But note applying strong typing would likely require explicit checks for null or undefined values, which would clutter up the code.  In JavaScript that is not needed.This depends. If you are concerned that your variable could end up as something that resolves to TRUE. Then hard checking is a must. Otherwise it is up to you. However, I doubt that the syntax whatever == TRUE would ever confuse anyone who knew what they were doing.If the variable can only ever take on boolean values, then it's reasonable to use the shorter syntax.If it can potentially be assigned other types, and you need to distinguish true from 1 or "foo", then you must use === true.In Javascript the idea of boolean is fairly ambiguous. Consider this:So when you're using an if statement, (or any other control statement), one does not have to use a "boolean" type var. Therefore, in my opinion, the "=== true" part of your statement is unnecessary if you know it is a boolean, but absolutely necessary if your value is an ambiguous "truthy" var. More on booleans in javscript can be found here.Revisa https://www.w3schools.com/js/js_comparisons.asp example:=== means same type also same value

== just same valueAlso can be tested with Boolean object, if you need to test an object

error={Boolean(errors.email)} 

How to get the element clicked (for the whole document)?

user1145216

[How to get the element clicked (for the whole document)?](https://stackoverflow.com/questions/9012537/how-to-get-the-element-clicked-for-the-whole-document)

I would like to get the current element (whatever element that is) in an HTML document that I clicked. I am using:But very strangely, I get the text of the whole(!) document, not the clicked element.How to get only the element I clicked on?If I click on the "test" text, I would like to be able to read the attribute with $(this).attr("myclass") in jQuery. 

2012-01-26 00:37:28Z

I would like to get the current element (whatever element that is) in an HTML document that I clicked. I am using:But very strangely, I get the text of the whole(!) document, not the clicked element.How to get only the element I clicked on?If I click on the "test" text, I would like to be able to read the attribute with $(this).attr("myclass") in jQuery. You need to use the event.target which is the element which originally triggered the event. The this in your example code refers to document.In jQuery, that's...Without jQuery...Also, ensure if you need to support < IE9 that you use attachEvent() instead of addEventListener().to get the text from clicked elementuse the following inside the body tagthen use in javascript the following function to get the IDYou can find the target element in event.target:References:Use delegate and event.target. delegate takes advantage of the event bubbling by letting one element listen for, and handle, events on child elements. target is the jQ-normalized property of the event object representing the object from which the event originated.Demo: http://jsfiddle.net/xXTbP/I know this post is really old but, to get the contents of an element in reference to its ID, this is what I would do:Here's a solution that uses a jQuery selector so you can easily target tags of any class, ID, type etc.

Difference between \w and \b regular expression meta characters

Mahender

[Difference between \w and \b regular expression meta characters](https://stackoverflow.com/questions/11874234/difference-between-w-and-b-regular-expression-meta-characters)

Can anyone explain the difference between \b and \w regular expression metacharacters? It is my understanding that both these metacharacters are used for word boundaries. Apart from this, which meta character is efficient for multilingual content?

2012-08-08 22:38:56Z

Can anyone explain the difference between \b and \w regular expression metacharacters? It is my understanding that both these metacharacters are used for word boundaries. Apart from this, which meta character is efficient for multilingual content?The metacharacter \b is an anchor like the caret and the dollar sign. It matches at a position that is called a "word boundary". This match is zero-length.There are three different positions that qualify as word boundaries:Simply put: \b allows you to perform a "whole words only" search using a regular expression in the form of \bword\b. A "word character" is a character that can be used to form words. All characters that are not "word characters" are "non-word characters".In all flavors, the characters [a-zA-Z0-9_] are word characters. These are also matched by the short-hand character class \w. Flavors showing "ascii" for word boundaries in the flavor comparison recognize only these as word characters.\w stands for "word character", usually [A-Za-z0-9_]. Notice the inclusion of the underscore and digits.\B is the negated version of \b. \B matches at every position where \b does not. Effectively, \B matches at any position between two word characters as well as at any position between two non-word characters.\W is short for [^\w], the negated version of \w.\w matches a word character. \b is a zero-width match that matches a position character that has a word character on one side, and something that's not a word character on the other. (Examples of things that aren't word characters include whitespace, beginning and end of the string, etc.)\w matches a, b, c, d, e, and f in "abc def"

\b matches the (zero-width) position before a, after c, before d, and after f in "abc def"See: http://www.regular-expressions.info/reference.html/@Mahender, you probably meant the difference between \W (instead of \w) and \b. If not, then I would agree with @BoltClock and @jwismar above. Otherwise continue reading.\W would match any non-word character and so its easy to try to use it to match word boundaries. The problem is that it will not match the start or end of a line. \b is more suited for matching word boundaries as it will also match the start or end of a line. Roughly speaking (more experienced users can correct me here) \b can be thought of as (\W|^|$). [Edit: as @Ωmega mentions below, \b is a zero-length match so (\W|^|$) is not strictly correct, but hopefully helps explain the diff]Quick example: For the string Hello World, .+\W would match Hello_ (with the space) but will not match World. .+\b would match both Hello and World.Matches at a position that is followed by a word character but not preceded by a word character, or that is preceded by a word character but not followed by a word character.It always matches the ASCII characters [A-Za-z0-9_]Is there anything specific you are trying to match?Some useful regex websites for beginners or just to wet your appetite.I found this to be a very useful book:\w is not a word boundary, it matches any word character, including underscores: [a-zA-Z0-9_]. \b is a word boundary, that is, it matches the position between a word and a non-alphanumeric character: \W or [^\w].These implementations may vary from language to language though. 

Remove querystring from URL

Mathias F

[Remove querystring from URL](https://stackoverflow.com/questions/2540969/remove-querystring-from-url)

What is an easy way to remove the querystring from a Path in Javascript?

I have seen a plugin for Jquery that uses window.location.search. I can not do that: The URL in my case is a variable that is set from AJAX.

2010-03-29 20:18:31Z

What is an easy way to remove the querystring from a Path in Javascript?

I have seen a plugin for Jquery that uses window.location.search. I can not do that: The URL in my case is a variable that is set from AJAX.An easy way to get this is:For those who also wish to remove the hash (not part of the original question) when no querystring exists, that requires a little bit more:EDIT@caub (originally @crl) suggested a simpler combo that works for both query string and hash (though it uses RegExp, in case anyone has a problem with that):2nd Update: In attempt to provide a comprehensive answer, I am benchmarking the three methods proposed in the various answers.Results in Firefox 3.5.8 on Mac OS X 10.6.2:Results in Chrome 5.0.307.11 on Mac OS X 10.6.2:Note that the substring method is inferior in functionality as it returns a blank string if the URL does not contain a querystring. The other two methods would return the full URL, as expected. However it is interesting to note that the substring method is the fastest, especially in Firefox.1st UPDATE: Actually the split() method suggested by Robusto is a better solution that the one I suggested earlier, since it will work even when there is no querystring:Original Answer:This may be an old question but I have tried this method to remove query params. Seems to work smoothly for me as I needed a reload as well combined with removing of query params.Also since I am using simple string addition operation I am guessing the performance will be good. But Still worth comparing with snippets in this answerA simple way is you can do as followsIf you're into RegEx....If using backbone.js (which contains url anchor as route), url query string may appear:Solution:If you need to perform complex operation on URL, you can take a look to the jQuery url parser plugin.An approach using the standard URL:That's how I did it, also has RegEx support.

How can I perform a str_replace in JavaScript, replacing text in JavaScript?

Vish

[How can I perform a str_replace in JavaScript, replacing text in JavaScript?](https://stackoverflow.com/questions/5519368/how-can-i-perform-a-str-replace-in-javascript-replacing-text-in-javascript)

I want to use str_replace or its similar alternative to replace some text in JavaScript.should give 

2011-04-01 22:06:41Z

I want to use str_replace or its similar alternative to replace some text in JavaScript.should give Using regex for string replacement is significantly slower than using a string replace.

As demonstrated on JSPerf, you can have different levels of efficiency for creating a regex, but all of them are significantly slower than a simple string replace. The regex is slower because:For a simple test run on the JS perf page, I've documented some of the results:The results for Chrome 68 are as follows:From the sake of completeness of this answer (borrowing from the comments), it's worth mentioning that .replace only replaces the first instance of the matched character. Its only possible to replace all instances with //g. The performance trade off and code elegance could be argued to be worse if replacing multiple instances name.replace(' ', '_').replace(' ', '_').replace(' ', '_'); or worse while (name.includes(' ')) { name = name.replace(' ', '_') }You would use the replace method:The first argument is what you're looking for, obviously. It can also accept regular expressions.Just remember that it does not change the original string. It only returns the new value.More simply: Replaces all spaces with '_'!All these methods don't modify original value, returns new strings.Replaces 1st space with _Replaces all spaces with _ using regex. If you need to use regex, then i recommend testing it with https://regex101.com/Replaces all spaces with _ without regex. Functional way.You should write something like that :The code that others are giving you only replace one occurrence, while using regular expressions replaces them all (like @sorgit said). To replace all the "want" with "not want", us this code:The variable "new_text" will result in being "this is some sample text that i dont want to replace".To get a quick guide to regular expressions, go here:

http://www.cheatography.com/davechild/cheat-sheets/regular-expressions/

To learn more about str.replace(), go here:

https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/replace

Good luck!Not necessarily.

see the Hans Kesting answer:hm.. Did you check replace() ?Your code will look like thisIn JavaScript, you call the replace method on the String object, e.g. "this is some sample text that i want to replace".replace("want", "dont want"), which will return the replaced string.JavaScript has replace() method of String object for replacing substrings. This method can have two arguments. The first argument can be a string or a regular expression pattern (regExp object) and the second argument can be a string or a function. An example of replace() method having both string arguments is shown below.Note that if the first argument is the string, only the first occurrence of the substring is replaced as in the example above. To replace all occurrences of the substring you need to provide a regular expression with a g (global) flag. If you do not provide the global flag, only the first occurrence of the substring will be replaced even if you provide the regular expression as the first argument. So let's replace all occurrences of one in the above example. Note that you do not wrap the regular expression pattern in quotes which will make it a string not a regExp object. To do a case insensitive replacement you need to provide additional flag i which makes the pattern case-insensitive. In that case the above regular expression will be /one/gi. Notice the i flag added here.If the second argument has a function and if there is a match the function is passed with three arguments. The arguments the function gets are the match, position of the match and the original text. You need to return what that match should be replaced with. For example,You can have more control over the replacement text using a function as the second argument.You can use And to change multiple values in one string at once, for example to change # to string v and _ to string w:There are already multiple answers using str.replace() (which is fair enough for this question) and regex but you can use combination of str.split() and join() together which is faster than str.replace() and regex.Below is working example:If you really want a equivalent to PHP's str_replace you can use Locutus. PHP's version of str_replace support more option then what the JavaScript String.prototype.replace supports.

For example tags:or array'sAlso this doesn't use regex instead it uses for loops. If you not want to use regex but want simple string replace you can use something like this ( based on Locutus ) for more info see the source code https://github.com/kvz/locutus/blob/master/src/php/strings/str_replace.jsYou have the following options:More info -> hereIn Javascript, replace function available to replace sub-string from given string with new one.

Use:You can even use regular expression with this function. For example, if want to replace all occurrences of , with ..Here g modifier used to match globally all available matches.Method to replace substring in a sentence using React:RunMethodHereIf you don't want to use regex then you can use this function which will replace all in a stringUse JS String.prototype.replace first argument should be Regex pattern or String and Second argument should be a String or function.str.replace(regexp|substr, newSubStr|function);Ex:var str = 'this is some sample text that i want to replace';

var newstr = str.replace(/want/i, "dont't want");

document.write(newstr);  // this is some sample text that i don't want to replaceYou do not need additional libraries. Added a method replace_in_javascript which will satisfy your requirement. Also found that you are writing a string "new_text" in document.write() which is supposed to refer to a variable new_text.

Get viewport/window height in ReactJS

Jabran Saeed

[Get viewport/window height in ReactJS](https://stackoverflow.com/questions/36862334/get-viewport-window-height-in-reactjs)

How do I get the viewport height in ReactJS? In normal JavaScript I usebut using ReactJS, I'm not sure how to get this information. My understanding is thatonly works for components created. However this is not the case for the document or body element, which could give me height of the window.

2016-04-26 10:31:17Z

How do I get the viewport height in ReactJS? In normal JavaScript I usebut using ReactJS, I'm not sure how to get this information. My understanding is thatonly works for components created. However this is not the case for the document or body element, which could give me height of the window.This answer is similar to Jabran Saeed's, except it handles window resizing as well. I got it from here.Using Hooks (React 16.8.0+)Create a useWindowDimensions hook.And after that you'll be able to use it in your components like thisWorking example Original answerIt's the same in React, you can use window.innerHeight to get the current viewport's height. As you can see here@speckledcarp 's answer is great, but can be tedious if you need this logic in multiple components. You can refactor it as an HOC (higher order component) to make this logic easier to reuse.withWindowDimensions.jsxThen in your main component:You can also "stack" HOCs if you have another you need to use, e.g. withRouter(withWindowDimensions(MyComponent))Edit: I would go with a React hook nowadays (example above here), as they solve some of the advanced issues with HOCs and classesI just spent some serious time figuring some things out with React and scrolling events / positions - so for those still looking, here's what I found:The viewport height can be found by using window.innerHeight or by using document.documentElement.clientHeight.  (Current viewport height)The height of the entire document (body) can be found using window.document.body.offsetHeight.If you're attempting to find the height of the document and know when you've hit the bottom - here's what I came up with:(My navbar was 72px in fixed position, thus the -72 to get a better scroll-event trigger)Lastly, here are a number of scroll commands to console.log(), which helped me figure out my math actively.Whew!  Hope it helps someone!I've just edited QoP's current answer to support SSR and use it with Next.js (React 16.8.0+):/hooks/useWindowDimensions.js:/yourComponent.js:Answers by @speckledcarp and @Jamesl are both brilliant. In my case, however, I needed a component whose height could extend the full window height, conditional at render time.... but calling a HOC within render() re-renders the entire subtree. BAAAD.Plus, I wasn't interested in getting the values as props but simply wanted a parent div that would occupy the entire screen height (or width, or both).So I wrote a Parent component providing a full height (and/or width) div. Boom.A use case:Here's the component:You can also try this:

How to check if a number is between two values?

Dyck

[How to check if a number is between two values?](https://stackoverflow.com/questions/14718561/how-to-check-if-a-number-is-between-two-values)

In JavaScript, I'm telling the browser to do something if the window size is greater than 500px. I do it like so:This works great, but I would like to apply this same method, but with a range of numbers. So I would like to tell my browser to do stuff if the window size is between 500px and 600px. I know this wouldn't work, but here is how I imagined it:Is this even possible, within JavaScript?

2013-02-05 22:56:54Z

In JavaScript, I'm telling the browser to do something if the window size is greater than 500px. I do it like so:This works great, but I would like to apply this same method, but with a range of numbers. So I would like to tell my browser to do stuff if the window size is between 500px and 600px. I know this wouldn't work, but here is how I imagined it:Is this even possible, within JavaScript?Tests whether windowsize is greater than 500 and lesser than 600 meaning that neither values 500 or 600 itself will result in the condition becoming true.I had a moment, so, although you've already accepted an answer, I thought I'd contribute the following:JS Fiddle demo.Or, if you'd prefer to have the option to check a number is in the defined range including the end-points:JS Fiddle demo.Edited to add a minor amendment to the above, given that – as noted in the comments –it was worth removing the use of Function.prototype.apply(), which yields the amended versions of the above methods, firstly without the 'inclusive' option:JS Fiddle demo.And with the 'inclusive' option:JS Fiddle demo.References:I prefer to put the variable on the inside to give an extra hint that the code is validating my variable is between a range valuesIt's an old question, however might be useful for someone like me.lodash has _.inRange() function https://lodash.com/docs/4.17.4#inRangeExample:Please note that this method utilizes the Lodash utility library, and requires access to an installed version of Lodash.You can use Multiple clause in if condition instead of writingbecause this really makes no sense

logically JavaScript will read your if condition like because it calculates 500-600 to -100You should use && for strict checking both cases for example which will look like this I just implemented this bit of jQuery to show and hide bootstrap modal values. Different fields are displayed based on the value range of a users textbox entry.

No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '…' is therefore not allowed access

Th3lmuu90

[No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '…' is therefore not allowed access](https://stackoverflow.com/questions/20433655/no-access-control-allow-origin-header-is-present-on-the-requested-resource-or)

I'm using .htaccess to rewrite urls and I used html base tag in order to make it work.Now, when I try to make an ajax request I get the following error:

2013-12-06 21:13:03Z

I'm using .htaccess to rewrite urls and I used html base tag in order to make it work.Now, when I try to make an ajax request I get the following error:Use addHeader Instead of using setHeader method,* in above line will allow access to all domains. For allowing access to specific domain only:Check this blog post.JavaScript code is limited by the same-origin policy, meaning, from a page at www.example.com, you can only make (AJAX) requests to services located at exactly the same domain, in that case, exactly www.example.com (not example.com - without the www - or whatever.example.com).In your case, your Ajax code is trying to reach a service in http://wordicious.com from a page located at http://www.wordicious.com.Although very similar, they are not the same domain. And when they are not on the same domain, the request will only be successful if the target's respose contains a Access-Control-Allow-Origin header in it.As your page/service at http://wordicious.com was never configured to present such header, that error message is shown.As said, the origin (where the page with JavaScript is at) and the target (where the JavaScript is trying to reach) domains must be the exact same.Your case seems like a typo. Looks like http://wordicious.com and http://www.wordicious.com are actually the same server/domain. So to fix, type the target and the origin equally: make you Ajax code request pages/services to http://www.wordicious.com not http://wordicious.com. (Maybe place the target URL relatively, like '/login.php', without the domain).If the problem is not a typo like the one of this question seems to be, the solution would be to add the Access-Control-Allow-Origin to the target domain. To add it, depends, of course, of the server/language behind that address. Sometimes a configuration variable in the tool will do the trick. Other times you'll have to add the headers through code yourself.For .NET server can configure this in web.config as shown belowFor instance lets say, if the server domain is http://live.makemypublication.com and client is  http://www.makemypublication.com then configure in server's web.config as belowIf you get this error message from the browser: when you're trying to do an Ajax POST/GET request to a remote server which is out of your control, please forget about this simple fix:What you really need to do, especially if you only use JavaScript to do the Ajax request, is an internal proxy who takes your query and send it through to the remote server.First in your JavaScript, do an Ajax call to your own server, something like:Then, create a simple PHP file called proxy.php to wrap your POST data and append them to the remote URL server as a parameters. I give you an example of how I bypass this problem with the Expedia Hotel search API:By doing:You are just doing the same query but on the server side and after that, it should works fine.You need to add this at start of your php page "login.php"you have to put the headers keys/values in options method response.

for example if you have resource at http://mydomain.com/myresource

then, in your server code you writeBasically  alter API header response by adding following additional parameters.Access-Control-Allow-Credentials: trueAccess-Control-Allow-Origin: *But this is not good solution when it comes to the securityThe workaround is to use a reverse proxy running on your 'source' host and forwarding to your target server, such as Fiddler:Link here:

http://docs.telerik.com/fiddler/configure-fiddler/tasks/usefiddlerasreverseproxyOr an Apache Reverse proxy...Add this to you PHP file or main controllerSolved with below entry in httpd.confPleaes find the Function used in XMLHTTPREQUEST in Javascript for setting up the request headers.Reference: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/setRequestHeader

How to terminate the script in JavaScript?

Nir

[How to terminate the script in JavaScript?](https://stackoverflow.com/questions/550574/how-to-terminate-the-script-in-javascript)

How can I exit the JavaScript script much like PHP's exit or die? I know it's not the best programming practice but I need to.

2009-02-15 09:14:49Z

How can I exit the JavaScript script much like PHP's exit or die? I know it's not the best programming practice but I need to.JavaScript equivalent for PHP's die. BTW it just calls exit() (thanks splattne):"exit" functions usually quit the program or script along with an error message as paramete. For example die(...) in php The equivalent in JS is to signal an error with the throw keyword like this:You can easily test this:Even in simple programs without handles, events and such, it is best to put code in a "main" function, even when it is the only procedure :This way, when you want to stop the program you can use "return".There are many ways to exit a JS or Node script. Here are the most relevant:If you're in the REPL (i.e. after running node on the command line), you can type .exit to exit.If you don't care that it's an error just write:That will stop your main (global) code from proceeding.

Useful for some aspects of debugging/testing.In my case I used the window.stop API which is like clicking the X button on your browser:Place the debugger; keyword in your JavaScript code where you want to stop the execution. Then open your favorite browser's developer tools and reload the page. Now it should pause automatically. Open the Sources section of your tools: the debugger; keyword is highlighted and you have the option to resume script execution.I hope it helps.More information at:If you're looking for a way to forcibly terminate execution of all Javascript on a page, I'm not sure there is an officially sanctioned way to do that - it seems like the kind of thing that might be a security risk (although to be honest, I can't think of how it would be off the top of my head). Normally in Javascript when you want your code to stop running, you just return from whatever function is executing. (The return statement is optional if it's the last thing in the function and the function shouldn't return a value) If there's some reason returning isn't good enough for you, you should probably edit more detail into the question as to why you think you need it and perhaps someone can offer an alternate solution.Note that in practice, most browsers' Javascript interpreters will simply stop running the current script if they encounter an error. So you can do something like accessing an attribute of an unset variable:and it will probably abort the script. But you shouldn't count on that because it's not at all standard, and it really seems like a terrible practice.EDIT: OK, maybe this wasn't such a good answer in light of Ólafur's. Although the die() function he linked to basically implements my second paragraph, i.e. it just throws an error.Is a misuse of the concept but probably the only option. And, yes, you will have to reset all event listeners, just like the accepted answer mentions. You would also need a single point of entry if I am right.On the top of it: You want a page which reports to you by email as soon as it throws - you can use for example Raven/Sentry for this. But that means, you produce yourself false positives. In such case, you also need to update the default handler to filter such events out or set such events on ignore on Sentry's dashboard.This does not work during the loading of the page. It stops decoding of the page as well. So you cannot really use it to offer user a javascript-free variant of your page.Stops execution only with debugger opened. Works great, but not a deliverable.I think this question has been answered, click here for more information. Below is the short answer it is posted.You can also used your browser to add break points, every browser is similar, check info below for your browser.For Chrome break points info click here

For Firefox break    points info click here

For Explorer break points info click

For Safari break points info click here   This little function comes pretty close to mimicking PHP's exit(). As with the other solutions, don't add anything else.Simply create a BOOL condition ,

no need for complicated code here..If even once you turn it to true/ or multiple times,

it will both give you one line of solution/not multiple -

basically simple as  that.If you use any undefined function in the script then script will stop due to "Uncaught ReferenceError". I have tried by following code and first two lines executed. I think, this is the best way to stop the script. If there's any other way then please comment me. I also want to know another best and simple way. BTW, I didn't get exit or  die inbuilt function in Javascript like PHP for terminate the script. If anyone know then please let me know.If you just want to stop further code from executing without "throwing" any error, you can temporarily override window.onerror as shown in cross-exit:i use this piece of code to stop execution: you will get a console error though but it works good for me.This is an example, that,

if a condition exist, then terminate the script.

I use this in my SSE client side javascript, if the canot be parsed right from JSON parse ...... anyway the general idea is:this will terminate/die your javasript scripti use return statement instead of throw as throw gives error in console. the best way to do it is to check the condition this simply stops the execution of the program from that line, instead of giving any errors in the console.

jQuery: more than one handler for same event

flybywire

[jQuery: more than one handler for same event](https://stackoverflow.com/questions/1491718/jquery-more-than-one-handler-for-same-event)

What happens if I bind two event handlers to the same event for the same element?For example:Does the last handler "win", or will both handlers be run?

2009-09-29 10:23:52Z

What happens if I bind two event handlers to the same event for the same element?For example:Does the last handler "win", or will both handlers be run?Both handlers will run, the jQuery event model allows multiple handlers on one element, therefore a later handler does not override an older handler.The handlers will execute in the order in which they were bound.Suppose that you have two handlers, f and g, and want to make sure that they are executed in a known and fixed order, then just encapsulate them:In this way there is (from the perspective of jQuery) only one handler, which calls f and g in the specified order.jQuery's .bind() fires in the order it was bound:Source: http://api.jquery.com/bind/Because jQuery's other functions (ex. .click()) are shortcuts for .bind('click', handler), I would guess that they are also triggered in the order they are bound.You should be able to use chaining to execute the events in sequence, e.g.:I guess the below code is doing the sameSource: http://www.peachpit.com/articles/article.aspx?p=1371947&seqNum=3TFM also says:Both handlers get called.You may be thinking of inline event binding (eg "onclick=..."), where a big drawback is only one handler may be set for an event.jQuery conforms to the DOM Level 2 event registration model:Made it work successfully using the 2 methods: Stephan202's encapsulation and multiple event listeners. I have 3 search tabs, let's define their input text id's in an Array:When the content of searchtab1 changes, I want to update searchtab2 and searchtab3. Did it this way for encapsulation:Multiple event listeners:I like both methods, but the programmer chose encapsulation, however multiple event listeners worked also. We used Chrome to test it.There is a workaround to guarantee that one handler happens after another: attach the second  handler to a containing element and let the event bubble up. In the handler attached to the container, you can look at event.target and do something if it's the one you're interested in.Crude, maybe, but it definitely should work.jquery will execute both handler since it allows multiple event handlers.

I have created sample code. You can try itdemo

ReactJS component names must begin with capital letters?

shaunakde

[ReactJS component names must begin with capital letters?](https://stackoverflow.com/questions/30373343/reactjs-component-names-must-begin-with-capital-letters)

I am playing around with the ReactJS framework on JSBin.I have noticed that if my component name starts with a lowercase letter it does not work.For instance the following does not render:But as soon as I replace the fml with Fml it does render. Is there a reason I cannot begin tags with small letters?

2015-05-21 12:09:50Z

I am playing around with the ReactJS framework on JSBin.I have noticed that if my component name starts with a lowercase letter it does not work.For instance the following does not render:But as soon as I replace the fml with Fml it does render. Is there a reason I cannot begin tags with small letters?In JSX, lower-case tag names are considered to be HTML tags. However, lower-case tag names with a dot (property accessor) aren't.See HTML tags vs React Components.@Alexandre Kirszenberg gave a very good answer, just wanted to add another detail. React used to contain a whitelist of well-known element names like div etc, which it used to differentiate between DOM elements and React components.But because maintaining that list isn't all that fun, and because web components makes it possible to create custom elements, they made it a rule that all React components must start with a upper case letter, or contain a dot.From the official React reference:Also note that:Which means one has to use:const Foo = foo; before using foo as a Component element in JSX.The first part of a JSX tag determines the type of the React element, basically there is some convention Capitalized, lowercase, dot-notation.Capitalized and dot-notation types indicate that the JSX tag is referring to a React component,

 so if you use the JSX <Foo /> compile to React.createElement(Foo)  OR  <foo.bar /> compile to React.createElement(foo.bar) and correspond to a component defined or imported in your JavaScript file.While the lowercase type indicate to a built-in component like <div> or <span> and results in a string 'div' or 'span' passed to React.createElement('div').React recommend naming components with a capital letter. If you do have a component that starts with a lowercase letter,

 assign it to a capitalized variable before using it in JSX.In JSX, React Classes are capitalized to make XML compatible, so that it is not mistaken for an HTML tag. If the react classes are not capitalized, it is an HTML tag as pre-defined JSX syntax.

Convert a string to a template string

KOLANICH

[Convert a string to a template string](https://stackoverflow.com/questions/29182244/convert-a-string-to-a-template-string)

Is it possible to create a template string as a usual stringan then convert it into a template stringwithout eval, new Function and other means of dynamic code generation?

2015-03-21 11:34:20Z

Is it possible to create a template string as a usual stringan then convert it into a template stringwithout eval, new Function and other means of dynamic code generation?As your template string must get reference to the b variable dynamicly (in runtime), so the answer is: NO, it impossible to do without dynamic code generation.But with eval it's pretty simple:In my project I've created something like this with ES6:UPDATE

I've removed lodash dependency, ES6 has equivalent methods to get keys and values.What you're asking for here:is exactly equivalent (in terms of power and, er, safety) to eval: the ability to take a string containing code and execute that code; and also the ability for the executed code to see local variables in the caller's environment.There is no way in JS for a function to see local variables in its caller, unless that function is eval(). Even Function() can't do it.When you hear there's something called "template strings" coming to JavaScript, it's natural to assume it's a built-in template library, like Mustache. It isn't. It's mainly just string interpolation and multiline strings for JS. I think this is going to be a common misconception for a while, though. :(No, there is not a way to do this without dynamic code generation. However, I have created a function which will turn a regular string into a function which can be provided with a map of values, using template strings internally.Generate Template String GistUsage:Hope this helps somebody. If you find a problem with the code, please be so kind as to update the Gist.The issue here is to have a function that has access to the variables of its caller. This is why we see direct eval being used for template processing. A possible solution would be to generate a function taking formal parameters named by a dictionary's properties, and calling it with the corresponding values in the same order. An alternative way would be to have something simple as this:And for anyone using Babel compiler we need to create closure which remembers the environment in which it was created:TLDR:

https://jsfiddle.net/w3jx07vt/Everyone seems to be worried about accessing variables, why not just pass them? I'm sure it wont be too hard to get the variable context in the caller and pass it down. Use this https://stackoverflow.com/a/6394168/6563504 to get the props from obj. I can't test for you right now, but this should work.Tested. Here is full code.You can use the string prototype, for exampleBut the answer of the original question is no way.Similar to Daniel's answer (and s.meijer's gist) but more readable:Note: This slightly improves s.meijer's original, since it won't match things like ${foo{bar} (the regex only allows non-curly brace characters inside ${ and }).UPDATE: I was asked for an example using this, so here you go:I required this method with support for Internet Explorer. It turned out the back ticks aren't supported by even IE11. Also; using eval or it's equivalent Function doesn't feel right.For the one that notice; I also use backticks, but these ones are removed by compilers like babel. The methods suggested by other ones, depend on them on run-time. As said before; this is an issue in IE11 and lower.So this is what I came up with:Example output:I currently can't comment on existing answers so I am unable to directly comment on Bryan Raynor's excellent response. Thus, this response is going to update his answer with a slight correction.In short, his function fails to actually cache the created function, so it will always recreate, regardless of whether it's seen the template before. Here is the corrected code:I liked s.meijer's answer and wrote my own version based on his:@Mateusz Moska, solution works great, but when i used it in React Native(build mode), it throws an error: Invalid character '`', though it works when i run it in debug mode.So i wrote down my own solution using regex.Demo: https://es6console.com/j31pqx1p/NOTE: Since I don't know the root cause of an issue, i raised a ticket in react-native repo, https://github.com/facebook/react-native/issues/14107, so that once they can able to fix/guide me about the same :) Still dynamic but seems more controlled than just using a naked eval:https://repl.it/IdVt/3There are many good solutions posted here, but none yet which utilizes the ES6 String.raw method. Here is my contriubution. It has an important limitation in that it will only accept properties from a passed in object, meaning no code execution in the template will work.This solution works without ES6:Note: the Function constructor is always created in the global scope, which could potentially cause global variables to be overwritten by the template, e.g. render("hello ${ someGlobalVar = 'some new value' }", {name:'mo'});Since we're reinventing the wheel on something that would be a lovely feature in javascript.I use eval(), which is not secure, but javascript is not secure. I readily admit that I'm not excellent with javascript, but I had a need, and I needed an answer so I made one.I chose to stylize my variables with an @ rather than an $, particularly because I want to use the multiline feature of literals without evaluating til it's ready. So variable syntax is @{OptionalObject.OptionalObjectN.VARIABLE_NAME}I am no javascript expert, so I'd gladly take advice on improvement but...A very simple implementation followsIn my actual implementation, I choose to use @{{variable}}. One more set of braces. Absurdly unlikely to encounter that unexpectedly. The regex for that would look like /\@\{\{(.*?)(?!\@\{\{)\}\}/gTo make that easier to readIf you're not experienced with regex, a pretty safe rule is to escape every non-alphanumeric character, and don't ever needlessly escape letters as many escaped letters have special meaning to virtually all flavors of regex.You should try this tiny JS module, by Andrea Giammarchi, from github :

https://github.com/WebReflection/backtick-templateDemo (all the following tests return true):I made my own solution doing a type with a description as a functionand so doing:

How can I group data with an Angular filter?

Benny Bottema

[How can I group data with an Angular filter?](https://stackoverflow.com/questions/14800862/how-can-i-group-data-with-an-angular-filter)

I have a list of players which belong to a group each. How can I use a filter to list the users per group?I'm looking for this result:

2013-02-10 18:06:08Z

I have a list of players which belong to a group each. How can I use a filter to list the users per group?I'm looking for this result:You can use groupBy of angular.filter module.

so you can do something like this:JS:HTML:RESULT:

  Group name: alpha

    * player: Gene

  Group name: beta

    * player: George

    * player: Paula

  Group name: gamma

    * player: Steve

    * player: ScruathUPDATE: jsbin Remember the basic requirements to use angular.filter, specifically note you must add it to your module's dependencies:In addition to the accepted answers above I created a generic 'groupBy' filter using the underscore.js library.JSFiddle (updated):

http://jsfiddle.net/TD7t3/The filterNote the 'memoize' call. This underscore method caches the result of the function and stops angular from evaluating the filter expression every time, thus preventing angular from reaching the digest iterations limit.The htmlWe apply our 'groupBy' filter on the teamPlayers scope variable, on the 'team' property. Our ng-repeat receives a combination of (key, values[]) that we can use in our following iterations.Update June 11th 2014

I expanded the group by filter to account for the use of expressions as the key (eg nested variables). The angular parse service comes in quite handy for this:The filter (with expression support)The controller (with nested objects)The html (with sortBy expression)JSFiddle:

http://jsfiddle.net/k7fgB/2/First do a loop using a filter that will return only unique teams, and then a nested loop that returns all players per current team:http://jsfiddle.net/plantface/L6cQN/html:script:I originally used Plantface's answer, but I didn't like how the syntax looked in my view.I reworked it to use $q.defer to post-process the data and return a list on unique teams, which is then uses as the filter.http://plnkr.co/edit/waWv1donzEMdsNMlMHBa?p=previewBoth answers were good so I moved them in to a directive so that it is reusable and a second scope variable doesn't have to be defined.Here is the fiddle if you want to see it implementedBelow is the directive:Then it can be used as follows:I initially wrote this answer because the old version of the solution suggested by Ariel M. when combined with other $filters triggered an "Infite $diggest Loop Error" (infdig). Fortunately this issue has been solved in the latest version of the angular.filter. I suggested the following implementation, that didn't have that issue:However, this implementation will only work with versions prior to Angular 1.3. (I will update this answer shortly providing a solution that works with all versions.)I've actually wrote a post about the steps that I took to develop this $filter, the problems that I encountered and the things that I learned from it. In addition to the accepted answer you can use this if you want to group by multiple columns:If you need that in js code. You can use  injected method of angula-filter lib. 

Like this.https://github.com/a8m/angular-filter/wiki/Common-Questions#inject-filters

Javascript: negative lookbehind equivalent?

Andrew Ensley

[Javascript: negative lookbehind equivalent?](https://stackoverflow.com/questions/641407/javascript-negative-lookbehind-equivalent)

Is there a way to achieve the equivalent of a negative lookbehind in javascript regular expressions?  I need to match a string that does not start with a specific set of characters.It seems I am unable to find a regex that does this without failing if the matched part is found at the beginning of the string.  Negative lookbehinds seem to be the only answer, but javascript doesn't have one.EDIT:

This is the regex that I would like to work, but it doesn't:(?<!([abcdefg]))mSo it would match the 'm' in 'jim' or 'm', but not 'jam'

2009-03-13 03:50:38Z

Is there a way to achieve the equivalent of a negative lookbehind in javascript regular expressions?  I need to match a string that does not start with a specific set of characters.It seems I am unable to find a regex that does this without failing if the matched part is found at the beginning of the string.  Negative lookbehinds seem to be the only answer, but javascript doesn't have one.EDIT:

This is the regex that I would like to work, but it doesn't:(?<!([abcdefg]))mSo it would match the 'm' in 'jim' or 'm', but not 'jam'Lookbehind Assertions got accepted into the ECMAScript specification in 2018. So far, it is only implemented in V8. So, if you're developing for a Chrome-only environment (such as Electron), or Node, you can start using lookbehinds today!Positive lookbehind usage:

Negative lookbehind usage:

Platform support:Since 2018, Lookbehind Assertions are part of the ECMAScript language specification.Answer pre-2018As Javascript supports negative lookahead, one way to do it is:Example 1:Following @andrew-ensley's question:Outputs:Example 2:Following @neaumusic comment (match max-height but not line-height, the token being height):Outputs:Let's suppose you want to find all int not preceded by unsigned:With support for negative look-behind:Without support for negative look-behind:Basically idea is to grab n preceding characters and exclude match with negative look-ahead, but also match the cases where there's no preceeding n characters. (where n is length of look-behind).So the regex in question:would translate to:You might need to play with capturing groups to find exact spot of the string that interests you or you want to replace specific part with something else.Mijoja's strategy works for your specific case but not in general:Here's an example where the goal is to match a double-l but not if it is preceded by "ba". Note the word "balll" -- true lookbehind should have suppressed the first 2 l's but matched the 2nd pair. But by matching the first 2 l's and then ignoring that match as a false positive, the regexp engine proceeds from the end of that match, and ignores any characters within the false positive.UseYou could define a non-capturing group by negating your character set:...which would match every m NOT preceded by any of those letters.This is how I achieved str.split(/(?<!^)@/) for Node.js 8 (which doesn't support lookbehind):Works? Yes (unicode untested). Unpleasant? Yes.following the idea of Mijoja, and drawing from the problems exposed by JasonS, i had this idea; i checked a bit but am not sure of myself, so a verification by someone more expert than me in js regex would be great :)my personal output:the principle is to call checker at each point in the string between any two characters, whenever that position is the starting point of:--- any substring of the size of what is not wanted (here 'ba', thus ..) (if that size is known; otherwise it must be harder to do perhaps)--- --- or smaller than that if it's the beginning of the string: ^.?and, following this,--- what is to be actually sought (here 'll').At each call of checker, there will be a test to check if the value before ll is not what we don't want (!== 'ba'); if that's the case, we call another function, and it will have to be this one (doer) that will make the changes on str, if the purpose is this one, or more generically, that will get in input the necessary data to manually process the results of the scanning of str.here we change the string so we needed to keep a trace of the difference of length in order to offset the locations given by replace, all calculated on str, which itself never changes.since primitive strings are immutable, we could have used the variable str to store the result of the whole operation, but i thought the example, already complicated by the replacings, would be clearer with another variable (str_done).i guess that in terms of performances it must be pretty harsh: all those pointless replacements of '' into '', this str.length-1 times, plus here manual replacement by doer, which means a lot of slicing...

probably in this specific above case that could be grouped, by cutting the string only once into pieces around where we want to insert [match] and .join()ing it with [match] itself.the other thing is that i don't know how it would handle more complex cases, that is, complex values for the fake lookbehind... the length being perhaps the most problematic data to get.and, in checker, in case of multiple possibilities of nonwanted values for $behind, we'll have to make a test on it with yet another regex (to be cached (created) outside checker is best, to avoid the same regex object to be created at each call for checker) to know whether or not it is what we seek to avoid.hope i've been clear; if not don't hesitate, i'll try better. :)Using your case, if you want to replace m with something, e.g. convert it to uppercase M, you can negate set in capturing group.match ([^a-g])m, replace with $1M([^a-g]) will match any char not(^) in  a-g range, and store it in first capturing group, so you can access it with $1.So we find im in jim and replace it with iM which results in jiM.As mentioned before, JavaScript allows lookbehinds now. In older browsers you still need a workaround.I bet my head there is no way to find a regex without lookbehind that delivers the result exactly. All you can do is working with groups. Suppose you have a regex (?<!Before)Wanted, where Wanted is the regex you want to match and Before is the regex that counts out what should not precede the match. The best you can do is negate the regex Before and use the regex NotBefore(Wanted). The desired result is the first group $1.In your case Before=[abcdefg] which is easy to negate NotBefore=[^abcdefg]. So the regex would be [^abcdefg](m). If you need the position of Wanted, you must group NotBefore too, so that the desired result is the second group. If matches of the Before pattern have a fixed length n, that is, if the pattern contains no repetitive tokens, you can avoid negating the Before pattern and use the regular expression (?!Before).{n}(Wanted), but still have to use the first group or use the regular expression (?!Before)(.{n})(Wanted) and use the second group. In this example, the pattern Before actually has a fixed length, namely 1, so use the regex (?![abcdefg]).(m) or (?![abcdefg])(.)(m). If you are interested in all matches, add the g flag, see my code snippet:This effectively does itSearch and replace exampleNote that the negative look-behind string must be 1 character long for this to work./(?![abcdefg])[^abcdefg]m/gi

yes this is a trick.This might help, depending on the context:This matches the m in jim but not jam:

Add a duration to a moment (moment.js)

Paul H

[Add a duration to a moment (moment.js)](https://stackoverflow.com/questions/17333425/add-a-duration-to-a-moment-moment-js)

Moment version: 2.0.0After reading the docs, I thought this would be straight-forward (Chrome console):This is a trivial example, but I can't even get it to work. I feel like I'm missing something big here, but I really don't get it. Even this this doesn't seem to work:Any help would be much appreciated.Edit:

My end goal is to make an binary status chart like the one I'm working on here:

http://bl.ocks.org/phobson/5872894As you can see, I'm currently using dummy x-values while I work through this issue.

2013-06-27 02:08:45Z

Moment version: 2.0.0After reading the docs, I thought this would be straight-forward (Chrome console):This is a trivial example, but I can't even get it to work. I feel like I'm missing something big here, but I really don't get it. Even this this doesn't seem to work:Any help would be much appreciated.Edit:

My end goal is to make an binary status chart like the one I'm working on here:

http://bl.ocks.org/phobson/5872894As you can see, I'm currently using dummy x-values while I work through this issue.I think you missed a key point in the documentation for .add()You appear to be treating it as a function that returns the immutable result.  Easy mistake to make.  :)If you use the return value, it is the same actual object as the one you started with.  It's just returned as a convenience for method chaining.You can work around this behavior by cloning the moment, as described here.Also, you cannot just use == to test.  You could format each moment to the same output and compare those, or you could just use the .isSame() method.Your code is now:I am working on an application in which we track live route. Passenger wants to show current position of driver and the expected arrival time to reach at his/her location. So I need to add some duration into current time. So I found the below mentioned way to do the same.

We can add any duration(hour,minutes and seconds) in our current time by moment:It fulfills my requirement. May be it can help you.For people having a startTime (like 12h:30:30) and a duration (value in minutes like 120), you can guess the endTime like so:

How to perform a real time search and filter on a HTML table

samiles

[How to perform a real time search and filter on a HTML table](https://stackoverflow.com/questions/9127498/how-to-perform-a-real-time-search-and-filter-on-a-html-table)

I've been Googling and searching Stack Overflow for a while, but I just can't get around this problem.I have a standard HTML table, containing, say, fruit. Like so:Above this I have a text box, which I would like to search the table as a user types. So, if they type Gre for example, the Orange row of the table would disapear, leaving the Apple and Grapes. If they carried on and typed Green Gr the Apple row should disapear, leaving just grapes. I hope this is clear.And, should the user delete some or all of their query from the text box, I should like all of the rows that now match the query to reappear.While I know how to remove a table row in jQuery, I have little idea about how to go about doing the search and removing rows selectively based on this. Is there a simple solution to this? Or a plugin?If anyone could point me in the right direction it would be brilliant.Thank you.

2012-02-03 10:55:49Z

I've been Googling and searching Stack Overflow for a while, but I just can't get around this problem.I have a standard HTML table, containing, say, fruit. Like so:Above this I have a text box, which I would like to search the table as a user types. So, if they type Gre for example, the Orange row of the table would disapear, leaving the Apple and Grapes. If they carried on and typed Green Gr the Apple row should disapear, leaving just grapes. I hope this is clear.And, should the user delete some or all of their query from the text box, I should like all of the rows that now match the query to reappear.While I know how to remove a table row in jQuery, I have little idea about how to go about doing the search and removing rows selectively based on this. Is there a simple solution to this? Or a plugin?If anyone could point me in the right direction it would be brilliant.Thank you.I created these examples.Demo: http://jsfiddle.net/7BUmG/2/More advanced functionality using regular expressions will allow you to search words in any order in the row. It will work the same if you type apple green or green apple:Demo: http://jsfiddle.net/dfsq/7BUmG/1133/When you implement table filtering with search over multiple rows and columns it is very important that you consider performance and search speed/optimisation. Simply saying you should not run search function on every single keystroke, it's not necessary. To prevent filtering to run too often you should debounce it. Above code example will become:You can pick any debounce implementation, for example from Lodash _.debounce, or you can use something very simple like I use in next demos (debounce from here): http://jsfiddle.net/7BUmG/6230/ and http://jsfiddle.net/7BUmG/6231/.i have an jquery plugin for this. It uses jquery-ui also. You can see an example here

http://jsfiddle.net/tugrulorhan/fd8KB/1/Here is the best solution for searching inside HTML table while covering all of the table, (all td, tr in the table), pure javascript and as short as possible:Thank you @dfsq for the very helpful code!I've made some adjustments and maybe some others like them too. I ensured that you can search for multiple words, without having a strict match.Example rows:You could search for 'ap pe' and it would recognise the first row

You could search for 'banana apple' and it would recognise the second rowDemo:

http://jsfiddle.net/JeroenSormani/xhpkfwgd/1/I found dfsq's answer its comments extremely useful. I made some minor modifications applicable to me (and I'm posting it here, in case it is of some use to others).you can use native javascript like this Datatable JS plugin is also one good alternate to accomedate search feature for html tablehttps://datatables.net/examples/basic_init/zero_configuration.htmlIf you can separate html and data, you can use external libraries like datatables or the one i created. https://github.com/thehitechpanky/js-bootstrap-tablesThis library uses keyup function to reload tabledata and hence it appears to work like search.

Get week of year in JavaScript like in PHP

PeeHaa

[Get week of year in JavaScript like in PHP](https://stackoverflow.com/questions/6117814/get-week-of-year-in-javascript-like-in-php)

How do I get the current weeknumber of the year, like PHP's date('W')?It should be the ISO-8601 week number of year, weeks starting on Monday.

2011-05-24 22:51:58Z

How do I get the current weeknumber of the year, like PHP's date('W')?It should be the ISO-8601 week number of year, weeks starting on Monday.You should be able to get what you want here: http://www.merlyn.demon.co.uk/js-date6.htm#YWD.A better link on the same site is: Working with weeks.Here is some code based on the links provided and that posted eariler by Dommer. It has been lightly tested against results at http://www.merlyn.demon.co.uk/js-date6.htm#YWD. Please test thoroughly, no guarantee provided.There was an issue with dates during the period that daylight saving was observed and years where 1 Jan was Friday. Fixed by using all UTC methods. The following returns identical results to Moment.js.Hours are zeroed when creating the "UTC" date.Minimized, prototype version (returns only week-number):In this section, you can enter any date in YYYY-MM-DD format and check that this code gives the same week number as Moment.js ISO week number (tested over 50 years from 2000 to 2050).You can use momentjs library also:moment().format('W')As said above but without a class:Accordily http://javascript.about.com/library/blweekyear.htmJacob Wright's Date.format() library implements date formatting in the style of PHP's date() function and supports the ISO-8601 week number:It may be a bit overkill for just a week number, but it does support PHP style formatting and is quite handy if you'll be doing a lot of this.Following code is timezone-independent (UTC dates used) and works according to the https://en.wikipedia.org/wiki/ISO_8601This adds "getWeek" method to Date.prototype which returns number of week from the beginning of the year. The argument defines which day of the week to consider the first. If no argument passed, first day is assumed Sunday.Get the weeknumber of any given DateI found useful the Java SE's SimpleDateFormat class described on Oracle's specification:

http://goo.gl/7MbCh5. In my case in Google Apps Script it worked like this:For example in a spreadsheet macro you can retrieve the actual timezone of the file:The code below calculates the correct ISO 8601 week number. It matches PHP's date("W") for every week between 1/1/1970 and 1/1/2100.Source: Taco van den BroekIf you're not into extending prototypes, then here's a function:Sample usage:If you are already in an Angular project you could use $filter('date').For example:Here is my implementation for calculating the week number in JavaScript. corrected for summer and winter time offsets as well. 

I used the definition of the week from this article: ISO 8601Weeks are from mondays to sunday, and january 4th is always in the first week of the year.for testing i used the following JavaScript tests in QunitThe code snippet which works pretty well for me is this one:Note:

d is my Date for which I want the current week number.

The + converts the Dates into numbers (working with TypeScript).This week number thing has been a real pain in the a**. Most of scripts around the net didn't work for me. They worked most of time but all of them broke in some point, especially when year changed and last week of the year was suddenly next year's first week etc. Even Angular's date filter showed incorrect data (it was 1st week of next year, angular gave week 53).Note: Examples are designed to work with European weeks (Mon first)!getWeek()setDay()getDayIndex()I have tested this and it seems to be working very well but if you notice a flaw in it, please let me know.I tried a lot to get the shortest code to get the weeknumber ISO-conform.The variable date is necessary to avoid to alter the original this. I used the return values of setDate() and setMonth() to dispense with getTime() to save code length and I used an expontial number for milliseconds of a day instead of a multiplication of single elements or a number with five zeros. this is Date or Number of milliseconds, return value is String e.g. "49/2017".With Luxon (https://github.com/moment/luxon) : 

Remove leading zeros from a number in Javascript [duplicate]

testndtv

[Remove leading zeros from a number in Javascript [duplicate]](https://stackoverflow.com/questions/6676488/remove-leading-zeros-from-a-number-in-javascript)

What is the simplest and cross-browser compatible way to remove leading zeros from a number in Javascript ?e.g. If I have a textbox value as 014 or 065, it should only return 14 or 65

2011-07-13 08:59:28Z

What is the simplest and cross-browser compatible way to remove leading zeros from a number in Javascript ?e.g. If I have a textbox value as 014 or 065, it should only return 14 or 65Try parseInt.For example, in some implementations parseInt("01803") will yield 1.  Assuming the goal is to get 1803, call parseInt with a radix of 10 to ensure the parsing is done in a base decimal numbering system. That is: parseInt("01803", 10) will yield 1803. Please note that for a non-integer value, parseInt() will round the number to return as an integer. paseInt("018.03", 10) will yield 18.regexp:It is not clear why you want to do this. If you want to get the correct numerical value, you could use unary + [docs]:If you just want to format the text, then regex could be better. It depends on the values you are dealing with I'd say. If you only have integers, then is fine as well. Of course it also works for float values, but depending on how many digits you have after the point, converting it to a number and back to a string could (at least for displaying) remove some.

Best way to obfuscate an e-mail address on a website?

Adam Rezich

[Best way to obfuscate an e-mail address on a website?](https://stackoverflow.com/questions/748780/best-way-to-obfuscate-an-e-mail-address-on-a-website)

I've spent the past few days working on updating my personal website. The URL of my personal website is (my first name).(my last name).com, as my last name is rather unusual, and I was lucky enough to pick up the domain name. My e-mail address is (my first name)@(my last name).com. So really, when it comes down to guessing it, it's not very hard.Anyways, I want to integrate a mailto: link into my website, so people can contact me. And, despite my e-mail address not being very hard to guess, I'd rather not have it harvested by spam bots that just crawl websites for e-mail address patterns and add them to their database.What is the best way for me to obfuscate my e-mail address, preferably in link form? The methods I know of are:It works, but it also means that as soon as my website hits Google, I'll be wading through spam as spam bots easily pick out my e-mail address.This is less desirable, because not only will visitors be unable to click on it to send me an e-mail, but smarter spam bots will probably be able to detect the characters that the image contains.I know that there is probably no perfect solution, but I was just wondering what everyone thought was best. I'm definitely willing to use JavaScript if necessary, as my website already makes use of tons of it.

2009-04-14 18:24:48Z

I've spent the past few days working on updating my personal website. The URL of my personal website is (my first name).(my last name).com, as my last name is rather unusual, and I was lucky enough to pick up the domain name. My e-mail address is (my first name)@(my last name).com. So really, when it comes down to guessing it, it's not very hard.Anyways, I want to integrate a mailto: link into my website, so people can contact me. And, despite my e-mail address not being very hard to guess, I'd rather not have it harvested by spam bots that just crawl websites for e-mail address patterns and add them to their database.What is the best way for me to obfuscate my e-mail address, preferably in link form? The methods I know of are:It works, but it also means that as soon as my website hits Google, I'll be wading through spam as spam bots easily pick out my e-mail address.This is less desirable, because not only will visitors be unable to click on it to send me an e-mail, but smarter spam bots will probably be able to detect the characters that the image contains.I know that there is probably no perfect solution, but I was just wondering what everyone thought was best. I'm definitely willing to use JavaScript if necessary, as my website already makes use of tons of it.I encode the characters as HTML entities (something like this). It doesn't require JS to be enabled and seems to have stopped most of the spam. I suppose a smart bot might still harvest it, but I haven't had any problems.Personally, I've given up on hiding my email address. I find it easier to look into better spam-filtering solutions than worry about obfuscating. You could spend days trying to find the best way to obfuscate your address, and then all it takes is one person to sell your address to a spammer and all that work was useless.The current accepted solution is to create a contact form that allows users to email you. If you receive a lot of spam from that (I don't on my site), then you can add a captcha for good measure, and you'll be far from the "low hanging fruit" at that point.The fact of the matter is that if you are providing a link that a user can click on to pop open their email client with your address in the To: field, then the computer is able to decipher the email address from the page and so can a spam bot.You mentioned this is for your personal website. On my personal site (for example, bobsomers.com) I just have a paragraph that says this:People seem to be able to figure that out just fine, as I get legitimate email all the time. Sometimes the best solutions don't require writing any code. :)reCAPTCHA offers a simple email obfuscation service. You don't need to set up an account and can start using it immediately. You can use the service as a link or as a popup.After the captcha is solved, your email address appears as an href/mailto, so that it can be clicked/followed by users who have configured their email clients to work with their browsers.A lightweight way to obfuscate the href of an anchor is to base64-encode it:And then include it hardcoded:Or dynamically server-side e.g. in PHP:In combination with string reversion it could be pretty spam-save:Apparently using CSS to change the direction of your text works pretty well.  That link has a test of a bunch of other obfuscation methods as well.Whatever you use is inevitably going to be defeated.  Your primary aim should be to avoid annoying the heck out of your users.Don't use any obfuscation techniques here because it's probably the first place the email harvesters will look to find out how people are obfuscating emails. If you have to have your email address visible on the site don't just copy verbatim someone else's method; obfuscate it in some unique way that no other site has used so that your method won't be known to harvesters before they visit your site.You could do as Google do on Google Code (and Groups). Display a par tof the email, and a clickable portion ("..."). Clicking that indicates you want to know the email, and you are asked to fill in a captcha. Afterwards the email (and others?) are visible to you.mine is actually simple:I use JavaScript obfuscation, take a look at this one for example:http://www.jottings.com/obfuscator/One website I maintain uses a somewhat simplistic JavaScript means of (hopefully) keeping spambots out.Email links call a JS function:To make sure only users who have JS enabled can see the link, write them out with this:The use of one JS function to write out a link that calls another means that there are two layers of protection.As a poster above said, I also use JavaScript obfuscation from the jottings website.The web page generates some JavaScript which can be improved on. The mailto: text string is in the clear and identifiable by robots (which could spot this and unobfuscate this string), but if one enters into the jottings.com webpage an email address of the form mailto:addr@site.tld instead of addr@site.tld and then removes the text mailto: from the JavaScript that is generated, one suddenly has some JavaScript that does not look as though it has anything to do with email at all - just random JavaScript of which the web is full. One can improve this still further by getting rid of the link text - I replaced mine by an image of my email address that is in a fairly obscure font. Then just in case this method on jottings.com becomes popular, I randomized the variable names in the output JavaScript to make it hard for a robot to spot an instance of jottings generated JavaScript code.Obviously some of these improvements could be built into the mechanism on jottings itself, and since the code is openly available this would be relatively easy.An example may make this a bit more clear.  I used the Jottings Obfuscator at the link above to obscure mailto:foo@bar.com (note I am cheating on the original intent of the jottings website by entering the string mailto:foo@bar.com instead of foo@bar.com) with text "Send Me Email", which jottings turned into this Javascript:After I get that back, I paste it into an editor and:I end up with this:I don't how well this would work. Could you not leave your email address out and make it load using an AJAX call once the page has finished loading. Not sure if spam bots can pick up the altered HTML or if they are clever enough to listen on other HTTP traffic to try and pick email addresses or if they just scan the page as it is received the first time.One guy tested nine different ways of presenting an email address on a page and then published results on his blog. His three best ways were:Caveat -- this was posted two years ago. Spam bots might've gotten smarter.If you work with PHP, you can grab a free script that does that automatically. It's called "Private Daddy" and we use it for our own online audio streaming service. Just one line of code and it works out of the box... you can grab it hereAnother approach could be by using a JavaScript framework and binding the data/model to the HTML elements. In the case of AngularJS, the HTML elements would be written as:The interpolation {{data}} binding uses a scope variable that contains the actual email value.  In addition, a filter could also be used that handles the decoding of the email as follows:The benefits are in the way the HTML is written. The downside is that it requires scripting support which some for may be a no no.just another approach.Using JQuery, but can easily be ported to plain JS if needed.  Will take the following HTML block.  This example I provided is also for tel: links for phone calls.and convert it to the proper links using Javascript.I documented it in more detail here https://trajano.net/2017/01/obfuscating-mailto-links/The de/obfuscation algorithm is pretty simple so its not too taxing to write either (no need for base64 parsing)The best is to have a form on the website and not to show email address, because all robots are more intelligent day after day, but if you need to show email address on the website, so, you can make it with ajax call on your server, and show it on click.HTMLorjQueryPHPFor more security, you can change .on by .one like this $(document).one('click', '.obfmail', function(e) { or even work with a PHP generated token that you pass into data on ajax call, to accept only one call of the ajax function like this : html: <a class="obfmail" href="#" rel="info" token="w3487ghdr6rc">jquery: ..Honestly, your problem may be moot if you asked the question of whether or not a mailto is really what you want to use. A lot of people who use web mail, for example, or do not have the proper mail client setup in their browser are not going to benefit from a mailto. You are exposing your email address for a function that isn't going to work for a large portion of your users.What you could do instead is use a form to send the e-mail behind the scenes so that the e-mail address is hidden and you don't have to worry about the poor saps who won't benefit from a mailto.If you say on your site that "My e-mail address is (my first name)@(my last name).com.", and your first name and last name are pretty darn obvious, that seems to be the best spam protection you're going to get.If anyone's using Rails, they can use the actionview-encoded_mail_to gem. (https://github.com/reed/actionview-encoded_mail_to)There are a few options:Cloudflare is now offering free email obfuscation service. This might be an option if you use Cloudlfare.Since this solution is not mentioned anywhere, but works well for me:I do this:Now you have a fully functional but obfuscated, honeypoted and timesecured mailto link.Working example php file:May the code be with you.What if creating a link "Contact me" pointing to a directory protected by a password? Of course, you have to give the pass to access."Contact me" > ••••••••••• > contact/index.htmlOnce accessed, the contact/index.html page reveals the email, a mailto for instance.I use a PHP function to generate some javascript to output the email on page load. Note that you don't need PHP to generate the JS at runtime, you can generate the JS once locally and then include the static JS in your page.You can also use the linked function with this snippet below to automatically obfuscate email addresses in some given HTML (where $processedContent is the HTML):Check this out.The 'Enkoder Form' will encrypt your Email address and convert the result to a self evaluating JavaScript, hiding it from Email-harvesting robots which crawl the web looking for exposed addresses. Your address will be displayed correctly by web-browsers, but will be virtually indecipherable to Email harvesting robots.

Is JavaScript supported in an email message?

senthil

[Is JavaScript supported in an email message?](https://stackoverflow.com/questions/3054315/is-javascript-supported-in-an-email-message)

Is JavaScript supported in an email message?

2010-06-16 14:41:23Z

Is JavaScript supported in an email message?http://en.wikipedia.org/wiki/Comparison_of_e-mail_clientsOld clients, such as Lotus Notes, Mozilla Thunderbird, Outlook Express, and Windows Live Mail all seem to have supported some sort of JavaScript execution.  Nothing else does.It seems like a bad idea security-wise, so I would expect this to be a feature that won't always be around, even in these clients.No, generally speaking email readers do not allow javascript.Other answerers have suggested that the answer is "No."On the other hand, an html attachment will probably get opened in an environment that runs Javascript.EDIT:  It was suggested that I haven't properly answered the question so here goes a more complete effort.Summary: I would expect that many or most users receiving an html-formatted email containing embedded Javascript will see it run and have run tests to confirm that this is true in some environments.  But Javascript WILL be blocked for some users.The protocols (specifically RFC2854) explicitly address scripting (within the text/html message body type) with the statement that:So the protocols do support Javascript, but which user agents do?My (ancient) email reader uses a table to specify which viewer software to use for each mimetype, diverting html content to my favorite web browser.  Almost all current web browsers support Javascript (and some issue dire warnings when you try to turn it off!)  Do modern email agents include internal html interpreters and, if so, is the javascript turned on or off?  I've checked documentation on Thunderbird and find that javascript seems to be turned on by default but can be turned off:  http://codeverge.com/mozilla.support.thunderbird/simple-html-tags-reference-docume/2030160I have noticed that some (?many?) users now access their email from a browser directly (webmail is one such platform) rather than running separate email software.  All such platforms which I have tested so far do run any Javascript embedded in the html of the email message.  However some such environments, depending on user security settings, do not automatically fetch external links (Javascript or pictures or other) and so can only run external Javascript from a file which is included as an attachment to the message.  The same would be true of any offline email reader on a device without a current internet connection.The above applies to javascript embedded in the main message part of the email body.  One can also have html explicitly given as an "attachment", which if saved and then opened would be displayed in a web browser, wherein Javascript is available with very high likelyhood.  Therefore, one might included a second copy of the javascript enabled email as an html attachement with an alternative text/plain main body and/or  tag in the main text/html directing the user to the attachment.I've been thinking about this because some of my acquaintances insist on sending me "email greeting cards" which consist of a text message directing me to a link which I've found so unsatisfactory that I refuse to even consider loading it just on principle. I have written and sent email greeting cards with interactive graphics and music and even games using embedded javascript and been satisfied with the result.Therefore, I maintain that the correct answer is "Yes" both on the grounds that the protocols specifically address scripting and on the grounds that all the email agents I personally use ran the Javascript in my test emails.NoIt depends. But the email is not guaranteed to behave in the way you want it to. Different email clients handle JS differently. Most of the newer email clients do not support any of it since it is potentially very dangerous to support script execution in a desktop application which contains so much of your personal info.I had a use case where I needed to use JS in an email. I tried out on the web client of outlook and desktop client as well, and it turns out outlook just wipes out the script part of your HTML email. There might be some other email client which does support JS execution, but given that you cannot control the client where your email would be viewed in the client machine, it's not a good idea to embed any scripts in the HTML email.Its advised to keep your HTML email as simple as possible, no JS, and the least CSS you can do with (because, again, different email clients have varying support for CSS as well) eg: outlook's web client was not even recognizing an HTML button tag in the email. I had to use an anchor tag and some CSS on top of it to mimic the display of a button.You aren't going to get executable JavaScript onto a server and into a mail client. But emails DO support links, you can always link to your content within an email.For most mail clients, no.It may be, but mail clients won't read it & mail servers may reject it. So leave it out.Javascript is not supported in emails.The answer is yes, because email can carry any sort of message, JavaScript included.Whether you will find an application that is willing to execute JavaScript within an email is another issue. 

Is there an easy way to convert jquery code to javascript? [closed]

davidsleeps

[Is there an easy way to convert jquery code to javascript? [closed]](https://stackoverflow.com/questions/978799/is-there-an-easy-way-to-convert-jquery-code-to-javascript)

There are lots of examples out there of achieving certain things in javascript/dom using jQuery. However, using jQuery is not always an option which can make understanding the examples of javascript solutions written in jQuery hard.Is there an easy way to convert jQuery code to regular javascript? I guess without having to access or understand the jQuery source code.

2009-06-11 00:39:41Z

There are lots of examples out there of achieving certain things in javascript/dom using jQuery. However, using jQuery is not always an option which can make understanding the examples of javascript solutions written in jQuery hard.Is there an easy way to convert jQuery code to regular javascript? I guess without having to access or understand the jQuery source code.The easiest way is to just learn how to do DOM traversing and manipulation with the plain DOM api (you would probably call this: normal JavaScript). This can however be a pain for some things. (which is why libraries were invented in the first place).Googling for "javascript DOM traversing/manipulation" should present you with plenty of helpful (and some less helpful) resources.The articles on this website are pretty good: http://www.htmlgoodies.com/primers/jsp/And as Nosredna points out in the comments: be sure to test in all browsers, because now jQuery won't be handling the inconsistencies for you.This will get you 90% of the way there ; )For Ajax, the Fetch API is now supported on the current version of every major browser.  For $.ready(), DOMContentLoaded has near universal support.  You Might Not Need jQuery gives equivalent native methods for other common jQuery functions.  Zepto offers similar functionality but weighs in at 10K zipped.  There are custom Ajax builds for jQuery and Zepto as well as some micro frameworks, but jQuery/Zepto have solid support and 10KB is only ~1 second on a 56K modem.I just found this quite impressive tutorial about jquery to javascript conversion from  Jeffrey Way on Jan 19th 2012 *Copyright © 2014 Envato*  :http://net.tutsplus.com/tutorials/javascript-ajax/from-jquery-to-javascript-a-reference/I proposed it in a comment to OP, and after his suggestion, i publish it has an answer for everyone to refer to.Also, Jeffrey Way mentioned about his inspiration witch seems to be a good primer for understanding : http://sharedfil.es/js-48hIfQE4XK.htmlHas a teaser, this document comparison of jQuery to javascript :You should take a look.I know this is an old thread but there is an excellent resource showing the native javascript equivalent to jquery, it even includes ES6 examples.  This is the most comprehensive one I have found out of the other articles covering this subject.jQuery to Vanilla JSIf you want to learn javascript, watch these Douglas Crockford videos.  They are very good.No, especially if:JQuery and all the frameworks tend to make understanding the code easier.  If that's difficult to understand, then vanilla javascript will be torture :)I can see a reason, unrelated to the original post, to automatically compile jQuery code into standard JavaScript:16k -- or whatever the gzipped, minified jQuery library is -- might be too much for your website that is intended for a mobile browser.  The w3c is recommending that all HTTP requests for mobile websites should be a maximum of 20k.w3c specs for mobileSo I enjoy coding in my nice, terse, chained jQuery.  But now I need to optimize for mobile.  Should I really go back and do the difficult, tedious work of rewriting all the helper functions I used in the jQuery library?  Or is there some kind of convenient app that will help me recompile?That would be very sweet.  Sadly, I don't think such a thing exists.Jeremy Keith's book "DOM Scripting" is a great intro to working with Javascript and the DOM. I highly recommend it, whether you want to use jQuery or not. It's good to know what's going on beneath.There are several good books available. I like ppk on JavaScript. Here's Chapter 8 on the DOM.

browser sessionStorage. share between tabs?

Vladimir Gordienko

[browser sessionStorage. share between tabs?](https://stackoverflow.com/questions/20325763/browser-sessionstorage-share-between-tabs)

I have some values in my site which I want to clear when the browser is closed. I chose sessionStorage to store those values. When tab is closed they are indeed cleared, and kept if the user presses f5; But if the user opens some link in a different tab these values are unavailable.How I can share sessionStorage values between all browser tabs with my application?The use case: put a value in some storage, keep that value accessible in all browser tabs and clear it if all tabs are closed.

2013-12-02 10:16:51Z

I have some values in my site which I want to clear when the browser is closed. I chose sessionStorage to store those values. When tab is closed they are indeed cleared, and kept if the user presses f5; But if the user opens some link in a different tab these values are unavailable.How I can share sessionStorage values between all browser tabs with my application?The use case: put a value in some storage, keep that value accessible in all browser tabs and clear it if all tabs are closed.You can use localStorage and its "storage" eventListener to transfer sessionStorage data from one tab to another.  This code would need to exist on ALL tabs.  It should execute before your other scripts.I tested this in chrome, ff, safari, ie 11, ie 10, ie9This method "should work in IE8" but i could not test it as my IE was crashing every time i opened a tab.... any tab... on any website. (good ol IE) PS: you'll obviously need to include a JSON shim if you want IE8 support as well. :)Credit goes to this full article:

http://blog.guya.net/2015/06/12/sharing-sessionstorage-between-tabs-for-secure-multi-tab-authentication/Using sessionStorage for this is not possible.From the MDN DocsThat means that you can't share between tabs, for this you should use localStorageActually looking at other areas, if you open with _blank it keeps the sessionStorage as long as you're opening the tab when the parent is open:In this link, there's a good jsfiddle to test it.

sessionStorage on new window isn't empty, when following a link with target="_blank"My solution to not having sessionStorage transferable over tabs was to create a localProfile and bang off this variable. If this variable is set but my sessionStorage variables arent go ahead and reinitialize them. When user logs out window closes destroy this localStorage variableHere is a solution to prevent session shearing between browser tabs for a java application. This will work for IE

(JSP/Servlet)1)first page JS 2)common JS for all pages3)web.xml - servlet mapping4)servlet code

Any way to modify Jasmine spies based on arguments?

Jmr

[Any way to modify Jasmine spies based on arguments?](https://stackoverflow.com/questions/16198353/any-way-to-modify-jasmine-spies-based-on-arguments)

