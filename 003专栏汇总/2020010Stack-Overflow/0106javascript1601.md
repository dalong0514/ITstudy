Jasmine's spyOn is good to change a method's behavior, but is there any way to change a value property (rather than a method) for an object? the code could be like below:In February 2017, they merged a PR adding this feature, they released in April 2017. so to spy on getters/setters you use:

const spy = spyOnProperty(myObj, 'myGetterName', 'get');

where myObj is your instance, 'myGetterName' is the name of that one defined in your class as get myGetterName() {} and the third param is the type get or set.You can use the same assertions that you already use with the spies created with spyOn.So you can for example:Here's the line in the github source code where this method is available if you are interested.https://github.com/jasmine/jasmine/blob/7f8f2b5e7a7af70d7f6b629331eb6fe0a7cb9279/src/core/requireInterface.js#L199Answering the original question, with jasmine 2.6.1, you would:Jasmine doesn't have that functionality, but you might be able to hack something together using Object.defineProperty.You could refactor your code to use a getter function, then spy on the getter.Any reason you cannot just change it on the object directly? It is not as if javascript enforces visibility of a property on an object.The best way is to use spyOnProperty. It expects 3 parameters and you need to pass get or set as a third param.Here I am setting the get of clientWidth of div.nativeElement object.The right way to do this is with the spy on property, it will allow you to simulate a property on an object with an specific value.If you are using ES6 (Babel) or TypeScript you can stub out the property using get and set accessorsThen in your test you can check that the property is set with:Suppose there is a method like this that needs testing

The src property of the tiny image needs checkingThe spyOn() below causes the "new Image" to be fed the fake code from the test

the spyOn code returns an object that only has a src propertyAs the variable "hook" is scoped to be visible in the fake code in the SpyOn and also later after the "reportABCEvent" is calledThis is for jasmine 1.3 but might work on 2.0 if the "andCallFake" is altered to

the 2.0 nameI'm using a kendo grid and therefore can't change the implementation to a getter method but I want to test around this (mocking the grid) and not test the grid itself.  I was using a spy object but this doesn't support property mocking so I do this:It's a bit long winded but it works a treatI'm a bit late to the party here i know but,You could directly access the calls object, which can give you the variables for each callYou can not mock variable but you can create getter function for it and mock that method in your spec file.

Original purpose of <input type=「hidden」>? [closed]

Uooo

[Original purpose of <input type=「hidden」>? [closed]](https://stackoverflow.com/questions/16293741/original-purpose-of-input-type-hidden)

I am curious about the original purpose of the <input type="hidden"> tag.Nowadays it is often used together with JavaScript to store variables in it which are sent to the server and things like that.Therefore, the <input type="hidden"> existed before JavaScript, so what was its original purpose? I can only imagine of sending a value from the server to the client which is (unchanged) sent back to maintain a kind of a state. Or do I get something wrong in the history of it and <input type="hidden"> was always supposed to be used together with JavaScript?If possible, please also give references in your answers.

2013-04-30 06:39:04Z

I am curious about the original purpose of the <input type="hidden"> tag.Nowadays it is often used together with JavaScript to store variables in it which are sent to the server and things like that.Therefore, the <input type="hidden"> existed before JavaScript, so what was its original purpose? I can only imagine of sending a value from the server to the client which is (unchanged) sent back to maintain a kind of a state. Or do I get something wrong in the history of it and <input type="hidden"> was always supposed to be used together with JavaScript?If possible, please also give references in your answers.Precisely. In fact, it's still being used for this purpose today because HTTP as we know it today is still, at least fundamentally, a stateless protocol.This use case was actually first described in HTML 3.2 (I'm surprised HTML 2.0 didn't include such a description):While it's worth mentioning that HTML 3.2 became a W3C Recommendation only after JavaScript's initial release, it's safe to assume that hidden fields have pretty much always served the same purpose.I'll provide a simple Server Side Real World Example here, say if the records are looped and each record has a form with a delete button and you need to delete a specific record, so here comes the hidden field in action, else you won't get the reference of the record to be deleted in this case, it will be idFor exampleIn short, the original purpose was to make a field which will be submitted with form's submit. Sometimes, there were need to store some information in hidden field(for example, id of user) and submit it with form's submit.From HTML September 22, 1995 specificationThe values of form elements including type='hidden' are submitted to the server when the form is posted. input type="hidden" values are not visible in the page. Maintaining User IDs in hidden fields, for example, is one of the many uses. SO uses a hidden field for the upvote click. Using this value, the server-side script can store the upvote.basically hidden fields will be more useful and advantages to use with multi step form.

we can use hidden fields to pass one step information to next step using hidden and keep it forwarding till the end step.Cross-site request forgery is a very common website vulnerability. Requiring a secret, user-specific token in all form submissions will prevent CSRF attacks since attack sites cannot guess what the proper token is and any form submissions they perform on the behalf of the user will always fail.If you need to store what step in a multi-page form the user is currently on, use hidden input fields. The user doesn't need to see this information, so hide it in a hidden input field.General rule:

Use the field to store anything that the user doesn't need to see, but that you want to send to the server on form submission.

Append an array to another array in JavaScript [duplicate]

Chris Dutrow

[Append an array to another array in JavaScript [duplicate]](https://stackoverflow.com/questions/9650826/append-an-array-to-another-array-in-javascript)

How do you append an array to another array in JavaScript?Other ways that a person might word this question:I spent some time looking for the answer to this question. Sometimes the simplest ones like these are the hardest to find answers to, so I am adding the question here hopefully with plenty of key words and phrases as per this blog post. Please feel free to answer this question with any other helpful information or edit the key words and phrases below.

2012-03-10 22:41:29Z

How do you append an array to another array in JavaScript?Other ways that a person might word this question:I spent some time looking for the answer to this question. Sometimes the simplest ones like these are the hardest to find answers to, so I am adding the question here hopefully with plenty of key words and phrases as per this blog post. Please feel free to answer this question with any other helpful information or edit the key words and phrases below.If you want to modify the original array instead of returning a new array, use .push()...I used .apply to push the individual members of arrays 2 and 3 at once.or...To deal with large arrays, you can do this in batches.If you do this a lot, create a method or function to handle it.and use it like this:

How to check if a user likes my Facebook Page or URL using Facebook's API

Patrik

[How to check if a user likes my Facebook Page or URL using Facebook's API](https://stackoverflow.com/questions/5093398/how-to-check-if-a-user-likes-my-facebook-page-or-url-using-facebooks-api)

I think I'm going crazy. I can't get it to work.

I simply want to check if a user has liked my page with javascript in an iFrame app.This returns: False

But I'm a fan of my page so shouldn't it return true?!

2011-02-23 16:01:47Z

I think I'm going crazy. I can't get it to work.

I simply want to check if a user has liked my page with javascript in an iFrame app.This returns: False

But I'm a fan of my page so shouldn't it return true?!I tore my hair out over this one too. Your code only works if the user has granted an extended permission for that which is not ideal.Here's another approach.In a nutshell, if you turn on the OAuth 2.0 for Canvas advanced option, Facebook will send a $_REQUEST['signed_request'] along with every page requested within your tab app. If you parse that signed_request you can get some info about the user including if they've liked the page or not.You can use (PHP)That will return one of three:I guess the only not-using-token way to achieve this is with the signed_request Jason Siffring just posted. My helper using PHP SDK:You can do it in JavaScript like so (Building off of @dwarfy's response to a similar question):Where the channel.html file on your server just contains the line:There is a little code duplication in there, but you get the idea. This will pop up a login dialog the first time the user visits the page (which isn't exactly ideal, but works). On subsequent visits nothing should pop up though.Though this post has been here for quite a while, the solutions are not pure JS. Though Jason noted that requesting permissions is not ideal, I consider it a good thing since the user can reject it explicitly. I still post this code, though (almost) the same thing can also be seen in another post by ifaour. Consider this the JS only version without too much attention to detail. The basic code is rather simple:ALternatively, replace me with the proper UserID of someone else (you might need to alter the permissions below to do this, like friends_likes) As noted, you need more than the basic permission:i use jquery to send the data when the user press the like button.Note:you can use some hidden input text to get the id of your button.in my case i take it from the url itself in  "var fbl_id=h_fbl[4];" becasue there is the id example:

url:

http://mywebsite.com/post/22/some-tittleso i parse the url to get the id and then insert it to my databse in the like.php file.

in this way you dont need to ask for permissions to know if some one press the like button, but if you whant to know who press it, permissions are needed.

Check time difference in Javascript

Kishh

[Check time difference in Javascript](https://stackoverflow.com/questions/1787939/check-time-difference-in-javascript)

How would you check time difference from two text-boxes in Javascript?

2009-11-24 05:12:12Z

How would you check time difference from two text-boxes in Javascript?Improvise. Subtract JavaScript Date objects to get their difference:You can then convert milliseconds to hour, minute and seconds like this:You can convert time as string to 24-hour format like this:This function returns a string with the difference from a datetime string and the current datetime.Tested in the Google Chrome console (press F12)Here's the solution that worked for me:Here is my rendition....A good solution is avaliable at http://blogs.digitss.com/javascript/calculate-datetime-difference-simple-javascript-code-snippet/ gives the output in your desired differnece format of days :  hours : minutes : seconds . A slightly modified version of that code is shown belowThis is an addition to dmd733's answer. I fixed the bug with Day duration (well I hope I did, haven't been able to test every case). I also quickly added a String property to the result that holds the general time passed (sorry for the bad nested ifs!!). For example if used for UI and indicating when something was updated (like a RSS feed). Kind of out of place but nice-to-have:When i tried the difference between same time stamp it gave 0 Days 5 Hours 30 Minutes so to get it exactly i have subtracted 5 hours and 30 minThe time diff in millisecondsI have done some enhancements for timer counterTry This :I would use just getTime(); and for example Date.now() to return difference in milliseconds:I like doing it via Epoch.In my case, I'm gonna store the time in milliseconds on chrome storage and try to find diff in hours later.You can use moment js for this purpose. momentJs 'fromNow()' will give you any time difference from current time.grab the input values after form submission in phpthe variable $tminutes  is total diff in minutes , working hour is $hour 

.

this code is for php use this logic and convert this code to js

Can't type in React input text field

Phil Gyford

[Can't type in React input text field](https://stackoverflow.com/questions/34006333/cant-type-in-react-input-text-field)

I'm trying my first bit of React.js and am stumped early on... I have the code below, which renders a search form into <div id="search"></div>. But typing in the search box does nothing.Presumably something is going missing passing the props and state up and down, and this seems like a common problem. But I'm stumped - I can't see what's missing.(Eventually I will have other types of SearchFacet* but I'm just trying to get this one working.)

2015-11-30 19:24:48Z

I'm trying my first bit of React.js and am stumped early on... I have the code below, which renders a search form into <div id="search"></div>. But typing in the search box does nothing.Presumably something is going missing passing the props and state up and down, and this seems like a common problem. But I'm stumped - I can't see what's missing.(Eventually I will have other types of SearchFacet* but I'm just trying to get this one working.)You haven't properly cased your onchange prop in the input. It needs to be onChange in JSX.The topic of passing a value prop to an <input>, and then somehow changing the value passed in response to user interaction using an onChange handler is pretty well-considered in the docs. They refer to such inputs as Controlled Components, and refer to inputs that instead let the DOM natively handle the input's value and subsequent changes from the user as Uncontrolled Components.Whenever you set the value prop of an input to some variable, you have a Controlled Component. This means you must change the value of the variable by some programmatic means or else the input will always hold that value and will never change, even when you type -- the native behaviour of the input, to update its value on typing, is overridden by React here. So, you're correctly taking that variable from state, and have a handler to update the state all set up fine. The problem was because you have onchange and not the correct onChange the handler was never being called and so the value was never being updated when you type into the input. When you do use onChange the handler is called, the value is updated when you type, and you see your changes.Using value={whatever} will make it so you cannot type in the input field. You should use defaultValue="Hello!".See https://facebook.github.io/react/docs/uncontrolled-components.html#default-valuesAlso, the onchange should be onChange as @davnicwil points out.This might be caused by the onChange function is not updating the proper value which is mentioned in the input.Example:in the onChange function update the mentioned value field.I also have same problem and in my case I injected reducer properly but still I couldn't type in field. It turns out if you are using immutable you have to use redux-form/immutable.Notice that your state should be like state->form otherwise you have to explicitly config the library also the name for state should be form.

see this issueFor me the following simple change worked perfectly

How to monitor the memory usage of Node.js?

fsiaonma

[How to monitor the memory usage of Node.js?](https://stackoverflow.com/questions/20018588/how-to-monitor-the-memory-usage-of-node-js)

How can I monitor the memory usage of Node.js?

2013-11-16 12:43:11Z

How can I monitor the memory usage of Node.js?node-memwatch : detect and find memory leaks in Node.JS code. 

Check this tutorial Tracking Down Memory Leaks in Node.js The built-in process module has a method memoryUsage that offers insight in the memory usage of the current Node.js process. Here is an example from in Node v0.12.2 on a 64-bit system:In this simple example, you can see that allocating an array of 10M elements consumers approximately 80MB (take a look at heapUsed).

If you look at V8's source code (Array::New, Heap::AllocateRawFixedArray, FixedArray::SizeFor), then you'll see that the memory used by an array is a fixed value plus the length multiplied by the size of a pointer. The latter is 8 bytes on a 64-bit system, which confirms that observed memory difference of 8 x 10 = 80MB makes sense.Also, if you'd like to know global memory rather than node process':See documentationThe original memwatch is essentially dead. Try memwatch-next instead, which seems to be working well on modern versions of Node.On Linux/Unix (note: Mac OS is a Unix) use top and press M (Shift+M) to sort processes by memory usage.On Windows use the Task Manager.

How do I pass an extra parameter to the callback function in Javascript .filter() method?

agente_secreto

[How do I pass an extra parameter to the callback function in Javascript .filter() method?](https://stackoverflow.com/questions/7759237/how-do-i-pass-an-extra-parameter-to-the-callback-function-in-javascript-filter)

I want to compare each string in an Array with a given string. My current implementation is:This simple function works, but only because right now wordToCompare is being set as a global variable, but of course I want to avoid this and pass it as a parameter. My problem is that I am not sure how to define startsWith() so it accepts one extra parameter, because I dont really understand how the default parameters it takes are passed. I've tried all the different ways I can think of and none of them work.If you could also explain how the passed parameters to 'built in' callback functions (sorry, I dont know of a better term for these) work that would be great

2011-10-13 19:12:03Z

I want to compare each string in an Array with a given string. My current implementation is:This simple function works, but only because right now wordToCompare is being set as a global variable, but of course I want to avoid this and pass it as a parameter. My problem is that I am not sure how to define startsWith() so it accepts one extra parameter, because I dont really understand how the default parameters it takes are passed. I've tried all the different ways I can think of and none of them work.If you could also explain how the passed parameters to 'built in' callback functions (sorry, I dont know of a better term for these) work that would be greatMake startsWith accept the word to compare against and return a function which will then be used as filter/callback function:Another option would be to use Function.prototype.bind [MDN] (only available in browser supporting ECMAScript 5, follow a link for a shim for older browsers) and "fix" the first argument:There is nothing special about it. At some point, filter just calls the callback and passes the current element of the array. So it's a function calling another function, in this case the callback you pass as argument.Here is an example of a similar function:The second parameter of filter will set this inside of the callback.So you could do something like:For those looking for an ES6 alternative using arrow functions, you can do the following.Updated version using includes:You can use the arrow function inside a filter, like this:Arrow functions on MDNFor anyone wondering why their fat arrow function is ignoring [, thisArg], e.g. why["DOG", "CAT", "DOG"].filter(animal => animal === this, "DOG")

returns []it's because this inside those arrow functions are bound when the function is created and are set to the value of this in the broader encompassing scope, so the thisArg argument is ignored. I got around this pretty easily by declaring a new variable in a parent scope:let bestPet = "DOG";

["DOG", "CAT", "DOG"].filter(animal => animal === bestPet);

=> ["DOG", "DOG"]Here is a link to some more reading: 

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#No_separate_thisbased on oddRaven answer 

and 

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter i did it 2 different way . 

1) using function way . 

2) using inline way . There is an easy way to use the filter function, access all params, and not over complicate it. Unless the callback's thisArg is set to another scope filter does not create its own scope, and we can access params within the current scope. We can set 'this' to define a different scope in order to access other values if needed, but by default it is set to the scope it's called from. You can see this being used for Angular scopes in this stack.Using indexOf is defeating the purpose of filter, and adding more overhead. Filter is already going through the array, so why do we need to iterate through it again? We can instead make it a simple pure function.Here's a use-case scenario within a React class method where the state has an array called items, and by using filter we can check the existing state:

How to get simple dispatch from this.props using connect w/ Redux?

Toran Billups

[How to get simple dispatch from this.props using connect w/ Redux?](https://stackoverflow.com/questions/34458261/how-to-get-simple-dispatch-from-this-props-using-connect-w-redux)

I've got a simple React component that I connect up (mapping a simple array/state over). To keep from referencing the context for store I'd like a way to get "dispatch" directly from props. I've seen others using this approach but don't have access to this for some reason :)Here are the versions of each npm dependency I'm using currentlyHere is the component w/ connect methodIf you need to see the reducer (nothing exciting but here it is)If you need to see how my router is configured w/ reduxupdatelooks like if I omit my own dispatch in the connect (currently above I'm showing fetchUsers), I'd get dispatch free (just not sure if this is how a setup w/ async actions would work usually). Do people mix and match or is it all or nothing?[mapDispatchToProps]

2015-12-24 22:00:26Z

I've got a simple React component that I connect up (mapping a simple array/state over). To keep from referencing the context for store I'd like a way to get "dispatch" directly from props. I've seen others using this approach but don't have access to this for some reason :)Here are the versions of each npm dependency I'm using currentlyHere is the component w/ connect methodIf you need to see the reducer (nothing exciting but here it is)If you need to see how my router is configured w/ reduxupdatelooks like if I omit my own dispatch in the connect (currently above I'm showing fetchUsers), I'd get dispatch free (just not sure if this is how a setup w/ async actions would work usually). Do people mix and match or is it all or nothing?[mapDispatchToProps]By default mapDispatchToProps is just dispatch => ({ dispatch }).

So if you don't specify the second argument to connect(), you'll get dispatch injected as a prop in your component.If you pass a custom function to mapDispatchToProps, you can do anything with the function.

A few examples:To save you some typing Redux provides bindActionCreators() that lets you turn this:into this:or even shorter when prop names match action creator names:If you'd like you can definitely add dispatch there by hand:There's no official advise on whether you should do this or not. connect() usually serves as the boundary between Redux-aware and Redux-unaware components. This is why we usually feel that it doesn't make sense to inject both bound action creators and dispatch. But if you feel like you need to do this, feel free to.Finally, the pattern you are using right now is a shortcut that's even shorter than calling bindActionCreators. When all you do is return bindActionCreators, you can omit the call so instead of doing this:can be written as thisHowever you'll have to give up that nice short syntax whenever you want something more custom, like passing dispatch as well.You can usually mix and match based on what you'd like.You can pass dispatch on as a prop if that is what you want:I'm not sure how fetchUsers is used (as an async function?), but you would usually use something like bindActionCreators to auto-bind dispatch and then you  would not have to worry about using dispatch directly in connected components.Using dispatch directory sort of couples the dumb, stateless component with redux.  Which can make it less portable.While you could pass dispatch down as part of dispatchToProps, I would recommend avoiding accessing the store or dispatch directly from within your components. It seems like you would be better served by passing in a bound action creator in connect's 2nd argument dispatchToProps See an example I posted here https://stackoverflow.com/a/34455431/2644281 of how to pass down an "already bound action creator" this way your components don't need to directly know about or depend on the store/dispatch.Sorry to be brief. I'll update w/ more info.

iOS JavaScript bridge

andr111

[iOS JavaScript bridge](https://stackoverflow.com/questions/9473582/ios-javascript-bridge)

I'm working on an app where I'm going to use both HTML5 in UIWebView and native iOS framework together. I know that I can implement communication between JavaScript and Objective-C. Are there any libraries that simplify implementing this communication? I know that there are several libraries to create native iOS apps in HTML5 and javascript (for example AppMobi, PhoneGap), but I'm not sure if there is a library to help create native iOS apps with heavy JavaScript usage. I need to:

2012-02-27 22:45:42Z

I'm working on an app where I'm going to use both HTML5 in UIWebView and native iOS framework together. I know that I can implement communication between JavaScript and Objective-C. Are there any libraries that simplify implementing this communication? I know that there are several libraries to create native iOS apps in HTML5 and javascript (for example AppMobi, PhoneGap), but I'm not sure if there is a library to help create native iOS apps with heavy JavaScript usage. I need to:There are a few libraries, but I didn't used any of these in big projects, so you might want to try them out:—However, I think it's something simple enough that you might give it a try yourself. I personally did exactly this when I needed to do that. You might also create a simple library that suits your needs.This is really just one line of code.More details on the official UIWebView Documentation.This is unfortunately slightly more complex, because there isn't the same windowScriptObject property (and class) that exists on Mac OSX allowing complete communication between the two.However, you can easily call from javascript custom-made URLs, like:And intercept it from Objective-C with this:This is not as clean as it should be (or by using windowScriptObject) but it works.From the above explanation, you see that if you want to do that, you have to create some JavaScript code, attach it to the event you want to monitor and call the correct window.location call to be then intercepted.Again, not clean as it should be, but it works.The suggested method of calling objective c from JS in the accepted answer isn't recommended. One example of problems: if you make two immediate consecutive calls one is ignored (you can't change location too quickly).I recommend the following alternative approach:You call the execute function repeatedly and since each call executes in its own iframe, they should not be ignored when called quickly.Credits to this guy.Update: This has changed in iOS 8. My answer applies to previous versions.An alternative, that may get you rejected from the app store, is to use WebScriptObject.These APIs are public on OSX but are not on iOS.You need to define interfaces to the internal classes.You need to define your object that's going to serve as your WebScriptObjectNow set that an instance to your UIWebViewNow inside of your javascript you can call:In iOS8 you can look at WKWebView instead of UIWebView. This has the following class:

WKScriptMessageHandler: Provides a method for receiving messages from JavaScript running in a webpage.This is possible with iOS7, checkout http://blog.bignerdranch.com/3784-javascriptcore-and-ios-7/Your best bet is Appcelerators Titanium offering.   They already have built a Obj-C javascript bridge using the V8 engine JavascriptCore engine used by webkit.   It's also open source, so you'll be able to download it and tinker with the Obj-C as you like.Have a look at the KirinJS project: Kirin JS which allows to use Javascript for the application logic and native UI adequate to the platform it runs on.I created a library like WebViewJavascriptBridge, but it's more JQuery-like, has easier to setup and is easier to use. Doesn't rely on jQuery (though to its credit, had I known WebViewJavascriptBridge existed before writing this I may just have held back slightly before diving in). Let me know what you think! jockeyjsIf you are using WKWebView on iOS 8, take a look the XWebView which can automatically expose the native interface to javascript.

How to get the containing form of an input?

Ropstah

[How to get the containing form of an input?](https://stackoverflow.com/questions/991367/how-to-get-the-containing-form-of-an-input)

I need to get a reference to the FORM parent of an INPUT when I only have a reference to that INPUT. Is this possible with JavaScript? Use jQuery if you like.This doesn't work:

2009-06-13 19:48:17Z

I need to get a reference to the FORM parent of an INPUT when I only have a reference to that INPUT. Is this possible with JavaScript? Use jQuery if you like.This doesn't work:Native DOM elements that are inputs also have a form attribute that points to the form they belong to:According to w3schools, the .form property of input fields is supported by IE 4.0+, Firefox 1.0+, Opera 9.0+, which is even more browsers that jQuery guarantees, so you should stick to this.If this were a different type of element (not an <input>), you could find the closest parent with closest:Also, see this MDN link on the form property of HTMLInputElement:Every input has a form property which points to the form the input belongs to, so simply:I use a bit of jQuery and old style javascript - less codeThis is a complete reference to the form containing the elementUsing jQuery:If using jQuery and have a handle to any form element, you need to get(0) the element before  using .formand in the html, you need to find that element, and add the attribut "form" to connect to that form, please refer to http://www.w3schools.com/tags/att_input_form.asp

but this form attr doesn't support IE, for ie, you need to pass form id directly.I needed to use element.attr('form') instead of element.form.I use Firefox on Fedora 12.simply as:And one more....would this work? (leaving action blank submits form back to itself too, right?)"this" would be the select element, .form would be its parent form.  Right?

JavaScript: Difference between .forEach() and .map()

DzikiChrzan

[JavaScript: Difference between .forEach() and .map()](https://stackoverflow.com/questions/34426458/javascript-difference-between-foreach-and-map)

I know that there were a lot of topics like this. And I know the basics: .forEach() operates on original array and .map() on the new one.In my case:And this is output:I can't understand why using practice changes value of b to undefined.

I'm sorry if this is silly question, but I'm quite new in this language and answers I found so far didn't satisfy me.

2015-12-22 23:54:34Z

I know that there were a lot of topics like this. And I know the basics: .forEach() operates on original array and .map() on the new one.In my case:And this is output:I can't understand why using practice changes value of b to undefined.

I'm sorry if this is silly question, but I'm quite new in this language and answers I found so far didn't satisfy me.They are not one and the same. Let me explain the difference.forEach: This iterates over a list and applies some operation with side effects to each list member (example: saving every list item to the database)map: This iterates over a list, transforms each member of that list, and returns another list of the same size with the transformed members (example: transforming list of strings to uppercase)ReferencesArray.prototype.forEach() - JavaScript | MDNArray.prototype.map() - JavaScript | MDNSo, forEach doesn’t actually return anything. It just calls the function for each array element and then it’s done. So whatever you return within that called function is simply discarded.On the other hand, map will similarly call the function for each array element but instead of discarding its return value, it will capture it and build a new array of those return values.This also means that you could use map wherever you are using forEach but you still shouldn’t do that so you don’t collect the return values without any purpose. It’s just more efficient to not collect them if you don’t need them.The main difference that you need to know is .map() returns a new array while .forEach() doesn't. That is why you see that difference in the output. .forEach() just operates on every value in the array.Read up:You might also want to check out:

 - Array.prototype.every() - JavaScript | MDNforEach: If you want to perform an action on the elements of an Array and it is same as you use for loop. The result of this method does not give us an output buy just loop through the elements.map: If you want to perform an action on the elements of an array and also you want to store the output of your action into an Array. This is similar to for loop within a function that returns the result after each iteration.Hope this helps.The difference lies in what they return. After execution:returns an array of elements resulting from  the processed function; while: returns undefined.Performance Analysis

For loops performs faster than map or foreach as number of elements in a array increases.One thing to point out is that foreach skips uninitialized values while map does not.Diffrence between Foreach & map :Map() : If you use map then map can return new array by iterating main array.Foreach() : If you use Foreach then it can not return anything for each can iterating main array.useFul link : use this link for understanding diffrencehttps://codeburst.io/javascript-map-vs-foreach-f38111822c0fforEach() just loop through the elements. It's throws away return values and always returns undefined.The result of this method does not give us an output .map() loop through the elements allocates memory and stores return values by iterating main arrayExample:

Javascript object bracket notation ({ Navigation } =) on left side of assign

captainill

[Javascript object bracket notation ({ Navigation } =) on left side of assign](https://stackoverflow.com/questions/26999820/javascript-object-bracket-notation-navigation-on-left-side-of-assign)

I haven't seen this syntax before and am wondering what it's all about. The brackets on the left are throwing a syntax error:I'm not sure what part of the webpack config is transforming or what the purpose of the syntax is. Is it a Harmony thing? Can someone enlighten me? 

2014-11-18 17:01:56Z

I haven't seen this syntax before and am wondering what it's all about. The brackets on the left are throwing a syntax error:I'm not sure what part of the webpack config is transforming or what the purpose of the syntax is. Is it a Harmony thing? Can someone enlighten me? It's called destructuring assignment and it's part of the ES2015 standard.This is destructuring assignment. It's a new feature of ECMAScript 2015.Is the equivalent to:... uses destructuring to achieve the same thing as ...... but is far more readable.It's a new feature in ES6 to destructure objects.As we all know that there is an assignment operation taking place here, Which means right side value is getting assigned to left side variable.In this case require('react-router') method returns an object with key value pair some thing like  { Navigation: function a(){}, 

Example1: function b(){},

 Example2: function c(){}

}.And if we would like to take one key in that returned object say Navigation to a variable we can use Object destructing for that.This will only be possible only if we have the key inhand.So, after the assignment statement, local variable Navigation will contain function a(){}Another example looks like this.

When tracing out variables in the console, How to create a new line?

Leon Gaban

[When tracing out variables in the console, How to create a new line?](https://stackoverflow.com/questions/16239474/when-tracing-out-variables-in-the-console-how-to-create-a-new-line)

So I'm trying to do something simple, I want to break up my traces in the console into several lines, using 1 console.log statement:How would you write the above to trace out the following?instead of roleName = test role_ID = test modal_UD = test related = testI've checked out several other questions which appear similar, but none have helped or are talking about a different thing.Thanks for taking a look!

2013-04-26 14:58:15Z

So I'm trying to do something simple, I want to break up my traces in the console into several lines, using 1 console.log statement:How would you write the above to trace out the following?instead of roleName = test role_ID = test modal_UD = test related = testI've checked out several other questions which appear similar, but none have helped or are talking about a different thing.Thanks for taking a look!You should include it inside quotes  '\n', See below,In ES6/ES2015 you can use string literal syntax called template literals. Template strings use backtick character instead of single quote ' or double quote marks ". They also preserve new line and tabEasy, \n needs to be in the string.Why not just use separate console.log() for each var, and separate with a comma rather than converting them all to strings? That would give you separate lines, AND give you the true value of each variable rather than the string representation of each (assuming they may not all be strings).And I think it would be easier to read/maintain.You need to add the new line character \n:would display:line oneline twoThe worst thing of using just is that all stuff are converted to the string and if you need object to show you may see next:Thus my variant is the next code:This works great for me for text only, and easy on the eye.

Number.sign() in javascript

kbec

[Number.sign() in javascript](https://stackoverflow.com/questions/7624920/number-sign-in-javascript)

Wonder if there are any nontrivial ways of finding number's sign (signum function)?

May be shorter / faster / more elegant solutions than the obvious oneUse this and you'll be safe and fast (source: moz)You may want to look at performance and type-coercing comparison fiddleFor now we have these solutions:1. Obvious and fast1.1. Modification from kbec - one type cast less, more performant, shorter [fastest]caution: sign("0") -> 12. Elegant, short, not so fast [slowest]caution: sign(+-Infinity) -> NaN, sign("0") -> NaNAs of Infinity is a legal number in JS this solution doesn't seem fully correct.3. The art... but very slow [slowest]4. Using bit-shift

    fast, but sign(-Infinity) -> 05. Type-safe [megafast]! Seems like browsers (especially chrome's v8) make some magic optimizations and this solution turns out to be much more performant than others, even than (1.1) despite it contains 2 extra operations and logically never can't be faster.Improvements are welcome!

2012-01-31 12:32:30Z

Wonder if there are any nontrivial ways of finding number's sign (signum function)?

May be shorter / faster / more elegant solutions than the obvious oneUse this and you'll be safe and fast (source: moz)You may want to look at performance and type-coercing comparison fiddleFor now we have these solutions:1. Obvious and fast1.1. Modification from kbec - one type cast less, more performant, shorter [fastest]caution: sign("0") -> 12. Elegant, short, not so fast [slowest]caution: sign(+-Infinity) -> NaN, sign("0") -> NaNAs of Infinity is a legal number in JS this solution doesn't seem fully correct.3. The art... but very slow [slowest]4. Using bit-shift

    fast, but sign(-Infinity) -> 05. Type-safe [megafast]! Seems like browsers (especially chrome's v8) make some magic optimizations and this solution turns out to be much more performant than others, even than (1.1) despite it contains 2 extra operations and logically never can't be faster.Improvements are welcome!More elegant version of fast solution:Dividing the number by its absolute value also gives its sign. Using the short-circuiting logical AND operator allows us to special-case 0 so we don't end up dividing by it:The function you're looking for is called signum, and the best way to implement it is:Should this not support JavaScript’s (ECMAScript’s) signed zeroes? It seems to work when returning x rather than 0 in the「megafast」function:This makes it compatible with a draft of ECMAScript’s Math.sign (MDN):For people who are interested what is going on with latest browsers, in ES6 version there is a native Math.sign method. You can check the support here.Basically it returns -1, 1, 0 or NaNSuperfast if you do not need Infinity and know that the number is an integer, found in openjdk-7 source: java.lang.Integer.signum()I thought I'd add this just for fun:0 and NaN will return -1works fine on +/-InfinityA solution that works on all numbers, as well as 0 and -0, as well as Infinity and -Infinity, is:See the question "Are +0 and -0 the same?" for more information.Warning: None of these answers, including the now standard Math.sign will work on the case 0 vs -0. This may not be an issue for you, but in certain physics implementations it may matter.You could bit shift the number and check the Most Significant Bit (MSB). If the MSB is a 1 then the number is negative.  If it is 0 then the number is positive (or 0).  I just was about to ask the same question, but came to a solution before i was finished writing, saw this Question already existed, but didn't saw this solution.(n >> 31) + (n > 0)it seems to be faster by adding a ternary though (n >> 31) + (n>0?1:0)Very similar to Martijn's answer isI find it more readable. Also (or, depending on your point of view, however), it also groks things that can be interpreted as a number; e.g., it returns -1 when presented with '-5'.I don't see any practical sence of returning -0 and 0 from Math.sign so my version is:The methods I know of are as follows:Math.sign(n)var s = Math.sign(n)This is the native function, but is slowest of all because of the overhead of a function call.  It does however handle 'NaN' where the others below may just assume 0 (i.e. Math.sign('abc') is NaN).((n>0) - (n<0))var s = ((n>0) - (n<0));In this case only the left or right side can be a 1 based on the sign.  This results in either 1-0 (1), 0-1 (-1), or 0-0 (0).The speed of this one seems neck and neck with the next one below in Chrome.(n>>31)|(!!n)var s = (n>>31)|(!!n);Uses the "Sign-propagating right shift".  Basically shifting by 31 drops all bits except the sign.  If the sign was set, this results in -1, otherwise it is 0.  Right of | it tests for positive by converting the value to boolean (0 or 1 [BTW: non-numeric strings, like !!'abc', become 0 in this case, and not NaN]) then uses a bitwise OR operation to combine the bits.This seems the best average performance across the browsers (best in Chrome and Firefox at least), but not the fastest in ALL of them. For some reason, the ternary operator is faster in IE.n?n<0?-1:1:0var s = n?n<0?-1:1:0;Fastest in IE for some reason.jsPerfTests performed: https://jsperf.com/get-sign-from-valueMy two cents, with a function that returns the same results as Math.sign would do, ie sign(-0) --> -0, sign(-Infinity) --> -Infinity, sign(null) --> 0, sign(undefined) --> NaN, etc.Jsperf won't let me create a test or revision, sorry for not being able to provide you with tests (i've given jsbench.github.io a try, but results seem much closer to one another than with Jsperf...)If someone could please add it to a Jsperf revision, I would be curious to see how it compares to all the previously given solutions...Thank you!Jim.EDIT:I should have written:((+x && -1) instead of (x && -1)) in order to handle sign('abc') properly (--> NaN)Math.sign is not supported on IE 11. I am combining the best answer with Math.sign answer :Now, one can use Math.sign directly.

Run JavaScript code on window close or page refresh?

Peter

[Run JavaScript code on window close or page refresh?](https://stackoverflow.com/questions/13443503/run-javascript-code-on-window-close-or-page-refresh)

Is there a way to run a final JavaScript code when a user closes a browser window or refreshes the page? I'm thinking of something similar to onload but more like onclose? Thanks.I don't like the onbeforeunload method, which always yields to a confirmation box popping up (leave page/ stay on mozilla) or (reload/ don't reload on chrome). Is there a way to execute the code quietly?

2012-11-18 19:05:24Z

Is there a way to run a final JavaScript code when a user closes a browser window or refreshes the page? I'm thinking of something similar to onload but more like onclose? Thanks.I don't like the onbeforeunload method, which always yields to a confirmation box popping up (leave page/ stay on mozilla) or (reload/ don't reload on chrome). Is there a way to execute the code quietly?There is both window.onbeforeunload and window.onunload, which are used differently depending on the browser. You can assing them either by setting the window properties to functions, or using the .addEventListener:Usually, onbeforeunload is used if you need to stop the user from leaving the page (ex. the user is working on some unsaved data, so he/she should save before leaving). onunload isn't supported by Opera, as far as I know, but you could always set both.Ok, I found a working solution for this, it consists of using the beforeunload event and then making the handler return null. This executes the wanted code without a confirmation box popping-up. It goes something like this:Hope this helps.jQuery version:Update: jQuery 3:Thanks GarrettSometimes you may want to let the server know that the user is leaving the page. This is useful, for example, to clean up unsaved images stored temporarily on the server, to mark that user as "offline", or to log when they are done their session.Historically, you would send an AJAX request in the beforeunload function, however this has two problems. If you send an asynchronous request, there is no guarantee that the request would be executed correctly. If you send a synchronous request, it is more reliable, but the browser would hang until the request has finished. If this is a slow request, this would be a huge inconvenience to the user.Luckily, we now have navigator.sendBeacon(). By using the sendBeacon() method, the data is transmitted asynchronously to the web server when the User Agent has an opportunity to do so, without delaying the unload or affecting the performance of the next navigation. This solves all of the problems with submission of analytics data: the data is sent reliably, it's sent asynchronously, and it doesn't impact the loading of the next page. Here is an example of its usage:sendBeacon() is supported in:It is NOT currently supported in:Here is a polyfill for sendBeacon() in case you need to add support for unsupported browsers. If the method is not available in the browser, it will send a synchronous AJAX request instead.You can use window.onbeforeunload. The documentation here encourages listening to the onbeforeunload event and/or adding an event listener on window.You can also just populate the .onunload or .onbeforeunload properties of window with a function or a function reference.Though behaviour is not standardized across browsers, the function may return a value that the browser will display when confirming whether to leave the page.The event is called beforeunload, so you can assign a function to window.onbeforeunload.You can try something like this:

What is the difference between D3 and jQuery?

zcaudate

[What is the difference between D3 and jQuery?](https://stackoverflow.com/questions/13187112/what-is-the-difference-between-d3-and-jquery)

Referring to this example:http://vallandingham.me/stepper_steps.htmlit seems that the D3 and jQuery libraries are very similar in the sense that they both do DOM manipulation in an object-chaining way.I'm curious as to know what functions D3 makes easier than jQuery and vice versa. There are plenty of graphing and visualization libraries that use jQuery as a basis (e.g., highcharts, flot, wijmo).Please give specific examples of how they are different.

2012-11-01 23:33:34Z

Referring to this example:http://vallandingham.me/stepper_steps.htmlit seems that the D3 and jQuery libraries are very similar in the sense that they both do DOM manipulation in an object-chaining way.I'm curious as to know what functions D3 makes easier than jQuery and vice versa. There are plenty of graphing and visualization libraries that use jQuery as a basis (e.g., highcharts, flot, wijmo).Please give specific examples of how they are different.Following code is an example of D3 usage which is not possible with jQuery (try it in jsfiddle):d3 has a silly description. jQuery and d3 are not at all similar, you just don't use them for the same things.jQuery's purpose is to do general dom manipulation. It's a general purpose javascript toolkit for anything you might want to do.d3 was primarily designed to make it easy to make shiny graphs with data.  You should definitely use it (or something similar, or something built on top of it) if you want to make graphical visualizations of data.If you want a general purpose JS library for all your interactive form needs, consider jQuery or proto or mootools.  If you want something tiny, consider underscore.js.  If you want something with dependency injection and testability, consider AngularJS.A General comparison guide from wikipedia.I can see why someone would think they are similar. They use a similar selector syntax -- $('SELECTOR'), and d3 is an extremely powerful tool for selecting, filtering, and operating on html elements, especially while chaining these operations together.  d3 tries to explain this to you on its home page by claiming to be a general purpose library, but the fact is that most people use it when they want to make graphs.  It is pretty unusual to use it for your average dom manipulation because the d3 learning curve is so steep.  It is, however, a far more general tool than jQuery, and generally people build other more specific libraries (such as nvd3) on top of d3 rather than using it directly.@JohnS's answer is also very good.  Fluent API = method chaining.  I also agree about where the plugins and extension lead you with the libraries.  I've been using a little of both lately. Since d3 uses Sizzle's selectors you can pretty much mix up selectors.Just keep in mind d3.select('#mydiv') doesn't return quite the same as jQuery('#mydiv'). It's the same DOM element, but it's being instantiated with different constructors. For example, let's say you have the following element:And let's grab some common methods:Seems legit. But if you go a little further:d3 is made for data visualization, it does this by filtering through DOM objects and applying transformations. jQuery is made for DOM manipulation and making life easier for many basic JS tasks. If you're looking to turn data into pretty, interactive pictures, D3 is awesome. If you're looking to move, manipulate or otherwise modify your webpage, jQuery is your tool.D3 is not just about visual graphs. Data Driven Documents. When you use d3, you bind data to dom nodes. Because of SVG we are able to make graphs, but D3 is so much more. You can replace frameworks like Backbone, Angular, and Ember with using D3.Not sure who down voted, but let me add some more clarity.Many websites request data from the server, which usually comes from a database. When the website receives this data, we have to do a page update of the new content. Many frameworks do this, and d3 does this as well. So instead of using a svg element, you can use html element instead. When you call the redraw, it'll quickly update the page with the new content. It's real nice to not have all the extra overhead like jquery, backbone + its plugins, angular, etc. You only need to know d3. Now d3 doesn't have a routing system baked into it. But you can always find one.Jquery on the other hand, it's sole purpose is to write less code. It's just a short hand version of javascript that has been tested on many browsers. If you don't have a lot of jquery on your webpage. It's a great library to use. It's simple and takes a lotta pains out of javascript development for multiple browsers.If you tried to implement jquery in a d3 like fashion, it'll be quite slow, as it wasn't designed for that task, likewise, d3 isn't design to post data to servers, it's designed just to consume and render data.Great question!While both libraries share many of the same features, it seems to me that the greatest difference between jQuery and D3 is the focus.jQuery is a general purpose library with a focus on being cross-browser and being easy to use.D3 is focused on data (manipulation and visualisation) and supports only modern browsers. And while  it does look like jQuery, it's a lot more difficult to use.Both can solve the same purpose of creating and manipulating a DOM (whether it be HTML or SVG). D3 surfaces an API that simplifies common tasks you would take when generating/manipulating a DOM based on data. It does this through it's native support for data binding via the data() function. In jQuery you would have to manually process the data and define how to bind to the data in order to generate a DOM. Because of this, your code becomes more procedural and harder to reason and follow. With D3, it's less steps/code and more declarative. D3 also provides some higher level functions that aid in generating data visualization in SVG. Functions like range(),domain(), and scale() make it easier to take data and plot them on a graph. Functions like axis() also make it easier to draw common UI elements you would expect in a chart/graph. There are many other higher-level api libraries that sit on top of D3 to aid in more complex visualizations of data including interactive behavior and animation.

HtmlWebpackPlugin injects relative path files which breaks when loading non-root website paths

aherriot

[HtmlWebpackPlugin injects relative path files which breaks when loading non-root website paths](https://stackoverflow.com/questions/34620628/htmlwebpackplugin-injects-relative-path-files-which-breaks-when-loading-non-root)

I am using webpack and the HtmlWebpackPlugin to inject bundled js and css into an html template file.And it produces the following html file.This works fine when visiting the root of the app localhost:3000/, but fails when I try to visit the app from another URL, for example, localhost:3000/items/1 because the bundled files are not injected with an absolute path. When the html file is loaded, it will look for the js file inside the non-exist /items directory because react-router hasn't loaded yet.How can I get HtmlWebpackPlugin to inject the files with an absolute path, so express will look for them at the root of my /dist directory and not at /dist/items/main-...min.js? Or maybe I can change my express server to work around the issue?Essentially, I just need to get the line:to have a slash at the start of the source.

2016-01-05 20:27:35Z

I am using webpack and the HtmlWebpackPlugin to inject bundled js and css into an html template file.And it produces the following html file.This works fine when visiting the root of the app localhost:3000/, but fails when I try to visit the app from another URL, for example, localhost:3000/items/1 because the bundled files are not injected with an absolute path. When the html file is loaded, it will look for the js file inside the non-exist /items directory because react-router hasn't loaded yet.How can I get HtmlWebpackPlugin to inject the files with an absolute path, so express will look for them at the root of my /dist directory and not at /dist/items/main-...min.js? Or maybe I can change my express server to work around the issue?Essentially, I just need to get the line:to have a slash at the start of the source.Try setting the publicPath in your webpack config:HtmlWebpackPlugin use the publicPath to prepend the urls of the injects.Another option is to set the base href in the <head> of your html template, to specify the base url of all relative urls in your document.In fact, I had to put :in order to have it working in a non-ROOT path.

At the same time I was injecting :into With both parameter set, it worked like a charm.in webpack config in your index.html this should do it.

Using node-inspector with Grunt tasks

JuanO

[Using node-inspector with Grunt tasks](https://stackoverflow.com/questions/11171013/using-node-inspector-with-grunt-tasks)

Does someone used node-inspector with Grunt for application debugging? If not, Can you recommend a debugging tool for Grunt based apps?I'm working with nodejs for a server side app and I have Grunt to use separated tasks (this is because users can execute tasks separately).

2012-06-23 16:08:45Z

Does someone used node-inspector with Grunt for application debugging? If not, Can you recommend a debugging tool for Grunt based apps?I'm working with nodejs for a server side app and I have Grunt to use separated tasks (this is because users can execute tasks separately).To run grunt in debug, you need to pass the grunt script to node explicitly:and put a debugger; line in your task. node-inspector will then open a browser with debugging tools.node-inspector has added the command node-debug, which launches node in a --debug state and opens the browser to the node-inspector page, stopping when it hits the first debugger line or set breakpoint.On Windows, things are a touch more complicated. See the answer from @e.gluhotorenko for instructions.Run from cmd in the directory with your Gruntfile.js. Do not forget to put debugger; line in necessary places.To debug, we have to modify the grunt file under bin. On my machine, grunt is installed globally, so I went to /usr/local/lib/node_modules/grunt/bin

I opened the file and modified:#!/usr/bin/env nodeTo#!/usr/bin/env node --debug-brk--debug-brk will break on the first line of javascript ran.Doing that alone isn't quite enough though, since you won't be able to find you're grunt task js file in the drop down in node inspector, so you have to modify the file you're interested in debugging by adding debugger; where you want the breakpoint to happen. 

Now you can click continue after the first break, and you'll break on you're debugger; linePretty kludgy, but it's the only way I've found so far.I recently created grunt-node-inspector to easily configure node-inspector with the rest of your grunt workflow, check it out: https://github.com/ChrisWren/grunt-node-inspectorHere is a section of a Gruntfile which illustrates how you can debug a grunt task using grunt-node-inspector, grunt-concurrent, and grunt-shell: https://github.com/CabinJS/Cabin/blob/master/Gruntfile.js#L44-L77I have done a task to run my app and launch node-inspector.

It is far better than current proposition, you just have to add this task in gruntfile:Great answers here. In 2017, now you can donode --inspect --debug-brk $(which grunt) taskNameWhich prints something like.To start debugging, open the following URL in Chrome:

    chrome-devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws=127.0.0.1:9229/232652c3-f63c-4b00-8de9-17dfad5db471Open that URL in chrome, and you're good to go!I'm using Node 7.3.0 and I'm on Mac. You might have to follow some of the advice in other posts to get it going on Windows.2019 update 

Testing javascript with Mocha - how can I use console.log to debug a test?

Nick Perkins

[Testing javascript with Mocha - how can I use console.log to debug a test?](https://stackoverflow.com/questions/10666349/testing-javascript-with-mocha-how-can-i-use-console-log-to-debug-a-test)

I am using the javascript test-runner "Mocha".I have a test that is failing, so I would to debug it using console.log.But when the tests are run, there is no output (only the test results from Mocha).

It seems like Mocha has captured and suppressed my console.log output!How can I get Mocha to show my output? (at for tests that fail)?EDIT:Huge apologies! — console.log does work during tests!  I must have been expecting it to suppress the output, and I didn't properly check my own code.  Thanks for responding.

So... that being said... maybe it actually would be nice to suppress the output for tests that pass? hmm...On a related note: I want to use console.log because I am having a lot of trouble trying to get the Eclipse debugger to connect to node.js.Am I the only one who finds this tricky?  How do you guys debug node.js?  With a debugger, or with console.log statements?

2012-05-19 15:07:52Z

I am using the javascript test-runner "Mocha".I have a test that is failing, so I would to debug it using console.log.But when the tests are run, there is no output (only the test results from Mocha).

It seems like Mocha has captured and suppressed my console.log output!How can I get Mocha to show my output? (at for tests that fail)?EDIT:Huge apologies! — console.log does work during tests!  I must have been expecting it to suppress the output, and I didn't properly check my own code.  Thanks for responding.

So... that being said... maybe it actually would be nice to suppress the output for tests that pass? hmm...On a related note: I want to use console.log because I am having a lot of trouble trying to get the Eclipse debugger to connect to node.js.Am I the only one who finds this tricky?  How do you guys debug node.js?  With a debugger, or with console.log statements?What Mocha options are you using?Maybe it is something to do with reporter (-R) or ui (-ui) being used?works fine during my test runs, though sometimes mixed in a little goofy.  Presumably due to the async nature of the test run.Here are the options (mocha.opts) I'm using:Hmm..just tested without any mocha.opts and console.log still works.If you are testing asynchronous code, you need to make sure to place done() in the callback of that asynchronous code. I had that issue when testing http requests to a REST API.You may have also put your console.log after an expectation that fails and is uncaught, so your log line never gets executed.

AngularJS : What is a factory?

Code Whisperer

[AngularJS : What is a factory?](https://stackoverflow.com/questions/16596569/angularjs-what-is-a-factory)

I've been doing a lot of work on Angular.js and overall I find it to be an interesting and powerful framework.I know there have been a lot of discussions on Services vs. Factories vs. Providers vs. Values, but I am still pretty confused about what a Factory is.Factory has been defined in other StackOverflow discussions as the following:FactoriesSyntax: module.factory( 'factoryName', function ); Result: When declaring factoryName as an injectable argument you will be provided with the value that is returned by invoking the function reference passed to module.factory.I find this explanation to be very difficult to grasp and it doesn't increase my understanding of what a factory is.Would anyone have any explanations or real life examples to share about what exactly a Factory is and why you should use it in lieu of a Service, Provider, or other?A service holds a reference to any object.A factory is a function which returns any objectA provider is a function which returns any function-phew-

2013-05-16 20:10:24Z

I've been doing a lot of work on Angular.js and overall I find it to be an interesting and powerful framework.I know there have been a lot of discussions on Services vs. Factories vs. Providers vs. Values, but I am still pretty confused about what a Factory is.Factory has been defined in other StackOverflow discussions as the following:FactoriesSyntax: module.factory( 'factoryName', function ); Result: When declaring factoryName as an injectable argument you will be provided with the value that is returned by invoking the function reference passed to module.factory.I find this explanation to be very difficult to grasp and it doesn't increase my understanding of what a factory is.Would anyone have any explanations or real life examples to share about what exactly a Factory is and why you should use it in lieu of a Service, Provider, or other?A service holds a reference to any object.A factory is a function which returns any objectA provider is a function which returns any function-phew-From what I understand they are all pretty much the same. The major differences are their complexities. Providers are configurable at runtime, factories are a little more robust, and services are the simplest form.Check out this question AngularJS: Service vs provider vs factoryAlso this gist may be helpful in understanding the subtle differences.Source: https://groups.google.com/forum/#!topic/angular/hVrkvaHGOfcjsFiddle: http://jsfiddle.net/pkozlowski_opensource/PxdSP/14/author: Pawel KozlowskiOne major difference I see is that you can run custom code in the factory. But, in a service, only object creation happens.My two cents on this topic. I am a very very newbie and just into  understanding Angular JS and this was one of the things that confused me a lot and hence I studied it in somewhat detail. I have been making notes for giving interviews and this may be useful to others.Services are mostly objects in which you describe the constructor class of the object. Somewhere deep within the framework, the Object.create() function is called and then you can use a service by calling its object and methods using a controller. Factory, on the other hand, doesn't create an object by default and hence requires you to return the entire object location once you're done defining all the attributes and methods.

Big O of JavaScript arrays

Kendall Frey

[Big O of JavaScript arrays](https://stackoverflow.com/questions/11514308/big-o-of-javascript-arrays)

Arrays in JavaScript are very easy to modify by adding and removing items. It somewhat masks the fact that most languages array's are fixed-size, and require complex operations to resize. It seems that JavaScript makes it easy to write poorly performing array code. This leads to the question:What performance (in terms of big O time complexity) can I expect from JavaScript implementations in regards to array performance?I assume that all reasonable JavaScript implementations have at least the following big O's.JavaScript lets you pre-fill an array to a certain size, using new Array(length) syntax. (Bonus question: Is creating an array in this manner O(1) or O(n)) This is more like a conventional array, and if used as a pre-sized array, can allow O(1) appending. If circular buffer logic is added, you can achieve O(1) prepending. If a dynamically expanding array is used, O(log n) will be the average case for both of those.Can I expect better performance for some things than my assumptions here? I don't expect anything is outlined in any specifications, but in practice it could be that all major implementations use optimized arrays behind the scenes. Are there dynamically expanding arrays or some other performance boosting algorithms at work?P.S.The reason I'm wondering this is because I'm researching some sorting algorithms, most of which seem to assume appending and deleting are O(1) operations when describing their overall big O.

2012-07-16 23:59:38Z

Arrays in JavaScript are very easy to modify by adding and removing items. It somewhat masks the fact that most languages array's are fixed-size, and require complex operations to resize. It seems that JavaScript makes it easy to write poorly performing array code. This leads to the question:What performance (in terms of big O time complexity) can I expect from JavaScript implementations in regards to array performance?I assume that all reasonable JavaScript implementations have at least the following big O's.JavaScript lets you pre-fill an array to a certain size, using new Array(length) syntax. (Bonus question: Is creating an array in this manner O(1) or O(n)) This is more like a conventional array, and if used as a pre-sized array, can allow O(1) appending. If circular buffer logic is added, you can achieve O(1) prepending. If a dynamically expanding array is used, O(log n) will be the average case for both of those.Can I expect better performance for some things than my assumptions here? I don't expect anything is outlined in any specifications, but in practice it could be that all major implementations use optimized arrays behind the scenes. Are there dynamically expanding arrays or some other performance boosting algorithms at work?P.S.The reason I'm wondering this is because I'm researching some sorting algorithms, most of which seem to assume appending and deleting are O(1) operations when describing their overall big O.In contrast to most languages, which implement arrays with, well, arrays, in Javascript Arrays are objects, and values are stored in a hashtable, just like regular object values. As such:In general, setting or unsetting any key in a dict is amortized O(1), and the same goes for arrays, regardless of what the index is. Any operation that requires renumbering existing values is O(n) simply because you have to update all the affected values.

How to ignore user's time zone and force Date() use specific time zone

warpech

[How to ignore user's time zone and force Date() use specific time zone](https://stackoverflow.com/questions/2771609/how-to-ignore-users-time-zone-and-force-date-use-specific-time-zone)

In an JS app, I receive timestamp (eq. 1270544790922) from server (Ajax).Basing on that timestamp I create Date object using:Now, _date decoded timestamp in current user locale time zone. I don't want that.I would like _date to convert this timestamp to current time in city of Helsinki in Europe (disregarding current time zone of the user). How can I do that?

2010-05-05 08:35:54Z

In an JS app, I receive timestamp (eq. 1270544790922) from server (Ajax).Basing on that timestamp I create Date object using:Now, _date decoded timestamp in current user locale time zone. I don't want that.I would like _date to convert this timestamp to current time in city of Helsinki in Europe (disregarding current time zone of the user). How can I do that?A Date object's underlying value is actually in UTC. To prove this, notice that if you type new Date(0) you'll see something like: Wed Dec 31 1969 16:00:00 GMT-0800 (PST). 0 is treated as 0 in GMT, but .toString() method shows the local time.Big note, UTC stands for Universal time code. The current time right now in 2 different places is the same UTC, but the output can be formatted differently.What we need here is some formattingThis works but.... you can't really use any of the other date methods for your purposes since they describe the user's timezone. What you want is a date object that's related to the Helsinki timezone. Your options at this point are to use some 3rd party library (I recommend this), or hack-up the date object so you can use most of it's methods.Option 1 - a 3rd party like moment-timezoneThis looks a lot more elegant than what we're about to do next.Option 2 - Hack up the date objectIt still thinks it's GMT-0700 (PDT), but if you don't stare too hard you may be able to mistake that for a date object that's useful for your purposes.I conveniently skipped a part. You need to be able to define currentHelsinkiOffset. If you can use date.getTimezoneOffset() on the server side, or just use some if statements to describe when the time zone changes will occur, that should solve your problem.Conclusion - I think especially for this purpose you should use a date library like moment-timezone.To account for milliseconds and the user's time zone, use the following:Just another approachCheers!I have a suspicion, that the Answer doesn't give the correct result. In the question the asker wants to convert timestamp from server to current time in Hellsinki disregarding current time zone of the user.It's the fact that the user's timezone can be what ever so we cannot trust to it.If eg. timestamp is 1270544790922 and we have a function:When a New Yorker visits the page, alert(_helsenkiTime) prints:And when a Finlander visits the page, alert(_helsenkiTime) prints:So the function is correct only if the page visitor has the target timezone (Europe/Helsinki) in his computer, but fails in nearly every other part of the world. And because the server timestamp is usually UNIX timestamp, which is by definition in UTC, the number of seconds since the Unix Epoch (January 1 1970 00:00:00 GMT), we cannot determine DST or non-DST from timestamp.So the solution is to DISREGARD the current time zone of the user and implement some way to calculate UTC offset whether the date is in DST or not. Javascript has not native method to determine DST transition history of other timezone than the current timezone of user. We can achieve this most simply using server side script, because we have easy access to server's timezone database with the whole transition history of all timezones.But if you have no access to the server's (or any other server's) timezone database AND the timestamp is in UTC, you can get the similar functionality by hard coding the DST rules in Javascript.To cover dates in years 1998 - 2099 in Europe/Helsinki you can use the following function (jsfiddled): Examples of usage:And this print the following regardless of user timezone:Of course if you can return timestamp in a form that the offset (DST or non-DST one) is already added to timestamp on server, you don't have to calculate it clientside and you can simplify the function a lot. BUT remember to NOT use timezoneOffset(), because then you have to deal with user timezone and this is not the wanted behaviour.Presuming you get the timestamp in Helsinki time, I would create a date object set to midnight January 1 1970 UTC (for disregarding the local timezone settings of the browser).

Then just add the needed number of milliseconds to it.Watch out later, to always ask UTC values from the date object. This way users will see the same date values regardless of local settings. 

Otherwise date values will be shifted corresponding to local time settings.You could use setUTCMilliseconds()

Post data to JsonP

ChrisCa

[Post data to JsonP](https://stackoverflow.com/questions/2699277/post-data-to-jsonp)

Is it possible to post data to JsonP? Or does all data have to be passed in the querystring as a GET request?I have alot of data that I need to send to the service, cross domain, and it is too large to send via the querystringWhat are the options for getting around this?

2010-04-23 14:20:46Z

Is it possible to post data to JsonP? Or does all data have to be passed in the querystring as a GET request?I have alot of data that I need to send to the service, cross domain, and it is too large to send via the querystringWhat are the options for getting around this?It is not possible to do an asynchronous POST to a service on another domain, due to the (quite sensible) limitation of the same origin policy. JSON-P only works because you're allowed to insert <script> tags into the DOM, and they can point anywhere.You can, of course, make a page on another domain the action of a regular form POST.Edit: There are some interesting hacks out there if you're willing to go to a lot of effort inserting hidden <iframe>s and mucking about with their properties. If you need to send a lot of data cross-domain. I usually create a service that you can call in two steps:This of course relies on that you write the server-backend.I know this is serious necromancy, but I thought I'd post my implementation of JSONP POST using jQuery, which I'm successfully using for my JS widget (this is used for customer registration and login):Basically, I'm using an IFrame approach, as suggested in the accepted answer. What I'm doing differently is after sending the request, I'm watchin, if the form can be reached in the iframe, using a timer. When the form cannot be reached, it means the request has returned. Then, I'm using a normal JSONP request to query for the status of the operation.I hope that someone finds it useful. Tested in >=IE8, Chrome, FireFox and Safari.Well generally JSONP is implemented by adding a <script> tag to the calling document, such that the URL of the JSONP service is the "src".  The browser fetches script source with an HTTP GET transaction.Now, if your JSONP service is in the same domain as your calling page, then you could probably cobble something together with a simple $.ajax() call.  If it's not in the same domain, then I'm not sure how it'd be possible.You could use a CORS Proxy using this project. It would direct all traffic to an endpoint on your domain and relay that information to an external domain.  Since the browser is registering all requests to be on the same domain we are able to post JSON. 

NOTE: This also works with SSL certificates held on the server.There's a (hack) solution I've did it many times, you'll be able to Post with JsonP.

(You'll be able to Post Form, bigger than 2000 char than you can use by GET)Client application JavascriptJAVA:PHP:Doing like this, you are opening your server to any post request, you should re-secure this by providing ident or something else.With this method, you could also change the request type from jsonp to json, both work, just set the right response content typejsonpjsonPlease not that you're server will no more respect the SOP (same origin policy), but who cares ?It is possible, here is my solution:In your javascript:In your url.php: 

Callback on CSS transition

Pompair

[Callback on CSS transition](https://stackoverflow.com/questions/2087510/callback-on-css-transition)

Is it possible to get a notification (like callback) when a CSS transition has been completed?

2010-01-18 16:27:33Z

Is it possible to get a notification (like callback) when a CSS transition has been completed?I know that Safari implements a webkitTransitionEnd callback that you can attach directly to the element with the transition.Their example (reformatted to multiple lines):Yes, if such things are supported by the browser, then an event is triggered when the transition completes.  The actual event however, differs between browsers:However you should be aware that webkitTransitionEnd doesn't always fire!  This has caught me out a number of times, and seems to occur if the animation would have no effect on the element.  To get around this, it makes sense to use a timeout to fire the event handler in the case that it's not been triggered as expected.  A blog post about this problem is available here: http://www.cuppadev.co.uk/the-trouble-with-css-transitions/ <-- 500 Internal Server ErrorWith this in mind, I tend to use this event in a chunk of code that looks a bit like this:Note: to get the transition event end name you can use the method posted as the answer in:

How do I normalize CSS3 Transition functions across browsers?.Note: this question is also related to:

- CSS3 transition eventsI am using the following code, is much simpler than trying to detect which specific end event a browser uses.Alternatively if you use bootstrap then you can simply do This is becuase they include the following in bootstrap.js The jQuery.transit plugin, a plugin for CSS3 transformations and transitions, can call your CSS animations from script and give you a callback.This can easily be achieved with the transitionend Event see documentation here

A simple example:

Remove the string on the beginning of an URL

Lupo

[Remove the string on the beginning of an URL](https://stackoverflow.com/questions/9928679/remove-the-string-on-the-beginning-of-an-url)

I want to remove the "www." part from the beginning of an URL stringFor instance in these test cases:e.g. www.test.com → test.com

e.g. www.testwww.com → testwww.com

e.g. testwww.com → testwww.com (if it doesn't exist)Do I need to use Regexp or is there a smart function?

2012-03-29 15:34:35Z

I want to remove the "www." part from the beginning of an URL stringFor instance in these test cases:e.g. www.test.com → test.com

e.g. www.testwww.com → testwww.com

e.g. testwww.com → testwww.com (if it doesn't exist)Do I need to use Regexp or is there a smart function?Depends on what you need, you have a couple of choices, you can do:Yes, there is a RegExp but you don't need to use it or any "smart" function:If the string has always the same format, a simple substr() should suffice.Either manually, likeor just use .replace():You can overload the String prototype with a removePrefix function:usage:Try the followingYou can cut the url and use response.sendredirect(new url), this will bring you to the same page with the new urlAnother way:

Set scroll position

Mike Rifgin

[Set scroll position](https://stackoverflow.com/questions/4192847/set-scroll-position)

I'm trying to set the scroll position on a page so the scroller is scrolled all the way to the top.I think I need something like this but it's not working: Any ideas?

2010-11-16 09:51:12Z

I'm trying to set the scroll position on a page so the scroller is scrolled all the way to the top.I think I need something like this but it's not working: Any ideas?You can use window.scrollTo(), like this:Also worth noting window.scrollBy(dx,dy) (ref)Note that if you want to scroll an element instead of the full window, elements don't have the scrollTo and scrollBy methods. You should:You can also mimic the window.scrollTo and window.scrollBy functions to all the existant HTML elements in the webpage:so you can do:NOTE: Object.defineProperty is encouraged, as directly adding properties to the prototype is a breaking bad habit (When you see it :-).... Or just replace body by documentElement:

Javascript: Round up to the next multiple of 5

Amit Erandole

[Javascript: Round up to the next multiple of 5](https://stackoverflow.com/questions/18953384/javascript-round-up-to-the-next-multiple-of-5)

I need a utility function that takes in an integer value (ranging from 2 to 5 digits in length) that rounds up to the next multiple of 5 instead of the nearest multiple of 5. Here is what I got:When I run round5(32), it gives me 30, where I want 35.

When I run round5(37), it gives me 35, where I want 40.  When I run round5(132), it gives me 130, where I want 135.

When I run round5(137), it gives me 135, where I want 140.  etc...How do I do this?

2013-09-23 06:57:41Z

I need a utility function that takes in an integer value (ranging from 2 to 5 digits in length) that rounds up to the next multiple of 5 instead of the nearest multiple of 5. Here is what I got:When I run round5(32), it gives me 30, where I want 35.

When I run round5(37), it gives me 35, where I want 40.  When I run round5(132), it gives me 130, where I want 135.

When I run round5(137), it gives me 135, where I want 140.  etc...How do I do this?This will do the work:It's just a variation of the common rounding number to nearest multiple of x function Math.round(number/x)*x, but using .ceil instead of .round makes it always round up instead of down/up according to mathematical rules.Like this?I arrived here while searching for something similar.

If my number is —0, —1, —2 it should floor to —0, and if it's —3, —4, —5 it should ceil to —5.I came up with this solution:And the tests:This will round the number to the nearest 5. To always round up to the nearest 5, use Math.ceil. Likewise, to always round down, use Math.floor instead of Math.round.

You can then call this function like you would any other. For example,will return:Regards

Paul  // round with precision// round to 5 with precisionreason for using round is that expected input can be a random number.Thanks!!!maybe?

JavaScript Regular Expression Email Validation [duplicate]

azamsharp

[JavaScript Regular Expression Email Validation [duplicate]](https://stackoverflow.com/questions/940577/javascript-regular-expression-email-validation)

This code is always alerting out "null", which means that the string does not match the expression.

2009-06-02 16:40:50Z

This code is always alerting out "null", which means that the string does not match the expression.If you define your regular expression as a string then all backslashes need to be escaped, so instead of '\w' you should have '\\w'.Alternatively, define it as a regular expression:BTW, please don't validate email addresses on the client-side. Your regular expression is way too simple to pass for a solid implementation anyway.See the real thing here: http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.htmlthis is the one i am using on my page.http://www.zparacha.com/validate-email-address-using-javascript-regular-expression//^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/I've been using this function for a while. it returns a boolean value.You may be interested in this question (or this one), which highlights the fact that identifying valid email addresses via regexps is a very hard problem to solve (if at all solvable)with more simple regexHere it is :good luck.Sometimes most of the registration and login page need to validate email. In this example you will learn simple email validation.

First take a text input in html and a button input like thisyou can also check using this regular expressionCheck this demo output which you can check hereif email invalid then give alert message , if valid email then no alert message .

for more info about regular expressionhttps://www.w3schools.com/jsref/jsref_obj_regexp.asphope it will help youYou may be interested in having a look at this page it list regular expressions for validating email address that cover more general cases.Email validation is easy to get wrong. I would therefore recommend that you use Verimail.js. Why?Another great thing with Verimail.js is that it has spelling suggestion for the most common email domains and registered TLDs. This can lower your bounce rate drastically for users that misspell common domain names such as gmail.com, hotmail.com, aol.com, aso..Example:How to use it?The easiest way is to download and include verimail.jquery.js on your page.

After that, hookup Verimail by running the following function on the input-box that needs the validation:The message element is an optional element that displays a message such as "Invalid email.." or "Did you mean test@gmail.com?". If you have a form and only want to proceed if the email is verified, you can use the function getVerimailStatus as shown below:The getVerimailStatus-function returns an integer code according to the object Comfirm.AlphaMail.Verimail.Status. As shown above, if the status is a negative integer value, then the validation should be treated as a failure. But if the value is greater or equal to 0, then the validation should be treated as a success.I have been using this one....It allows that + before @ (xyz+abc@xyz.com)Little late to the party, but here goes nothing...http://jsfiddle.net/yrshaikh/xvd6H/You can also try this expression, I have tested it against many email addresses.Simple but powerful email validation for check email syntax :You should bear in mind that a-z, A-Z, 0-9, ., _ and - are not the only valid characters in the start of an email address.Gmail, for example, lets you put a "+" sign in the address to "fake" a different email (e.g. someone@gmail.com will also get email sent to someone+else@gmail.com).micky.o'finnagan@wherever.com would not appreciate your code stopping them entering their address ... apostrophes are perfectly valid in email addresses.The Closure "check" of a valid email address mentioned above is, as it states itself, quite naïve:http://code.google.com/p/closure-library/source/browse/trunk/closure/goog/format/emailaddress.js#198I recommend being very open in your client side code, and then much more heavyweight like sending an email with a link to really check that it's "valid" (as in - syntactically valid for their provider, and also not misspelled).Something like this:var pattern = /[^@]+@[-a-z\.]\.[a-z\.]{2,6}/Bearing in mind that theoretically you can have two @ signs in an email address, and I haven't even included characters beyond latin1 in the domain names!http://www.eurid.eu/en/eu-domain-names/idns-euhttp://haacked.com/archive/2007/08/21/i-knew-how-to-validate-an-email-address-until-i.aspxIt would be best to use:var pattern = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,20}$/;This allows domains such as: whatever.info (4 letters at the end)Also to test, usingpattern.test("exampleemail@testing.info")returns true if it workshttp://www.w3schools.com/js/js_obj_regexp.aspYou can add a function to String Object

Hide/show element with a boolean

Aakil Fernandes

[Hide/show element with a boolean](https://stackoverflow.com/questions/27950151/hide-show-element-with-a-boolean)

I tend to have a lot of these in my codeIs there any more elegant way packaged with javascript, jquery, or underscore? Ideally I want something that looks like this

2015-01-14 18:41:03Z

I tend to have a lot of these in my codeIs there any more elegant way packaged with javascript, jquery, or underscore? Ideally I want something that looks like thisApparently you can just pass a boolean to the toggle functionYes there is!Without any parameters, toggle just toggles the elements visibility (I don't mean the visibility property) and depends on the current state of the element.If you call toggle with a boolean parameter, element is shown if it is true and hidden if it is falsesourcejQuery has toggle:  http://api.jquery.com/toggle/$element.toggle();This will show the element if it's hidden, and hide it if it's shown.The function .toggle() changes the display of the element.If you want to change visibility, instead, I'd suggest using the ?: operator. For this, on your CSS, set the visibility to the original state, and in the JS simply put:

XMLHttpRequest cannot load XXX No 'Access-Control-Allow-Origin' header

Peter David Carter

[XMLHttpRequest cannot load XXX No 'Access-Control-Allow-Origin' header](https://stackoverflow.com/questions/35553500/xmlhttprequest-cannot-load-xxx-no-access-control-allow-origin-header)

I have a Grunt process which initiates an instance of express.js server. This was working absolutely fine up until just now when it started serving a blank page with the following appearing in the error log in the developer's console in Chrome (latest version):What is stopping me from accessing the page?

2016-02-22 12:19:25Z

I have a Grunt process which initiates an instance of express.js server. This was working absolutely fine up until just now when it started serving a blank page with the following appearing in the error log in the developer's console in Chrome (latest version):What is stopping me from accessing the page?tl;dr — There's a summary at the end and headings in the answer to make it easier to find the relevant parts. Reading everything is recommended though as it provides useful background for understanding the why that makes seeing how the how applies in different circumstances easier.This is the Same Origin Policy. It is a security feature implemented by browsers.Your particular case is showing how it is implemented for XMLHttpRequest (and you'll get identical results if you were to use fetch), but it also applies to other things (such as images loaded onto a <canvas> or documents loaded into an <iframe>), just with slightly different implementations. (Weirdly, it also applies to CSS fonts, but that is because found foundries insisted on DRM and not for the security issues that the Same Origin Policy usually covers).The standard scenario that demonstrates the need for the SOP can be demonstrated with three characters:Alice is logged into Bob's site and has some confidential data there. Perhaps it is a company intranet (accessible only to browsers on the LAN), or her online banking (accessible only with a cookie you get after entering a username and password).Alice visits Mallory's website which has some JavaScript that causes Alice's browser to make an HTTP request to Bob's website (from her IP address with her cookies, etc). This could be as simple as using XMLHttpRequest and reading the responseText.The browser's Same Origin Policy prevents that JavaScript from reading the data returned by Bob's website (which Bob and Alice don't want Mallory to access). (Note that you can, for example, display an image using an <img> element across origins because the content of the image is not exposed to JavaScript (or Mallory) … unless you throw canvas into the mix in which case you will generate a same-origin violation error).For any given URL it is possible that the SOP is not needed. A couple of common scenarios where this is the case are:… but the browser has no way of knowing if either of the above are true, so trust is not automatic and the SOP is applied. Permission has to be granted explicitly before the browser will give the data it was given to a different website.Browser extensions*, the Network tab in browser developer tools and applications like Postman are installed software. They aren't passing data from one website to the JavaScript belonging to a different website just because you visited that different website. Installing software usually takes a more conscious choice.There isn't a third party (Mallory) who is considered a risk.* Browser extensions do need to be written carefully to avoid cross-origin issues. See the Chrome documentation for example.There are a number of circumstances where Mallory's site can cause a browser to fetch data from a third party and display it (e.g. by adding an <img> element to display an image). It isn't possible for Mallory's JavaScript to read the data in that resource though, only Alice's browser and Bob's server can do that, so it is still secure.The Access-Control-Allow-Origin header referred to in the error message is part of the CORS standard which allows Bob to explicitly grant permission to Mallory's site to access the data via Alice's browser. A basic implementation would just include:… to permit any website to read the data.… would allow only a specific site to access it, and Bob can dynamically generate that based on the Origin request header to permit multiple, but not all, sites to access it.The specifics of how Bob sets that response header depend on Bob's HTTP server and/or server-side programming language. There is a collection of guides for various common configurations that might help.NB: Some requests are complex and send a preflight OPTIONS request that the server will have to respond to before the browser will send the GET/POST/PUT/Whatever request that the JS wants to make. Implementations of CORS that only add Access-Control-Allow-Origin to specific URLs often get tripped up by this.Obviously granting permission via CORS is something Bob would only do only if either:There is no standard mechanism for Mallory to add this header because it has to come from Bob's website, which she does not control. If Bob is running a public API then there might be a mechanism to turn on CORS (perhaps by formatting the request in a certain way, or a config option after logging into a Developer Portal site for Bob's site). This will have to be a mechanism implemented by Bob though. Mallory could read the documentation on Bob's site to see if something is available, or she could talk to Bob and ask him to implement CORS.Some cross origin requests are preflighted. This happens when (roughly speaking) you try to make a cross-origin request that:In these cases then the rest of this answer still applies but you also need to make sure that the server can listen for the preflight request (which will be OPTIONS (and not GET, POST or whatever you were trying to send) and respond to it with the right Access-Control-Allow-Origin header but also Access-Control-Allow-Methods and Access-Control-Allow-Headers to allow your specific HTTP methods or headers.Sometimes people make mistakes when trying to construct Ajax requests, and sometimes these trigger the need for a preflight. If the API is designed to allow cross-origin requests, but doesn't require anything that would need a preflight, then this can break access.Common mistakes that trigger this include:In either of these cases, removing the extra request header will often be enough to avoid the need for a preflight (which will solve the problem when communicating with APIs that support simple requests but not preflighted requests).Sometimes you need to make an HTTP request, but you don't need to read the response. e.g. if you are posting a log message to the server for recording.If you are using the fetch API (rather than XMLHttpRequest), then you can configure it to not try to use CORS.Note that this won't let you do anything that you require CORS to do. You will not be able to read the response. You will not be able to make a request that requires a preflight.It will let you make a simple request, not see the response, and not fill the Developer Console with error messages.How to do it is explained by the Chrome error message given when you make a request using fetch and don't get permission to view the response with CORS:Thus:Bob could also provide the data using a hack like JSONP which is how people did cross-origin Ajax before CORS came along.It works by presenting the data in the form of a JavaScript program which injects the data into Mallory's page.It requires that Mallory trust Bob not to provide malicious code. Note the common theme: The site providing the data has to tell the browser that it is OK for a third party site to access the data it is sending to the browser. Since JSONP works by appending a <script> element to load the data in the form of a JavaScript program which calls a function already in the page, attempting to use the JSONP technique on a URL which returns JSON will fail — typically with a CORB error — because JSON is not JavaScript.If the HTML document the JS runs in and the URL being requested are on the same origin (sharing the same scheme, hostname, and port) then they Same Origin Policy grants permission by default. CORS is not needed.Mallory could use server-side code to fetch the data (which she could then pass from her server to Alice's browser through HTTP as usual).It will either:That server-side code could be written & hosted by a third party (such as CORS Anywhere). Note the privacy implications of this: The third party can monitor who proxies what across their servers.Bob wouldn't need to grant any permissions for that to happen. This would be fine since that is just between Mallory and Bob. There is no way for Bob to think that Mallory is Alice and to provide Mallory with data that should be kept confidential between Alice and Bob.Consequently, Mallory can only use this technique to read public data. As noted in the section "Why the Same Origin Policy only applies to JavaScript in a web page", you can avoid the SOP by not writing JavaScript in a webpage. That doesn't mean you can't continue to use JavaScript and HTML, but you could distribute it using some other mechanism, such as Node-WebKit or PhoneGap.It is possible for a browser extension to inject the CORS headers in the response before the Same Origin Policy is applied. These can be useful for development, but are not practical for a production site (asking every user of your site to install a browser extension that disables a security feature of their browser is unreasonable). They also tend to work only with simple requests (failing when handling preflight OPTIONS requests).Having a proper development environment with a local development server 

is usually a better approach. Note that SOP / CORS do not mitigate XSS, CSRF, or SQL Injection attacks which need to be handled independently. Target server must allowed cross-origin request. In order to allow it through express, simply handle http options request :This is happening because of the CORS error. CORS stands for Cross Origin Resource Sharing. In simple words, this error occurs when we try to access a domain/resource from another domain. Read More about it here: CORS error with jqueryTo fix this, if you have access to the other domain, you will have to allow Access-Control-Allow-Origin in the server. This can be added in the headers. You can enable this for all the requests/domains or a specific domain.How to get a cross-origin resource sharing (CORS) post request workingThese links may helpAs this isn't mentioned in the accepted answer.You can make use of Simple Requests.

In order to perform a 'Simple Requests' the request needs to meet several conditions. E.g. only allowing POST, GET and HEAD method, as well as only allowing some given Headers (you can find all conditions here).If your client code does not explicit set affected Headers (e.g. "Accept") with a fix value in the request it might occur that some clients do set these Headers automatically with some "non-standard" values causing the server to not accept it as Simple Request - which will give you a CORS error.This CORS issue wasn't further elaborated (for other causes).I'm having this issue currently under different reason.

My front end is returning 'Access-Control-Allow-Origin' header error as well.Just that I've pointed the wrong URL so this header wasn't reflected properly (in which i kept presume it did). localhost (front end) -> call to non secured http (supposed to be https), make sure the API end point from front end is pointing to the correct protocol."Get" request with appending headers transform to "Options" request. So Cors policy problems occur. You have to implement "Options" request to your server.I got the same error in Chrome console.My problem was, I was trying to go to the site using http:// instead of https://. So there was nothing to fix, just had to go to the same site using https.You should enable CORS to get it working.

Text blinking jQuery

HP.

[Text blinking jQuery](https://stackoverflow.com/questions/1605698/text-blinking-jquery)

What is an easy way to make text blinking in jQuery and a way to stop it? Must work for IE, FF and Chrome. Thanks

2009-10-22 08:15:53Z

What is an easy way to make text blinking in jQuery and a way to stop it? Must work for IE, FF and Chrome. ThanksTry using this blink pluginFor ExampleIt is also a very simple plugin, and you could probably extend it to stop the animation and start it on demand.A plugin to blink some text sounds a bit like overkill to me...Try this...here's blinking with animation:just give a blink class whatever u want to blink:all regards to DannyZB on #jquery features:If you'd rather not use jQuery, this can be achieved with CSS3Seems to work in Chrome, though I thought I heard a slight sobbing noise.Combine the codes above, I think this is a good solution.At least it works on my web.

http://140.138.168.123/2y78%202782Here's mine ; it gives you control over the 3 parameters that matter:.You can also try these:You can also use the standard CSS way (no need for JQuery plugin, but compatible with all browsers):W3C LinkThis is the EASIEST way (and with the least coding):FiddleNow, if you are looking for something more sophisticated...FiddleHere you can find a jQuery blink plugin with its quick demo.Basic blinking (unlimited blinking, blink period ~1 sec):On a more advanced usage, you can override any of the settings:There you can specify the max number of blinks as well as have access to a couple of callbacks: onBlink and onMaxBlinks that are pretty self explanatory.Works in IE 7 & 8, Chrome, Firefox, Safari and probably in IE 6 and Opera (although haven't tested on them).(In full disclosure: I'm am the creator of this previous one. We had the legitimate need to use it at work [I know we all like to say this :-)] for an alarm within a system and I thought of sharing only for use on a legitimate need ;-)). Here is another list of jQuery blink plugins.this code is work for meYou can try the jQuery UI Pulsate effect:http://docs.jquery.com/UI/Effects/Pulsatedo not work with IE 7 & Safari. Work well with FirefoxThis stand-alone solution will blink the text a specified number of times and then stop.The blinking uses opacity, rather than show/hide, fade or toggle so that the DIV remains clickable, in case that's ever an issue (allows you to make buttons with blinking text).jsFiddle here (contains additional comments)Sources:

Danny Gimenez

Moses ChristianLink to authorI was going to post the steps-timed polyfill, but then I remembered that I really don’t want to ever see this effect, so…I feel the following is of greater clarity and customization than other answers.Blinking !This code might help to this topic. Simple, yet useful.I like alex's answer, so this is a bit of an extension of that without an interval (since you would need to clear that interval eventually and know when you want a button to stop blinking. This is a solution where you pass in the jquery element, the ms you want for the blinking offset and the number of times you want the element to blink:Some of these answers are quite complicated, this is a bit easier:Seeing the number of views on this question, and the lack of answers that cover both blinking and stopping it, here goes: try jQuery.blinker out (demo).HTML:JavaScript:Indeed a plugin for a simple blink effect is overkill. So after experimenting with various solutions, I have choosen between one line of javascript and a CSS class that controls exactly how I want to blink the elements (in my case for the blink to work I only need to change the background to transparent, so that the text is still visible):JS:CSS:Full example at this js fiddle.Blink functionality can be implemented by plain javascript, no requirement for jquery plugin or even jquery.This will work in all the browsers, as it is using the basic functionalityHere is the code HTML:JS Code:and a working fiddleThis is what ended up working best for me. I used jQuery fadeTo because this is on WordPress, which already links jQuery in.  Otherwise, I probably would have opted for something with pure JavaScript before adding another http request for a plugin.I have written a simple jquery extension for text blink whilst specifying number of times it should blink the text, Hope it helps others.Text Blinking start and stop on button click -Easiest way:You can repeat this as much as you want or you can use it inside a loop. the first parameter of the fadeTo() is the duration for the fade to take effect, and the second parameter is the opacity.This code will effectively make the element(s) blink without touching the layout (like fadeIn().fadeOut() will do) by just acting on the opacity ; There you go, blinking text ; usable for both good and evil :)

Call a Javascript function every 5 seconds continuously [duplicate]

deepmoteria

[Call a Javascript function every 5 seconds continuously [duplicate]](https://stackoverflow.com/questions/7188145/call-a-javascript-function-every-5-seconds-continuously)

Call a Javascript function every 5 seconds continuously. 

I have seen the setTimeOut event. Will it be working fine if I want it continuously?

2011-08-25 09:40:17Z

Call a Javascript function every 5 seconds continuously. 

I have seen the setTimeOut event. Will it be working fine if I want it continuously?You can use setInterval(), the arguments are the same.Do a "recursive" setTimeout of your function, and it will keep being executed every amount of time defined:As best coding practices suggests, use setTimeout instead of setInterval.Please note that this is NOT a recursive function. The function is not calling itself before it ends, it's calling a setTimeout function that will be later call the same function again.For repeating an action in the future, there is the built in setInterval  function that you can use instead of setTimeout.

It has a similar signature, so the  transition from one to another is simple:  Good working example here: http://jsfiddle.net/MrTest/t4NXD/62/Plus:Tested and working! 

How to trigger ngClick programmatically

mulla.azzi

[How to trigger ngClick programmatically](https://stackoverflow.com/questions/22447374/how-to-trigger-ngclick-programmatically)

I want to trigger ng-click of an element at runtime like:ORHow can this be done?

2014-03-17 05:09:07Z

I want to trigger ng-click of an element at runtime like:ORHow can this be done?The syntax is the following:More info on Angular Extend way here.If you are using old versions of angular, you should use trigger instead of triggerHandler.If you need to apply stop propagation you can use this method as follows:EDIT:

It appears that you have to break out of the current $apply() cycle. One way to do this is using $timeout():See fiddle: http://jsfiddle.net/t34z7/This following solution works for me : instead of :Just in case everybody see's it, I added additional duplicating answer with an important line which will not break event propagationUsing plain old JavaScript worked for me:

document.querySelector('#elementName').click();You can do likeThe best solution is to use:Because the angularjs triggerHandler(angular.element(domElement).triggerHandler('click')) click events does not bubble up in the DOM hierarchy, but the one above does - just like a normal mouse click.https://docs.angularjs.org/api/ng/function/angular.elementhttp://api.jquery.com/triggerhandler/https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/clickSimple sample:HTMLJavaScriptWhat this does is look for the button's id and perform a click action. Voila.Source: https://techiedan.com/angularjs-how-to-trigger-click/This code will not work (throw an error when clicked):You need to use the querySelector as follows:Include following line in your method there you want to trigger click event

Javascript trick for 'paste as plain text` in execCommand

Googlebot

[Javascript trick for 'paste as plain text` in execCommand](https://stackoverflow.com/questions/12027137/javascript-trick-for-paste-as-plain-text-in-execcommand)

I have a basic editor based on execCommand following the sample introduced here. There are three ways to paste text within the execCommand area:I want to allow pasting only plain text without any HTML markup. How can I force the first two actions to paste Plain Text?Possible Solution: The way I can think of is to set listener for keyup events for (Ctrl+V) and strip HTML tags before paste.

2012-08-19 14:10:34Z

I have a basic editor based on execCommand following the sample introduced here. There are three ways to paste text within the execCommand area:I want to allow pasting only plain text without any HTML markup. How can I force the first two actions to paste Plain Text?Possible Solution: The way I can think of is to set listener for keyup events for (Ctrl+V) and strip HTML tags before paste.It will intercept the paste event, cancel the paste, and manually insert the text representation of the clipboard:

http://jsfiddle.net/HBEzc/. 

This should be the most reliable:I'm not sure of cross-browser support, though.I couldn't get the accepted answer here to work in IE so I did some scouting around and came to this answer which works in IE11 and the latest versions of Chrome and Firefox.A close solution as pimvdb. But it's working of FF, Chrome and IE 9:Of course the question is already answered and the topic very old but I want to provide my solution as it is simple an clean:This is inside my paste-event on my contenteditable-div.The else-part is from another SO-post I couldn't find anymore...UPDATE 19.11.2014:

The other SO-postNone of the posted answers really seems to work cross browser or the solution is over complicated:What worked for me (IE11, Edge, Chrome and FF) is the following:Note that the custom paste handler is only needed/working for contenteditable nodes. As both textarea and plain input fields don't support pasting HTML content at all, so nothing needs to be done here.Firefox does not allow you to access the clipboard data so you'll need to make a 'hack' to get it to work. I've not been able to find a complete solution, however you can fix it for ctrl+v pastes by creating a textarea & pasting to that instead:I was also working on a plain text paste and I started to hate all the execCommand and getData errors, so I decided to do it the classic way and it works like a charm:The code with my notations can be found here:

http://www.albertmartin.de/blog/code.php/20/plain-text-paste-with-javascriptAbove code works for me in IE10 and IE11 and now also works in Chrome and Safari. Not tested in Firefox.In IE11, execCommand doesn't work well. I use below code for IE11

<div class="wmd-input" id="wmd-input-md" contenteditable=true>

is my div box.I read clipboard data from window.clipboardData and modify div's textContent and give caret.I give timeout for setting caret, because if I don't set timeout, a caret goes to end of div.and you should read clipboardData in IE11 in below way. If you don't do it, newline caracter is not handled properly, so caret goes wrong.Tested on IE11 and chrome. It may not work on IE9After along search and trying I have found somehow kind of optimal solution OK as everybody is trying to work around clipboard data, checking keypress event, and using execCommand.I thought of thisCODE

Passing arguments to angularjs filters

shapeshifter

[Passing arguments to angularjs filters](https://stackoverflow.com/questions/11753321/passing-arguments-to-angularjs-filters)

Is it possible to pass an argument to the filter function so you can filter by any name?Something like 

2012-08-01 05:56:25Z

Is it possible to pass an argument to the filter function so you can filter by any name?Something like Actually there is another (maybe better solution) where you can use the angular's native 'filter' filter and still pass arguments to your custom filter.Consider the following code:To make this work you just define your filter as the following:As you can see here, weDontLike actually returns another function which has your parameter in its scope as well as the original item coming from the filter.It took me 2 days to realise you can do this, haven't seen this solution anywhere yet.Checkout Reverse polarity of an angular.js filter to see how you can use this for other useful operations with filter.From what I understand you can't pass an arguments to a filter function (when using the 'filter' filter). What you would have to do is to write a custom filter, sth like this:Here is the working jsFiddle: http://jsfiddle.net/pkozlowski_opensource/myr4a/1/The other simple alternative, without writing custom filters is to store a name to filter out in a scope and then write:Actually you can pass a parameter ( http://docs.angularjs.org/api/ng.filter:filter ) and don't need a custom function just for this. If you rewrite your HTML as below it'll work:http://jsfiddle.net/ZfGx4/59/You can simply do like this 

In TemplateIn filterExtending on pkozlowski.opensource's answer and using javascript array's builtin filter method a prettified solution could be this:Here's the jsfiddle link.More on Array filter here.You can pass multiple arguments to angular filter !Defining my angular app and and an app level variable - Your Filter will be like :- And from HTML you will send data like :- Here I am sending a JSON object to the filter.

You can also send any kind of data like string or number.also you can pass dynamic number of arguments to filter , 

in that case you have to use arguments to get those arguments.For a working demo go here -   passing multiple arguments to angular filter

Moment.js - tomorrow, today and yesterday

Ziarno

[Moment.js - tomorrow, today and yesterday](https://stackoverflow.com/questions/35441820/moment-js-tomorrow-today-and-yesterday)

I'd like the moment().fromNow() functionality, but when the date is close it is too precise - ex. I don't want it to show 'in 3 hours' but 'today' - so basically with a 'daily' precision. I tried using the moment().calendar() function, it doesn't format if the date difference is more than 1 day

2016-02-16 19:52:36Z

I'd like the moment().fromNow() functionality, but when the date is close it is too precise - ex. I don't want it to show 'in 3 hours' but 'today' - so basically with a 'daily' precision. I tried using the moment().calendar() function, it doesn't format if the date difference is more than 1 dayYou can also do this to get the date for today and tomorrow and yesterdayYou can customize the way that both the .fromNow and the .calendar methods display dates using moment.updateLocale.  The following code will change the way that .calendar displays as per the question: Based on the question, it seems like the .calendar method would be more appropriate -- .fromNow wants to have a past/present prefix/suffix, but if you'd like to find out more you can read the documentation at http://momentjs.com/docs/#/customization/relative-time/.To use this in only one place instead of overwriting the locales, pass a string of your choice as the first argument when you define the moment.updateLocale and then invoke the calendar method using that locale (eg. moment.updateLocale('yesterday-today').calendar( /* moment() or whatever */ ))EDIT: Moment ^2.12.0 now has the updateLocale method. updateLocale and locale appear to be functionally the same, and locale isn't yet deprecated, but updated the answer to use the newer method.I use a combination of add() and endOf() with moment You can use this:Requirements:Solution:NB: From version 2.14.0, the formats argument to the calendar function can be a callback, see http://momentjs.com/docs/#/displaying/calendar-time/.I have similar solution, but allows to use locales: In Moment.js, the from() method has the daily precision you're looking for:From 2.10.5 moment supports specifying calendar output formats per invocation

For a more detailed documentation check Moment - Calendar.From 2.14.0 calendar can also take a callback to return values.So this is what I ended up doingYou can use .add() and .subtract() method to get yesterday and tomorrow date. Then use format method to get only date .format("D/M/Y"), D stand for Day, M for Month, Y for Year. Check in Moment DocsResult will be: 

Getting「Cannot read property 'nodeType' of null」when calling ko.applyBindings

Gerep

[Getting「Cannot read property 'nodeType' of null」when calling ko.applyBindings](https://stackoverflow.com/questions/9128015/getting-cannot-read-property-nodetype-of-null-when-calling-ko-applybindings)

I have this knockout code:This html:The example is the same as the one found on the Knockout website, but when I run it, it returns this message on Chrome Fire Bug:This one is related to the knockout file and to this line of my script:And this error is pointing to this line (1766) on knockout:What am I doing wrong?

2012-02-03 11:33:21Z

I have this knockout code:This html:The example is the same as the one found on the Knockout website, but when I run it, it returns this message on Chrome Fire Bug:This one is related to the knockout file and to this line of my script:And this error is pointing to this line (1766) on knockout:What am I doing wrong?This problem was happening because I was trying to bind an HTML element before it was created.My script was loaded on top of the HTML (in the head) but it needed to be loaded at the bottom of my HTML code (just before the closing body tag).Thanks for your attention James Allardice.A possible workaround is using defer="defer"Use this if the script is not going to generate any document content. This will tell the browser that it can wait for the content to be loaded before loading the script.Further reading.Hope it helps.You might want to consider using the jquery ready handler for thisThen you achieve two things:See http://api.jquery.com/ready/if you have jQuery put apply binding inside onload so that knockout looks for the DOM when DOM is ready.You have a simple spelling mistake:Should be:

jQuery Popup Bubble/Tooltip [closed]

jakejgordon

[jQuery Popup Bubble/Tooltip [closed]](https://stackoverflow.com/questions/625920/jquery-popup-bubble-tooltip)

I'm trying to make a "bubble" that can popup when the onmouseover event is fired and will stay open as long as the mouse is over the item that threw the onmouseover event OR if the mouse is moved into the bubble. My bubble will need to have all manners of HTML and styling including hyperlinks, images, etc.I've basically accomplished this by writing about 200 lines of ugly JavaScript but I would really like to find a jQuery plugin or some other way to clean this up a bit. 

2009-03-09 11:52:44Z

I'm trying to make a "bubble" that can popup when the onmouseover event is fired and will stay open as long as the mouse is over the item that threw the onmouseover event OR if the mouse is moved into the bubble. My bubble will need to have all manners of HTML and styling including hyperlinks, images, etc.I've basically accomplished this by writing about 200 lines of ugly JavaScript but I would really like to find a jQuery plugin or some other way to clean this up a bit. Qtip is the best one I've seen. It's MIT licensed, beautiful, has all the configuration you need. My favorite lightweight option is tipsy. Also MIT licensed. It inspired Bootstrap's tooltip plugin.This can be done easily with the mouseover event as well. I've done it and it doesn't take 200 lines at all. Start with triggering the event, then use a function that will create the tooltip.Then you create a function that position the tooltip with the offset position of the DOM-element that triggered the mouseover event, this is doable with css.Although qTip (the accepted answer) is good, I started using it, and it lacked some features I needed.I then stumbled upon PoshyTip - it is very flexible, and really easy to use. (And I could do what I needed)Ok, after some work I'm able to get a "bubble" to pop up and go away at all the right times. There is a LOT of styling that needs to happen still but this is basically the code i used.Here is a snippet of the html that goes with it:I have programmed an useful jQuery Plugin to create easily smart bubble popups with only a line of code in jQuery!What You can do:

- attach popups to any DOM element!

- mouseover/mouseout events automatically managed!

- set custom popups events!

- create smart shadowed popups! (in IE too!)

- choose popup’s style templates at runtime!

- insert HTML messages inside popups!

- set many options as: distances, velocity, delays, colors…Popup’s shadows and colorized templates are fully supported by

Internet Explorer 6+, Firefox, Opera 9+, SafariYou can download sources from

http://plugins.jquery.com/project/jqBubblePopupQTip has bug with jQuery 1.4.2. I had to switch to jQuery Bubble Pop up http://www.vegabit.com/jquery_bubble_popup_v2/#examples and it works great!Sounds to me you dn't want the mouse over events: you want the jQuery hover() event.And what you seem to want is a "rich" tooltip, in which case I suggest jQuery tooltip.  With the bodyHandler option you can put arbitrary HTML in.All those events fully managed by this plugin...http://plugins.jquery.com/project/jqBubblePopupColorTip is the most beautiful i've ever seenThe new version 3.0 of the jQuery Bubble Popup plugin supports jQuery v.1.7.2, currently the latest and stable version of the most famous javascript library.The most interesting feature of the 3.0 version is that You can use together jQuery & Bubble Popup plugin with any other libraries and javascript frameworks like Script.aculo.us, Mootols or Prototype because the plugin is completely encapsulated to prevent incompatibility problems;jQuery Bubble Popup was tested and supports a lot of known and「unknown」browsers; see the documentation for the complete list.Like previous versions, jQuery Bubble Popup plugin continues to be released under the MIT license; You are free to use jQuery Bubble Popup in commercial or personal projects as long as the copyright header is left intact.download the latest version or visit live demos and tutorials at

http://www.maxvergelli.com/jquery-bubble-popup/Autoresize simple Popup Bubbleindex.htmlbubble.jsbubble.cssTiptip is also a nice library.You can use qTip for this; However you'd have to code a little for launching it on mouseover event; And in case you want a default watermark on your text fields, you'd have to use the watermark plugin...I realized that this leads to lot of repetitive code; So I wrote a plugin on top of qTip that makes it really easy to attach informational popup to form fields. You can check it out here: https://bitbucket.org/gautamtandon/jquery.attachinfoHope this helps.

How to concatenate properties from multiple JavaScript objects

Vlad

[How to concatenate properties from multiple JavaScript objects](https://stackoverflow.com/questions/2454295/how-to-concatenate-properties-from-multiple-javascript-objects)

I am looking for the best way to "add" multiple JavaScript objects (associative arrays).For example, given:what is the best way to compute:

2010-03-16 12:35:25Z

I am looking for the best way to "add" multiple JavaScript objects (associative arrays).For example, given:what is the best way to compute:ECMAscript 6 introduced Object.assign() to achieve this natively in Javascript.MDN documentation on Object.assign()Object.assign is supported in many modern browsers but not yet all of them. Use a transpiler like Babel and Traceur to generate backwards-compatible ES5 JavaScript.You could use jquery's $.extend like this:This should do it:Output:ECMAScript 6 has spread syntax. And now you can do this:Underscore has few methods to do this;1. _.extend(destination, *sources) Copy all of the properties in the source objects over to the destination object, and return the destination object.Or2. _.defaults(object, *defaults) Fill in undefined properties in object with values from the defaults objects, and return the object.OrWhy should the function be restricted to 3 arguments? Also, check for hasOwnProperty.Notice: Existing properties in previous objects will be overwritten.Shallow-cloning (excluding prototype) or merging of objects is now possible using a shorter syntax than Object.assign().Spread syntax for object literals was introduced in ECMAScript 2018):Spread (...) operator is supported in many modern browsers but not all of them. So, it is recommend to use a transpiler like Babel to convert ECMAScript 2015+ code into a backwards compatible version of JavaScript in current and older browsers or environments. This is the equivalent code Babel will generate for you:Probably, the fastest, efficient and more generic way is this (you can merge any number of objects and even copy to the first one ->assign): It also allows you to modify the first object as it passed by reference. 

If you don't want this but want to have a completely new object containing all properties, then you can pass {} as the first argument. combined_object and object1 both contain the properties of object1,object2,object3.In this case, the combined_object contains the properties of object1,object2,object3 but object1 is not modified. Check here: https://jsfiddle.net/ppwovxey/1/Note: JavaScript objects are passed by reference. Simplest: spread operatorsES6 ++The question is adding various different objects into one.lets say you have one object with multiple keys that are objects:this was the solution I found (still have to foreach :/)By doing this we can dynamically add ALL object keys into one.

How do I cancel form submission in submit button onclick event?

Daniel Allen Langdon

[How do I cancel form submission in submit button onclick event?](https://stackoverflow.com/questions/4227043/how-do-i-cancel-form-submission-in-submit-button-onclick-event)

I'm working on an ASP.net web application.I have a form with a submit button.  The code for the submit button looks like <input type='submit' value='submit request' onclick='btnClick();'>.I want to write something like the following:How do I do this?

2010-11-19 16:25:02Z

I'm working on an ASP.net web application.I have a form with a submit button.  The code for the submit button looks like <input type='submit' value='submit request' onclick='btnClick();'>.I want to write something like the following:How do I do this?You are better off doing...If isValidForm() returns false, then your form doesn't submit.You should also probably move your event handler from inline.Change your input to this:And return false in your functionYou need to changetoandtoThat said, I'd try to avoid the intrinsic event attributes in favour of unobtrusive JS with a library (such as YUI or jQuery) that has a good event handling API and tie into the event that really matters (i.e. the form's submit event instead of the button's click event).Sometimes onsubmit wouldn't work with asp.net.I solved it with very easy way.if we have such a formYou can now catch get that event before the form postback and stop it from  postback and do all the ajax you want using this jquery.you should change the type from submit to button:instead ofyou then get the name of your button in javascript and associate whatever action you want to itworked for me

hope it helps.You need to return false;:Why not change the submit button to a regular button, and on the click event, submit your form if it passes your validation tests?e.gYou need onSubmit. Not onClick otherwise someone can just press enter and it will bypass your validation. As for canceling. you need to return false. Here's the code:Edit onSubmit belongs in the form tag.It's simple, just return false;The below code goes within the onclick of the submit button using jquery..use onclick='return btnClick();'and

Referencing another schema in Mongoose

Gorkem Yurtseven

[Referencing another schema in Mongoose](https://stackoverflow.com/questions/18001478/referencing-another-schema-in-mongoose)

if I have two schemas like: I tried to connect them together like the example above but I couldn't figure out how to do it. Eventually, if I can do something like this it would make my life very easy

2013-08-01 18:10:54Z

if I have two schemas like: I tried to connect them together like the example above but I couldn't figure out how to do it. Eventually, if I can do something like this it would make my life very easyIt sounds like the populate method is what your looking for. First make small change to your post schema:Then make your model:Then, when you make your query, you can populate references like this:Addendum: No one mentioned "Populate" --- it is very much worth your time and money looking at Mongooses Populate Method : Also explains cross documents referencinghttp://mongoosejs.com/docs/populate.html

What is the cleanest way to get the progress of JQuery ajax request?

guari

[What is the cleanest way to get the progress of JQuery ajax request?](https://stackoverflow.com/questions/19126994/what-is-the-cleanest-way-to-get-the-progress-of-jquery-ajax-request)

In plain javascript is very simple: need just to attach the callback to {XMLHTTPRequest}.onprogressbut I'm doing an ajax site that download html data with JQuery ($.get() or $.ajax()) and I was wondering which is the best way to get the progress of a request in order to display it with a little progress bar but curiously, I'm not finding anything usefull in JQuery documentation...

2013-10-01 22:21:22Z

In plain javascript is very simple: need just to attach the callback to {XMLHTTPRequest}.onprogressbut I'm doing an ajax site that download html data with JQuery ($.get() or $.ajax()) and I was wondering which is the best way to get the progress of a request in order to display it with a little progress bar but curiously, I'm not finding anything usefull in JQuery documentation...Something like this for $.ajax (HTML5 only though):jQuery has already implemented promises, so it's better to use this technology and not move events logic to options parameter. I made a jQuery plugin that adds progress promise and now it's easy to use just as other promises:

Check it out at githubI tried about three different ways of intercepting the construction of the Ajax object:  I actually call my promise.progress function xhrProgress so I can easily find it later.  You might want to name it something else to separate your upload and download listeners.  I hope this helps someone even if the original poster already got what he needed.jQuery has an AjaxSetup() function that allows you to register global ajax handlers such as beforeSend and complete for all ajax calls as well as allow you to access the xhr object to do the progress that you are looking forhttp://www.htmlgoodies.com/beyond/php/show-progress-report-for-long-running-php-scripts.htmlI was searching for a similar solution and found this one use full.}and your server outputs Follow the steps to display Progress of Ajax Request:To make it easy I recommend you using JS Classes for dynamically Displaying & Hiding the spinner for this purpose. I Hope this helps!

What reason is there to use null instead of undefined in JavaScript?

Jimmy Cuadra

[What reason is there to use null instead of undefined in JavaScript?](https://stackoverflow.com/questions/6604749/what-reason-is-there-to-use-null-instead-of-undefined-in-javascript)

I've been writing JavaScript for quite a long time now, and I have never had a reason to use null. It seems that undefined is always preferable and serves the same purpose programmatically. What are some practical reasons to use null instead of undefined?

2011-07-07 01:01:31Z

I've been writing JavaScript for quite a long time now, and I have never had a reason to use null. It seems that undefined is always preferable and serves the same purpose programmatically. What are some practical reasons to use null instead of undefined?Null and undefined are essentially two different values that mean the same thing. The only difference is in the conventions of how you use them in your system. As some have mentioned, some people use null for meaning "no object" where you might sometimes get an object while undefined means that no object was expected (or that there was an error). My problem with that is its completely arbitrary, and totally unnecessary. That said, there is one major difference - variables that aren't initialized (including function parameters where no argument was passed, among other things) are always undefined. Which is why in my code I never use null unless something I don't control returns null (regex matching for example). The beauty of this is it simiplifies things a lot. I never have to check if x === undefined || x === null. And if you're in the habit of using == or simply stuff like if(x) ... . Stop it. !x will evaluate to true for an empty string, 0, null, NaN - ie things you probably don't want. If you want to write javascript that isn't awful, always use triple equals === and never use null (use undefined instead). It'll make your life way easier.I don't really have an answer, but according to Nicholas C. Zakas, page 30 of his book "Professional JavaScript for Web Developers":undefined is where no notion of the thing exists; it has no type, and it's never been referenced before in that scope; null is where the thing is known to exist, but it has no value.Everyone has their own way of coding and their own internal semantics, but over the years I have found this to be the most intuitive advice that I give people who ask this question: when in doubt, do what JavaScript does.Let's say you are working with object properties like options for a jQuery plugin...ask yourself what value JavaScript gives a property that has yet to be defined -- the answer is undefined. So in this context, I would initialize these types of things with 'undefined' to be consistent with JavaScript (for variables, you can do var myVar; instead of var myVar = undefined;).Now let's say you are doing DOM manipulation...what value does JavaScript assign to non-existent elements? The answer is null. This is the value I would initialize with if you are creating a placeholder variable that will later hold a reference to an element, document fragment, or similar that relates to the DOM.If you're working with JSON, then a special case needs to be made: for undefined property values, you should either set them to "" or null because a value of undefined is not considered proper JSON format.With this said, as a previous poster has expressed, if you find that you're initializing stuff with null or undefined more than once in a blue moon, then maybe you should reconsider how you go about coding your app.You might adopt the convention suggested here, but there really is no good reason to. It is not used consistently enough to be meaningful.In order to make the convention useful, you first must know that the called function follows the convention. Then you have to explicitly test the returned value and decide what to do. If you get undefined, you can assume that some kind of error occurred that the called function knew about. But if an error happened, and the function knew about it, and it is useful to send that out into the wider environment, why not use an error object? i.e. throw an error?So at the end of the day, the convention is practically useless in anything other than very small programs in simple environments.TLDR; Don't use the undefined primitive. It's a value that the JS compiler will automatically set for you when you declare variables without assignment or if you try to access properties of objects for which there is no reference. On the other hand, use null if and only if you intentionally want a variable to have "no value". I never explicitly set anything to undefined (and I haven't come across this in the many codebases I've interacted with). Also, I rarely use null. The only times I use null is when I want to denote the value of an argument to a function as having no value, i.e.,:A useful property in null that undefined does not qualifies:I use null when I want to 'turn off' a numeric value,

or to initialize some. My last use was manipulating css transform:Not sure if I should use this property thought...DOM nodes and elements are not undefined, but may be null.But in none of these cases is the value undefined; there just is no node there.Here's a reason: var undefined = 1  is legal javascript, but var null = 1 is a syntax error. The difference is that null is a language keyword, while undefined is, for some reason, not.If your code relies on comparisons to undefined as if it's a keyword (if (foo == undefined) -- a very easy mistake to make) that only works because nobody has defined a variable with that name. All that code is vulnerable to someone accidentally or maliciously defining a global variable with that name. Of course, we all know that accidentally defining a global variable is totally impossible in javascript...A few have said that it is ok to initialise objects to null. I just wanted to point out that destructuring argument defaults don't work with null. For example:This requires performing null checks prior to calling the function which may happen often. I'm working through this exact question right now, and looking at the following philosophy:For me, this question is significant because anyone calling a function that returns a result should have no question as to whether to test for undefined vs null.This answer does not attempt to address:In my opinion, variables are your own business and not a part of your API, and properties in any OO system are defined and therefore should be defined with value different from what they would be if not defined (null for defined, undefined is what you get when accessing something that is not in your object).Just wanna add that with usage of certain javascript libraries, null and undefined can have unintended consequences.For example, lodash's get function, which accepts a default value as a 3rd argument:Another example: If you use defaultProps in React, if a property is passed null, default props are not used because null is interpreted as a defined value.

e.g. I completely disagree that usage null or undefined is unnecessary.

undefined is thing which keeping alive whole prototype chaining process.

So compiler only with null can't check if this property just equal to null, or its not defined in endpoint prototype. In other dynamic typed languages(f.e. Python) it throws exception if you want access to not defined property, but for prototype-based languages compiler should also check parent prototypes and here are the place when undefined need most.Whole meaning of using null is just bind variable or property with object which is singleton and have meaning of emptiness,and also null usage have performance purposes. This 2 code have difference execution time. 

What is the meaning of the 'g' flag in regular expressions?

intelis

[What is the meaning of the 'g' flag in regular expressions?](https://stackoverflow.com/questions/12993629/what-is-the-meaning-of-the-g-flag-in-regular-expressions)

What is the meaning of the g flag in regular expressions? What is is the difference between /.+/g and /.+/?

2012-10-20 23:36:10Z

What is the meaning of the g flag in regular expressions? What is is the difference between /.+/g and /.+/?g is for global search. Meaning it'll match all occurrences. You'll usually also see i which means ignore case.Reference: global - JavaScript | MDNWithout the g flag, it'll only test for the first.Example in Javascript to explain:g is the global search flag.The global search flag makes the RegExp search for a pattern throughout the string, creating an array of all occurrences it can find matching the given pattern.So the difference between  /.+/g and /.+/  is that the g version will find every occurrence instead of just the first.There is no difference between /.+/g and /.+/ because they will both only ever match the whole string once. The g makes a difference if the regular expression could match more than once or contains groups, in which case .match() will return an array of the matches instead of an array of the groups.As @matiska pointed out, the g flag sets the lastIndex property as well.A very important side effect of this is if you are reusing the same regex instance against a matching string, it will eventually fail because it only starts searching at the lastIndex.Beside already mentioned meaning of g flag, it influences regexp.lastIndex property:Reference: Mozilla Developer NetworkG in regular expressions is a defines a global search, meaning that it would search for all the instances on all the lines.Will give example based on string. If we want to remove all occurences from a

string. 

Lets say if we want to remove all occurences of "o" with "" from "hello world"example:

How can I detect whether an iframe is loaded?

Rouge

[How can I detect whether an iframe is loaded?](https://stackoverflow.com/questions/12267010/how-can-i-detect-whether-an-iframe-is-loaded)

I am trying to check whether an iframe has loaded after the user clicks a button.I haveHTMLAny suggestions?By the way, my iframe is created dynamically. It doesn’t load with the initial page load.

2012-09-04 15:45:41Z

I am trying to check whether an iframe has loaded after the user clicks a button.I haveHTMLAny suggestions?By the way, my iframe is created dynamically. It doesn’t load with the initial page load.You may try this (using jQuery)jsfiddle DEMO.Update: Using plain javascriptjsfiddle DEMO.Update: Also you can try this (dynamic iframe)jsfiddle DEMO.I imagine this like that:You can try onload event as well;

VueJs getting an element within a component

Snewedon

[VueJs getting an element within a component](https://stackoverflow.com/questions/37104304/vuejs-getting-an-element-within-a-component)

I have a component, how can I select one of its elements?i'm trying to get a input that is within this component's template.There could be multiple components so the queryselector must only parse the current instance of the component.Thanks in advance

2016-05-08 20:07:43Z

I have a component, how can I select one of its elements?i'm trying to get a input that is within this component's template.There could be multiple components so the queryselector must only parse the current instance of the component.Thanks in advanceyou can access the children of a vuejs component with this.$children. if you want to use the query selector on the current component instance then this.$el.querySelector(...)just doing a simple console.log(this) will show you all the properties of a vue component instance.additionally if you know the element you want to access in your component, you can add the v-el:uniquename directive to it and access it via this.$els.uniquenamev-el:el:uniquename has been replaced by ref="uniqueName". The element is then accessed through this.$refs.uniqueName.The answers are not making it clear:Use this.$refs.someName, but, in order to use it, you must add ref="someName" in the parent.See demo below.Notice that when used in conjunction with v-for, the this.$refs.someName  will be an array:In Vue2 be aware that you can access this.$refs.uniqueName only after mounting the component.

Remove duplicates form an array

snoopy25

[Remove duplicates form an array](https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array)

I have an array of objects that looks like this:As you can see, some names are repeated. I want to get a new array with names only, but if some name repeats I don't want to add it again. I want this array:I'm trying to do this with map:But the problem is that this returns:How can I set some condition inside map, so it won't return an element that already exists? I want to do this with map or some other ECMAScript 5 or ECMAScript 6 feature.

2016-12-28 14:49:09Z

I have an array of objects that looks like this:As you can see, some names are repeated. I want to get a new array with names only, but if some name repeats I don't want to add it again. I want this array:I'm trying to do this with map:But the problem is that this returns:How can I set some condition inside map, so it won't return an element that already exists? I want to do this with map or some other ECMAScript 5 or ECMAScript 6 feature.With ES6, you could use Set for unique values, after mapping only the names of the objects.This proposal uses a spread syntax ... for collecting the items in a new array.If you are looking for a JavaScript solution that is not ES 6 (no Set) you can use the Array's reduce method:Personally I don't see why everyone is getting all fancy with ES 6. If it were my code I'd prefer to support as many browsers as possible.You could also simply combine map with filterYou can do Array.prototype.map() to get an array with the objects name property and than Array.prototype.filter() using the parameters elem, index and array, in the function predicate, to eliminate repeated elements:Many good answers here. I just would like to contribute with some diversity with hopes to give you another perspective.Arrays are of object type in JavaScript, so they can be used as a hash at the same time. By using this functionality we can greatly simplify the job to be done in a single reduce operation with O(n) time complexity.If you are not happy with your array holding some properties other than the array keys you might consider keeping a separate hash object as well.I agree that if you only need the name values, a Set is the way to go. However, if you want to get an array of unique objects based on the name property, I'd suggest to use a Map. A quick way to create a Map, is via an array of [key, value] arrays:An added benefit of Map is that you get both the filter functionality that cuts out the non-uniques, without loosing the connection with the source objects. Of course, it's only needed if you need to reference the unique set of objects multiple times.If you're limited to ES5, I would use Lodash's _.uniqWith ES6 this should do the job.Using UnderscoreJS,` In ES5, use an object as a dictionary for O(n) performance.This will only work if all the keys are Strings.You could do the same thing in one expression if you like:but I find the imperative form easier to read.Try this:Use array#forEach() and array#indexOf() methods like this if you want maximum compatibility yet, concise syntax:However, if compatibility is not an issue use ECMAScript 6's Set object, array#map and Array.from() methods like this:                      That's how I did it, using a separate empty array.For those seeking a 1 lineror without using methods on the array's prototype  could be usefull for writing some pure functions for dealing with this

How to inherit from a class in javascript?

Click Upvote

[How to inherit from a class in javascript?](https://stackoverflow.com/questions/2107556/how-to-inherit-from-a-class-in-javascript)

In PHP/Java one can do:And automatically all public/protected methods, properties, fields, etc of the Super class become a part of the Sub class which can be overridden if necessary.What's the equivalent for that in Javascript?

2010-01-21 07:29:40Z

In PHP/Java one can do:And automatically all public/protected methods, properties, fields, etc of the Super class become a part of the Sub class which can be overridden if necessary.What's the equivalent for that in Javascript?I have changed how I do this now, I try to avoid using constructor functions and their prototype property, but my old answer from 2010 is still at the bottom. I now prefer Object.create().  Object.create is available in all modern browsers.I should note that Object.create is usually much slower than using new with a function constructor.jsfiddleOne of the big benefits of using Object.create is being able to pass in a defineProperties argument, which gives you significant control over how properties on the class can be accessed and enumerated over, and I also use functions to create instances, these serve as constructors in a way, as you can do initialization at the end instead of just returning the instance.jsfiddleThis is my original answer from 2010:In JavaScript you don't have classes but you can get inheritance and behavior reuse in many ways:Pseudo-classical inheritance (through prototyping):Should be used with the new operator:Function application or "constructor chaining":This approach should also be used with the new operator:The difference with the first example is that when we apply the Super constructor to the this object inside Sub, it adds the properties assigned to this on Super, directly on the new instance, e.g. subInstance contains the properties member1 and member2 directly (subInstance.hasOwnProperty('member1') == true;).In the first example, those properties are reached through the prototype chain, they exist on an internal [[Prototype]] object.Parasitic inheritance or Power Constructors:This approach is based basically on "object augmenting", you don't need to use the new operator, and as you can see, the this keyword is not involved.ECMAScript 5th Ed. Object.create method:The above method is a prototypal inheritance technique proposed by Crockford.Object instances inherit from other object instances, that's it.This technique can be better than simple "object augmentation" because the inherited properties aren't copied over all the new object instances, since the base object is set as the [[Prototype]] of the extended object, in the above example subInstance contains physically only the member3 property.With the latest version of the ECMAScript standard (ES6), you can use the keyword class.Note that the class definition is not a regular object; hence there are no commas between class members.

To create an instance of a class, you must use the new keyword. To inherit from a base class, use extends:To inherit from a base class, use extends:From the derived class, you can use super from any constructor or method to access its base class:There’s more to using classes. If you want to dig deeper into the subject, I recommend「Classes in ECMAScript 6」by Dr. Axel Rauschmayer.*sourceWell, in JavaScript there is no "class inheritance", there is just "prototype inheritance". So you don't make a class "truck" and then mark it as a subclass of "automobile". Instead, you make an object "Jack" and say that it uses "John" as a prototype. If John knows, how much "4+4" is, then Jack knows it, too. I suggest you read Douglas Crockford's article about prototypal inheritance here: http://javascript.crockford.com/prototypal.html He also shows how you can make JavaScript have "look-alike" inheritance as in other OO languages and then explains that this actually means breaking javaScript in a way it was not meant to be used.I find this quote to be the most enlightening:I like using constructors rather than objects, so I'm partial to the "pseudo-classical inheritance" method described here by CMS. Here is an example of multiple inheritance with a prototype chain:Here is another good resource from MDN, and here is a jsfiddle so you can try it out.Javascript inheritance is a bit different from Java and PHP, because it doesn't really have classes. Instead it has prototype objects that provide methods and member variables. You can chain those prototypes to provide object inheritance. The most common pattern I found when researching this question is described on the Mozilla Developer Network. I've updated their example to include a call to a superclass method and to show the log in an alert message:Personally, I find inheritance in Javascript awkward, but this is the best version I've found.you can't (in the classical sense).  Javascript is a prototypical language.  You will observe that you never declare a "class" in Javascript; you merely define the state and methods of an object.  To produce inheritance, you take some object and prototype it.  The prototype is extended with new functionality.  You can use .inheritWith and .fastClass library. It is faster than most popular libraries and sometimes even faster than the native version.Very easy to use:UsageAfter reading many posts, i came up with this solution (jsfiddle here). Most of the time i don't need something more sophisticatedThanks to CMS's answer and after fiddling for a while with prototype and Object.create and what not, I was able to come up with a neat solution for my inheritance using apply as shown here:From ES2015, that's exactly how you do inheritance in JavaScriptJavascript does not have classes. Classes in javascript are is just syntactical sugar build on top of the prototypal inheritance pattern that javascript. You can use the JS class to enforce prototypal inheritance but it is important to realize that you are actually still using constructor functions under the hood.These concepts also apply when you are extending from a es6 'class' using the extends keyword. This just creates an additional link in the prototype chain. The __proto__Object.create() is also a way to create inheritance in JS in javascript. Object.create() is a function which creates a new object, an takes an existing object as an argument. It will assign the object which was received as an argument to the __proto__ property of the newly created object. Again it is important to realize we are bound to the prototypal inheritance paradigm which JS embodies.You can't inherit from a class in JavaScript, because there are no classes in JavaScript.

Nodemailer with Gmail and NodeJS

tonymx227

[Nodemailer with Gmail and NodeJS](https://stackoverflow.com/questions/19877246/nodemailer-with-gmail-and-nodejs)

I try to use nodemailer to implement a contact form using NodeJS but it works only on local it doesn't work on a remote server...My error message :My controller :

2013-11-09 14:43:55Z

I try to use nodemailer to implement a contact form using NodeJS but it works only on local it doesn't work on a remote server...My error message :My controller :I solved this by going to the following url (while connected to google with the account I want to send mail from):https://www.google.com/settings/security/lesssecureappsThere I enabled less secure apps.DoneSee nodemailer's official guide to connecting Gmail:https://community.nodemailer.com/using-gmail/-It works for me after doing this:You should use an XOAuth2 token to connect to Gmail. No worries, Nodemailer already knows about that:You'll need to go to the Google Cloud Console to register your app. Then you need to retrieve access tokens for the accounts you wish to use. You can use passportjs for that.Here's how it looks in my code:Easy Solution:   Step 1:  go here https://myaccount.google.com/lesssecureapps and enable for less secure apps. If this does not work then  Step 2  go here https://accounts.google.com/DisplayUnlockCaptcha and enable/continue and then try.  for me step 1 alone didn't work so i had to go to step 2.i also tried removing the nodemailer-smtp-transport package and to my surprise it works. but then when i restarted my system it gave me same error, so i had to go and turn on the less secure app (i disabled it after my work).then for fun i just tried it with off(less secure app) and vola it worked again!I had the same problem. Allowing "less secure apps" in my Google security settings made it work!For me is working this way, using port and security (I had issues to send emails from gmail using PHP without security settings)I hope will help someone.all the config are listed here (including examples)Same problem happened to me too. I tested my system on localhost then deployed to the server (which is located at different country) then when I try the system on production server I saw this error. I tried these to fix it:Worked fine:1- install nodemailer, package if not installed

      (type in cmd) : npm install nodemailer2- go to https://myaccount.google.com/lesssecureapps and turn on Allow less secure apps.3- write code:4- enjoy!Try disabling captchas in your gmail account; probably being triggered based on IP address of requestor.

See: How to use GMail as a free SMTP server and overcome captchaIt is resolved using nodemailer-smtp-transport module inside createTransport.Non of the above solutions worked for me. I used the code that exists in the documentation of NodeMailer. It looks like this:I found the simplest method, described in this article mentioned in Greg T's answer, was to create an App Password which is available after turning on 2FA for the account.myaccount.google.com > Sign-in & security > Signing in to Google > App PasswordsThis gives you an alternative password for the account, then you just configure nodemailer as a normal SMTP service.While Google recommend Oauth2 as the best option, this method is easy and hasn't been mentioned in this question yet.Extra tip: I also found you can add your app name to the "from" address and GMail does not replace it with just the account email like it does if you try to use another address. ie. If you use Express, express-mailerwrapsnodemailervery nicely and is very easy to use:all your code is okay only the things left is just go to the link https://myaccount.google.com/security       and keep scroll down and you will found Allow less secure apps: ON and keep ON, you will find no error. Just add "host" it will work .Then enable "lesssecureapps" by clicking bellow linkhttps://myaccount.google.com/lesssecureappsFor some reason, just allowing less secure app config did not work for me even the captcha thing. I had to do another step which is enabling IMAP config:From google's help page: https://support.google.com/mail/answer/7126229?p=WebLoginRequired&visit_id=1-636691283281086184-1917832285&rd=3#cantsigninYou must add secureConnection type in you code.I was using an old version of nodemailer 0.4.1 and had this issue.  I updated to 0.5.15 and everything is working fine now.Edited package.json to reflect changes thenJust attend those: 

1- Gmail authentication for allow low level emails does not accept before you restart your client browser

2- If you want to send email with nodemailer and you wouldnt like to use xouath2 protocol there you should write as secureconnection:false like belowfirst install nodemailerimport in to js fileworking in my applicationI could solve using gmail-send You have to configure to use two-step verification. And then generate application-specific password. With that you don't need use OAuth2

How to Append <script></script> in javascript? [duplicate]

David

[How to Append <script></script> in javascript? [duplicate]](https://stackoverflow.com/questions/9413737/how-to-append-script-script-in-javascript)

I need to use childappend or jquery append() to append some  tag stuff into the document. From what I can tell, this is getting stripped out. Anyone know how to do it?

2012-02-23 13:09:37Z

I need to use childappend or jquery append() to append some  tag stuff into the document. From what I can tell, this is getting stripped out. Anyone know how to do it?Try this: Note that the script will load and you can access the variables inside it, but you wouldn't see the actual <script> tag in the DOM.OrIf you need to append a script so that it's parsed you could do as google does for his +1 buttonThis worked for me..Note that the "/" of the inner </script> has been escaped to be "<\/script>". If it is not, it actually closes the outer <script> tag. The script added wont be visible but will get executed.

Hope that helps..text() makes it possible to append script tags with it being rendered as HTML.OR

What is the difference between return and return()?

chris97ong

[What is the difference between return and return()?](https://stackoverflow.com/questions/22988640/what-is-the-difference-between-return-and-return)

I tested the above code in Chrome's console, and both returned 1.I also tested the code above, and both of the functions returned "1".So what is the difference between using return and return()?

2014-04-10 12:52:04Z

I tested the above code in Chrome's console, and both returned 1.I also tested the code above, and both of the functions returned "1".So what is the difference between using return and return()?The same as betweenandThat is, nothing. The parentheses are allowed because they are allowed in any expression to influence evaluation order, but in your examples they're just superfluous.return is not a function, but a statement. It is syntactically similar to other simple control flow statements like break and continue that don't use parentheses either.There is no difference.return is not a function call, but is a language statement.  All you're doing with the parentheses is simply grouping your return value so it can be evaluated.  For instance, you could write:In this case, you return the value of the statement x == 0, which will return a boolean true or false depending on the value of x.Actually here precedence of () is higher so it evaluate first:Here firstly ("1") get evaluated, in following way:so above statement is equivalent to:See visually:So there is basically no difference in functionality but second one might be a negligibly bit slow as it firstly solve the brackets.There is absolutely no difference. If you will look at JS (ECMAScript) specification of return statement. Among many other things, it is telling you :that you can provide expression to return. Expression is hello, Math.abs(x), yourCustomFunc(7), or in your second case this can be 1 or (1). Expression 1 after evaluation is the same as (1) and the same as (((((1)))))) or even as something really bizarre like (+(!(+(!1)))). There is no difference, the parenthesis are optional. See MSDN:return is a statement a keyword that starts the return statement, not a function.As has been mentioned, the extra parentheses affect evaluation order, but are not used to "execute" the function named return. That is why these lines work without any problems:They are, in effect, identical to these lines:The reason return() throws a syntax error is for the exact reason the following line throws an error (return statement included for comparison):There is huge difference for humans, and zero difference for Javascript engine.return 1 is a statement declaring that we need to immediately exit the function yielding value of 1.return(1) is the same statement disguised as the function call by the idiotic convention that you are not obliged to insert space outside of parentheses in Javascript. If you would use code like this in production system, any maintainer will come to your office with stake and torches, after spending some time trying to decide whether you do really have return() function somewhere in codebase or just don't know what return keyword is for.As many other people have already correctly said, parentheses do nothing except "group" with higher precedence the literal for the Number 1.In the return statement, the parentheses around the expression are already built in. In JavaScript, as in many other languages (like C, C++, Java, Python), the return statement has two parts: the keyword return and an (optional) expression. So in, any case, all that is following the return keyword is first evaluated as an expression, after that, the return statement is "executed" by passing the control back to the caller.To use or not to use parentheses is a matter of style, whereas most style guides forbid them for trivial cases like the one quoted in your question, because it makes return falsely looking like a function.by adding parenthesis, we have made sure that javascript doesn't insert a semicolon before multiple statements written after return,

for reference:-

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Automatic_semicolon_insertioncode copied from:- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return

Customizing the template within a Directive

Marty Pitt

[Customizing the template within a Directive](https://stackoverflow.com/questions/10629238/customizing-the-template-within-a-directive)

I have a form that is using markup from Bootstrap, like the following:There's a lot of boilerplate code in there, that I'd like to reduce to a new directive - form-input, like follows:generates:I have this much working via a simple template.However it's when I come to add in more advanced functionality that I'm getting stuck.I'd like to expose the "type" parameter as an optional attribute on my directive, eg:However, if nothing is specified, I'd like to default to "text".  How can I support this?I'd also like to be able to support the "required" attribute, if it's present.

Eg:If required is present in the directive, I'd like to add it to the generated <input /> in the output, and ignore it otherwise.  I'm not sure how to achieve this.I suspect these requirements may have moved beyond a simple template, and have to start using the pre-compile phases, but I'm at a loss where to start.

2012-05-17 02:51:05Z

I have a form that is using markup from Bootstrap, like the following:There's a lot of boilerplate code in there, that I'd like to reduce to a new directive - form-input, like follows:generates:I have this much working via a simple template.However it's when I come to add in more advanced functionality that I'm getting stuck.I'd like to expose the "type" parameter as an optional attribute on my directive, eg:However, if nothing is specified, I'd like to default to "text".  How can I support this?I'd also like to be able to support the "required" attribute, if it's present.

Eg:If required is present in the directive, I'd like to add it to the generated <input /> in the output, and ignore it otherwise.  I'm not sure how to achieve this.I suspect these requirements may have moved beyond a simple template, and have to start using the pre-compile phases, but I'm at a loss where to start.Tried to use the solution proposed by Misko, but in my situation, some attributes, which needed to be merged into my template html, were themselves directives.Unfortunately, not all of the directives referenced by the resulting template did work correctly. I did not have enough time to dive into angular code and find out the root cause, but found a workaround, which could potentially be helpful. The solution was to move the code, which creates the template html, from compile to a template function. Example based on code from above:The above answers unfortunately don't quite work. In particular, the compile stage does not have access to scope, so you can't customize the field based on dynamic attributes. Using the linking stage seems to offer the most flexibility (in terms of asynchronously creating dom, etc.) The below approach addresses that:I've created a gist with more complete code and a writeup of the approach.Here's what I ended up using.I'm very new to AngularJS, so would love to see better / alternative solutions.Example usage:

Invoke a callback at the end of a transition

Tony

[Invoke a callback at the end of a transition](https://stackoverflow.com/questions/10692100/invoke-a-callback-at-the-end-of-a-transition)

I need to make a FadeOut method (similar to jQuery) using D3.js. What I need to do is to set the opacity to 0 using transition().The problem is that I need a callback to realize when the transition has finished. How can I implement a callback?

2012-05-21 20:25:11Z

I need to make a FadeOut method (similar to jQuery) using D3.js. What I need to do is to set the opacity to 0 using transition().The problem is that I need a callback to realize when the transition has finished. How can I implement a callback?You want to listen for the "end" event of the transition.From the documentation for transition.each([type],listener):See this forum thread on the topic for more details.Finally, note that if you just want to remove the elements after they have faded out (after the transition has finished), you can use transition.remove().Mike Bostock's solution for v3 with a small update:Now, in d3 v4.0, there is a facility for explicitly attaching event handlers to transitions:https://github.com/d3/d3-transition#transition_onTo execute code when a transition has completed, all you need is:A slightly different approach that works also when there are many transitions with many elements each running simultaneously:The following is another version of Mike Bostock's solution and inspired by @hughes' comment to @kashesandr's answer. It makes a single callback upon transition's end.Given a drop function...... we can extend d3 like so:As a JSFiddle.Use transition.end(callback[, delayIfEmpty[, arguments...]]):... or with an optional delay if transition is empty:... or with optional callback arguments:d3.transition.end will apply the passed callback even with an empty transition if the number of milliseconds is specified or if the second argument is truthy. This will also forward any additional arguments to the callback (and only those arguments). Importantly, this will not by default apply the callback if transition is empty, which is probably a safer assumption in such a case.As of D3 v5.8.0+, there is now an official way to do this using transition.end. The docs are here:https://github.com/d3/d3-transition#transition_endA working example from Bostock is here:https://observablehq.com/@d3/transition-endAnd the basic idea is that just by appending .end(), the transition will return a promise that won't resolve until all elements are done transitioning:See the version release notes for even more:https://github.com/d3/d3/releases/tag/v5.8.0Mike Bostock's solution improved by kashesandr + passing arguments to the callback function:Actually there's one more way to do this using timers.I solved a similar problem by setting a duration on transitions using a variable. Then I used setTimeout() to call the next function. In my case, I wanted a slight overlap between the transition and the next call, as you'll see in my example:

Communication between sibling components in VueJs 2.0

Sergei Panfilov

[Communication between sibling components in VueJs 2.0](https://stackoverflow.com/questions/38616167/communication-between-sibling-components-in-vuejs-2-0)

In vuejs 2.0 model.sync will be deprecated.So, what is a proper way to communicate between sibling components in vuejs 2.0?As I catch the idea in Vue 2.0 is to have sibling communication by using a store or an event bus. According to evan:[Link to discussion]And:(So, he suggest is to use $emit and $on)I'm worried because of:What I want is to scope somehow events or stores visibility for siblings components. Or perhaps I didn't catch the idea.So, how communicate in a right way?

2016-07-27 14:40:25Z

In vuejs 2.0 model.sync will be deprecated.So, what is a proper way to communicate between sibling components in vuejs 2.0?As I catch the idea in Vue 2.0 is to have sibling communication by using a store or an event bus. According to evan:[Link to discussion]And:(So, he suggest is to use $emit and $on)I'm worried because of:What I want is to scope somehow events or stores visibility for siblings components. Or perhaps I didn't catch the idea.So, how communicate in a right way?With Vue 2.0, I'm using the eventHub mechanism as demonstrated in the documentation.Update

Please see the anwer by @alex, which describes more simpler solution.You can even make it shorter and use root Vue instance as global Event Hub:Component 1:Component 2:

I know this is an old question, but I wanted to expose other communication channels and how to view the app and communications from a higher perspective.The first thing to understand when designing a Vue application (or in fact, any component based application) is that there are different communication types that depends on which concerns we're dealing with and they need their own communication channels.Business logic: refers to everything specific to your app and its goal.Presentation logic: anything that the user interacts with or that results from the interaction from the user.These two concerns are related to these types of communication:Each type should use the right communication channel.A channel is a loose term I'll be using to refer to concrete implementations to exchange data around a Vue app.The simplest communication channel in Vue for direct Parent-Child communication. It should mostly be used to pass data relating to presentation logic or a restricted set of data down the hierarchy.When it doesn't make sense to use a prop to let a child handle an event from a parent, setting up a ref on the child component and calling its methods is just fine.Some people may say that this is a tight coupling between the parent and the child, but it's the same coupling that of using props. If we can agree on a contract for props, we can agree on a contract for methods as well.$emit and $on. The simplest communication channel for direct Child-Parent communication. Again, should be used for presentation logic.Most answers give good alternatives for event bus, which is one of the communication channels available for distant components, or anything in fact.This can become useful when passing props all over the place from far up down to deeply nested children components, with almost no other components needing these in between.Be careful: Subsequent creation of components that are binding themselves to the event bus will be bound more than once--leading to multiple handlers triggered and leaks. I personally never felt the need for an event bus in all the single page apps I've designed in the past.The following demonstrates how a simple mistake leads to a leak where the Item component still triggers even if removed from the DOM.Remember to remove listeners in the destroyed lifecycle hook.Vuex is the way to go with Vue for state management. It offers a lot more than just events and it's ready for full scale application.And now you ask:It really shines when:So your components can really focus on the things they're meant to be, managing user interfaces.It doesn't mean that you can't use it for component logic, but I would scope that logic to a namespaced Vuex module with only the necessary global UI state.To avoid dealing with a big mess of everything in a global state, we should split the store in multiple namespaced modules. To orchestrates all these communications and to ease reusability, we should think of components as two different types.Again, it doesn't mean that a generic component should be reused or that an app specific container can't be reused, but they have different responsibilities.These are just simple Vue component that wraps other Vue components (generic or other app specific containers). This is where the Vuex store communication should happen and this container should communicate through other simpler means like props and event listeners.These containers could even have no native DOM elements at all and let the generic components deal with this.This is where the scoping happens. Most components don't know about the store and this component should (mostly) use one namespaced store module with a limited set of getters and actions applied with the provided Vuex mappers.These should receive their data from props, make changes on their own local data, and emit simple events. Most of the time, they should not know a Vuex store exists.They could also be called containers as their sole responsibility could be to dispatch to other UI components.So, after all this, how should we communicate between two sibling components?It's easier to understand with an example: say we have an input box and its data should be shared across the app (siblings at different places in the tree) and persisted with a backend. Starting with the worst case scenario, our component would mix presentation and business logic.To separate these two concerns, we should wrap our component in an app specific container and keep the presentation logic into our generic input component.Our input component is now reusable and doesn't know about the backend nor the siblings.Our app specific container can now be the bridge between the business logic and the presentation communication.Since the Vuex store actions deal with the backend communication, our container here doesn't need to know about axios and the backend.Okay, we can communicate between siblings via parent using v-on events.Let's assume that we want update Details component when we click some element in List.in Parent:Template: Here: JS:In List:Template: JS:Here:What I usually do if I want to "hack" the normal patterns of communication in Vue, specially now that .sync is deprecated, is to create a simple EventEmitter that handles communication between components. From one of my latest projects:With this Transmitter object you can then do, in any component:And to create a "receiving" component:Again, this is for really specific uses. Don't base your whole application on this pattern, use something like Vuex instead.

How to check if element has any children in Javascript?

David

[How to check if element has any children in Javascript?](https://stackoverflow.com/questions/2161634/how-to-check-if-element-has-any-children-in-javascript)

Simple question, I have an element which I am grabbing via .getElementById (). How do I check if it has any children?

2010-01-29 11:43:30Z

Simple question, I have an element which I am grabbing via .getElementById (). How do I check if it has any children?A couple of ways:or the hasChildNodes() function:or the length property of childNodes:If you only want to know about child elements (as opposed to text nodes, attribute nodes, etc.) on all modern browsers (and IE8 — in fact, even IE6) you can do this: (thank you Florian!)That relies on the children property, which wasn't defined in DOM1, DOM2, or DOM3, but which has near-universal support. (It works in IE6 and up and Chrome, Firefox, and Opera at least as far back as November 2012, when this was originally written.) If supporting older mobile devices, be sure to check for support.If you don't need IE8 and earlier support, you can also do this:That relies on firstElementChild. Like children, it wasn't defined in DOM1-3 either, but unlike children it wasn't added to IE until IE9.If you want to stick to something defined in DOM1 (maybe you have to support really obscure browsers), you have to do more work:All of that is part of DOM1, and nearly universally supported.It would be easy to wrap this up in a function, e.g.:As slashnick & bobince mention, hasChildNodes() will return true for whitespace (text nodes).  However, I didn't want this behaviour, and this worked for me :)Edit: for the same functionality, this is a better solution:children[] is a subset of childNodes[], containing elements only.CompatibilityYou can check if the element has child nodes element.hasChildNodes().  Beware in Mozilla this will return true if the is whitespace after the tag so you will need to verify the tag type.https://developer.mozilla.org/En/DOM/Node.hasChildNodesYou could also do the following:This uses the trim() method to treat empty elements which have only whitespaces (in which case hasChildNodes returns true) as being empty.Late but document fragment could be a node:See:

https://github.com/k-gun/so/blob/master/so.dom.js#L42

https://github.com/k-gun/so/blob/master/so.dom.js#L741Try the childElementCount property:A reusable isEmpty( <selector> ) function.

You can also run it toward a collection of elements (see example)returns true (and exits loop) as soon one element has any kind of content  beside spaces or newlines.

AngularJS : ng-model binding not updating when changed with jQuery

Greg

[AngularJS : ng-model binding not updating when changed with jQuery](https://stackoverflow.com/questions/11873627/angularjs-ng-model-binding-not-updating-when-changed-with-jquery)

This is my HTML:When I type into the box, the model is updated via the 2-way-binding mechanism. Sweet.However when I do this via JQuery...It doesn't update the model. Why?

2012-08-08 21:42:48Z

This is my HTML:When I type into the box, the model is updated via the 2-way-binding mechanism. Sweet.However when I do this via JQuery...It doesn't update the model. Why?Angular doesn't know about that change. For this you should call $scope.$digest() or make the change inside of $scope.$apply():See this to better understand dirty-checkingUPDATE: Here is an exampleJust use; I have found that if you don't put the variable directly against the scope it updates more reliably.Try using some "dateObj.selectedDate" and in the controller add the selectedDate to a dateObj object as so:This worked for me.Try thisJust run the following line at the end of your function: $scope.$apply() Whatever happens outside the Scope of Angular, Angular will never know that. Digest cycle put the changes from the model -> controller and then from controller -> model. If you need to see the latest Model, you need to trigger the digest cycle But there is a chance of a digest cycle in progress, so we need to check and init the cycle.Preferably, always perform a safe apply.AngularJS pass string, numbers and booleans by value while it passes arrays and objects by reference. So you can create an empty object and make your date a property of that object. In that way angular will detect model changes.In controllerIn htmlYou have to trigger the change event of the input element because ng-model listens to input events and the scope will be updated. However, the regular jQuery trigger didn't work for me. But here is what works like a charmFollowing didn't workYou can read more about creating and dispatching synthetic events.I've written this little plugin for jQuery which will make all calls to .val(value) update the angular element if present:Just pop this script in after jQuery and angular.js and val(value) updates should now play nice.Minified version:Example:This answer was copied verbatim from my answer to another similar question.Just use:instead of:

Using querySelectorAll to retrieve direct children

mattsh

[Using querySelectorAll to retrieve direct children](https://stackoverflow.com/questions/3680876/using-queryselectorall-to-retrieve-direct-children)

I am able to do this:That is, I can successfully retrieve all the direct children of the myDiv element that have class .foo.The problem is, it bothers me that I must include the #myDiv in the selector, because I am running the query on the myDiv element (so it is obviously redundant).I ought to be able to leave the #myDiv off, but then the selector is not legal syntax since it starts with a >.Does anyone know how to write a selector which gets just the direct children of the element that the selector is running on?

2010-09-09 21:57:27Z

I am able to do this:That is, I can successfully retrieve all the direct children of the myDiv element that have class .foo.The problem is, it bothers me that I must include the #myDiv in the selector, because I am running the query on the myDiv element (so it is obviously redundant).I ought to be able to leave the #myDiv off, but then the selector is not legal syntax since it starts with a >.Does anyone know how to write a selector which gets just the direct children of the element that the selector is running on?Good question. At the time it was asked, a universally-implemented way to do "combinator rooted queries" (as John Resig called them) did not exist.Now the :scope pseudo-class has been introduced. It is not supported on [pre-Chrominum] versions of Edge or IE, but has been supported by Safari for a few years already. Using that, your code could become:Note that in some cases you can also skip .querySelectorAll and use other good old-fashioned DOM API features. For example, instead of myDiv.querySelectorAll(":scope > *") you could just write myDiv.children, for example.Otherwise if you can't yet rely on :scope, I can't think of another way to handle your situation without adding more custom filter logic (e.g. find myDiv.getElementsByClassName("foo") whose .parentNode === myDiv), and obviously not ideal if you're trying to support one code path that really just wants to take an arbitrary selector string as input and a list of matches as output! But if like me you ended up asking this question simply because you got stuck thinking "all you had was a hammer" don't forget there are a variety of other tools the DOM offers too.The correct way to write a selector that is "rooted" to the current element is to use :scope.However, browser support is limited and you'll need a shim if you want to use it. I built scopedQuerySelectorShim for this purpose.Here's a flexible method, written in vanilla JS, that allows you to run a CSS selector query over only the direct children of an element:if you know for sure the element is unique (such as your case with the ID):For a more "global" solution: (use a matchesSelector shim)where elm is your parent element, and sel is your selector. Could totally be used as a prototype as well.The following solution is different to the ones proposed so far, and works for me.The rationale is that you select all matching children first, and then filter out the ones which are not direct children. A child is a direct child if it does not have a matching parent with the same selector.HTH!I created a function to handle this situation, thought I would share it.In essence what you are doing is generating a random-string (randomString function here is an imported npm module, but you can make your own.) then using that random string to guarantee that you get the element you are expecting in the selector. Then you are free to use the > after that. The reason I am not using the id attribute is that the id attribute may already be used and I don't want to override that.  Well we can easily get all the direct children of an element using childNodes and we can select ancestors with a specific class with querySelectorAll, so it's not hard to imagine we could create a new function that gets both and compares the two.Note: This will return an Array of Nodes, not a NodeList.UsageI would like to add that you can extend the compatibility of :scope by just assigning a temporary attribute to the current node.I'd have gone withI am just doing this without even trying it. Would this work?Give it a try, maybe it works maybe not. Apolovies, but I am not on a computer now to try it (responding from my iPhone).

Difference between window.location.assign() and window.location.replace()

Bakudan

[Difference between window.location.assign() and window.location.replace()](https://stackoverflow.com/questions/4505798/difference-between-window-location-assign-and-window-location-replace)

What is the difference between window.location.assign() and window.location.replace(), when both redirect to a new page?

2010-12-22 02:58:53Z

What is the difference between window.location.assign() and window.location.replace(), when both redirect to a new page?Using window.location.assign("url") will just cause a new document to load. Using window.location.replace("url") will replace the current document and replace the current History with that URL making it so you can't go back to the previous document loaded.Reference: http://www.exforsys.com/tutorials/javascript/javascript-location-object.htmlThe difference is how history is handled. "Replace" won't give you history, "assign" will.According to MDN:

Load local JSON file into variable

PogoMips

[Load local JSON file into variable](https://stackoverflow.com/questions/14484613/load-local-json-file-into-variable)

I'm trying to load a .json file into a variable in javascript, but I can't get it to work. It's probably just a minor error but I can't find it.Everything works just fine when I use static data like this:I put everything that's in the {} in a content.json file and tried to load that into a local JavaScript variable as explained here: load json into variable.I ran it with the Chrome debugger and it always tells me that the value of the variable json is null. The content.json file resides in the same directory as the .js file that calls it.What did I miss?

2013-01-23 16:34:04Z

I'm trying to load a .json file into a variable in javascript, but I can't get it to work. It's probably just a minor error but I can't find it.Everything works just fine when I use static data like this:I put everything that's in the {} in a content.json file and tried to load that into a local JavaScript variable as explained here: load json into variable.I ran it with the Chrome debugger and it always tells me that the value of the variable json is null. The content.json file resides in the same directory as the .js file that calls it.What did I miss?If you pasted your object into content.json directly, it is invalid JSON. JSON keys and values must be wrapped in double quotes (" not ') unless the value is numeric, boolean, null, or composite (array or object). JSON cannot contain functions or undefined values. Below is your object as valid JSON.You also had an extra }.My solution, as answered here, is to use:The file is loaded only once, further requests use cache.edit To avoid caching, here's the helper function from this blogpost given in the comments, using the fs module:For ES6/ES2015 you can import directly like:If you use Typescript, you may declare json module like:Since Typescript 2.9+ you can add --resolveJsonModule compilerOptions in tsconfig.jsonThere are two possible problems:The built-in node.js module fs will do it either asynchronously or synchronously depending on your needs. You can load it using var fs = require('fs');

How to extend Function with ES6 classes?

Qwertiy

[How to extend Function with ES6 classes?](https://stackoverflow.com/questions/36871299/how-to-extend-function-with-es6-classes)

ES6 allows to extend special objects. So it's possible to inherit from the function. Such object can be called as a function, but how can I implement the logic for such call?Any method of class gets reference to the class instance via this. But when it is called as a function, this refers to window. How can I get the reference to the class instance when it is called as a function?PS: Same question in Russian.

2016-04-26 17:01:59Z

ES6 allows to extend special objects. So it's possible to inherit from the function. Such object can be called as a function, but how can I implement the logic for such call?Any method of class gets reference to the class instance via this. But when it is called as a function, this refers to window. How can I get the reference to the class instance when it is called as a function?PS: Same question in Russian.The super call will invoke the Function constructor, which expects a code string. If you want to access your instance data, you could just hardcode it:but that's not really satisfying. We want to use a closure.Having the returned function be a closure that can access your instance variables is possible, but not easy. The good thing is that you don't have to call super if you don't want to - you still can return arbitrary objects from your ES6 class constructors. In this case, we'd doBut we can do even better, and abstract this thing out of Smth:Admittedly, this creates an additional level of indirection in the inheritance chain, but that's not necessarily a bad thing (you can extend it instead of the native Function). If you want to avoid it, usebut notice that Smth will not dynamically inherit static Function properties.This is an approach to creating callable objects that correctly reference their object members, and maintain correct inheritance, 

without messing with prototypes.Extend this class and add a __call__ method, more below...View on repl.itfunction.bind() works much like function.call(), and they share a similar method signature:fn.call(this, arg1, arg2, arg3, ...); more on mdnfn.bind(this, arg1, arg2, arg3, ...); more on mdnIn both the first argument redefines the this context inside the function. Additional arguments can also be bound to a value.

But where call immediately calls the function with the bound values, bind returns an "exotic" function object that transparently wraps the original, with this and any arguments preset.So when you define a function then bind some of its arguments:You call the bound function with only the remaining arguments, its context is preset, in this case to ['hello'].You can wrap the Smth instance in a Proxy with an apply (and maybe construct) trap:Unfortunately this doesn't quite work because it's now returning a function object instead of a class, so it seems this actually can't be done without modifying the prototype. Lame.Basically the problem is there is no way of setting the this value for the Function constructor. The only way to really do this would be to use the .bind method afterwards, however this is not very Class-friendly.We could do this in a helper base class, however this does does not become available until after the initial super call, so it's a bit tricky.(Example requires modern browser or node --harmony.)Basically the base function ClassFunction extends will wrap the Function constructor call with a custom function which is similar to .bind, but allows binding later, on the first call. Then in the ClassFunction constructor itself, it calls the returned function from super which is now the bound function, passing this to finish setting up the custom bind function.This is all quite a bit complicated, but it does avoid mutating the prototype, which is considered bad-form for optimization reasons and can generate warnings in browser consoles.I took the advice from Bergi's answer and wrapped it into an NPM module.Firstly I came to solution with arguments.callee, but it was awful.

I expected it to break in global strict mode, but seems like it works even there.It was a bad way because of using arguments.callee, passing the code as a string and forcing its execution in non-strict mode. But than idea to override apply appeared.And the test, showing I'm able to run this as function in different ways:Version within fact contains bind functionality:Version withmakes call and apply on window inconsistent:so the check should be moved into apply:This is the solution I've worked out that serves all my needs of extending functions and has served me quite well. The benefits of this technique are:And without further ado, the code:Since I was in the mood, I figured I'd publish a package for this on npm.There is a simple solution which takes advantage of JavaScript's functional capabilities: Pass the "logic" as a function-argument to the constructor of your class, assign the methods of that class to that function, then return that function from the constructor as the result:The above was tested on Node.js 8. A shortcoming of the example above is it does not support methods inherited from the superclass-chain. To support that, simply replace "Object . getOwnPropertyNames(...)" with something that returns also the names of inherited methods. How to do that I believe is explained in some other question-answer on Stack Overflow :-). BTW. It would be nice if ES7 added a method to produce inherited methods' names as well ;-).  If you need to support inherited methods one possibility is adding a static method to the above class which returns all inherited and local method names. Then call that from the constructor. If you then extend that class Funk, you get that static method inherited along as well.

How to concatenate and minify multiple CSS and JavaScript files with Grunt.js (0.3.x)

Jasdeep Khalsa

[How to concatenate and minify multiple CSS and JavaScript files with Grunt.js (0.3.x)](https://stackoverflow.com/questions/13713273/how-to-concatenate-and-minify-multiple-css-and-javascript-files-with-grunt-js-0)

Note: This question is only relevant for Grunt 0.3.x and has been left for reference. For help with the latest Grunt 1.x release please see my comment below this question.I'm currently trying to use Grunt.js to setup an automatic build process for first concatenating and then minifying CSS and JavaScript files.I have been able to successfully concatenate and minify my JavaScript files, although each time I run grunt it seems to just append to the file instead of overwriting them.As for the minifying or even concatenating CSS, I have been unable to do this as of yet!In terms of grunt CSS modules I have tried using consolidate-css, grunt-css & cssmin but to no avail. Could not get my head around how to use them!My directory structure is as follows (being a typical node.js application):Here is what my grunt.js file currently looks like in the root folder of my application:So just to summarise I need help with two questions:Updated 5th of July 2016 - Upgrading from Grunt 0.3.x to Grunt 0.4.x or 1.xGrunt.js has moved to a new structure in Grunt 0.4.x (the file is now called Gruntfile.js). Please see my open source project Grunt.js Skeleton for help with setting up a build process for Grunt 1.x.Moving from Grunt 0.4.x to Grunt 1.x should not introduce many major changes.

2012-12-04 22:41:36Z

Note: This question is only relevant for Grunt 0.3.x and has been left for reference. For help with the latest Grunt 1.x release please see my comment below this question.I'm currently trying to use Grunt.js to setup an automatic build process for first concatenating and then minifying CSS and JavaScript files.I have been able to successfully concatenate and minify my JavaScript files, although each time I run grunt it seems to just append to the file instead of overwriting them.As for the minifying or even concatenating CSS, I have been unable to do this as of yet!In terms of grunt CSS modules I have tried using consolidate-css, grunt-css & cssmin but to no avail. Could not get my head around how to use them!My directory structure is as follows (being a typical node.js application):Here is what my grunt.js file currently looks like in the root folder of my application:So just to summarise I need help with two questions:Updated 5th of July 2016 - Upgrading from Grunt 0.3.x to Grunt 0.4.x or 1.xGrunt.js has moved to a new structure in Grunt 0.4.x (the file is now called Gruntfile.js). Please see my open source project Grunt.js Skeleton for help with setting up a build process for Grunt 1.x.Moving from Grunt 0.4.x to Grunt 1.x should not introduce many major changes.concat.js is being included in the concat task's source files public/js/*.js. You could have a task that removes concat.js (if the file exists) before concatenating again, pass an array to explicitly define which files you want to concatenate and their order, or change the structure of your project. If doing the latter, you could put all your sources under ./src and your built files under ./destThen set up your concat taskYour min taskThe build-in min task uses UglifyJS, so you need a replacement. I found grunt-css to be pretty good. After installing it, load it into your grunt file And then set it upNotice that the usage is similar to the built-in min. Change your default task to Now, running grunt will produce the results you want.I want to mention here a very, VERY, interesting technique that is being used in huge projects like jQuery and Modernizr for concatenate things. Both of this projects are entirely developed with requirejs modules (you can see that in their github repos) and then they use the requirejs optimizer as a very smart concatenator. The interesting thing is that, as you can see, nor jQuery neither Modernizr needs on requirejs to work, and this happen because they erase the requirejs syntatic ritual in order to get rid of requirejs in their code. So they end up with a standalone library that was developed with requirejs modules! Thanks to this they are able to perform cutsom builds of their libraries, among other advantages. For all those interested in concatenation with the requirejs optimizer, check out this postAlso there is a small tool that abstracts all the boilerplate of the process: AlbanilJSI agree with above answer.  But here is another way of CSS compression.You can concat your CSS by using YUI compressor:You don't need to add the concat package, you can do this via cssmin like this:And for js, use uglify like this:I think may be more automatic, grunt task usemin take care to do all this jobs for you, only need some configuration:https://stackoverflow.com/a/33481683/1897196

What does the「expand」option do in grunt-contrib-copy? The examples all use it but the docs say nothing about what it does

Patrick

[What does the「expand」option do in grunt-contrib-copy? The examples all use it but the docs say nothing about what it does](https://stackoverflow.com/questions/16977884/what-does-the-expand-option-do-in-grunt-contrib-copy-the-examples-all-use-it)

2013-06-07 06:47:03Z

Expand lets you specify whether you want to create the destination path in full (e.g: /path/missing1/missing2), or only create the last directory when its parent exists (/path/existing/missing).Since expand is a part of Grunt, and not specific for grunt-contrib-copy, information about it can be found in Grunt's file configuration API:Additionally it seems like dest will always be considered to be a destination directory if setting expand to true.

Best Practice to Organize Javascript Library & CSS Folder Structure [closed]

Willy Lazuardi

[Best Practice to Organize Javascript Library & CSS Folder Structure [closed]](https://stackoverflow.com/questions/24199004/best-practice-to-organize-javascript-library-css-folder-structure)

How do you organize your js & css folder in your web application?My current project structure is like this one:But it's more complicated when I use many javascript library & css plugin. Javascript plugin comes with its own .js file and sometimes with  its own .css file.For example, when I use JQuery with JQueryUI plugin, I put the jquery.js and jquery-ui.js inside js/lib directory. But JQueryUI comes with its own css file. 

Where should I put the css from javascript plugin for best practice? Should I put them inside lib folder, to distinguish my css and javascript css plugin? Or somewhere else?I know it's a personal preferences, but I just wanna know how you guys organize your project folder. Thanks in advance :)

2014-06-13 06:28:31Z

How do you organize your js & css folder in your web application?My current project structure is like this one:But it's more complicated when I use many javascript library & css plugin. Javascript plugin comes with its own .js file and sometimes with  its own .css file.For example, when I use JQuery with JQueryUI plugin, I put the jquery.js and jquery-ui.js inside js/lib directory. But JQueryUI comes with its own css file. 

Where should I put the css from javascript plugin for best practice? Should I put them inside lib folder, to distinguish my css and javascript css plugin? Or somewhere else?I know it's a personal preferences, but I just wanna know how you guys organize your project folder. Thanks in advance :)

                             I will outline a recommended structure to organize files in your HTML5 application. This is not an attempt       to create any kind of standard. Instead, I will make suggestions on how to group and name files in a logical convenient way.Let’s assume you are building an HTML5 application. In some cases you may use the root of your server as the main container but for the purpose of this article I will assume you HTML5 application is contained in a folder. Inside this folder you must create your application index file or main entry point.Generally, your application will be comprised of HTML, CSS, Images, and Javascript files. Some of those files will be specific to your application and some others can be used across multiple applications. This is a very important distinction. To do an effective grouping of your files you must start by separating general-purpose files from application-specific resources.This simple separation makes navigating through your files a lot easier. Once you place libraries and general-purpose files inside the vendors folder it is clear that the files you will be editing will be located in the resources folder.Aside from your HTML code the rest of the files in your application are mostly CSS, Javascript, and images. Chances are that you already group your application files inside folders that correspond to these kind of assets.The js folder will hold your Javascript code. Similarly, the images folder is the place where you should add images that are used directly from the index.html or any other page in your application. This images folder should not be used to host stylesheet-related files. Your CSS code and related images should be located inside the css folder. By doing this, you can build pages that can easily use different themes and you allow your application to be more portable.The previous example shows the content of the css folder. Notice that there is a file named default.css which should be used as your main CSS file. Images used by the default stylesheet should be place inside the images folder. If you want to create alternative stylesheets or if you wish to override rules defined in your default stylesheet, you can create additional CSS files and the correspondent folders. For example, you can create a blue-theme.css stylesheet and place all related images inside a blue-theme folder. If you have CSS or Javascript code that is only used by one page (in this case my-index.html), you can group page specific code inside .css and .js files with the same name of the page (e.i. my-index.css and my-index.js). Your CSS and Javascript code should be a generic as possible but you can keep track of exceptions by placing them in separate files. Some final recommendations have to be made around folder and file names. As a general rule make sure that you use lower case letters in all folder and file names. When using multiple words to name a file or a folder separate them with a hyphen (i.e. my-company-logo-small.png). If you follow the advice in this article you should be able to combine multiple pages while keeping common resources together and custom code nicely separated.Finally, even if you do not choose to use the structure recommended in this article, it is important to stick to a convention. It will increase your productivity and more important it will make the work that you do easy to understand by others.Source Credit:

How to organize your HTML, CSS, and Javascript filesThis is how I organized my application's static resources. 

How to add extra info to copied web text

Keith

[How to add extra info to copied web text](https://stackoverflow.com/questions/2026335/how-to-add-extra-info-to-copied-web-text)

Some websites now use a JavaScript service from Tynt that appends text to copied content.If you copy text from a site using this and then paste you get a link to the original content at the bottom of the text.Tynt also tracks this as it happens. It's a neat trick well done.Their script for doing this is impressive - rather than try to manipulate the clipboard (which only older versions of IE lets them do by default and which should always be turned off) they manipulate the actual selection.So when you select a block of text the extra content is added as a hidden <div> included in your selection. When you paste the extra style is ignored and the extra link appears.This is actually fairly easy to do with simple blocks of text, but a nightmare when you consider all the selections possible across complex HTML in different browsers.I'm developing a web application - I don't want anyone to be able to track the content copied and I would like the extra info to contain something contextual, rather than just a link. Tynt's service isn't really appropriate in this case.Does anyone know of an open source JavaScript library (maybe a jQuery plug in or similar) that provides similar functionality but that doesn't expose internal application data?

2010-01-08 08:33:13Z

Some websites now use a JavaScript service from Tynt that appends text to copied content.If you copy text from a site using this and then paste you get a link to the original content at the bottom of the text.Tynt also tracks this as it happens. It's a neat trick well done.Their script for doing this is impressive - rather than try to manipulate the clipboard (which only older versions of IE lets them do by default and which should always be turned off) they manipulate the actual selection.So when you select a block of text the extra content is added as a hidden <div> included in your selection. When you paste the extra style is ignored and the extra link appears.This is actually fairly easy to do with simple blocks of text, but a nightmare when you consider all the selections possible across complex HTML in different browsers.I'm developing a web application - I don't want anyone to be able to track the content copied and I would like the extra info to contain something contextual, rather than just a link. Tynt's service isn't really appropriate in this case.Does anyone know of an open source JavaScript library (maybe a jQuery plug in or similar) that provides similar functionality but that doesn't expose internal application data?Solution that works on all recent browsers.There are two main ways to add extra info to copied web text.The idea is to watch for the copy event, then append a hidden container with our extra info to the dom, and extend the selection to it.

This method is adapted from this article by c.bavota. Check also jitbit's version for more complex case.The idea is to watch the copy event and directly modify the clipboard data. This is possible using the clipboardData property. Note that this property is available in all major browsers in read-only; the setData method is only available on IE.This is a vanilla javascript solution from a modified solution above but supports more browsers (cross browser method) The shortest version for jQuery that I tested and is working is:Here is a plugin in jquery to do that

https://github.com/niklasvh/jquery.plugin.clipboard

From the project readme

"This script modifies the contents of a selection prior to a copy event being called, resulting in the copied selection being different from what the user selected.This allows you to append/prepend content to the selection, such as copyright information or other content.Released under MIT License"Improving on the answer, restore selection after the alterations to prevent random selections after copy.Improvement for 2018 Also a little shorter solution:It's a compilation of 2 answers above + compatibility with Microsoft Edge.I've also added a restore of the original selection at the end, as it is expected by default in any browser.

Creating a JavaScript cookie on a domain and reading it across sub domains

Evan

[Creating a JavaScript cookie on a domain and reading it across sub domains](https://stackoverflow.com/questions/5671451/creating-a-javascript-cookie-on-a-domain-and-reading-it-across-sub-domains)

Below is a JavaScript cookie that is written on the user's computer for 12 months.After we set the cookie on our main domain such as example.com, should the user visit a subdomain like test.example.com, we need to continue to identify the activity of the user across our "test" subdomain.But with the current code, as soon as they leave www.example.com and visit test.example.com, they are no longer flagged as "HelloWorld".Would anyone be able to help with my code to allow the cookie to be read across subdomains?

2011-04-15 01:14:23Z

Below is a JavaScript cookie that is written on the user's computer for 12 months.After we set the cookie on our main domain such as example.com, should the user visit a subdomain like test.example.com, we need to continue to identify the activity of the user across our "test" subdomain.But with the current code, as soon as they leave www.example.com and visit test.example.com, they are no longer flagged as "HelloWorld".Would anyone be able to help with my code to allow the cookie to be read across subdomains?Just set the domain and path attributes on your cookie, like:You want:As per the RFC 2109, to have a cookie available to all subdomains, you must put a . in front of your domain.Setting the path=/ will have the cookie be available within the entire specified domain(aka .example.com). Here is a working example :This is a generic solution that takes the root domain from the location object and sets the cookie.  The reversing is because you don't know how many subdomains you have if any.You can also use the MDN JavaScript Cookie Framework and do:

How to get the nth occurrence in a string?

Adam

[How to get the nth occurrence in a string?](https://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string)

I would like to get the starting position of the 2nd occurrence of ABC with something like this:How would you do it?

2013-01-23 13:00:01Z

I would like to get the starting position of the 2nd occurrence of ABC with something like this:How would you do it?You can also use the string indexOf without creating any arrays.The second parameter is the index to start looking for the next match.Working off of kennebec's answer, I created a prototype function which will return -1 if the nth occurence is not found rather than 0.Because recursion is always the answer.Here's my solution, which just iterates over the string until n matches have been found:This method creates a function that calls for the index of nth occurrences stored in an arrayUsing indexOf and Recursion:First check if the nth position passed is greater than the total number of substring occurrences. If passed, recursively go through each index until the nth one is found.Using [String.indexOf][1]}

console.log(getStringReminder('bcdefgbcdbcd', 'bcd', 3));I was playing around with the following code for another question on StackOverflow and thought that it might be appropriate for here.  The function printList2 allows the use of a regex and lists all the occurrences in order.  (printList was an attempt at an earlier solution, but it failed in a number of cases.)

HTML5 canvas ctx.fillText won't do line breaks?

Spectraljump

[HTML5 canvas ctx.fillText won't do line breaks?](https://stackoverflow.com/questions/5026961/html5-canvas-ctx-filltext-wont-do-line-breaks)

I can't seem to be able to add text to a canvas if the text includes "\n". I mean, the line breaks do not show/work.The above code will draw "s  ome \n <br/> thing", on one line. Is this a limitation of fillText or am I doing it wrong? the "\n"s are there, and aren't printed, but they don't work either.

2011-02-17 09:13:24Z

I can't seem to be able to add text to a canvas if the text includes "\n". I mean, the line breaks do not show/work.The above code will draw "s  ome \n <br/> thing", on one line. Is this a limitation of fillText or am I doing it wrong? the "\n"s are there, and aren't printed, but they don't work either.I'm afraid it is a limitation of Canvas' fillText. There is no multi-line support. Whats worse, there's no built-in way to measure line height, only width, making doing it yourself even harder!A lot of people have written their own multi-line support, perhaps the most notable project that has is Mozilla Skywriter.The gist of what you'll need to do is multiple fillText calls while adding the height of the text to the y value each time. (measuring the width of M is what the skywriter people do to approximate text, I believe.)If you just want to take care of the newline chars in the text you could simulate it by splitting the text at the newlines and calling multiple times the fillText()Something like http://jsfiddle.net/BaG4J/1/I just made a wrapping proof of concept (absolute wrap at specified width. No handling words breaking, yet)

example at http://jsfiddle.net/BaG4J/2/And a word-wrapping (breaking at spaces) proof of concept.

example at http://jsfiddle.net/BaG4J/5/In the second and third examples i am using the measureText() method which shows how long (in pixels) a string will be when printed.Maybe coming to this party a bit late, but I found the following tutorial for wrapping text on a canvas perfect. http://www.html5canvastutorials.com/tutorials/html5-canvas-wrap-text-tutorial/From that I was able to think get multi lines working (sorry Ramirez, yours didn't work for me!).  My complete code to wrap text in a canvas is as follows:Where c is the ID of my canvas and text is the ID of my textbox.As you can probably see am using a non-standard font.  You can use @font-face as long as you have used the font on some text PRIOR to manipulating the canvas - otherwise the canvas won't pick up the font.Hope this helps someone.Split the text into lines, and draw each separately:Here's my solution, modifying the popular wrapText() function that is already presented here. I'm using the prototyping feature of JavaScript so that you can call the function from the canvas context.Basic usage:Here's a demonstration I put together:

http://jsfiddle.net/7RdbL/I just extended the CanvasRenderingContext2D adding two functions: mlFillText and mlStrokeText.You can find the last version in GitHub: With this functions you can fill / stroke miltiline text in a box. You can align the text verticaly and horizontaly. (It  takes in account \n's and can also justify the text).The prototypes are: function mlFillText(text,x,y,w,h,vAlign,hAlign,lineheight);

function mlStrokeText(text,x,y,w,h,vAlign,hAlign,lineheight);Where vAlign can be: "top", "center" or "button"

And hAlign can be: "left", "center", "right" or "justify"You can test the lib here: http://jsfiddle.net/4WRZj/1/Here is the code of the library:And here is the use example:Using javascript I developed a solution. It isn't beautiful but it worked for me:Hope that helps!The code for word-wrapping (breaking at spaces) provided by @Gaby Petrioli is very helpful.

I've extended his code to provide support for newline characters \n. Also, often times it's useful to have the dimensions of the bounding box, so multiMeasureText() returns both the width and the height.You can see the code here: http://jsfiddle.net/jeffchan/WHgaY/76/If you only need two lines of text, you can split them into two different fillText calls and give each one a different baseline.Here's a version of Colin's wrapText() that also supports vertically centered text with context.textBaseline = 'middle':I think you can still rely on CSSLuckily, through CSS hack-ardry ( seeTypographic Metrics for more ways to fix older implementations of  using CSS measurements), we can find the height of the text through measuring the offsetHeight of a  with the same font-properties:from:

http://www.html5rocks.com/en/tutorials/canvas/texteffects/I don't think this is possible neither, but a workaround for this is to create a <p>element and position it with Javascript.I happened across this due to having the same problem.  I'm working with variable font size, so this takes that into account:where .noteContent is the contenteditable div the user edited (this is nested in a jQuery each function), and ctx.font is "14px Arial" (notice that the pixel size comes first)I have made a simple npm module for this exact use.

https://www.npmjs.com/package/canvas-txtYou can split text into multiline automatically and also based on \nCanvas element doesn't support such characters as newline '\n', tab '\t' or < br /> tag.Try it:or perhaps multiple lines:My ES5 solution for the problem:More information on the issue is on my blog.This question isn't thinking in terms of how canvas works. If you want a line break just simply adjust the coordinates of your next ctx.fillText.

Disable time in bootstrap date time picker

Chirag Sudra

[Disable time in bootstrap date time picker](https://stackoverflow.com/questions/23137720/disable-time-in-bootstrap-date-time-picker)

I am using bootstrap date time picker in my web application, made in PHP/HTML5 and JavaScript. I am currently using one from here:

http://tarruda.github.io/bootstrap-datetimepicker/When I am using the control without time, it doesn't work. It just shows a blank text box.I just want to remove time from date time picker. Is there any solution for this?

2014-04-17 15:48:53Z

I am using bootstrap date time picker in my web application, made in PHP/HTML5 and JavaScript. I am currently using one from here:

http://tarruda.github.io/bootstrap-datetimepicker/When I am using the control without time, it doesn't work. It just shows a blank text box.I just want to remove time from date time picker. Is there any solution for this?Check the below snippetYou can refer http://eonasdan.github.io/bootstrap-datetimepicker/ for documentation and other functions in detail.

This should work.Use localized formats of moment.js:See other localized formats in the moment.js documentation (https://momentjs.com/docs/#/displaying/format/)I tried all of the solutions posted here but none of them worked for me. I managed to disable the time by using this line of code in my jQuery:This set the format to date only and disabled the time completely. Hope this helps.This is for: Eonasdan's Bootstrap DatetimepickerFirst of all I would provide an id attribute for the <input> and then initialize the datetimepicker directly for that <input> (and not for the parent container):For v3: Contrary to Ck Maurya's answer:For v4: Bootstrap Datetimepicker now uses the format to determine if a time-component is present. If no time component is present, it won't let you choose a time (and hide the clock icon).I spent some time trying to figure this out due to the update with DateTimePicker. You would enter in a format based off of moment.js documentation. You can use what other answers showed:Or you can use some of the localized formats moment.js provides to do just a date, such as:      Using this, you are able to display only a time (LT) or date (L) based on locale. The documentation for datetimepicker wasn't clear to me that it automatically adapts to the input provided (date or only time) via moment.js format. Hope this helps for those still looking.Please try if it works for you as wellInitialize your datetimepicker like thisFor disable timeFor disable dateTo disable both date and timeplease refer following documentation if you have any doubthttp://eonasdan.github.io/bootstrap-datetimepicker/#optionsThis shows only date:      More on the subject hereThe selector criteria is now an attribute the DIV tag.examples are ...so the bootstrap example for dd mm yyyy is:-my Javascript settings are as follows:-You can see working examples of these if you download the bootstrap-datetimepicker-master file. There are sample folders each with an index.html.For bootstrap 4 version this code working;Disable time in boostrap datetime picker...Disable date in boostrap datetime picker...This allows to show time in input field but hides time picker button, which is second li element in accordionI know this is late, but the answer is simply removing "time" from the word, datetimepicker to change it to datepicker.  You can format it with dateFormat.Here's the solution for you.

It's very easy to just add code like this:Not as put off time and language at a time

I put this and not work

Multiple path names for a same component in React Router

Chetan Garg

[Multiple path names for a same component in React Router](https://stackoverflow.com/questions/40541994/multiple-path-names-for-a-same-component-in-react-router)

I am using the same component for three different routes:Is there anyway to combine it, to be like:

2016-11-11 06:00:52Z

I am using the same component for three different routes:Is there anyway to combine it, to be like:At least with react-router v4 the path can be a regular expression string, so you can do something like this:As you can see it's a bit verbose so if your component/route is simple like this it's probably not worth it.And of course if this actually comes up often you could always create a wrapping component that takes in an array paths parameter, which does the regex or .map logic reusably.As of react-router v4.4.0-beta.4, and officially in v5.0.0, you can now specify an array of paths which resolve to a component e.g.Each path in the array is a regular expression string.The documentation for this approach can be found here.I don't think it is if you use a version of React Router lower than v4.You can use a map as you would do with any other JSX component though: EDITYou can also use a regex for the path in react-router v4 as long as it's supported by path-to-regexp. See @Cameron's answer for more info. Other option: use route prefix. /pages for example.

You will getAnd then resolve it in a detailed way inside the Home component.As of react-route-dom v5.1.2 you can pass multiple path as belowAnd obvoiusly you need to import Home jsx file on top.As per React Router docs the proptype 'path' is of type string .So there is no way you could pass an array as props to the Route Component.If your intention is to only change route you can use the same component for different route no issues with thatAs of react-router v4.4 you can just do something like this below.store the path in a variable and pass down below and use '|' Operator.so for all path it matches it will render component={Home} which is your need ..

What does「var FOO = FOO || {}」(assign a variable or an empty object to that variable) mean in Javascript?

Ricardo Sanchez

[What does「var FOO = FOO || {}」(assign a variable or an empty object to that variable) mean in Javascript?](https://stackoverflow.com/questions/6439579/what-does-var-foo-foo-assign-a-variable-or-an-empty-object-to-that-va)

Looking at an online source code I came across this at the top of several source files.But I have no idea what || {} does.I know {} is equal to new Object() and I think the || is for something like "if it already exists use its value else use the new object.Why would I see this at the top of a source file?

2011-06-22 12:10:57Z

Looking at an online source code I came across this at the top of several source files.But I have no idea what || {} does.I know {} is equal to new Object() and I think the || is for something like "if it already exists use its value else use the new object.Why would I see this at the top of a source file?Your guess as to the intent of || {} is pretty close.This particular pattern when seen at the top of files is used to create a namespace, i.e. a named object under which functions and variables can be created without unduly polluting the global object.The reason why it's used is so that if you have two (or more) files:andboth of which share the same namespace it then doesn't matter in which order the two files are loaded, you still get func1 and func2 correctly defined within the MY_NAMESPACE object correctly.The first file loaded will create the initial MY_NAMESPACE object, and any subsequently loaded file will augment the object.Usefully, this also allows asynchronous loading of scripts that share the same namespace which can improve page loading times.  If the <script> tags have the defer attribute set you can't know in which order they'll be interpreted, so as described above this fixes that problem too.Basically this line is saying set the AEROTWIST variable to the value of the AEROTWIST variable, or set it to an empty object.The double pipe || is an OR statement, and the second part of the OR is only executed if the first part returns false.Therefore, if AEROTWIST already has a value, it will be kept as that value, but if it hasn't been set before, then it will be set as an empty object.it's basically the same as saying this:Hope that helps.Another common use for || is to set a default value for an undefined function parameter also:The equivalent in other programming usually is:There are two main parts that var FOO = FOO || {}; covers.#1 Preventing overridesImagine you have your code split over multiple files and your co-workers are also working on an Object called FOO. Then it could lead to the case that someone already defined FOO and assigned functionality to it (like a skateboard function). Then you would override it, if you were not checking if it already exists. Problematic case:In this case the skateboard function will be gone if you load the JavaScript file homer.js after bart.js in your HTML because Homer defines a new FOO object (and thus overrides the existing one from Bart) so it only knows about the donut function.So you need to use var FOO = FOO || {}; which means "FOO will be assigned to FOO (if it exists already) or a new blank object (if FOO does not exist already).Solution:Because Bart and Homer are now checking for the existence of FOO before they define their methods, you can load bart.js and homer.js in any order without overriding each other's methods (if they have different names). So you will always get a FOO object which has the methods skateboard and donut (Yay!).#2 Defining a new objectIf you've read through the first example then you already now what's the purpose of the || {}. Because if there is no existing FOO object then the OR-case will become active and creates a new object, so you can assign functions to it. Like:If there is no value in AEROTWIST or it is null or undefined the value assigned to the new AEROTWIST will be {} (a blank object)The || operator takes two values:If a is truthy, it will return a. Otherwise, it will return b.The falsy values are null, undefined, 0, "", NaN and false. The truthy values are everything else.So if a has not been set (is it undefined) it will return b.Notice that in some version of IE this code won't work as expected. Because the var, the variable is redefined and assigned so – if I recall correctly the issue – you'll end up to have always a new object. That should fix the issue:

How to avoid extra wrapping <div> in React?

Kirill Reznikov

[How to avoid extra wrapping <div> in React?](https://stackoverflow.com/questions/33766085/how-to-avoid-extra-wrapping-div-in-react)

Today I have started learning ReactJS and after an hour faced with the problem..

I want to insert a component which has two rows inside a div on the page.A simplified example of what I am doing below.I have an html:Render function like this:And below I am calling render:Generated HTML looks like this:The problem that I am not a very happy that React forcing me to wrap all in a div "DeadSimpleComponent". What is the best and simple workaround for it, without explicit DOM manipulations?UPDATE 7/28/2017: Maintainers of React added that possibility in React 16 Beta 1Since React 16.2, you can do this:

2015-11-17 20:11:22Z

Today I have started learning ReactJS and after an hour faced with the problem..

I want to insert a component which has two rows inside a div on the page.A simplified example of what I am doing below.I have an html:Render function like this:And below I am calling render:Generated HTML looks like this:The problem that I am not a very happy that React forcing me to wrap all in a div "DeadSimpleComponent". What is the best and simple workaround for it, without explicit DOM manipulations?UPDATE 7/28/2017: Maintainers of React added that possibility in React 16 Beta 1Since React 16.2, you can do this:This requirement was removed in React version (16.0)]1, so now you are able to avoid that wrapper.You can use React.Fragment to render a list of elements without creating a parent node, official example:More here: FragmentsUpdate 2017-12-05: 

React v16.2.0 now fully supports rendering of fragments with improved support for returning multiple children from a components render method without specifying keys in children:If you are using a React version prior to v16.2.0, it is also possible to use <React.Fragment>...</React.Fragment> instead:Original:React v16.0 introduced returning an array of elements in render method without wrapping it in a div: https://reactjs.org/blog/2017/09/26/react-v16.0.htmlAt the moment, a key is required for each element to avoid the key warning but this could be changed in future releases:You can use:For further details refer to this documentation.I created a component to wrap child components without a DIV. It's called a shadow wrapper: https://www.npmjs.com/package/react-shadow-wrapperUse [], instead of ()'s to wrap the entire return.This is still required, BUT React now make sure to create elements without creating an additional DOM element.The extra wrapping needed (normally with a parent div) because Reacts createElement method require a type parameter which is either a tag name string (such as 'div' or 'span'), a React component type (a class or a function). But this was before they introduce React Fragment.Refer this NEW api doc for createElementhere is the official example, Refer React.Fragment.You won't be able to get rid of that div element. React.render() needs to return one valid DOM node.Here is one way to render "transculent" components:There is workaround too. The below block code generates fragment without the need of React.Fragment.I know this question has been answered, you can of course use React.Fragment which doesn't create a node but let's you group stuff like a div.Additionally if you want to have fun you can implement (and learn lots of things) a React mode that removes the extra div's and for this I really want to share a great video on how you can do it on the react code base itself.https://www.youtube.com/watch?v=aS41Y_eyNrUThis is of course not something that you would do in practice but it's a good learning opportunity.

「Variable」variables in Javascript?

ShoeLace1291

[「Variable」variables in Javascript?](https://stackoverflow.com/questions/5187530/variable-variables-in-javascript)

I know it's possible in PHP to have "variable" variables.  For exampleIs it possible to refer to a variable by its name as a string in javascript?  How would it be done?

2011-03-03 22:40:52Z

I know it's possible in PHP to have "variable" variables.  For exampleIs it possible to refer to a variable by its name as a string in javascript?  How would it be done?There is no single solution for this (well, there is eval, but lets not seriously consider that). It is possible to access some global variables dynamically via window, but that doesn't work for variables local to a function. Global variables that do not become a property of window are variables defined with let and const, and classes.There is almost always a better solution than using variable variables! Instead you should be looking at data structures and choose the right one for your problem.If you have a fixed set of names, such asstore the those name/values as properties of an object and use bracket notation to look them up dynamically:In ES2015+ it's even easier to do this for existing variables using concise property notation:If you have "consecutively" numbered variables, such asthen you should be using an array instead and simply use the index to access the corresponding value:If you are desperate to do this you can either try using eval():Or using the window object:http://www.hiteshagrawal.com/javascript/dynamic-variables-in-javascriptTo reference a variable in javascript with only a string, you can useYou can set and reference variables, and objects in variables too.Unlike PHP, JavaScript doesn't offer access to the globals array (which contains references to all the variable names currently declared). As such, JavaScript does not offer native support for variable variables. You can, however, emulate this feature as long as you define all your variables as part of an array or an object. This will in turn create a gloabls array for you. For example, instead of declaring the variable hello in the global scope like this:let's encapsulate it inside an object. We'll call that object vv (variable variables):Now we can refer to the variable by it's index, and since array indexes can be provided using a variable we are de facto making use of a variable variable:The Answer To Your QuestionLet's apply this to the code you supplied in the original question:A Practical UseWhile the previous code might appear ridiculously cumbersome and impractical, there are practical uses for variable variables in JavaScript using this type of encapsulation. In the example below we use the same concept to get the ID of an undefined number of HTML elements.This example declares variable variables (keys in elementIds) based on the ID of each element, and will assign the node of said element as the value of each variable. And since using global variables in JavaScript is generally discouraged giving your variable variables a unique scope (in this instance, declaring them inside the elementIds array) is not only neat, but also more responsible.Of course you can, but don't. The variables have to be global.You can use the JavaScript eval(str) function.What this function does is convert the string provided into JS code, then executes it.For example:So to use it as a variable variable, you can do the following:This will produce the exact same output as:(Example is taken from the PHP manual on variable variables.)

JavaScript exponents

McKayla

[JavaScript exponents](https://stackoverflow.com/questions/5907063/javascript-exponents)

How do you do exponents in JavaScript?Like how would you do 12^2?

2011-05-06 05:16:42Z

How do you do exponents in JavaScript?Like how would you do 12^2?There is an exponentiation operator, which is part of the ES7 final specification. It is supposed to work in a similar manner with python and matlab:Now it is already implemented in Edge14, Chrome52, and also it is available with traceur or babel.Math.pow():Math.pow(base, exponent), for starters.Example:Math.pow(x, y) works fine for x^y and even evaluates the expression when y is not an integer. A piece of code not relying on Math.pow but that can only evaluate integer exponents is:How we perform exponents in JavaScript

According to MDN

The exponentiation operator returns the result of raising the first operand to the power second operand. That is, var1 var2, in the preceding statement, where var1 and var2 are variables. Exponentiation operator is right associative: a ** b ** c is equal to a ** (b ** c).

For example:

2**3 // here 2 will multiply 3 times by 2 and the result will be 8.

4**4 // here 4 will multiply 4 times by 4 and the result will be 256.  

Angular 2: How do you render HTML from a JSON response without displaying the tags to the user? [duplicate]

Josh

[Angular 2: How do you render HTML from a JSON response without displaying the tags to the user? [duplicate]](https://stackoverflow.com/questions/34936027/angular-2-how-do-you-render-html-from-a-json-response-without-displaying-the-ta)

Edit: a clarification for anyone who only skimmed the title, my question is about Angular 2, not 1.I have a component template that is something like this:The object is something like:Instead of rendering the paragraph like:The post bodyit displays:"<p>The <em>post body</em>.</p>"Since it's such a common task, I looked for a built-in pipe like {{ post.body | safe }} but didn't see one.Is there is an easy way to get that working? Is there a safe way to get that working?

2016-01-21 23:01:23Z

Edit: a clarification for anyone who only skimmed the title, my question is about Angular 2, not 1.I have a component template that is something like this:The object is something like:Instead of rendering the paragraph like:The post bodyit displays:"<p>The <em>post body</em>.</p>"Since it's such a common task, I looked for a built-in pipe like {{ post.body | safe }} but didn't see one.Is there is an easy way to get that working? Is there a safe way to get that working?In Angular2 you can use property binding to access properties of DOM elements, in your case:

Why does babel rewrite imported function call to (0, fn)(…)?

Will Smith

[Why does babel rewrite imported function call to (0, fn)(…)?](https://stackoverflow.com/questions/32275135/why-does-babel-rewrite-imported-function-call-to-0-fn)

Given an input file likebabel will compile it to but when compiled in loose mode the function call is output as _b.a();I've done some research into where the comma operator is added in the hope there was a comment explaining it.

The code responsible for adding it is here.

2015-08-28 15:56:26Z

Given an input file likebabel will compile it to but when compiled in loose mode the function call is output as _b.a();I've done some research into where the comma operator is added in the hope there was a comment explaining it.

The code responsible for adding it is here.(0, _b.a)() ensures that the function _b.a is called with this set to the global object (or if strict mode is enabled, to undefined). If you were to call _b.a() directly, then _b.a is called with this set to _b.(0, _b.a)(); is equivalent to(the , is the comma operator, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comma_Operator).So, let see an example:Now, in foo method, this is equal to a (because foo is attached to a). So if you call a.foo() directly, it will log false in console.But, if you were call (0, a.foo)(). The expression (0, a.foo) will evaluate each of its operands (from left to right) and returns the value of the last operand. In other words, (0, a.foo) is equivalent to Since this function no longer is attached to anything, its this is the global object window. That's why it log true in console when call (0, a.foo)().

How can I export tables to Excel from a webpage [closed]

code511788465541441

[How can I export tables to Excel from a webpage [closed]](https://stackoverflow.com/questions/5524143/how-can-i-export-tables-to-excel-from-a-webpage)

How can I export tables to Excel from a webpage. I want the export to contain all the formatting and colours.

2011-04-02 15:47:42Z

How can I export tables to Excel from a webpage. I want the export to contain all the formatting and colours.Far and away, the cleanest, easiest export from tables to Excel is Jquery DataTables Table Tools plugin.  You get a grid that sorts, filters, orders, and pages your data, and with just a few extra lines of code and two small files included, you get export to Excel, PDF, CSV, to clipboard and to the printer.This is all the code that's required:So, quick to deploy, no browser limitations, no server-side language required, and most of all very EASY to understand.  It's a win-win.  The one thing it does have limits on, though, is strict formatting of columns.If formatting and colors are absolute dealbreakers, the only 100% reliable, cross browser method I've found is to use a server-side language to process proper Excel files from your code.  My solution of choice is PHPExcel  It is the only one I've found so far that positively handles export with formatting to a MODERN version of Excel from any browser when you give it nothing but HTML.  Let me clarify though, it's definitely not as easy as the first solution, and also is a bit of a resource hog.  However, on the plus side it also can output direct to PDF as well.  And, once you get it configured, it just works, every time.UPDATE - September 15, 2016:  TableTools has been discontinued in favor of a new plugin called "buttons"  These tools perform the same functions as the old TableTools extension, but are FAR easier to install and they make use of HTML5 downloads for modern browsers, with the capability to fallback to the original Flash download for browsers that don't support the HTML5 standard.  As you can see from the many comments since I posted this response in 2011, the main weakness of TableTools has been addressed.  I still can't recommend DataTables enough for handling large amounts of data simply, both for the developer and the user.A long time ago, I discovered that Excel would open an HTML file with a table if we send it with Excel content type. Consider the document above:I ran the following bookmarklet on it:and in fact I got it downloadable as a Excel file. However, I did not get the expected result - the file was open in OpenOffice.org Writer. That is my problem: I do not have Excel in this machine so I cannot try it better. Also, this trick worked more or less six years ago with older browsers and an antique version of MS Office, so I really cannot say if it will work today.Anyway, in the document above I added a button which would download the entire document as an Excel file, in theory:Save it in a file and click on the button. I'd love to know if it worked or not, so I ask you to comment even for saying that it did not work.It is possible to use the old Excel 2003 XML format (before OpenXML) to create a string that contains your desired XML, then on the client side you could use a data URI to open the file using the XSL mime type, or send the file to the client using the Excel mimetype "Content-Type: application/vnd.ms-excel" from the server side.It is worth noting that older browsers do not support the data URI scheme, so you may need to produce the file server side for those browser that do not support it.You may also need to perform base64 encoding on the data URI content, which may require a js library, as well as adding the string ';base64' after the mime type in the data URI.Excel has a little known feature called "Web queries" which let you retrieve data from almost every web page without additional programming. A web query basicly runs a HTTP request directly from within Excel and copies some or all of the received data (and optionally formatting) into the worksheet. After you've defined the web query you can refresh it at any time without even leaving excel. So you don't have to actually "export" data and save it to a file - you'd rather refresh the data just like from a database.You can even make use of URL parameters by having excel prompt you for certain filter criteria etc...However the cons I've noticed so far are:Here is a question about how to create web queries in Excel. It links to a Microsoft Help site about How-To Get external data from a Web pageThis is a php but you maybe able to change it to javascript:First, I would not recommend trying export Html and hope that the user's instance of Excel picks it up. My experience that this solution is fraught with problems including incompatibilities with Macintosh clients and throwing an error to the user that the file in question is not of the format specified. The most bullet-proof, user-friendly solution is a server-side one where you use a library to build an actual Excel file and send that back to the user. The next best solution and more universal solution would be to use the Open XML format. I've run into a few rare compatibility issues with older versions of Excel but on the whole this should give you a solution that will work on any version of Excel including Macs.Open XMLmozilla still support base 64 URIs. This allows you to compose dynamically the binary content using javascript:if your excel file is not very fancy (no diagrams, formulas, macroses) you can dig into the format and compose bytes for your file, then encode them with base64 and put in to the hrefrefer to

https://developer.mozilla.org/en/data_URIsThis is actually more simple than you'd think: "Just" copy the HTML table (that is: The HTML code for the table) into the clipboard. Excel knows how to decode HTML tables; it'll even try to preserve the attributes.The hard part is "copy the table into the clipboard" since there is no standard way to access the clipboard from JavaScript. See this blog post: Accessing the System Clipboard with JavaScript – A Holy Grail?Now all you need is the table as HTML. I suggest jQuery and the html() method.This code is IE only so it is only useful in situations where you know all of your users will be using IE (like, for example, in some corporate environments.)Assumptions: Solution for Windows:python code that open the ie window and has access to it:

theurl variable contain the url ('http://')Note: if the page is not accessible directly, but login, you will need to handle this by entering the form data and emulating the user actions with pythonhere is the examplethe same manner for retrieval of data from web page. Let's say element with id 'el1' contain the data. 

retrieve the element text to the variablethen when data is in python variable, you can open the excel screen in similar manner using python:Solution for Mac:only the tip: use AppleScript - it has simple and similar API as win32com.client DispatchSolution for Linux:java.awt.Robot might work for this it has click, key press (hot keys can be used), but none API for Linux that I am aware about that can work as  simple as AppleScriptsimple google search turned up this:if you can't do that, he gives an alternate "drag-and-drop" method:http://www.mrkent.com/tools/converter/And now there is a better way.OpenXML SDK for JavaScript.https://openxmlsdkjs.codeplex.com/There are practical two ways to do this automaticly while only one solution can be used in all browsers. 

First of all you should use the open xml specification to build the excel sheet. There are free plugins from Microsoft available that make this format also available for older office versions. The open xml is standard since office 2007. The the two ways are obvious the serverside or the clientside. The clientside implementation use a new standard of CSS that allow you to store data instead of just the URL to the data. This is a great approach coz you dont need any servercall, just the data and some javascript. The killing downside is that microsoft don't support all parts of it in the current IE (I don't know about IE9) releases. Microsoft restrict the data to be a image but we will need a document. In firefox it works quite fine. For me the IE was the killing point. The other way is to user a serverside implementation. There should be a lot implementations of open XML for all languages. You just need to grap one. In most cases it will be the simplest way to modify a Viewmodel to result in a Document but for sure you can send all data from Clientside back to server and do the same.

AJAX post error : Refused to set unsafe header「Connection」

sniper

[AJAX post error : Refused to set unsafe header「Connection」](https://stackoverflow.com/questions/7210507/ajax-post-error-refused-to-set-unsafe-header-connection)

I have the following custom ajax function that posts data back to a PHP file. Everytime the post of data happens I get the following two errors : Code : What am I doing wrong?

2011-08-26 20:59:18Z

I have the following custom ajax function that posts data back to a PHP file. Everytime the post of data happens I get the following two errors : Code : What am I doing wrong?Remove these two lines:XMLHttpRequest isn't allowed to set these headers, they are being set automatically by the browser. The reason is that by manipulating these headers you might be able to trick the server into accepting a second request through the same connection, one that wouldn't go through the usual security checks - that would be a security vulnerability in the browser.

How to use redis PUBLISH/SUBSCRIBE with nodejs to notify clients when data values change?

guilin 桂林

[How to use redis PUBLISH/SUBSCRIBE with nodejs to notify clients when data values change?](https://stackoverflow.com/questions/4441798/how-to-use-redis-publish-subscribe-with-nodejs-to-notify-clients-when-data-value)

I'm writing an event-driven publish/subscribe application with NodeJS and Redis. I need an example of how to notify web clients when the data values in Redis change. 

2010-12-14 16:53:15Z

I'm writing an event-driven publish/subscribe application with NodeJS and Redis. I need an example of how to notify web clients when the data values in Redis change. uses express, socket.io, node_redis and last but not least the sample code from media fire.First you should(if you have not done this yet) install node.js+npm in 30 seconds (the right way because you should NOT run npm as root):After you installed node+npm you should install dependencies by issuing:You can download complete sample from mediafire../app.js./public/index.htmlBest if you start google chrome(because of websockets support, but not necessary). Visit http://localhost:3000 to see sample(in the beginning you don't see anything but PubSub as title).But on publish to channel pubsub you should see a message. Below we publish "Hello world!" to the browser.here's a simplified example without as many dependencies.

You do still need to npm install hiredis redisThe node JavaScript:...put that in a pubsub.js file and run node pubsub.jsin redis-cli:which should display: pubsub: Hello Wonky! in the terminal running node!

Congrats!Additional 4/23/2013: I also want to make note that when a client subscribes to a pub/sub channel it goes into subscriber mode and is limited to subscriber commands. You'll just need to create additional instances of redis clients. client1 = redis.createClient(), client2 = redis.createClient() so one can be in subscriber mode and the other can issue regular DB commands.We were trying to understand Redis Publish/Subscribe ("Pub/Sub") and all the existing examples were either outdated, too simple or had no tests.

So we wrote a Complete Real-time Chat using Hapi.js + Socket.io + Redis Pub/Sub Example with End-to-End Tests!The Pub/Sub component is only a few lines of node.js code:

https://github.com/dwyl/hapi-socketio-redis-chat-example/blob/master/lib/chat.js#L33-L40Rather than pasting it here (without any context) we encourage you to checkout/try the example. We built it using Hapi.js but the chat.js file is de-coupled from Hapi and can easily be used with a basic node.js http server or express (etc.)Handle redis errors to stop nodejs from exiting. You can do this by writing;I think you get the exception because you are using the same client which is subscribed to publish messages. Create a separate client for publishing messages and that could solve your problem.Check out acani-node on GitHub, especially the file acani-node-server.js. If these links are broken, look for acani-chat-server among acani's GitHub public repositories.If you want to get this working with socket.io 0.7 AND an external webserver you need to change (besides the staticProvider -> static issue):a) provide the domain name instead of localhost (i.e. var socket = io.connect('http://my.domain.com:3000'); ) in the index.htmlb) change HOST in app.js (i.e. const HOST = 'my.domain.com';  )c) and add sockets in line 37 of app.js (i.e. 'socket.sockets.on('connection', function(client) { …' )Update to the code:now renamed to see migration guideaccording to @alex solution. if you have an error like this one as per @tyler mention:then you need to install Redis first. check this out:

Get Base64 encode file-data from Input Form

jordan.baucke

[Get Base64 encode file-data from Input Form](https://stackoverflow.com/questions/6978156/get-base64-encode-file-data-from-input-form)

I've got a basic HTML form from which I can grab a bit of information that I'm examining in Firebug.My only issues is that I'm trying to base64 encode the file data before it's sent to the server where it's required to be in that form to be saved to the database.And in Javascript+jQuery:I have some operations based on avaliable javascript: .getAsBinary(), .getAsText(), .getAsTextURLHowever none of these return usable text that can be inserted as they contain unusable 'characters' - I don't want to have a 'postback' occur in my file uploaded, and I need to have multiple forms targeting specific objects so it's important I get the file and use Javascript this way.How should I get the file in such a way that I can use one of the Javascript base64 encoders that are widely avaliable!? Here is where I'm at: Couple of issues with cross browser support:Also, IE doesn't support:So I have to replace with:For IE Support.This works in Firefox, Chrome, Safari (but doesn't properly encode the file, or at least after it's been posted the file doesn't come out right)        Also,Seems to be only supported in HTML5?Lots of people suggested: http://www.webtoolkit.info/javascript-base64.htmlBut this only returns en error on the UTF_8 method before it base64 encodes? (or an empty string)

2011-08-08 05:43:17Z

I've got a basic HTML form from which I can grab a bit of information that I'm examining in Firebug.My only issues is that I'm trying to base64 encode the file data before it's sent to the server where it's required to be in that form to be saved to the database.And in Javascript+jQuery:I have some operations based on avaliable javascript: .getAsBinary(), .getAsText(), .getAsTextURLHowever none of these return usable text that can be inserted as they contain unusable 'characters' - I don't want to have a 'postback' occur in my file uploaded, and I need to have multiple forms targeting specific objects so it's important I get the file and use Javascript this way.How should I get the file in such a way that I can use one of the Javascript base64 encoders that are widely avaliable!? Here is where I'm at: Couple of issues with cross browser support:Also, IE doesn't support:So I have to replace with:For IE Support.This works in Firefox, Chrome, Safari (but doesn't properly encode the file, or at least after it's been posted the file doesn't come out right)        Also,Seems to be only supported in HTML5?Lots of people suggested: http://www.webtoolkit.info/javascript-base64.htmlBut this only returns en error on the UTF_8 method before it base64 encodes? (or an empty string)It's entirely possible in browser-side javascript.The easy way:The readAsDataURL() method might already encode it as base64 for you. You'll probably need to strip out the beginning stuff (up to the first ,), but that's no biggie. This would take all the fun out though.The hard way:If you want to try it the hard way (or it doesn't work), look at readAsArrayBuffer(). This will give you a Uint8Array and you can use the method specified. This is probably only useful if you want to mess with the data itself, such as manipulating image data or doing other voodoo magic before you upload.There are two methods:I recently implemented tar in the browser.  As part of that process, I made my own direct Uint8Array->base64 implementation. I don't think you'll need that, but it's here if you want to take a look; it's pretty neat.What I do now:The code for converting to string from a Uint8Array is pretty simple (where buf is a Uint8Array):From there, just do:var base64 = btoa(uint8ToString(yourUint8Array));Base64 will now be a base64-encoded string, and it should upload just peachy. Try this if you want to double check before pushing:window.open("data:application/octet-stream;base64," + base64);This will download it as a file.Other info:To get the data as a Uint8Array, look at the MDN docs:My solution was use readAsBinaryString() and btoa() on its result.I used FileReader to display image on click of the file upload button not using any Ajax requests. Following is the code hope it might help some one.After struggling with this myself, I've come to implement FileReader for browsers that support it (Chrome, Firefox and the as-yet unreleased Safari 6), and a PHP script that echos back POSTed file data as Base64-encoded data for the other browsers.I've started to think that using the 'iframe' for Ajax style upload might be a much better choice for my situation until HTML5 comes full circle and I don't have to support legacy browsers in my app!  

Awkward way of executing JavaScript code [duplicate]

Passiday

[Awkward way of executing JavaScript code [duplicate]](https://stackoverflow.com/questions/21528187/awkward-way-of-executing-javascript-code)

In the Google tutorial for implementing Google+ sign-in in Flask application, I discovered that the developer often uses an awkward way of executing JavaScript code:Instead of doingI see this:What is the reason to do it the weird way?

2014-02-03 13:04:58Z

In the Google tutorial for implementing Google+ sign-in in Flask application, I discovered that the developer often uses an awkward way of executing JavaScript code:Instead of doingI see this:What is the reason to do it the weird way?This is a poor example. Consider the following:a will contain the varible test and the function public, however you can not access imPrivate. This is the common way to handle public vs private variables;See Why is this function wrapped in parentheses, followed by parentheses? for more info. In this case this is really unnecessary, but this is not wrong and it will not throw an error.But IIF some times uses like module pattern:In this case IIF is just a module which exports something outside.The closure function is used to encapsulate some of the attributes / methods in the function. Much like the private / public principle from other languages.You can find more on this topic here under Module Pattern

What is the difference between asm.js and WebAssembly?

NeoWang

[What is the difference between asm.js and WebAssembly?](https://stackoverflow.com/questions/31502563/what-is-the-difference-between-asm-js-and-webassembly)

I have been reading about asm.js and WebAssembly recently:http://ejohn.org/blog/asmjs-javascript-compile-target/https://brendaneich.com/2015/06/from-asm-js-to-webassembly/I am still confused about a few things:

2015-07-19 15:00:44Z

I have been reading about asm.js and WebAssembly recently:http://ejohn.org/blog/asmjs-javascript-compile-target/https://brendaneich.com/2015/06/from-asm-js-to-webassembly/I am still confused about a few things:asm.js is regular javascript code, and is compiled into bytecode by the JS interpreter as always. However, an interpreter with asm support is supposed to do ahead-of-time compilation, and possibly to generate more efficient code representation because of the static typing. See http://asmjs.org/ for details.None, for now. wasm is supposed to be backwards-compatible, compilable to asm (which again is executable as normal JS). It might however be extended with more features in the future as support for it grows.The latter, rather, as Python still needs to be interpreted. Scripting languages that don't need an interpreter can of course be directly compiled to (w)asm, given that there is a compiler (chain) that supports it as a target.asm.js is a subset of JS with "highly optimizable" instructions. Basically you can declare the type (int, float) and the js engine (in the browsers but also the node.js one) will execute the instructions faster. It has benefits if your app does a lot of calculation or graphic if used together with WebGL.web assembly is a binary format for JS, all JS, not only asm.js. It's not a bytecode, it's a binary encoding of the AST that the parser calculates. It has 2 big benefits:We already can write code for browsers that isn't JS: EMSCripten can compile c++ code in JS code. Other transcompiler are already available to compile your code into JS. 

Using asm.js that code can run faster when it does math. 

Using web assembly that code will be more compact and the browser will be able to process it faster (because it will be able to skip the parsing).

You won't have a new plugin to load like DirectX, JavaApplets, Flash or Silverlight because everything will run in the JS sandbox.   Different browsers compile asm.js code in different ways.  As of August  2015:asm.js is just JavaScript and thus must behave exactly according to the JavaScript spec.  As a new standard, WebAssembly is able to fix some corner cases where JavaScript behavior is not the ideal (from a performance or compilation perspective) [3].  In the future [4], WebAssembly will be able to add features that would otherwise be difficult to express in JavaScript.In v.1, the simplest way to run Python in a browser will be to compile a Python interpreter to wasm, as you said.  This means, e.g., the Python GC is running in wasm code and manually managing the wasm linear memory.  There has already been an experimental projects to add an asm.js backend to PyPy [5] (which could work just as well for wasm).  It currently runs into limitations of asm.js that could be addressed by the dynamic linking future feature of wasm.  Going further, wasm seeks to provide both GC integration and JIT compilation support both of which would allow more efficient and natural integration with the Web platform.

How to create a responsive image that also scales up in Bootstrap 3

user2796803

[How to create a responsive image that also scales up in Bootstrap 3](https://stackoverflow.com/questions/18903183/how-to-create-a-responsive-image-that-also-scales-up-in-bootstrap-3)

I am currently using twitter bootstrap 3 and I am facing a problem to create a responsive image. I have used img-responsive class. But the image size is not scaling up. If I use width:100% instead of max-width:100% then it works perfectly.  Where is the problem? This is my code:

2013-09-19 19:21:53Z

I am currently using twitter bootstrap 3 and I am facing a problem to create a responsive image. I have used img-responsive class. But the image size is not scaling up. If I use width:100% instead of max-width:100% then it works perfectly.  Where is the problem? This is my code:Bootstrap's responsive image class sets max-width to 100%. This limits its size, but does not force it to stretch to fill parent elements larger than the image itself. You'd have to use the width attribute to force upscaling.http://getbootstrap.com/css/#images-responsive.img-responsive is the right way to make images responsive with bootstrap 3

You can add some height rule for the picture you want to make responsive, because with responsibility, width changes along the height, fix it and there you are.Not sure if it helps you still... but I had to do a small trick to make the image bigger but keeping it responsiveHope it helps

P.S. The max width can be anything you likeIf setting a fixed width on the image is not an option, here's an alternative solution.Having a parent div with display: table & table-layout: fixed.

Then setting the image to display: table-cell and max-width to 100%. That way the image will fit to the width of its parent.Example:Fiddle: http://jsfiddle.net/5y62c4af/Try the following in your CSS stylesheet:Try to do so:1) In your index.html2) In your style.cssI found that you can put the .col class on the image will do the trick - however this gives it extra padding along with any other attributes associated with the class such as float left, however these can be cancelled by say for example a no padding class as an addition.I guess image is than corrupted.

Example: image size is 195px X 146px.It will work inside lower resolutions like tablets. When you have 1280 X 800 resolution it will force larger as there is also width 100 %. Maybe CSS inside media query like icons fonts is the best solution.

