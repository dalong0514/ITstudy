How could I achieve the following:Using jQuery where regTitle is my div ID?The html() function can take strings of HTML, and will effectively modify the .innerHTML property.However, the text() function will change the (text) value of the specified element, but keep the html structure.If you instead have a jquery object you want to render instead of the existing content. Then just reset the content and append the new.Or:Here is your answer:Answer:Explanation:$ is equivalent to jQuery. Both represent the same object in the jQuery library. The "#regTitle" inside the parenthesis is called the selector which is used by the jQuery library to identify which element(s) of the html DOM (Document Object Model) you want to apply code to. The # before regTitle is telling jQuery that regTitle is the id of an element inside the DOM.From there, the dot notation is used to call the html function which replaces the inner html with whatever parameter you place in-between the parenthesis, which in this case is 'Hello World'.There are already answers which give how to change Inner HTML of element.But I would suggest, you should use some animation like Fade Out/ Fade In to change HTML which gives good effect of changed HTML rather instantly changing inner HTML.If you have many functions which need this, then you can call common function which changes inner Html.you can use either html or text function in jquery to achieve itORjQuery's .html() can be used for setting and getting the contents of matched non empty elements (innerHTML).Example

Just to add some performance insights. A few years ago I had a project, where we had issues trying to set a large HTML / Text to various HTML elements.It appeared, that "recreating" the element and injecting it to the DOM was way faster than any of the suggested methods to update the DOM content.So something like:Should get you a better performance. I haven't recently tried to measure that (browsers should be clever these days), but if you're looking for performance it may help.The downside is that you will have more work to keep the DOM and the references in your scripts pointing to the right object.jQuery has few functions which work with text, if you use text() one, it will do the job for you:Also, you can use html() instead, if you have any html tag...

map function for objects (instead of arrays)

Randomblue

[map function for objects (instead of arrays)](https://stackoverflow.com/questions/14810506/map-function-for-objects-instead-of-arrays)

I have an object:I am looking for a native method, similar to Array.prototype.map that would be used as follows:Does JavaScript have such a map function for objects? (I want this for Node.JS, so I don't care about cross-browser issues.)

2013-02-11 10:41:12Z

I have an object:I am looking for a native method, similar to Array.prototype.map that would be used as follows:Does JavaScript have such a map function for objects? (I want this for Node.JS, so I don't care about cross-browser issues.)There is no native map to the Object object, but how about this:But you could easily iterate over an object using for ... in:UpdateA lot of people are mentioning that the previous methods do not return a new object, but rather operate on the object itself. For that matter I wanted to add another solution that returns a new object and leaves the original object as it is:Array.prototype.reduce reduces an array to a single value by somewhat merging the previous value with the current. The chain is initialized by an empty object {}. On every iteration a new key of myObject is added with twice the key as the value.UpdateWith new ES6 features, there is a more elegant way to express objectMap.How about a one liner with immediate variable assignment in plain JS (ES6 / ES2015) ?Making use of spread operator and computed key name syntax:jsbinAnother version using reduce:jsbinFirst example as a function:jsbinIf you want to map a nested object recursively in a functional style, it can be done like this:jsbinOr more imperatively, like this:jsbinSince ES7 / ES2016 you can use Object.entries() instead of Object.keys() e.g. like this:ES2019 introduced Object.fromEntries(), which simplifies this even more:In some rare situation you may need to map a class-like object which holds properties of an inherited object on its prototype-chain. In such cases Object.keys() won't work, because Object.keys() does not enumerate inherited properties. If you need to map inherited properties, you should use for (key in myObj) {...}.Here is an example of an object which inherits the properties of another object and how Object.keys() doesn't work in such scenario.jsbinHowever, please do me a favor and avoid inheritance. :-)No native methods, but lodash#mapValues will do the job brilliantlyIt's pretty easy to write one:with example code:NB: this version also allows you to (optionally) set the this context for the callback, just like the Array method.EDIT - changed to remove use of Object.prototype, to ensure that it doesn't clash with any existing property named map on the object.You could use Object.keys and then forEach over the returned array of keys:Or in a more modular fashion:Note that Object.keys returns an array containing only the object's own enumerable properties, thus it behaves like a for..in loop with a hasOwnProperty check.This is straight bs, and everyone in the JS community knows it. There should be this functionality:here is the naïve implementation:it is super annoying to have to implement this yourself all the time ;)If you want something a little more sophisticated, that doesn't interfere with the Object class, try this:but it is safe to add this map function to Object, just don't add to Object.prototype.I came here looking to find and answer for mapping an object to an array and got this page as a result. In case you came here looking for the same answer I was, here is how you can map and object to an array. You can use map to return a new array from the object like so:The accepted answer has two drawbacks:Please note that all functions are defined in curried form.This is not the fastest solution, but a declarative and reusable one. Here is the same implementation as a one-line, succinct but less readable:ES2015 specified the iterator and iterable protocols. But objects are still not iterable and thus not mappable. The reason is the mixing of data and program level.JavaScript just got the new Object.fromEntries method.The code above converts the Object into an nested Array ([[<key>,<value>], ...]) wich you can map over. Object.fromEntries converts the Array back to an Object.The cool thing about this pattern, is that you can now easily take object keys into account while mapping.Object.fromEntries is currently only supported by these browsers/engines, nevertheless there are polyfills available (e.g @babel/polyfill).For maximum performance.If your object doesn't change often but needs to be iterated on often I suggest using a native Map as a cache.Object.entries already works in Chrome, Edge, Firefox and beta Opera so it's a future-proof feature.

It's from ES7 so polyfill it https://github.com/es-shims/Object.entries for IE where it doesn't work.Minimal version (es6):you can use map method and forEach on arrays but if you want to use it on Object then you can use it with twist like below:Using Javascript (ES6)Using jQueryOr you can use other loops also like $.each method as below example:The map function does not exist on the Object.prototype however you can emulate it like soI came upon this as a first-item in a Google search trying to learn to do this, and thought I would share for other folsk finding this recently the solution I found, which uses the npm package immutable.I think its interesting to share because immutable uses the OP's EXACT situation in their own documentation - the following is not my own code but pulled from the current immutable-js documentation:Not that Seq has other properties ("Seq describes a lazy operation, allowing them to efficiently chain use of all the higher-order collection methods (such as map and filter) by not creating intermediate collections") and that some other immutable-js data structures might also do the job quite efficiently.Anyone using this method will of course have to npm install immutable and might want to read the docs:https://facebook.github.io/immutable-js/EDIT: The canonical way using newer JavaScript features is -Where o is some object and f is your mapping function. Or we could say, given a function from a -> b, and an object with values of type a, produce an object with values of type b. As a pseudo type signature -The original answer was written to demonstrate a powerful combinator, mapReduce which allows us to think of our transformation in a different wayIntuitively, mapReduce creates a new reducer we can plug directly into Array.prototype.reduce. But more importantly, we can implement our object functor implementation omap plainly by utilizing the object monoid, Object.assign and {}.Notice the only part of the program we actually had to write is the mapping implementation itself – Which says, given a known object o and some key k, construct an object and whose computed property k is the result of calling f on the key's value, o[k].We get a glimpse of mapReduce's sequencing potential if we first abstract oreduceEverything works the same, but omap can be defined at a higher-level now. Of course the new Object.entries makes this look silly, but the exercise is still important to the learner.You won't see the full potential of mapReduce here, but I share this answer because it's interesting to see just how many places it can be applied. If you're interested in how it is derived and other ways it could be useful, please see this answer.Based on @Amberlamps answer, here's a utility function

(as a comment it looked ugly)and the use is:My response is largely based off the highest rated response here and hopefully everyone understands (have the same explanation on my GitHub, too). This is why his impementation with map works:The purpose of the function is to take an object and modify the original contents of the object using a method available to all objects (objects and arrays alike) without returning an array. Almost everything within JS is an object, and for that reason elements further down the pipeline of inheritance can potentially technically use those available to those up the line (and the reverse it appears).The reason that this works is due to the .map functions returning an array REQUIRING that you provide an explicit or implicit RETURN of an array instead of simply modifying an existing object. You essentially trick the program into thinking the object is an array by using Object.keys which will allow you to use the map function with its acting on the values the individual keys are associated with (I actually accidentally returned arrays but fixed it). As long as there isn't a return in the normal sense, there will be no array created with the original object stil intact and modified as programmed.This particular program takes an object called images and takes the values of its keys and appends url tags for use within another function. Original is this:...and modified is this:The object's original structure is left intact allowing for normal property access as long as there isn't a return. Do NOT have it return an array like normal and everything will be fine. The goal is REASSIGNING the original values (images[key]) to what is wanted and not anything else. As far as I know, in order to prevent array output there HAS to be REASSIGNMENT of images[key] and no implicit or explicit request to return an array (variable assignment does this and was glitching back and forth for me).EDIT:Going to address his other method regarding new object creation to avoid modifying original object (and reassignment appears to still be necessary in order to avoid accidentally creating an array as output). These functions use arrow syntax and are if you simply want to create a new object for future use.The way these functions work is like so: mapFn takes the function to be added later (in this case (value) => value) and simply returns whatever is stored there as a value for that key (or multiplied by two if you change the return value like he did) in mapFn(obj)[key], and then redefines the original value associated with the key in result[key] = mapFn(obj)[key] and returns the operation performed on result (the accumulator located in the brackets initiated at the end of the .reduce function).All of this is being performed on the chosen object and STILL there CANNOT be an implicit request for a returned array and only works when reassigning values as far as I can tell. This requires some mental gymnastics but reduces the lines of code needed as can be seen above. Output is exactly the same as can be seen below:Keep in mind this worked with NON-NUMBERS. You CAN duplicate ANY object by SIMPLY RETURNING THE VALUE in the mapFN function.The first function answers the question. It creates a map.The second function doesn't create a map. Instead, it loops through properties in the existing object using  hasOwnProperty(). This map alternative may be a better solution in some situations. If you're interested in mapping not only values but also keys, I have written Object.map(valueMapper, keyMapper), that behaves this way:I needed a version that allowed modifying the keys as well (based on @Amberlamps and @yonatanmn answers);factObject=Edit: slight change to pass in the starting object {}.  Allows it to be [] (if the keys are integers)To responds more closely to what precisely the OP asked for, the OP wants an object:to have a map method myObject.map,The imho best (measured in terms to "close to what is asked" + "no ES{5,6,7} required needlessly") answer would be:The code above avoids intentionally using any language features, only available in recent ECMAScript editions. With the code above the problem can be solved lke this: Besides frowned upon by some, it would be a possibility to insert the solution in the prototype chain like this.Something, which when done with careful oversight should not have any ill effects and not impact map method of other objects (i.e. Array's map).First, convert your HTMLCollection using Object.entries(collection). Then it’s an iterable you can now use the .map method on it.reference 

https://medium.com/@js_tut/calling-javascript-code-on-multiple-div-elements-without-the-id-attribute-97ff6a50f31mapEntries takes a callback function that is called on each entry in the object with the parameters value, key and object. It should return the a new value.mapEntries should return a new object with the new values returned from the callback.Edit:

A previous version didn't specify that this is not an enumerable propertyHey wrote a little mapper function that might help.I specifically wanted to use the same function that I was using for arrays for a single object, and wanted to keep it simple. This worked for me:A different take on it is to use a custom json stringify function that can also work on deep objects. This might be useful if you intend to post it to the server anyway as jsonI handle only strings to reduce exemptions: I like the examples that use Object.fromEntries such as this one, but still, they are not very easy to use. The answers that use Object.keys and then look up the key are actually doing multiple look-ups that may not be necessary.I wished there was an Object.map function, but we can create our own and call it objectMap with the ability to modify both key and value:Usage (JavaScript):Code (TypeScript):If you are not using TypeScript then copy the above code in TypeScript Playground to get the JavaScript code.Also, the reason I put keySelector after valSelector in the parameter list, is because it is optional.* Some credit go to alexander-mills' answer.This function goes recursively through the object and arrays of objects. Attributes can be deleted if returned undefined

How do I check if string contains substring? [duplicate]

Jordan Garis

[How do I check if string contains substring? [duplicate]](https://stackoverflow.com/questions/3480771/how-do-i-check-if-string-contains-substring)

I have a shopping cart that displays product options in a dropdown menu and if they select "yes", I want to make some other fields on the page visible. The problem is that the shopping cart also includes the price modifier in the text, which can be different for each product. The following code works:However I would rather use something like this, which doesn't work:I only want to perform the action if the selected option contains the word "Yes", and would ignore the price modifier.

2010-08-13 21:25:54Z

I have a shopping cart that displays product options in a dropdown menu and if they select "yes", I want to make some other fields on the page visible. The problem is that the shopping cart also includes the price modifier in the text, which can be different for each product. The following code works:However I would rather use something like this, which doesn't work:I only want to perform the action if the selected option contains the word "Yes", and would ignore the price modifier.Like this:...or you can use the tilde operator:This works because indexOf() returns -1 if the string wasn't found at all.Note that this is case-sensitive.

If you want a case-insensitive search, you can write Or,You could use search or match for this.str.search( 'Yes' )will return the position of the match, or -1 if it isn't found.It's pretty late to write this answer, but I thought of including it anyhow. String.prototype now has a method includes which can check for substring. This method is case sensitive.To check for a substring, the following approach can be taken:Check out the documentation to know more.Another way:** Tested on Firefox, Safari 6 and Chrome 36 **ECMAScript 6 introduces String.prototype.includes, previously named contains.It can be used like this:It also accepts an optional second argument which specifies the position at which to begin searching:It can be polyfilled to make it work on old browsers.You can use this Polyfill in ie and chromeReturns number of times the keyword is included in the string.I know that best way is str.indexOf(s) !== -1; http://hayageek.com/javascript-string-contains/I suggest another way(str.replace(s1, "") !== str):If you are capable of using libraries, you may find that Lo-Dash JS library is quite useful. In this case, go ahead and check _.contains() (replaced by _.includes() as of v4).(Note Lo-Dash convention is naming the library object _.

Don't forget to check installation in the same page to set it up for your project.)In your case, go ahead and use:..whichever one you like better.You can also check if the exact word is contained in a string. E.g.:Usage:This is how jQuery does its hasClass method.None of the above worked for me as there were blank spaces  but this is what I didyou can define an extension method and use it later.so that you can use in your page anywhere like:which returns true.Refer below post for more extension helper methods.

Javascript helper methods

How do I declare a namespace in JavaScript?

Scott McKenzie

[How do I declare a namespace in JavaScript?](https://stackoverflow.com/questions/881515/how-do-i-declare-a-namespace-in-javascript)

How do I create a namespace in JavaScript so that my objects and functions aren't overwritten by other same-named objects and functions? I've used the following:Is there a more elegant or succinct way of doing this?

2009-05-19 08:11:02Z

How do I create a namespace in JavaScript so that my objects and functions aren't overwritten by other same-named objects and functions? I've used the following:Is there a more elegant or succinct way of doing this?I like this:I use the approach found on the Enterprise jQuery site:Here is their example showing how to declare private & public properties and functions. Everything is done as a self-executing anonymous function.So if you want to access one of the public members you would just go skillet.fry() or skillet.ingredients.What's really cool is that you can now extend the namespace using the exact same syntax.Another way to do it, which I consider it to be a little bit less restrictive than the object literal form, is this:The above is pretty much like the module pattern and whether you like it or not, it allows you to expose all your functions as public, while avoiding the rigid structure of an object literal.Yes. For example:then you can have I normally build it in a closure:My style over the years has had a subtle change since writing this, and I now find myself writing the closure like this:In this way I find the public API and implementation easier to understand. Think of the return statement as being a public interface to the implementation.Because you may write different files of JavaScript and later combine or not combine them in an application, each needs to be able to recover or construct the namespace object without damaging the work of other files...One file might intend to use the namespace namespace.namespace1:Another file might want to use the namespace namespace.namespace2:These two files can live together or apart without colliding.Here's how Stoyan Stefanov does it in his JavaScript Patterns book which I found to be very good (it also shows how he does comments that allows for auto-generated API documentation, and how to add a method to a custom object's prototype):I use this approach:External code can then be:This is a follow-up to user106826's link to Namespace.js. It seems the project moved to GitHub. It is now smith/namespacedotjs.I have been using this simple JavaScript helper for my tiny project and so far it seems to be light yet versatile enough to handle namespacing and loading modules/classes. It would be great if it would allow me to import a package into a namespace of my choice, not just the global namespace... sigh, but that's besides the point.It allows you to declare the namespace then define objects/modules in that namespace:Another option is to declare the namespace and its contents at once:For more usage examples, look at the example.js file in the source.Sample:You can optionally declare a local variable, same, like self and assign local.onTimeout if you want it to be private.You can declare a simple function to provide namespaces.If you need the private scope:else if you won't ever use the private scope:The Module pattern was originally defined as a way to provide both private and public encapsulation for classes in conventional software engineering.When working with the Module pattern, we may find it useful to define a simple template that we use for getting started with it. Here's one that covers name-spacing, public and private variables.In JavaScript, the Module pattern is used to further emulate the concept of classes in such a way that we're able to include both public/private methods and variables inside a single object, thus shielding particular parts from the global scope. What this results in is a reduction in the likelihood of our function names conflicting with other functions defined in additional scripts on the page.Advantageswhy is the Module pattern a good choice? For starters, it's a lot cleaner for developers coming from an object-oriented background than the idea of true encapsulation, at least from a JavaScript perspective.Secondly, it supports private data - so, in the Module pattern, public parts of our code are able to touch the private parts, however the outside world is unable to touch the class's private parts.DisadvantagesThe disadvantages of the Module pattern are that as we access both public and private members differently, when we wish to change visibility, we actually have to make changes to each place the member was used.We also can't access private members in methods that are added to the object at a later point. That said, in many cases the Module pattern is still quite useful and when used correctly, certainly has the potential to improve the structure of our application.The Revealing Module PatternNow that we're a little more familiar with the module pattern, let’s take a look at a slightly improved version - Christian Heilmann’s Revealing Module pattern.The Revealing Module pattern came about as Heilmann was frustrated with the fact that he had to repeat the name of the main object when we wanted to call one public method from another or access public variables.He also disliked the Module pattern’s requirement for having to switch to object literal notation for the things he wished to make public.The result of his efforts was an updated pattern where we would simply define all of our functions and variables in the private scope and return an anonymous object with pointers to the private functionality we wished to reveal as public.An example of how to use the Revealing Module pattern can be found belowAdvantagesThis pattern allows the syntax of our scripts to be more consistent. It also makes it more clear at the end of the module which of our functions and variables may be accessed publicly which eases readability.DisadvantagesA disadvantage of this pattern is that if a private function refers to a public function, that public function can't be overridden if a patch is necessary. This is because the private function will continue to refer to the private implementation and the pattern doesn't apply to public members, only to functions.Public object members which refer to private variables are also subject to the no-patch rule notes above.I created namespace which is inspired by Erlang's modules. It is a very functional approach, but that is how I write my JavaScript code these days.It gives a closure a global namespace and exposes a defined set functions within that closure.After porting several of my libraries to different projects, and having to constantly be changing the top level (statically named) namespace, I've switched to using this small (open source) helper function for defining namespaces.Description of the benefits are at my blog post.  You can grab the source code here.One of the benefits I really like is isolation between modules with respect to load order.  You can refer to an external module BEFORE it is loaded.  And the object reference you get will be filled in when the code is available.I use the following syntax for the namespace.jsfiddle: http://jsfiddle.net/rpaul/4dngxwb3/1/I'm 7 years late to the party, but did quite a bit of work around this 8 years ago:It is important to be able to easily and efficiently create multiple nested namespaces to keep a complex web application organized and manageable, while respecting the JavaScript global namespace (preventing namespace pollution), and with not clobbering any existing objects in the namespace path while doing so.From the above, this was my circa-2008 solution:This isn't creating a namespace, but provides a function for creating namespaces.This can be condensed to a minified one-liner:Example of use:Or, as one statement:Either is then executed as:If you don't need support for legacy browsers, an updated version:Now, I'd be leery of exposing namespace to the global namespace itself.  (Too bad the base language doesn't provide this for us!)  So I'd typically use this myself in a closure, such as:In a larger application, this only needs to be defined once at the beginning of a page load (for client-based web apps).  Additional files can then reuse the namespace function if kept (included as "optional" in the above).  At worst, if this function is re-declared a few times - it's only a few lines of code, and less if minified.I like Jaco Pretorius' solution, but I wanted to make the "this" keyword a bit more useful by pointing it to the module/namespace object.

My version of skillet:My favorite pattern has become lately this:Of course, return can be at the end, but if only function declarations follow it, it's much easier to see what's the namespace all about, and what API is exposed.The pattern of using function expressions in such cases results in not being able to know what methods are exposed without going over the entire code.I think you all use too much code for such a simple problem.

No need to make a repo for that.

Here's a single line function.Try it :If using a Makefile you can do this.I prefer to use a Makefile anyway once I get to about 1000 lines because I can effectively comment out large swaths of code by removing a single line in the makefile. It makes it easy to fiddle with stuff. Also, with this technique the namespace only appears once in the prelude so it's easy to change and you don't have to keep repeating it inside the library code.A shell script for live development in the browser when using a makefile:Add this as a make task 'go' and you can 'make go' to keep your build updated as you code.Quite a follow-up of Ionuț G. Stan's answer, but showing the benefits of uncluttered code by using var ClassFirst = this.ClassFirst = function() {...}, which takes advantage of JavaScript's closure scoping for less namespace cluttering for classes in the same namespace.Output:I've written another namespacing library that works a bit more like packages / units do in other languages. It allows you to create a package of JavaScript code and the reference that package from other code:Only the second file needs to be included in the page. Its dependencies (file hello.js in this example) will automatically be loaded and the objects exported from those dependencies will be used to populate the arguments of the callback function.You can find the related project in Packages JS.We can use it independently in this way:My habit is to use function myName() as property storage, and then var myName as "method" holder...Whether this is legitimate enough or not, beat me! I am relying on my PHP logic all the time, and things simply work. :Dif (this !== that) myObj.fName1(); else myObj.fName2();Reference to this: JavaScript: Creating Object with Object.create()In JavaScript there are no predefined methods to use namespaces. In JavaScript we have to create our own methods to define NameSpaces. Here is a procedure we follow in Oodles technologies.Register a NameSpace

Following is the function to register a name spaceTo register a Namespace just call the above function with the argument as name space separated by '.' (dot).

For Example

Let your application name is oodles. You can make a namespace by following methodBasically it will create your NameSpaces structure like below in backend:In the above function you have register a namespace called "oodles.HomeUtilities" and "oodles.GlobalUtilities". To call these namespaces we make an variable i.e. var $OHU and var $OGU.These variables are nothing but an alias to Intializing the namespace.

Now, Whenever you declare a function that belong to HomeUtilities you will declare it like following:Above is the function name initialization and it is put into an namespace $OHU. and to call this function anywhere in the script files. Just use following code.Similarly, with the another NameSpaces.Hope it helps.JavaScript doesn’t support namespace by default. So if you create any element(function, method, object, variable) then it becomes global and pollute the global namespace. Let's take an example of defining two functions without any namespace,It always calls the second function definition. In this case, namespace will solve the name collision problem.

How to clear the canvas for redrawing

richard

[How to clear the canvas for redrawing](https://stackoverflow.com/questions/2142535/how-to-clear-the-canvas-for-redrawing)

After experimenting with composite operations and drawing images on the canvas I'm now trying to remove images and compositing. How do I do this?I need to clear the canvas for redrawing other images; this can go on for a while so I don't think drawing a new rectangle every time will be the most efficient option.

2010-01-26 20:50:42Z

After experimenting with composite operations and drawing images on the canvas I'm now trying to remove images and compositing. How do I do this?I need to clear the canvas for redrawing other images; this can go on for a while so I don't think drawing a new rectangle every time will be the most efficient option.This is the fastest and most descriptive way to clear the entire canvas.Resetting canvas.width resets all canvas state (e.g. transformations, lineWidth, strokeStyle, etc.), it is very slow (compared to clearRect), it doesn't work in all browsers, and it doesn't describe what you are actually trying to do.If you have modified the transformation matrix (e.g. using scale, rotate, or translate) then context.clearRect(0,0,canvas.width,canvas.height) will likely not clear the entire visible portion of the canvas.The solution? Reset the transformation matrix prior to clearing the canvas:Edit:

I've just done some profiling and (in Chrome) it is about 10% faster to clear a 300x150 (default size) canvas without resetting the transform. As the size of your canvas increases this difference drops.That is already relatively insignificant, but in most cases you will be drawing considerably more than you are clearing and I believe this performance difference be irrelevant.If you are drawing lines, make sure you don't forget:Otherwise the lines won't get cleared.Others have already done an excellent job answering the question but if a simple clear() method on the context object would be useful to you (it was to me), this is the implementation I use based on answers here:Usage:So if you have a canvas and context created like this:You can use a method like this:This is 2018 and still there is no native method to completely clear canvas for redrawing. clearRect() does not clear the canvas completely. Non-fill type drawings are not cleared out (eg. rect())1.To completely clear canvas irrespective of how you draw:Pros: Preserves strokeStyle, fillStyle etc.; No lag;Cons: Unnecessary if you are already using beginPath before drawing anything2.Using the width/height hack:ORPros: Works with IE

Cons: Resets strokeStyle, fillStyle to black; Laggy;I was wondering why a native solution does not exist. Actually, clearRect() is considered as the single line solution because most users do beginPath() before drawing any new path. Though beginPath is only to be used while drawing lines and not closed path like rect().This is the reason why the accepted answer did not solve my problem and I ended up wasting hours trying different hacks. Curse you mozillaUse clearRect method by passing x,y co-ordinates and height and width of canvas. ClearRect will clear whole canvas as : there are a ton of good answers here.

one further note is that sometimes it's fun to only partially clear the canvas.

that is, "fade out" the previous image instead of erasing it entirely.

this can give nice trails effects.it's easy. supposing your background color is white:A quick way is to doIdk how it works but it does!This is what I use, regardless boundaries and matrix transformations:Basically, it saves the current state of the context, and draws a transparent pixel with copy as globalCompositeOperation. Then, restores the previous context state.This worked for my pieChart in chart.js        in webkit you need to set the width to a different value, then you can set it back to the initial valueI have found that in all browsers I test, the fastest way is to actually fillRect with white, or whataever color you would like.  I have a very large monitor and in full screen mode the clearRect is agonizingly slow, but the fillRect is reasonable.The drawback is that the canvas is no longer transparent.A simple, but not very readable way is to write this:Example: context.clearRect(0, 0, canvas.width, canvas.height);I always use the shortest way:fastest way:fill the given rectangle with RGBA values  :

0 0 0 0 : with Chrome

0 0 0 255 : with FF & SafariBut  let the rectangle filled with

0 0 0 255

no matter the browser !If you use clearRect only, if you have it in a form to submit your drawing, you'll get a submit instead the clearing, or maybe it can be cleared first and then upload a void drawing, so you'll need to add a preventDefault at the beggining of the function:Hope it helps someone.These are all great examples of how you clear a standard canvas, but if you are using paperjs, then this will work:Define a global variable in JavaScript:From your PaperScript define:Now wherever you set clearCanvas to true, it will clear all the items from the screen.

Where does npm install packages?

trnc

[Where does npm install packages?](https://stackoverflow.com/questions/5926672/where-does-npm-install-packages)

Can someone tell me where can I find the Node.js modules, which I installed using npm?

2011-05-08 09:39:20Z

Can someone tell me where can I find the Node.js modules, which I installed using npm?You can run npm list -g to see which global libraries are installed and where they're located. Use npm list -g | head -1 for truncated output showing just the path. If you want to display only main packages not its sub-packages which installs along with it - you can use - npm list --depth=0 which will show all packages and for getting only globally installed packages, just add -g i.e. npm list -g --depth=0.On Unix systems they are normally placed in /usr/local/lib/node or /usr/local/lib/node_modules when installed globally. If you set the NODE_PATH environment variable to this path, the modules can be found by node.Windows XP - %USERPROFILE%\AppData\npm\node_modules

Windows 7, 8 and 10 - %USERPROFILE%\AppData\Roaming\npm\node_modulesNon-global libraries are installed the node_modules sub folder in the folder you are currently in. You can run npm list to see the installed non-global libraries for your current location.      npm install -g pm2 - pm2 will be installed globally. It will then typically be found in /usr/local/lib/node_modules (Use npm root -g to check where.)npm install pm2 - pm2 will be installed locally. It will then typically be found in the local directory in /node_modulesThe command npm root will tell you the effective installation directory of your npm packages.If your current working directory is a node package or a sub-directory of a node package, npm root will tell you the local installation directory. npm root -g will show the global installation root regardless of current working directory. See the documentation.Use the  npm root -g command for find out your global npm path.The other answers give you platform-specific responses, but a generic one is this:When you install global module with npm install -g something, npm looks up a config variable prefix to know where to install the module.You can get that value by running npm config get prefixTo display all the global modules available in that folder use npm ls -g --depth 0 (depth 0 to not display their dependencies).If you want to change the global modules path, use npm config edit and put prefix = /my/npm/global/modules/prefix in the file or use npm config set prefix /my/npm/global/modules/prefix.When you use some tools like nodist, they change the platform-default installation path of global npm modules.On windows I used npm list -g to find it out. By default my (global) packages were being installed to C:\Users\[Username]\AppData\Roaming\npm.If you are looking for the executable that npm installed, maybe because you would like to put it in your PATH, you can simply doorIn earlier versions of NPM modules were always placed in /usr/local/lib/node or wherever you specified the npm root within the .npmrc file. However, in NPM 1.0+ modules are installed in two places. You can have modules installed local to your application in /.node_modules or you can have them installed globally which will use the above.More information can be found at https://github.com/isaacs/npm/blob/master/doc/install.mdNot direct answer but may help ....The npm also has a cache folder, which can be found by running npm config get cache (%AppData%/npm-cache on Windows). The npm modules are first downloaded here and then copied to npm global folder (%AppData%/Roaming/npm on Windows) or project specific folder (your-project/node_modules).So if you want to track npm packages, and some how, the list of all downloaded npm packages (if the npm cache is not cleaned)  have a look at this folder. The folder structure is as {cache}/{name}/{version}This may help also https://docs.npmjs.com/cli/cacheIf module was installed with global (-g) flag, you can get parent location by running following command or which will print location along with list of installed modulesCheers :-)The easiest way would be to do to list the package and view their installed location.I had installed npm via chololatey, so the location isC:\MyProgramData\chocolatey\lib\nodejs.commandline.0.10.31\tools\node_modulesC:\MyProgramData\ is chocolatey repo location.To get a compact list without dependencies simply useYou can find globally installed modules by the commandIt will provide you the location where node.js modules have been installed.If you install node.js modules locally in a folder, you can type the following command to see the location.From the docs:You can get your {prefix} with npm config get prefix. (Useful when you installed node with nvm).From the docs:You can get your {prefix} with npm config get prefix. (Useful when you installed node with nvm).Read about locally.

Read about globally.As the other answers say, the best way is to do However, if you have a large number of npm packages installed, the output of this command could be very long and a big pain to scroll up (sometimes it's not even possible to scroll that far back).In this case, pipe the out to the more program, like thisIn Ubuntu 14.04 they are installed at /usr/lib/node_modulesExpanding upon other answers - npm list -g will show you the location of globally installed packages.If you want to output that list to a file that you can then easily search in your text editor:npm list -g > ~/Desktop/npmfiles.txtI was beginning to going mad searching the real configuration, so here is the all list of configuration files on linux:on windows:

- c/Program\ Files/nodejs/node_modules/npm/npmrcThen in the file the prefix is configured:The prefix is defaulted to /usr in linux, to ${APPDATA}\npm in windowsThe node modules are under $prefix tree, and the path should contain $prefix/binThere may be a problem :Here is all the informations that were missing to find what is configured where. Hope I have been exhaustive.Windows 10: When I ran npm prefix -g, I noticed that the install location was inside of the git shell's path that I used to install. Even when that location was added to the path, the command from the globally installed package would not be recognized. Fixed by:Btw, npm will look for node_modules in parent folders (up to very root) if can not find in local.If you're trying to access your global dir from code, you can backtrack from process.execPath. For example, to find wsproxy, which is in {NODE_GLOBAL_DIR}/bin/wsproxy, you can just:There's also how the npm cli works @ ec9fcc1/lib/npm.js#L254 with:See also ec9fcc1/lib/install.js#L521:Where globalPrefix has a default set in ec9fcc1/lib/config/defaults.js#L92-L105 of:If you have Visual Studio installed, you will find it comes with its own copy of node separate from the one that is on the path when you installed node yourself - Mine is in C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VisualStudio\NodeJs.If you run the npm command from inside this directory you will find out which node modules are installed inside visual studio.Windows 7, 8 and 10 - %USERPROFILE%\AppData\Roaming\npm\node_modules. Note : If you are somewhere in folder type cd .. until you are in C: directory. Then, type cd %USERPROFILE%\AppData\Roaming\npm\node_modules. And, magically %USERPROFILE% will change into Users\YourUserProfile\. I just wanted to clarify on ideas referred by Decko in first response. npm list -g will list all the bits you got globally installed. If you need to find your project related npm package then cd 'your angular project xyz', then run npm list. It will show list of modules in npm package. It will also give you list of dependencies missing, and you may require to effectively run that project.

What is JavaScript's highest integer value that a number can go to without losing precision?

TALlama

[What is JavaScript's highest integer value that a number can go to without losing precision?](https://stackoverflow.com/questions/307179/what-is-javascripts-highest-integer-value-that-a-number-can-go-to-without-losin)

Is this defined by the language? Is there a defined maximum? Is it different in different browsers?

2008-11-20 22:47:54Z

Is this defined by the language? Is there a defined maximum? Is it different in different browsers?JavaScript has two number types: Number and BigInt. The most frequently-used number type, Number, is a 64-bit floating point IEE 754 number. The largest exact integral value of this type is Number.MAX_SAFE_INTEGER, which is:To put this in perspective: one quadrillion bytes is a petabyte (or one thousand terabytes)."Safe" in this context refers to the ability to represent integers exactly and to correctly compare them.From the spec:To safely use integers larger than this, you need to use BigInt, which has no upper bound. Note that the bitwise operators and shift operators operate on 32-bit integers, so in that case, the max safe integer is 231-1, or 2147483647.  Technical note on the subject of the number 9007199254740992: There is an exact IEEE-754 representation of this value, and you can assign and read this value from a variable, so for very carefully chosen applications in the domain of integers less than or equal to this value, you could treat this as a maximum value.In the general case, you must treat this IEEE-754 value as inexact, because it is ambiguous whether it is encoding the logical value 9007199254740992 or  9007199254740993. >= ES6:<= ES5From the reference:It is 253 == 9 007 199 254 740 992. This is because Numbers are stored as floating-point in a 52-bit mantissa.The min value is -253.This makes some fun things happeningAnd can also be dangerous :)Further reading: http://blog.vjeux.com/2010/javascript/javascript-max_int-number-limits.htmlIn JavaScript, there is a number called Infinity.Examples:This may be sufficient for some questions regarding this topic.Jimmy's answer correctly represents the continuous JavaScript integer spectrum as -9007199254740992 to 9007199254740992 inclusive (sorry 9007199254740993, you might think you are 9007199254740993, but you are wrong!

 Demonstration below or in jsfiddle). However, there is no answer that finds/proves this programatically (other than the one CoolAJ86 alluded to in his answer that would finish in 28.56 years ;), so here's a slightly more efficient way to do that (to be precise, it's more efficient by about 28.559999999968312 years :), along with a test fiddle:I thought I'd be clever and find the value at which x + 1 === x with a more pragmatic approach.My machine can only count 10 million per second or so... so I'll post back with the definitive answer in 28.56 years.If you can't wait that long, I'm willing to bet thatFinding x + 1 === x:The short answer is「it depends.」If you’re using bitwise operators anywhere (or if you’re referring to the length of an Array), the ranges are:Unsigned: 0…(-1>>>0)Signed: (-(-1>>>1)-1)…(-1>>>1)(It so happens that the bitwise operators and the maximum length of an array are restricted to 32-bit integers.)If you’re not using bitwise operators or working with array lengths:Signed: (-Math.pow(2,53))…(+Math.pow(2,53))These limitations are imposed by the internal representation of the「Number」type, which generally corresponds to IEEE 754 double-precision floating-point representation. (Note that unlike typical signed integers, the magnitude of the negative limit is the same as the magnitude of the positive limit, due to characteristics of the internal representation, which actually includes a negative 0!)ECMAScript 6:Many answers earlier have showed the result true of 9007199254740992 === 9007199254740992 + 1 to verify that 9 007 199 254 740 991 is the max safe integer.  What if we keep doing accumulation:  We could find out that among numbers greater than 9 007 199 254 740 992, only even numbers are representable.It's an entrance to explain how double-precision 64-bit binary format works on this. Let's see how 9 007 199 254 740 992 be held (represented) by using this binary format. Using a brief version to demonstrate it from 4 503 599 627 370 496:On the left side of the arrow, we have bit value 1, and an adjacent radix point, then by multiplying 2^52, we right move the radix point 52 steps, and it goes to the end. Now we get 4503599627370496 in binary.Now we start to accumulate 1 to this value until all the bits are set to 1, which equals to 9 007 199 254 740 991 in decimal.Now, because that in double-precision 64-bit binary format, it strictly allots 52 bits for fraction, no more bit is available to carry for adding one more 1, so what we can do is to set all bits back to 0, and manipulate the exponent part:Now we get the  9 007 199 254 740 992, and with number greater than it, what the format could hold is 2 times of the fraction, it means now every 1 addition on the fraction part actually equals to 2 addition, that's why double-precision 64-bit binary format cannot hold odd numbers when number is greater than 9 007 199 254 740 992:So when the number get to greater than 9 007 199 254 740 992 * 2 = 18 014 398 509 481 984, only 4 times of the fraction could be held:How about number between [ 2 251 799 813 685 248, 4 503 599 627 370 496 )?The bit value 1 after radix point is 2^-1 exactly. (=1/2, =0.5)

So when the number less than 4 503 599 627 370 496 (2^52), there is one bit available to represent the 1/2 times of the integer:Less than 2 251 799 813 685 248 (2^51)And what is the available range of exponent part? the format allots 11 bits for it. 

Complete format from Wiki: (For more details please go there) So to make the exponent part be 2^52, we exactly need to set e = 1075.Other may have already given the generic answer, but I thought it would be a good idea to give a fast way of determining it :Which gives me 9007199254740992 within less than a millisecond in Chrome 30.It will test powers of 2 to find which one, when 'added' 1, equals himself.Anything you want to use for bitwise operations must be between 0x80000000 (-2147483648 or -2^31) and 0x7fffffff (2147483647 or 2^31 - 1).The console will tell you that 0x80000000 equals +2147483648, but 0x80000000 & 0x80000000 equals -2147483648.Try:In Firefox 3.6 it's 2^31 - 1.At the moment of writing, JavaScript is receiving a new data type: BigInt. It is a TC39 proposal at stage 4 to be included in EcmaScript 2020. BigInt is available in Chrome 67+, FireFox 68+, Opera 54 and Node 10.4.0. It is underway in Safari, et al... It introduces numerical literals having an "n" suffix and allows for arbitrary precision:Precision will still be lost, of course, when such a number is (maybe unintentionally) coerced to a number data type. And, obviously, there will always be precision limitations due to finite memory, and a cost in terms of time in order to allocate the necessary memory and to perform arithmetic on such large numbers. For instance, the generation of a number with a hundred thousand decimal digits, will take a noticeable delay before completion:...but it works.I did a simple test with a formula, X-(X+1)=-1, and the largest value of X I can get to work on Safari, Opera and Firefox (tested on OS X) is 9e15. Here is the code I used for testing:I write it like this:Same for int32In the Google Chrome built-in javascript, you can go to approximately 2^1024 before the number is called infinity.Scato wrotes:Hex-Decimals are unsigned positive values, so 0x80000000 = 2147483648 - thats mathematically correct. If you want to make it a signed value you have to right shift: 0x80000000 >> 0 = -2147483648. You can write 1 << 31 instead, too.In JavaScript the representation of numbers is 2^53 - 1.However, Bitwise operation are calculated on 32 bits ( 4 bytes ), meaning if you exceed 32bits shifts you will start loosing bits.Firefox 3 doesn't seem to have a problem with huge numbers. 1e+200 * 1e+100 will calculate fine to 1e+300.Safari seem to have no problem with it as well. (For the record, this is on a Mac if anyone else decides to test this.)Unless I lost my brain at this time of day, this is way bigger than a 64-bit integer.Node.js and Google Chrome seem to both be using 1024 bit floating point values so:

How does Trello access the user's clipboard?

Boldewyn

[How does Trello access the user's clipboard?](https://stackoverflow.com/questions/17527870/how-does-trello-access-the-users-clipboard)

When you hover over a card in Trello and press Ctrl+C, the URL of this card is copied to the clipboard. How do they do this?As far as I can tell, there is no Flash movie involved. I've got Flashblock installed, and the Firefox network tab shows no Flash movie loaded. (That's the usual method, for example, by ZeroClipboard.)How do they achieve this magic?(Right at this moment I think I had an epiphany: You cannot select text on the page, so I assume they have an invisible element, where they create a text selection via JavaScript code, and Ctrl+C triggers the browser's default behaviour, copying that invisible node's text value.)

2013-07-08 13:26:56Z

When you hover over a card in Trello and press Ctrl+C, the URL of this card is copied to the clipboard. How do they do this?As far as I can tell, there is no Flash movie involved. I've got Flashblock installed, and the Firefox network tab shows no Flash movie loaded. (That's the usual method, for example, by ZeroClipboard.)How do they achieve this magic?(Right at this moment I think I had an epiphany: You cannot select text on the page, so I assume they have an invisible element, where they create a text selection via JavaScript code, and Ctrl+C triggers the browser's default behaviour, copying that invisible node's text value.)Disclosure: I wrote the code that Trello uses; the code below is the actual source code Trello uses to accomplish the clipboard trick.We don't actually "access the user's clipboard", instead we help the user out a bit by selecting something useful when they press Ctrl+C.Sounds like you've figured it out; we take advantage of the fact that when you want to hit Ctrl+C, you have to hit the Ctrl key first.  When the Ctrl key is pressed, we pop in a textarea that contains the text we want to end up on the clipboard, and select all the text in it, so the selection is all set when the C key is hit.  (Then we hide the textarea when the Ctrl key comes up)Specifically, Trello does this:In the DOM we've gotCSS for the clipboard stuff:... and the CSS makes it so you can't actually see the textarea when it pops in ... but it's "visible" enough to copy from.When you hover over a card, it calls... so then the clipboard helper knows what to select when the Ctrl key is pressed.I actually built a Chrome extension that does exactly this, and for all web pages. The source code is on GitHub.I find three bugs with Trello's approach, which I know because I've faced them myself :)The copy doesn't work in these scenarios:I solved #1 by always having a hidden span, rather than creating one when user hits Ctrl/Cmd.I solved #2 by temporarily clearing the zero-length selection, saving the caret position, doing the copy and restoring the caret position.I haven't found a fix for #3 yet :) (For information, check the open issue in my GitHub project).With the help of raincoat's (link to GitHub) code, I managed to get a running version accessing the clipboard with plain JavaScript.The only problem is, that this version only works with Chrome. The Trello platform supports all browsers. What I am missing?Sovled thanks to VadimIvanov.See a working example:

http://jsfiddle.net/AGEf7/Daniel LeCheminant's code didn't work for me after converting it from CoffeeScript to JavaScript (js2coffee). It kept bombing out on the _.defer() line.I assumed this was something to do with jQuery deferreds, so I changed it to $.Deferred() and it's working now. I tested it in Internet Explorer 11, Firefox 35, and Chrome 39 with jQuery 2.1.1. The usage is the same as described in Daniel's post.Something very similar can be seen on http://goo.gl when you shorten the URL.There is a readonly input element that gets programmatically focused, with tooltip "Press CTRL-C to copy". When you hit that shortcut, the input content effectively gets into the clipboard. Really nice :)

How do you get a list of the names of all files present in a directory in Node.js?

resopollution

[How do you get a list of the names of all files present in a directory in Node.js?](https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j)

I'm trying to get a list of the names of all the files present in a directory using Node.js.  I want output that is an array of filenames. How can I do this?

2010-04-28 06:10:16Z

I'm trying to get a list of the names of all the files present in a directory using Node.js.  I want output that is an array of filenames. How can I do this?You can use the fs.readdir or fs.readdirSync methods.fs.readdirfs.readdirSyncThe difference between the two methods, is that the first one is asynchronous, so you have to provide a callback function that will be executed when the read process ends.The second is synchronous, it will return the file name array, but it will stop any further execution of your code until the read process ends.IMO the most convinient way to do such tasks is to use a glob tool. Here's a glob package for node.js. Install withThen use wild card to match filenames (example taken from package's website)The answer above does not perform a recursive search into the directory though. Here's what I did for a recursive search (using node-walk: npm install walk)Get files in all subdirsHere's a simple solution using only the native fs and path modules:or async version (uses fs.readdir instead):Then you just call (for sync version):or async version:The difference is in how node blocks while performing the IO. Given that the API above is the same, you could just use the async version to ensure maximum performance.However there is one advantage to using the synchronous version. It is easier to execute some code as soon as the walk is done, as in the next statement after the walk. With the async version, you would need some extra way of knowing when you are done. Perhaps creating a map of all paths first, then enumerating them. For simple build/util scripts (vs high performance web servers) you could use the sync version without causing any damage.As of Node v10.10.0, it is possible to use the new withFileTypes option for fs.readdir and fs.readdirSync in combination with the dirent.isDirectory() function to filter for filenames in a directory. That looks like this:The returned array is in the form:Docs for the fs.Dirent classThe mz module provides promisified versions of the core node library. Using them is simple. First install the library...Then...Alternatively you can write them in asynchronous functions in ES7:Some of the users have specified a desire to see a recursive listing (though not in the question)... Use fs-promise. It's a thin wrapper around mz.then...Dependencies.Definition.Usage.Please note that fileList is way too optimistic. For anything serious, add some error handling.You don't say you want to do it recursively so I assume you only need direct children of the directory.Sample code:Load fs:Read files async:Read files sync:if someone still search for this, i do this:and its work very good for meGet sorted filenames. You can filter results based on a specific extension such as '.txt', '.jpg' and so on.Here's an asynchronous recursive version.Took the general approach of @Hunan-Rostomyan, made it a litle more concise and added excludeDirs argument. It'd be trivial to extend with includeDirs, just follow same pattern:Example usage:This is a TypeScript, optionally recursive, optionally error logging and asynchronous solution. You can specify a regular expression for the file names you want to find.I used fs-extra, because its an easy super set improvement on fs.In case you want an object with the directory structure out-of-the-box I highly reccomend you to check directory-tree.Lets say you have this structure:Will return:Otherwise if you want to create an directory tree object with your custom settings have a look at the following snippet. A live example is visible on this codesandbox.Then you can simply do: I'm assuming by your question that you don't want directories names, just files.Example:If you want just an array of the files paths use return_object: false:returns:Credits goes to https://gist.github.com/lovasoa/8691344#gistcomment-2927279Just a heads up: if you're planning to perform operations on each file in a directory, try vinyl-fs (which is used by gulp, the streaming build system).I made a node module to automate this task: mddirnode mddir "../relative/path/"To install: npm install mddir -gTo generate markdown for current directory: mddirTo generate for any absolute path: mddir /absolute/pathTo generate for a relative path: mddir ~/Documents/whatever.The md file gets generated in your working directory.Currently ignores node_modules, and .git folders.If you receive the error 'node\r: No such file or directory', the issue is that your operating system uses different line endings and mddir can't parse them without you explicitly setting the line ending style to Unix. This usually affects Windows, but also some versions of Linux. Setting line endings to Unix style has to be performed within the mddir npm global bin folder.Get npm bin folder path with:npm config get prefixCd into that folderbrew install dos2unixdos2unix lib/node_modules/mddir/src/mddir.jsThis converts line endings to Unix instead of DosThen run as normal with: node mddir "../relative/path/".Use npm list-contents module. It reads the contents and sub-contents of the given directory and returns the list of files' and folders' paths.This will work and store the result in test.txt file which will be present in the same directory

When is a CDATA section necessary within a script tag?

brad

[When is a CDATA section necessary within a script tag?](https://stackoverflow.com/questions/66837/when-is-a-cdata-section-necessary-within-a-script-tag)

Are CDATA tags ever necessary in script tags and if so when?In other words, when and where is this:preferable to this:

2008-09-15 20:52:14Z

Are CDATA tags ever necessary in script tags and if so when?In other words, when and where is this:preferable to this:A CDATA section is required if you need your document to parse as XML (e.g. when an XHTML page is interpreted as XML) and you want to be able to write literal i<10 and a && b instead of i&lt;10 and a &amp;&amp; b, as XHTML will parse the JavaScript code as parsed character data as opposed to character data by default.  This is not an issue with scripts that are stored in external source files, but for any inline JavaScript in XHTML you will probably want to use a CDATA section.Note that many XHTML pages were never intended to be parsed as XML in which case this will not be an issue.For a good writeup on the subject, see https://web.archive.org/web/20140304083226/http://javascript.about.com/library/blxhtml.htmWhen browsers treat the markup as XML:When browsers treat the markup as HTML:When browsers treat the markup as HTML and you want your XHTML 1.0 markup (for example) to validate.An HTML parser will treat everything between <script> and </script> as part of the script. Some implementations don't even need a correct closing tag; they stop script interpretation at "</", which is correct according to the specs. So, in HTML, this is not possible:A CDATA section has no effect at all. That's why you need to writeor similar.This also applies to XHTML files served as text/html. (Since IE does not support XML content types, this is mostly true.)In XML, different rules apply. Note that (non IE) browsers only use an XML parser if the XHMTL document is served with an XML content type.To the XML parser, a script tag is no better than any other tag. Particularly, a script node may contain non-text child nodes, triggered by "<"; and a "&" sign denotes a character entity.So, in XHTML, this is not possible:To work around this, you can wrap the whole script in a CDATA section. This tells the parser: 'In this section, don't treat "<" and "&" as control characters.' To prevent the JavaScript engine from interpreting the "<![CDATA[" and "]]>" marks, you can wrap them in comments.If your script does not contain any "<" or "&", you don't need a CDATA section anyway.Basically it is to allow to write a document that is both XHTML and HTML. The problem is that within XHTML, the XML parser will interpret the &,<,> characters in the script tag and cause XML parsing error. So, you can write your JavaScript with entities, e.g.:But this is impractical. The bigger problem is that if you read the page in HTML, the tag script is considered CDATA 'by default', and such JavaScript will not run. Therefore, if you want the same page to be OK both using XHTML and HTML parsers, you need to enclose the script tag in CDATA element in XHTML, but NOT to enclose it in HTML.This trick marks the start of a CDATA element as a JavaScript comment; in HTML the JavaScript parser ignores the CDATA tag (it's a comment). In XHTML, the XML parser (which is run before the JavaScript) detects it and treats the rest until end of CDATA as CDATA.It's an X(HT)ML thing. When you use symbols like < and > within the JavaScript, e.g. for comparing two integers, this would have to be parsed like XML, thus they would mark as a beginning or end of a tag.The CDATA means that the following lines (everything up unto the ]]> is not XML and thus should not be parsed that way.Do not use CDATA in HTML4 but you should use CDATA in XHTML and must use CDATA in XML if you have unescaped symbols like < and >.It to ensure that XHTML validation works correctly when you have JavaScript embedded in your page, rather than externally referenced.XHTML requires that your page strictly conform to XML markup requirements. Since JavaScript may contain characters with special meaning, you must wrap it in CDATA to ensure that validation does not flag it as malformed.You can learn more about CDATA here, and more about XHTML here.CDATA indicates that the contents within are not XML.Here is an explanation on wikipediaWhen you are going for strict XHTML compliance, you need the CDATA so less than and ampersands are not flagged as invalid characters.to avoid xml errors during xhtml validation.CDATA tells the browser to display the text as is and not to render it as an HTML.CDATA indicates that the contents within are not XML.CDATA is necessary in any XML dialect, because text within an XML node is treated as a child element before being evaluated as JavaScript. This is also the reason why JSLint complains about the < character in regexes.ReferencesWhen you want it to validate (in XML/XHTML - thanks, Loren Segal).That way older browser don't parse the Javascript code and the page doesn't break.Backwards compatability. Gotta love it.

Should CSS always preceed Javascript?

Sam Saffron

[Should CSS always preceed Javascript?](https://stackoverflow.com/questions/9271276/should-css-always-preceed-javascript)

In countless places online I have seen the recommendation to include CSS prior to JavaScript. The reasoning is generally, of this form:My actual testing reveals something quite different: I use the following Ruby script to generate specific delays for various resources: The above mini server allows me to set arbitrary delays for JavaScript files (both server and client) and arbitrary CSS delays. For example, http://10.0.0.50:8081/test.css?delay=500 gives me a 500 ms delay transferring the CSS. I use the following page to test.When I include the CSS first, the page takes 1.5 seconds to render: When I include the JavaScript first, the page takes 1.4 seconds to render: I get similar results in Chrome, Firefox and Internet Explorer. In Opera however, the ordering simply does not matter.What appears to be happening is that the JavaScript interpreter refuses to start until all the CSS is downloaded. So, it seems that having JavaScript includes first is more efficient as the JavaScript thread gets more run time. Am I missing something, is the recommendation to place CSS includes prior to JavaScript includes not correct? It is clear that we could add async or use setTimeout to free up the render thread or put the JavaScript code in the footer, or use a JavaScript loader. The point here is about ordering of essential JavaScript bits and CSS bits in the head.

2012-02-14 03:24:54Z

In countless places online I have seen the recommendation to include CSS prior to JavaScript. The reasoning is generally, of this form:My actual testing reveals something quite different: I use the following Ruby script to generate specific delays for various resources: The above mini server allows me to set arbitrary delays for JavaScript files (both server and client) and arbitrary CSS delays. For example, http://10.0.0.50:8081/test.css?delay=500 gives me a 500 ms delay transferring the CSS. I use the following page to test.When I include the CSS first, the page takes 1.5 seconds to render: When I include the JavaScript first, the page takes 1.4 seconds to render: I get similar results in Chrome, Firefox and Internet Explorer. In Opera however, the ordering simply does not matter.What appears to be happening is that the JavaScript interpreter refuses to start until all the CSS is downloaded. So, it seems that having JavaScript includes first is more efficient as the JavaScript thread gets more run time. Am I missing something, is the recommendation to place CSS includes prior to JavaScript includes not correct? It is clear that we could add async or use setTimeout to free up the render thread or put the JavaScript code in the footer, or use a JavaScript loader. The point here is about ordering of essential JavaScript bits and CSS bits in the head.This is a very interesting question.  I've always put my CSS <link href="...">s before my JS <script src="...">s because "I read one time that it's better."  So, you're right; it's high time we do some actual research!I set up my own test harness in Node (code below).  Basically, I:First, with the CSS file delayed by 500ms:Next, I set jQuery to delay by 500ms instead of the CSS:Finally, I set both jQuery and the CSS to delay by 500ms:First, it's important to note that I'm operating under the assumption that you have scripts located in the <head> of your document (as opposed to the end of the <body>).  There are various arguments regarding why you might link to your scripts in the <head> versus the end of the document, but that's outside the scope of this answer.  This is strictly about whether <script>s should go before <link>s in the <head>.In modern DESKTOP browsers, it looks like linking to CSS first never provides a performance gain.  Putting CSS after script gets you a trivial amount of gain when both CSS and script are delayed, but gives you large gains when CSS is delayed.  (Shown by the last columns in the first set of results.)Given that linking to CSS last does not seem to hurt performance but can provide gains under certain circumstances, you should link to external stylesheets after you link to external scripts only on desktop browsers if the performance of old browsers is not a concern.  Read on for the mobile situation.Historically, when a browser encountered a <script> tag pointing to an external resource, the browser would stop parsing the HTML, retrieve the script, execute it, then continue parsing the HTML.  In contrast, if the browser encountered a <link> for an external stylesheet, it would continue parsing the HTML while it fetched the CSS file (in parallel).Hence, the widely-repeated advice to put stylesheets first – they would download first, and the first script to download could be loaded in parallel.However, modern browsers (including all of the browsers I tested with above) have implemented speculative parsing, where the browser "looks ahead" in the HTML and begins downloading resources before scripts download and execute.In old browsers without speculative parsing, putting scripts first will affect performance since they will not download in parallel.Speculative parsing was first implemented in: (along with the percentage of worldwide desktop browser users using this version or greater as of Jan 2012)In total, roughly 85% of desktop browsers in use today support speculative loading.  Putting scripts before CSS will have a performance penalty on 15% of users globally; YMMV based on your site's specific audience.  (And remember that number is shrinking.)On mobile browsers, it's a little harder to get definitive numbers simply due to how heterogeneous the mobile browser and OS landscape is.  Since speculative rendering was implemented in WebKit 525 (released Mar 2008), and just about every worthwhile mobile browser is based on WebKit, we can conclude that "most" mobile browsers should support it.  According to quirksmode, iOS 2.2/Android 1.0 use WebKit 525.  I have no idea what Windows Phone looks like.However, I ran the test on my Android 4 device, and while I saw numbers similar to the desktop results, I hooked it up to the fantastic new remote debugger in Chrome for Android, and Network tab showed that the browser was actually waiting to download the CSS until the JavaScripts completely loaded – in other words, even the newest version of WebKit for Android does not appear to support speculative parsing.  I suspect it might be turned off due to the CPU, memory, and/or network constraints inherent to mobile devices.Forgive the sloppiness – this was Q&D.app.jscss.htmljs.htmltest.jsjquery.js was jquery-1.7.1.min.jsThere are two main reasons to put CSS before JavaScript.It's fun to create examples with Cuzillion. For example, this page has a script in the HEAD so the entire page is blank until it's done downloading. However, if we move the script to the end of the BODY block the page header renders since those DOM elements occur above the SCRIPT tag, as you can see on this page.I would not emphasize too much on the results that you have got, I believe that it is subjective, but I have a reason to explain you that it is better to put in CSS before js.During the loading of your website, there are two scenarios that you would see:CASE 1:    white screen > unstyled website > styled website > interaction > styled and interactive website

CASE 2:    white screen > unstyled website > interaction > styled website > styled and interactive website

I honestly can't imagine anyone choosing Case 2. This would mean that visitors using slow internet connections will be faced with an unstyled website, that allows them to interact with it using Javascript (since that is already loaded). Furthermore, the amount of time spend looking at an unstyled website would be maximized this way. Why would anyone want that?It also works better as jQuery states When the files are loaded in the wrong order (first JS, then CSS), any Javascript code relying on properties set in CSS files (for example the width or height of a div) won't be loaded correctly. It seems that with the wrong loading order, the correct properties are 'sometimes' known to Javascript (perhaps this is caused by a race condition?). This effect seems bigger or smaller depending on the browser used.Were your tests performed on your personal computer, or on a web server? It is a blank page, or is it a complex online system with images, databases, etc.? Are your scripts performing a simple hover event action, or are they a core component to how your website renders and interacts with the user? There are several things to consider here, and the relevance of these recommendations almost always become rules when you venture into high-caliber web development.The purpose of the "put stylesheets at the top and scripts at the bottom" rule is that, in general, it's the best way to achieve optimal progressive rendering, which is critical to the user experience.All else aside: assuming your test is valid, and you really are producing results contrary to the popular rules, it'd come as no surprise, really. Every website (and everything it takes to make the whole thing appear on a user's screen) is different and the Internet is constantly evolving. I include CSS files before Javascript for a different reason.If my Javascript needs to do dynamic sizing of some page element (for those corner cases where CSS is really a main in the back) then loading the CSS after the JS is russing can lead to race conditions, where the element is resized before CSS styles are applied and thus looks weird when the styles finally kick in. If I load the CSS beforehand I can guarantee that things run in the intended order and that the final layout is what I want it to be.Is the recommendation to include CSS before JavaScript invalid?Not if you treat it as simply a recommendation. But if your treat it as a hard and fast rule?, yes, it is invalid.From https://developer.mozilla.org/en-US/docs/Web/Reference/Events/DOMContentLoadedIt appears that you need to know what each script relies on and make sure that execution of the script is delayed until after the right completion event. If the script relies only on the DOM, it can resume in ondomready/domcontentloaded, if it relies on images to be loaded or stylesheets to be applied, then if I read the above reference correctly, that code must be deferred until the onload event.I don't think that one sock size fits all, even though that is the way they are sold and I know that one shoe size does not fit all. I don't think that there is a definitive answer to which to load first, styles or script. It is more a case by case decision of what must be loaded in what order and what can be deferred until later as not being on the "critical path".To speak to the observer that commented that it is better to delay the users ability to interact until the sheet is pretty. There are many of you out there and you annoy your counterparts that feel the opposite. They came to a site to accomplish a purpose and delays to their ability to interact with a site while waiting for things that don't matter to finish loading are very frustrating.  I am not saying that you are wrong, only that you should be aware that there is another faction that exists that does not share your priority.This question particularly applies to all of the ads being placed on web sites. I would love it if site authors rendered just placeholder divs for the ad content and made sure that their site was loaded and interactive before injecting the ads in an onload event.  Even then I would like to see the ads loaded serially instead of all at once because they impact my ability to even scroll the site content while the bloated ads are loading. But that is just one persons point of view.Updated 2017-12-16I was not sure about the tests in OP. I decided to experiment a little and ended up busting some of the myths.This is no longer true. Have a look at the waterfall generated by Chrome 63:This is incorrect. The stylesheet will not block download but it will block execution of the script (little explanation here). Have a look at performance chart generated by Chrome 63:Keeping the above in mind, the results in OP can be explained as follows:CSS First:JS First:I'm not exactly sure how your testing 'render' time as your using java script. However consider thisOne page on your site is 50k which is not unreasonable. The user is on the east coast while your server is on the west. MTU is definitely not 10k so there will be a few trips back and forth. It may take 1/2 a second to receive your page and stylesheets. Typically (for me) javascript (via jquery plugin and such) are much more than CSS. Theres also what happens when your internet connection chokes up midway on the page but lets ignore that (it happens to me occasionally and i believe the css renders but i am not 100% sure).Since css is in head there may be additional connections to get it which means it potentially can finish before the page does. Anyways during the type the remainder of the page takes and the javascript files (which is many more bytes) the page is unstyled which makes the site/connection appear slow.EVEN IF the JS interpreter refuses to start until the CSS is done the time taken to download the javascript code especially when far from the server is cutting into css time which will make the site look not pretty.Its a small optimization but thats the reason for it.Here is a SUMMARY of all the major answers above (or maybe below later :)For modern browsers, put css wherever you like it. They would analyze your html file (which they call speculative parsing) and start downloading css in parallel with html parsing. For old browsers keep putting css on top (if you don't want to show a naked but interactive page first).For all browsers, put javascript as farther down on the page as possible, since it will halt parsing of your html. Preferably, download it asynchronously (i.e., ajax call)There are also, some experimental results for a particular case which claims putting javascript first (as opposed to traditional wisdom of putting CSS first) gives better performance but there is no logical reasoning given for it, and lacks validation regarding widespread applicability, so you can ignore it for now. So, to answer the question: Yes. The recommendation to include the CSS before JS is invalid for the modern browsers. Put CSS wherever you like, and put JS towards the end, as possible. Steve Souders has already given a definitive answer but...I wonder whether there's an issue with both Sam's original test and Josh's repeat of it.Both tests appear to have been performed on low latency connections where setting up the TCP connection will have a trivial cost.How this affects the result of the test I'm not sure and I'd want to look at the waterfalls for the tests over a 'normal' latency connection but...The first file downloaded should get the connection used for the html page, and the second file downloaded will get the new connection. (Flushing the  early alters that dynamic, but it's not being done here)In newer browsers the second TCP connection is opened speculatively so the connection overhead is reduced / goes away, in older browsers this isn't true and the second connection will have the overhead of being opened.Quite how/if this affects the outcome of the tests I'm not sure.I think this wont be true for all the cases. Because css will download parallel but js cant. Consider for the same case,Instead of having single css, take 2 or 3 css files and try it out these ways,1) css..css..js

2) css..js..css

3) js..css..cssI'm sure css..css..js will give better result than all others. We have to keep in mind that new browsers have worked on their Javascript engines, their parsers and so on, optimizing common code and markup problems in a way that problems experienced in ancient browsers such as <=IE8 are no longer relevant, not only with regards to markup but also to use of JavaScript variables, element selectors etc. 

I can see in the not so distant future a situation where technology has reached a point where performance is not really an issue anymore.Personally, I would not place too much emphasis on such "folk wisdom."  What may have been true in the past might well not be true now.  I would assume that all of the operations relating to a web-page's interpretation and rendering are fully asynchronous ("fetching" something and "acting upon it" are two entirely different things that might be being handled by different threads, etc.), and in any case entirely beyond your control or your concern.I'd put CSS references in the "head" portion of the document, along with any references to external scripts.  (Some scripts may demand to be placed in the body, and if so, oblige them.)Beyond that ... if you observe that "this seems to be faster/slower than that, on this/that browser," treat this observation as an interesting but irrelevant curiosity and don't let it influence your design decisions.  Too many things change too fast.  (Anyone want to lay any bets on how many minutes it will be before the Firefox team comes out with yet another interim-release of their product?  Yup, me neither.)

How to remove item from array by value?

MacMac

[How to remove item from array by value?](https://stackoverflow.com/questions/3954438/how-to-remove-item-from-array-by-value)

Is there a method to remove an item from a JavaScript array?Given an array:I would like to do something like:I've looked into splice() but that only removes by the position number, whereas I need something to remove an item by its value.

2010-10-17 17:43:34Z

Is there a method to remove an item from a JavaScript array?Given an array:I would like to do something like:I've looked into splice() but that only removes by the position number, whereas I need something to remove an item by its value.This can be a global function  or a method of a custom object, if you aren't allowed to add to native prototypes. It removes all of the items from the array that match any of the arguments.To make it a global-And to take care of IE8 and below-You can use the indexOf method like this:A one-liner will do it,This makes use of the filter function in JS. It's supported in IE9 and up.What it does (from the doc link)So basically, this is the same as all the other for (var key in ary) { ... } solutions, except that the for in construct is supported as of IE6.Basically, filter is a convenience method that looks a lot nicer (and is chainable) as opposed to the for in construct (AFAIK).You can use underscore.js. It really makes things simple.For example, with this:And result will be ['three','eleven'].In your case the code that you will have to write is:It reduces the code that you write.Check out this way:and in a function:You can do it with these two ways:first:second (ES6):Here's a version that uses jQuery's inArray function:The simplest solution is:array - array for remove some element valueForRemove;

valueForRemove - element for remove;More simple:No pretty, but works:No pretty, but works:P.S. The filter() method creates a new array with all elements that pass the test implemented by the provided function. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filterSimplyWhat you're after is filterhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filterThis will allow you to do the following:This was also noted in this thread somewhere else:  https://stackoverflow.com/a/20827100/293492Seeing as there isn't a pretty one, here's a simple and reusable ES6 function.Usage:ES6 way.If you have unique values in your array and ordering doesn't matter, you can use Set, and it has delete:Really, i can't see why this can't be solved withOr maybe you want to use vanilla JSIn all values unique, you can:Removing all matching elements from the array (rather than just the first as seems to be the most common answer here):I used jQuery for the heavy lifting, but you get the idea if you want to go native.When you need to remove a value present multiple times in the array(e.g. [1,2,2,2, 4, 5,6]).    You can use splice to remove a single element from the array but splice can't remove multiple similar elements from the array.a very clean solution working in all browsers and without any framework is to asign a new Array and simply return it without the item you want to delete:indexOf is an option, but it's implementation is basically searching the entire array for the value, so execution time grows with array size. (so it is in every browser I guess, I only checked Firefox).I haven't got an IE6 around to check, but I'd call it a safe bet that you can check at least a million array items per second this way on almost any client machine. If [array size]*[searches per second] may grow bigger than a million you should consider a different implementation.Basically you can use an object to make an index for your array, like so:Any sane JavaScript environment will create a searchable index for such objects so that you can quickly translate a key into a value, no matter how many properties the object has.This is just the basic method, depending on your need you may combine several objects and/or arrays to make the same data quickly searchable for different properties. If you specify your exact needs I can suggest a more specific data structure.You can achieve this using Lodash _.remove function.The trick is to go through the array from end to beginning, so you don't mess up the indices while removing elements.arr is now  ["red", "black", "white"]Non-destructive removal:You can use without or pull from Lodash:Please do not use the variant with delete - it makes a hole in the array as it does not re-index the elements after the deleted item.I used the most voted option and created a function that would clean one array of words using another array of unwanted words: To use, do the following: In a global function we can't pass a custom value directly but there are many way as belowI tried using the function method from jbaron above but found that I needed to keep the original array intact for use later, and creating a new array like this:apparently creates by reference instead of value because when I removed an element from newArray the referenceArray also had it removed.  So I decided to create a new array each time like this:Then I use it like this in another function:Now the vesselArr remains intact while each time I execute the above code the otherVessels array includes all but the latest vesselID element.

How to prevent buttons from submitting forms

Khanpo

[How to prevent buttons from submitting forms](https://stackoverflow.com/questions/932653/how-to-prevent-buttons-from-submitting-forms)

In the following page, with Firefox the remove button submits the form, but the add button doesn't.  How do I prevent the remove button from submitting the form?

2009-05-31 19:16:36Z

In the following page, with Firefox the remove button submits the form, but the add button doesn't.  How do I prevent the remove button from submitting the form?You're using an HTML5 button element. Remember the reason is this button has a default behavior of submit, as stated in the W3 specification as seen here:

W3C HTML5 ButtonSo you need to specify its type explicitly:in order to override the default submit type. I just want to point out the reason why this happens =)=)Set the type on your buttons:...that'll keep them from triggering a submit action when an exception occurs in the event handler. Then, fix your removeItem() function so that it doesn't trigger an exception:Note the change: your original code extracted a HTML element from the jQuery set, and then tried to call a jQuery method on it - this threw an exception, resulting in the default behavior for the button.FWIW, there's another way you could go with this... Wire up your event handlers using jQuery, and use the preventDefault() method on jQuery's event object to cancel the default behavior up-front:This technique keeps all of your logic in one place, making it easier to debug... it also allows you to implement a fall-back by changing the type on the buttons back to submit and handling the event server-side - this is known as unobtrusive JavaScript.Sometime ago I needed something very similar... and I got it.So what I put here is how I do the tricks to have a form able to be submitted by JavaScript without any validating and execute validation only when the user presses a button (typically a send button).For the example I will use a minimal form, only with two fields and a submit button.Remember what is wanted:

From JavaScript it must be able to be submitted without any checking. However, if the user presses such a button, the validation must be done and form sent only if pass the validation.Normally all would start from something near this (I removed all extra stuff not important):See how form tag has no onsubmit="..." (remember it was a condition not to have it).The problem is that the form is always submitted, no matter if onclick returns true or false.If I change type="submit" for type="button", it seems to work but does not. It never sends the form, but that can be done easily.So finally I used this:And on function Validator, where return True; is, I also add a JavaScript submit sentence, something similar to this:The id="" is just for JavaScript getElementById, the name="" is just for it to appear on POST data.On such way it works as I need.I put this just for people that need no onsubmit function on the form, but make some validation when a button is press by user.Why I need no onsubmit on form tag? Easy, on other JavaScript parts I need to perform a submit but I do not want there to be any validation.The reason: If user is the one that performs the submit I want and need the validation to be done, but if it is JavaScript sometimes I need to perform the submit while such validations would avoid it.It may sounds strange, but not when thinking for example: on a Login ... with some restrictions... like not allow to be used PHP sessions and neither cookies are allowed!So any link must be converted to such form submit, so the login data is not lost.

When no login is yet done, it must also work. So no validation must be performed on links.

But I want to present a message to the user if the user has not entered both fields, user and pass. So if one is missing, the form must not be sent! there is the problem.See the problem: the form must not be sent when one field is empty only if the user has pressed a button, if it is a JavaScript code it must be able to be sent.If I do the work on onsubmit on the form tag, I would need to know if it is the user or other JavaScript. Since no parameters can be passed, it is not possible directly, so some people add a variable to tell if validation must be done or not. First thing on validation function is to check that variable value, etc... Too complicated and code does not say what is really wanted.So the solution is not to have onsubmit on the form tag. Insead put it where it really is needed, on the button.For the other side, why put onsubmit code since conceptually I do not want onsubmit validation. I really want button validation.Not only the code is more clear, it is where it must be. Just remember this:

- I do not want JavaScript to validate the form (that must be always done by PHP on the server side)

- I want to show to the user a message telling all fields must not be empty, that needs JavaScript (client side)So why some people (think or tell me) it must be done on an onsumbit validation? No, conceptually I am not doing a onsumbit validating at client side. I am just doing something on a button get pressed, so why not just let that to be implemented?Well that code and style does the trick perfectly.  On any JavaScript that I need to send the form I just put:And that skips validation when I do not need it. It just sends the form and loads a different page, etc.But if the user clicks the submit button (aka type="button" not type="submit") the validation is done before letting the form be submitted and if not valid not sent.Well hope this helps others not to try long and complicated code. Just not use onsubmit if not needed, and use onclick. But just remember to change type="submit" to type="button" and please do not forget to do the submit() by JavaScript.I agree with Shog9, though I might instead use:According to w3schools, the <button> tag has different behavior on different browsers.Suppose your HTML form has id="form_id"Add this jQuery snippet to your code to see result,You can simply get the reference of your buttons using jQuery, and prevent its propagation like below:$("form").submit(function () { return false; }); 

that will prevent the button from submitting or you can just change the button type to "button" <input type="button"/> instead of <input type="submit"/>

Which will only work if this button isn't the only button in this form.This is an html5 error like has been said, you can still have the button as a submit (if you want to cover both javascript and non javascript users) using it like:This way you will cancel the submit but still do whatever you are doing in jquery or javascript function`s and do the submit for users who dont have javascript.I am sure that on FF the function encounter a JavaScript error, this not happend on IEWhen javascript error appear the "return false" code won't run, making the page to postbackThe return false prevents the default behavior. but the return false breaks the bubbling of additional click events. This means if there are any other click bindings after this function gets called, those others do not Consider.Or simply you can put like thisJust add e.preventDefault(); in your method should prevent your page from submitting forms.According to the MDN Web DocsYou can return false at the end of the function or after the function call. Just as long as it's the last thing that happens, the form will not submit.Here's a simple approach:The following sample code show you how to prevent button click from submitting form.You may try my sample code:I'm not able to test this right now, but I would think you could use jQuery's preventDefault method.The function removeItem actually contains an error, which makes the form button do it's default behaviour (submitting the form). The javascript error console will usually give a pointer in this case.Check out the function removeItem in the javascript part:The line:doesn't work. Try this instead:

Working with $scope.$emit and $scope.$on

Paul Kononenko

[Working with $scope.$emit and $scope.$on](https://stackoverflow.com/questions/14502006/working-with-scope-emit-and-scope-on)

How can I send my $scope object from one controller to another using .$emit and .$on methods?It doesn't work the way I think it should. How do $emit and $on work?

2013-01-24 13:03:17Z

How can I send my $scope object from one controller to another using .$emit and .$on methods?It doesn't work the way I think it should. How do $emit and $on work?First of all, parent-child scope relation does matter. You have two possibilities to emit some event:I don't know anything about your controllers (scopes) relation, but there are several options:I would additionally suggest a 4th option as a better alternative to the proposed options by @zbynour. Use $rootScope.$emit rather than $rootScope.$broadcast regardless of the relationship between trasmitting and receiving controller. That way, the event remains within the set of $rootScope.$$listeners whereas with $rootScope.$broadcast the event propagates to all children scopes, most of which will probably not be listeners of that event anyway. And of course in the receiving controller's end you just use $rootScope.$on.For this option you must remember to destroy the controller's rootScope listeners:You can send any object you want within the hierarchy of your app, including $scope.Here is a quick idea about how broadcast and emit work.Notice the nodes below; all nested within node 3. You use broadcast and emit when you have this scenario.Note: The number of each node in this example is arbitrary; it could easily be the number one; the number two; or even the number 1,348. Each number is just an identifier for this example. The point of this example is to show nesting of Angular controllers/directives.Check out this tree. How do you answer the following questions?Note: There are other ways to answer these questions, but here we'll discuss broadcast and emit. Also, when reading below text assume each number has it's own file (directive, controller) e.x. one.js, two.js, three.js.How does node 1 speak to node 3?In file one.jsIn file three.js - the uppermost node to all children nodes needed to communicate.How does node 2 speak to node 3?In file two.jsIn file three.js - the uppermost node to all children nodes needed to communicate.How does node 3 speak to node 1 and/or node 2?In file three.js - the uppermost node to all children nodes needed to communicate.In file one.js && two.js whichever file you want to catch the message or both.How does node 2 speak to node 1?In file two.jsIn file three.js - the uppermost node to all children nodes needed to communicate.In file one.jsHOWEVERHere is what I like to do.In the uppermost PARENT NODE ( 3 in this case... ), which may be your parent controller...So, in file three.jsNow in any of the child nodes you only need to $emit the message or catch it using $on.NOTE: It is normally quite easy to cross talk in one nested path without using $emit, $broadcast, or $on, which means most use cases are for when you are trying to get node 1 to communicate with node 2 or vice versa.How does node 2 speak to node 1?In file two.jsIn file three.js - the uppermost node to all children nodes needed to communicate.We already handled this one remember?In file one.jsYou will still need to use $on with each specific value you want to catch, but now you can create whatever you like in any of the nodes without having to worry about how to get the message across the parent node gap as we catch and broadcast the generic pushChangesToAllNodes.Hope this helps...To send $scope object from one controller to another, I will discuss about $rootScope.$broadcast and $rootScope.$emit here as they are used most.Case 1:$rootScope.$broadcast:-$rootScope listener are not destroyed automatically. You need to destroy it using $destroy. It is better to use $scope.$on as listeners on $scope are destroyed automatically i.e. as soon as $scope is destroyed.Or,Case 2: $rootScope.$emit:The major difference in $emit and $broadcast is that $rootScope.$emit event must be listened using $rootScope.$on, because the emitted event never comes down through the scope tree..

In this case also you must destroy the listener as in the case of $broadcast.Edit:Edit 2:You must use $rootScope to send and capture events between controllers in same app. Inject $rootScope dependency to your controllers. Here is a working example.Events linked into $scope object just work in the owner controller. Communication between controllers is done via $rootScope or Services.You can call a service from your controller that returns a promise and then use it in your controller. And further use $emit or $broadcast to inform other controllers about it. 

In my case, I had to make http calls through my service, so I did something like this : and my service looks like this This is my function:Scope(s) can be used to propagate, dispatch event to the scope children or parent.$emit - propagates the event to parent. $broadcast - propagates the event to children.

$on - method to listen the events, propagated by $emit and $broadcast.example index.html:example app.js:Here u can test code:

http://jsfiddle.net/zp6v0rut/41/Below code shows the two sub-controllers from where the events are        dispatched upwards to parent controller (rootScope)  http://jsfiddle.net/shushanthp/zp6v0rut/According to the angularjs event docs the receiving end should be containing arguments with a structure like @params-- {Object} event being the event object containing info on the event-- {Object} args that are passed by the callee (Note that this can only be one so better to send in a dictionary object always)$scope.$on('fooEvent', function (event, args) { console.log(args) });

From your codeAlso if you are trying to get a shared piece of information to be available accross different controllers there is an another way to achieve that and that is angular services.Since the services are singletons information can be stored and fetched across controllers.Simply create getter and setter functions in that service, expose these functions, make global variables in the service and use them to store the infoThe Easiest way :

Colors in JavaScript console

Randomblue

[Colors in JavaScript console](https://stackoverflow.com/questions/7505623/colors-in-javascript-console)

Can Chrome's built-in JavaScript console display colors?I want errors in red, warnings in orange and console.log's in green. Is that possible?

2011-09-21 19:36:53Z

Can Chrome's built-in JavaScript console display colors?I want errors in red, warnings in orange and console.log's in green. Is that possible?In Chrome & Firefox (+31) you can add CSS in console.log messages:The same can be applied for adding multiple CSS to same command.

Source for Google Chrome: Presentation by Paul Irish & Webkit change

Source for Firefox: Firefox Web Console - Styling MessagesChrome Console API Reference: Console API ReferenceHere is an extreme example with rainbow drop shadow.You can use a custom stylesheet to color your debugger.  You can put this code in C:\Documents and Settings\<User Name>\Local Settings\Application Data\Google\Chrome\User Data\Default\User StyleSheets\Custom.css if you are in WinXP, but the directory varies by OS.Older versions of Chrome do not allow you to get console.log()s to show in a specific color programmatically, but calling console.error() will put a red X icon on error lines and make the text red, and console.warn() gets you a yellow ! icon.You can then filter console entries with the All, Errors, Warnings, and Logs buttons beneath the console.It turns out Firebug has supported custom CSS for console.logs since 2010 and Chrome support has been added as of Chrome 24.When %c appears anywhere in the first argument, the next argument is used as the CSS to style the console line.  Further arguments are concatenated (as has always been the case).I wrote template-colors-web https://github.com/icodeforlove/Console.js to allow us to do this a bit easierThe above would be extremely hard to do with the default console.log.For a live interactive demo click here.Update:I have written a JavaScript library last year for myself. It contains other features e.g verbosity for debug logs and also provides a download logs method that exports a log file. Have a look at the JS Logger library and its documentation.I know It's a bit late to answer but as the OP asked to get custom color messages in console for different options. Everyone is passing the color style property in each console.log() statement which confuses the reader by creating complexity in the code and also harm the overall look & feel of the code.What I suggest is to write a function with few predetermined colors (e.g success, error, info, warning, default colors) which will be applied on the basis of the parameter passed to the function. It improves the readability and reduces the complexity in the code. It is too easy to maintain and further extend according to your needs.Given below is a JavaScript function that you have to write once and than use it 

again and again.The default color is black and you don't have to pass any keyword as parameter in that case. In other cases, you should pass success, error, warning, or info keywords for desired results.Here is working JSFiddle. See output in the browser's console.There are a series of inbuilt functions for coloring the console log:I actually just found this by accident being curious with what would happen but you can actually use bash colouring flags to set the colour of an output in Chrome:Output:See this link for how colour flags work: https://misc.flogisoft.com/bash/tip_colors_and_formattingBasically use the \x1b or \x1B in place of \e. eg. \x1b[31m and all text after that will be switched to the new colour.I haven't tried this in any other browser though, but thought it worth mentioning. This library is fantastic:https://github.com/adamschwartz/logUse Markdown for log messages.Google has documented this

https://developers.google.com/web/tools/chrome-devtools/console/console-write#styling_console_output_with_css. One example:Check this out:Animation in console, plus CSShttps://jsfiddle.net/a8y3jhfL/you can paste ASCII in each frame to watch an ASCII animationtemplate system, useful if you want to create colorful line text without creating full style for every blockfrom Chrome 60, they removed the facility of blue text color while writing console.info and does many much changes in console API.if you write a string literal in the es6 pattern, using the backticks `` as the identifier (called as template string ) in console.log() then below way can colorize the console output.I wrote a reallllllllllllllllly simple plugin for myself several years ago:To add to your page all you need to do is put this in the head: Then in JS:The framework has code for:as well as:for any other css. The above is designed with the following syntax:I recently wanted to solve for a similar issue and constructed a small function to color only keywords i cared about which were easily identifiable by surrounding curly braces {keyword}.This worked like a charm:technically you could swap out the if statement with a switch/case statement to allow multiple stylings for different reasonsTo chain CSS3 styles which spans across multiple lines, you can do like this,ResultFind more :- https://coderwall.com/p/fskzdw/colorful-console-logCheers.Try this:now they all are as you wanted:note: formatting like console.log("The number = %d", 123); is not broken.I wrote a npm module that gives one the possibility to pass:https://www.npmjs.com/package/console-log-plusOutput (with custom prefixes):Output (without custom prefixes):Input:To make sure the user won't render an invalid color, I wrote a color validator as well. It will validate colors by name, hex, rgb, rgba, hsl or hsla valuesI doubt that anyone will actually see it but I have a simple solution for those who want to mix several colors in the same line:

How do you find out the caller function in JavaScript?

Ray Lu

[How do you find out the caller function in JavaScript?](https://stackoverflow.com/questions/280389/how-do-you-find-out-the-caller-function-in-javascript)

Is there a way to find out the call stack?

2008-11-11 09:04:39Z

Is there a way to find out the call stack?Note that this feature is non-standard, from Function.caller:The following is the old answer from 2008, which is no longer supported in modern Javascript:You can find the entire stack trace using browser specific code. The good thing is someone already made it; here is the project code on GitHub.But not all the news is good:By the way, if you only want the name of the caller function (in most browsers, but not IE) you can use:But note that this name will be the one after the function keyword.  I found no way (even on Google Chrome) to get more than that without getting the code of the whole function.And summarizing the rest of the best answers (by Pablo Cabrera, nourdine, and Greg Hewgill). The only cross-browser and really safe thing you can use is:Which will show the code of the caller function. Sadly, that is not enough for me, and that is why I give you tips for the StackTrace and the caller function Name (although they are not cross-browser).To recap (and make it clearer) ...this code: is equivalent to this: Clearly the first bit is more portable, since you can change the name of the function, say from "Hello" to "Ciao", and still get the whole thing to work.In the latter, in case you decide to refactor the name of the invoked function (Hello), you would have to change all its occurrences :( You can get the full stacktrace:Until caller is null.Note: it cause an infinite loop on recursive functions.I know you mentioned "in Javascript", but if the purpose is debugging, I think it's easier to just use your browser's developer tools. This is how it looks in Chrome:

Just drop the debugger where you want to investigate the stack.I usually use (new Error()).stack in Chrome. 

The nice thing is that this also gives you the line numbers where the caller called the function. The downside is that it limits the length of the stack to 10, which is why I came to this page in the first place.(I'm using this to collect callstacks in a low-level constructor during execution, to view and debug later, so setting a breakpoint isn't of use since it will be hit thousands of times)If you are not going to run it in IE < 11 then console.trace() would suit.You can use Function.Caller to get the calling function. The old method  using argument.caller is considered obsolete.The following code illustrates its use:Notes about obsolete argument.caller:  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments/callerBe aware Function.caller is non-standard: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/callerI would do this:It's safer to use *arguments.callee.caller since arguments.caller is deprecated...Looks like this is quite a solved question but I recently found out that callee is not allowed in 'strict mode' so for my own use I wrote a class that will get the path from where it is called. It's part of a small helper lib and if you want to use the code standalone change the offset used to return the stack trace of the caller (use 1 instead of 2)Try accessing this:Just console log your error stack. You can then know how are you being calledcaller is forbidden in strict mode. Here is an alternative using the (non-standard) Error stack.The following function seems to do the job in Firefox 52 and Chrome 61-71 though its implementation makes a lot of assumptions about the logging format of the two browsers and should be used with caution, given that it throws an exception and possibly executes two regex matchings before being done.I wanted to add my fiddle here for this:http://jsfiddle.net/bladnman/EhUm3/I tested this is chrome, safari and IE (10 and 8). Works fine. There is only 1 function that matters, so if you get scared by the big fiddle, read below.Note:

There is a fair amount of my own "boilerplate" in this fiddle. You can remove all of that and use split's if you like. It's just an ultra-safe" set of functions I've come to rely on.There is also a "JSFiddle" template in there that I use for many fiddles to simply quick fiddling.If you just want the function name and not the code, and want a browser-independent solution, use the following:Note that the above will return an error if there is no caller function as there is no [1] element in the array. To work around, use the below:Just want to let you know that on PhoneGap/Android the name doesnt seem to be working. But arguments.callee.caller.toString() will do the trick.In both ES6 and Strict mode, use the following to get the Caller functionPlease note that, the above line will throw an exception, if there is no caller or no previous stack. Use accordingly.Here, everything but the functionname is stripped from caller.toString(), with RegExp.here is a function to get full stacktrace:heystewart's answer and JiarongWu's answer both mentioned that the Error object has access to the stack.Here's an example:Different browsers shows the stack in different string formats:

Safari  : Caller is: main@https://stacksnippets.net/js:14:8

Firefox : Caller is: main@https://stacksnippets.net/js:14:3

Chrome  : Caller is:     at main (https://stacksnippets.net/js:14:3)

IE Edge : Caller is:    at main (https://stacksnippets.net/js:14:3)

IE      : Caller is:    at main (https://stacksnippets.net/js:14:3)

Most browsers will set the stack with var stack = (new Error()).stack. In Internet Explorer the stack will be undefined - you have to throw a real exception to retrieve the stack.Conclusion: It's possible to determine "main" is the caller to "Hello" using the  stack in the Error object. In fact it will work in cases where the callee / caller approach doesn't work. It will also show you context, i.e. source file and line number. However effort is required to make the solution cross platform.Try the following code:Worked for me in Firefox-21 and Chromium-25.Another way around this problem is to simply pass the name of the calling function as a parameter. For example:Now, you could call the function like this:My example uses a hard coded check of the function name, but you could easily use a switch statement or some other logic to do what you want there.As far as I know, we have 2 way for this from given sources like this-Think u have your answer :).Why all of the solutions above look like a rocket science. Meanwhile, it should not be more complicated than this snippet. All credits to this guy How do you find out the caller function in JavaScript?I'm attempting to address both the question and the current bounty with this question.The bounty requires that the caller be obtained in strict mode, and the only way I can see this done is by referring to a function declared outside of strict mode.For example, the following is non-standard but has been tested with previous (29/03/2016) and current (1st August 2018) versions of Chrome, Edge and Firefox.If you really need the functionality for some reason and want it to be cross-browser compatible and not worry for strict stuff and be forward compatible then pass a this reference:I think the following code piece may be helpful:Execute the code:The log looks like this:As none of previous answers works like what I was looking for(getting just the last function caller not a function as a string or callstack) I post my solution here for those who are like me and hope this will work for them:

Why does parseInt(1/0, 19) return 18?

cebor

[Why does parseInt(1/0, 19) return 18?](https://stackoverflow.com/questions/11340673/why-does-parseint1-0-19-return-18)

I have an annoying problem in JavaScript.Why does the parseInt function return 18?

2012-07-05 08:37:52Z

I have an annoying problem in JavaScript.Why does the parseInt function return 18?The result of 1/0 is Infinity.parseInt treats its first argument as a string which means first of all Infinity.toString() is called, producing the string "Infinity". So it works the same as if you asked it to convert "Infinity" in base 19 to decimal.Here are the digits in base 19 along with their decimal values:What happens next is that parseInt scans the input "Infinity" to find which part of it can be parsed and stops after accepting the first I (because n is not a valid digit in base 19).Therefore it behaves as if you called parseInt("I", 19), which converts to decimal 18 by the table above.Here's the sequence of events:Note that you'd get a result for any base >= 19, but not for bases below that. For bases >= 24, you'll get a larger result, as n becomes a valid digit at that point.To add to the above answers:parseInt is intended to parse strings into numbers (the clue is in the name).  In your situation, you don't want to do any parsing at all since 1/0 is already a number, so it's a strange choice of function.  If you have a number (which you do) and want to convert it to a particular base, you should use toString with a radix instead.To add to the above answersparseInt(1/0,19) is equivalent to parseInt("Infinity",19)Within base 19 numbers 0-9 and  A-I (or a-i) are a valid numbers. So, from the "Infinity" it takes I of base 19 and converts to base 10 which becomes 18

Then it tries to take the next character i.e. n which is not present in base 19 so discards next characters (as per javascript's behavior of converting string to number)So, if you write parseInt("Infinity",19) OR  parseInt("I",19) OR parseInt("i",19) the result will be same i.e 18.Now, if you write parseInt("I0",19) the result will be 342

as I X 19 (the base)^1 + 0 X 19^0  = 18 X 19^1 + 0 X 19^0 = 18 X 19 + 0 X 1  = 342Similarly, parseInt("I11",19) will result in 6518i.e. 

JavaScript plus sign in front of function expression

jOpacic

[JavaScript plus sign in front of function expression](https://stackoverflow.com/questions/13341698/javascript-plus-sign-in-front-of-function-expression)

I’ve been looking for information about immediately invoked functions, and somewhere I stumbled on this notation:Can someone explain to me what the + sign in front of the function means/does?

2012-11-12 10:06:23Z

I’ve been looking for information about immediately invoked functions, and somewhere I stumbled on this notation:Can someone explain to me what the + sign in front of the function means/does?It forces the parser to treat the part following the + as an expression. This is usually used for functions that are invoked immediately, e.g.:Without the + there, if the parser is in a state where it's expecting a statement (which can be an expression or several non-expression statements), the word function looks like the beginning of a function declaration rather than a function expression and so the () following it (the ones at the end of the line above) would be a syntax error (as would the absense of a name, in that example). With the +, it makes it a function expression, which means the name is optional and which results in a reference to the function, which can be invoked, so the parentheses are valid.+ is just one of the options. It can also be -, !, ~, or just about any other unary operator. Alternately, you can use parentheses (this is more common, but neither more nor less correct syntactically):Subsidiary to @TJCrowder's answer, + is usually used to force numerical casting of a value as this SO answer explains. In this instance it is called the 'unary plus operator' (for ease of googling).So in front of a function it can be a way to force the function's result to be interpreted as a number. I doubt it happens yet, but theoretically the JIT could use that to compile the function as a numerical-only function etc. However, to prevent the unary plus being a concatenation when used in a larger expression, you would need parentheses:So the short answer is that it prevents a syntax error, by using the function results in one way or another.You can also instruct the engine that you're not even interested in the return value by using the void operator:Of course, putting braces around the whole thing also serves that purpose.

Detecting a mobile browser

ave

[Detecting a mobile browser](https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser)

I'm looking for a function which return boolean value if user has mobile browser or not.I know that I can use navigator.userAgent and write that function by using regex, but user-agents are too various for different platforms. I doubt that match all possible devices would be easy, and I think this problem has been solved before many times so there should be some kind of complete solution for such task.I was looking at this site, but sadly the script is so cryptic that I have no idea how to use it for my purpose, which is to create a function which return true / false.

2012-07-08 08:13:21Z

I'm looking for a function which return boolean value if user has mobile browser or not.I know that I can use navigator.userAgent and write that function by using regex, but user-agents are too various for different platforms. I doubt that match all possible devices would be easy, and I think this problem has been solved before many times so there should be some kind of complete solution for such task.I was looking at this site, but sadly the script is so cryptic that I have no idea how to use it for my purpose, which is to create a function which return true / false.Here's a function that uses an insanely long and comprehensive regex which returns a true or false value depending on whether or not the user is browsing with a mobile.For those wishing to include tablets in this test (though arguably, you shouldn't), you can use the following function:You can do this by simply running through a list of devices and checking if the useragent matches anything like so:However since you believe that this method is unreliable, You could assume that any device that had a resolution of 800x600 or less was a mobile device too, narrowing your target even more (although these days many mobile devices have much greater resolutions than this)i.e Reference: How about:...since smartphones usually support this property and desktop browsers don't.EDIT: As @Gajus pointed out, this solution is now deprecated and shouldn't be used (https://developer.mozilla.org/en-US/docs/Web/API/Window/orientation)How to useTo check to see if the user is on a specific mobile device:Ref: http://www.abeautifulsite.net/blog/2011/11/detecting-mobile-devices-with-javascriptEnhanced version on github : https://github.com/smali-kazmi/detect-mobile-browserHere is a simple solution from the source of facebook's slingshotCame here looking for a simple, clean way to detect "touch screens devices", which I class as mobile and tablets. Did not find a clean choice in the current answers but did work out the following which may also help someone.Edit: To support desktops with a touch screen and mobiles at the same time you can use the following:There's no perfect solution for detecting whether JS code is executed on a mobile browser, but the following two options should work in most cases.This particular browser sniffing code is that of a library called isMobile.Test if window.orientation is defined :Not all touchscreen devices are mobile and vice versa. So, if you want to implement something specifically for touchscreen, you shouldn't test if your browser is run on a mobile device but rather whether the devices has touchscreen support :As many have stated, relying on the moving target of the user agent data is problematic. The same can be said for counting on screen size. My approach is borrowed from a CSS technique to determine if the interface is touch. Using pure javascript (support by all modern browsers), a media query you can easily determine when the device is mobile.According to MDN's article on Browser detection using the user agent, it is encouraged to avoid this approach if possible and suggest other avenues such as feature detection.However, if one must use the user agent as a means to detect if the device is mobile, they suggest:Therefore, this one-liner will suffice:const isMobileDevice = window.navigator.userAgent.toLowerCase().includes("mobi");To add an extra layer of control I use the HTML5 storage to detect if it is using mobile storage or desktop storage. If the browser does not support storage I have an array of mobile browser names and I compare the user agent with the browsers in the array.It is pretty simple. Here is the function:Here is a userAgent solution that is more efficent than match...Feature detection is much better than trying to figure out which device you are on and very hard to keep up with new devices coming out all the time, a library like Modernizr lets you know if a particular feature is available or not.How about something like this?Once the element gains focus, you immediately blur it. Bootstrap-datepicker, which is a very popular and well-maintained component with almost 10,000 stars in GitHub, uses this approach:https://github.com/uxsolutions/bootstrap-datepickerThanks to Tigger for assistance.A really good way of detecting mobile or tablet devices is by looking if the browser can create a touch event.Plain JavaScript Code:This worked for me really well, but there may be a problem with laptop devices which include a touchscreen display.I am not sure if a touchscreen Laptop will get detected as a mobile device because I haven't tested it yet.Here is my re-thought solution for the problem. Still not perfect. The only true solution would be if the device manufacturers start to take seriously the "Mobile" and "Tablet" user-agent strings.What happens when the Nexus 7 tablet only have the Android UA string? First, the Mobile become true, than later on the Tablet also become true, but Tablet will delete the Mobile UA string from the body tag.CSS:alert lines added for development. Chrome console can emulate many handheld devices. Test there.EDIT:Just don't use this, use feature detection instead. There are so many devices and brands out there that targeting a brand NEVER will be the right solution.I advise you check out http://wurfl.io/In a nutshell, if you import a tiny JS file:you will be left with a JSON object that looks like:(that's assuming you are using a Nexus 7, of course) and you will be able to do things like:This is what you are looking for.Disclaimer: I work for the company that offers this free service. Thanks.heres a one linerDepends on the use case. All mobile devices require a battery. If what you're after is compute power without draining the battery use the Battery Status API:If what you're looking for is presentational use matchMedia, which returns a Boolean value:Or combine them for an even better user experience on tablet devices.There is simple trick to detect whether it is a mobile device or not. Just check if the ontouchstart event exist:I have faced some scenarios where above answers dint work for me. So i came up with this. Might be helpful to someone.It depends on your use case. If you focus on screen use screen.availWidth, or you can use document.body.clientWidth if you want to render based on document. The best must be :But like like Yoav Barnea says...After this 3 tests, i hope var isMobile is... okHere is he full function also you can follow this tutorial to detect a specific mobile. Click here.what about using "window.screen.width" ?orI guess this is the best way because there is a new mobile device every day !(although I think it's not that supported in old browsers, but give it a try :) ) Here's an ECMAScript 6 solution (TypeScript ready)Note that Most newer-gen mobile devices now have resolutions greater than 600x400. ie, an iPhone 6....Proof of test: 

ran the most upvoted and most recent posts here, with an optional check once run like so:Somehow, the following results were returned on the following Browser Apps. Specs: iPhone 6S, iOS 10.3.1.Safari (latest): Detected it as a mobile.Chrome (latest): Did not detect it as a mobile.SO, i then tested the suggestion from Lanti (https://stackoverflow.com/a/31864119/7183483), and it did return the proper results (mobile for all iOS devices, and desktop for my Mac). Therefore, i proceeded to edit it a little since it would fire twice (for both mobile and Tablet). I then noticed when testing on an iPad, that it also returned as a mobile, which makes sense, since the Parameters that Lanti uses check the OS more than anything. Therefore, i simply moved the tablet IF statement inside the mobile check, which would return mobile is the Tablet check was negative, and tablet otherwise. I then added the else clause for the mobile check to return as desktop/laptop, since both qualify, but then noticed that the browser detects CPU and OS brand. So i added what is returned in there as part of else if statement instead. To cap it, I added a cautionary else statement in case nothing was detected.

See bellow, will update with a test on a Windows 10 PC soon. Oh, and i also added a 'debugMode' variable, to easily switch between debug and normal compiling.Dislaimer: Full credit to Lanti, also that this was not tested on Windows Tablets... which might return desktop/laptop, since the OS is pure Windows. Will check once I find a friend who uses one.This is just an es6 port of the accepted answer that I'm using in my project. Note that this also includes tablets.This could also be a solution. If you use both methods, you will get a perfect way to detect different devices. In any case, checking for type of device must be called just ONE TIME: your phone can't surprisingly stay a desktop in a moment :)So, code for checking by userAgent, suggested here sometime ago, have to be look like that:How about this, it expands on answer above but also checks the screen size

Change the selected value of a drop-down list with jQuery

phairoh

[Change the selected value of a drop-down list with jQuery](https://stackoverflow.com/questions/499405/change-the-selected-value-of-a-drop-down-list-with-jquery)

I have a drop-down list with known values. What I'm trying to do is set the drop down list to a particular value that I know exists using jQuery.  Using regular JavaScript, I would do something like:However, I need to do this with jQuery, because I'm using a CSS class for my selector (stupid ASP.NET client ids...).Here are a few things I've tried:How can I do it with jQuery?UpdateSo as it turns out, I had it right the first time with:When I put an alert just above it works fine, but when I remove the alert and let it run at full speed, I get the errorI'm not sure if it's a bug with jQuery or Internet Explorer 6 (I'm guessing Internet Explorer 6), but it's terribly annoying.

2009-01-31 19:39:01Z

I have a drop-down list with known values. What I'm trying to do is set the drop down list to a particular value that I know exists using jQuery.  Using regular JavaScript, I would do something like:However, I need to do this with jQuery, because I'm using a CSS class for my selector (stupid ASP.NET client ids...).Here are a few things I've tried:How can I do it with jQuery?UpdateSo as it turns out, I had it right the first time with:When I put an alert just above it works fine, but when I remove the alert and let it run at full speed, I get the errorI'm not sure if it's a bug with jQuery or Internet Explorer 6 (I'm guessing Internet Explorer 6), but it's terribly annoying.jQuery's documentation states:This behavior is in jQuery versions 1.2 and above.You most likely want this:With hidden field you need to use like this:orJust an FYI, you don't need to use CSS classes to accomplish this.You can write the following line of code to get the correct control name on the client:ASP.NET will render the control ID correctly inside the jQuery.Just try with and not with These solutions seem to assume that each item in your drop down lists has a val() value relating to their position in the drop down list.Things are a little more complicated if this isn't the case.To read the selected index of a drop down list, you would use this:To set the selected index of a drop down list, you would use this:Note that the prop() feature requires JQuery v1.6 or later.Let's see how you would use these two functions.  Supposing you had a drop down list of month names.You could add a "Previous Month" and "Next Month" button, which looks at the currently selected drop down list item, and changes it to the previous/next month:And here's the JavaScript which these buttons would run:The following site is also useful, for showing how to populate a drop down list with JSON data:http://mikesknowledgebase.com/pages/Services/WebServices-Page8.htmPhew !!Hope this helps.After looking at some solutions, this worked for me.I have one drop-down list with some values and I want to select the same value from another drop-down list... So first I put in a variable the selectIndex of my first drop-down.Then, I select that index on my second drop-down list.Note:I guess this is the shortest, reliable, general and elegant solution.Because in my case, I'm using selected option's data attribute instead of value attribute.

So if you do not have unique value for each option, above method is the shortest and sweet!!I know this is a old question and the above solutions works fine except in some cases.Like  So Item 4 will show as "Selected" in the browser and now you want to change the value as 3 and show "Item3" as selected instead of Item4.So as per the above solutions,if you use You will see that Item 3 as selected in browser.But when you process the data either in php or asp , you will find the selected value as "4".The reason is that , your html will look like this.and it gets the last value as "4" in sever side language.SO MY FINAL SOLUTION ON THIS REGARDEDIT: Add single quote around "+newselectedIndex+" so that the same functionality can be used for non-numerical values.So what I do is actually ,removed the selected attribute and then make the new one as selected.I would appreciate comments on this from senior programmers like @strager , @y0mbo , @ISIK and others If we have a dropdown with a title of "Data Classification":We can get it into a variable:Then put into another variable the value we want the dropdown to have:Then we can use the field we put into dataClsField, do a find for myValue and make it selected using .prop():Or, you could just use .val(), but your selector of . can only be used if it matches a class on the dropdown, and you should use quotes on the value inside the parenthesis, or just use the variable we set earlier:I have run into this many times when loading data from an Ajax call.  I too use .NET, and it takes time to get adjusted to the clientId when using the jQuery selector. To correct the problem that you're having and to avoid having to add a setTimeout property, you can simply put "async: false" in the Ajax call, and it will give the DOM enough time to have the objects back that you are adding to the select. A small sample below:Just a note - I've been using wildcard selectors in jQuery to grab items that are obfuscated by ASP.NET CLient IDs - this might help you too:Note the id* wildcard- this will find your element even if the name is "ctl00$ctl00$ContentPlaceHolder1$ContentPlaceHolder1$MyDropDown"I use an extend function to get client ids, like so:Then you can call ASP.NET controls in jQuery like this:Another option is to set the control param ClientID="Static" in .net and then you can access the object in JQuery by the ID you set.Use $("select[name$='MyDropDown']").val().How are you loading the values into the drop down list or determining which value to select? If you are doing this using Ajax, then the reason you need the delay before the selection occurs could be because the values were not loaded in at the time that the line in question executed.  This would also explain why it worked when you put an alert statement on the line before setting the status since the alert action would give enough of a delay for the data to load.If you are using one of jQuery's Ajax methods, you can specify a callback function and then put $("._statusDDL").val(2); into your callback function.This would be a more reliable way of handling the issue since you could be sure that the method executed when the data was ready, even if it took longer than 300 ms.ClientIDMode="Static"In my case I was able to get it working using the .attr() method.

What is the difference between substr and substring?

Difference Engine

[What is the difference between substr and substring?](https://stackoverflow.com/questions/3745515/what-is-the-difference-between-substr-and-substring)

What is the difference betweenandThey both seem to output「ab」.

2010-09-19 11:40:10Z

What is the difference betweenandThey both seem to output「ab」.The difference is in the second argument. The second argument to substring is the index to stop at (but not include), but the second argument to substr is the maximum length to return.Links?https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/substrhttps://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/substringsubstr (MDN) takes parameters as (from, length).

substring (MDN) takes parameters as (from, to).You can remember substring takes indices, as does yet another string extraction method, slice.When starting from 0 you can use either method.As hinted at in yatima2975's answer, there is an additional difference:substr() accepts a negative starting position as an offset from the end of the string.  substring() does not.From MDN:So to sum up the functional differences:substring(begin-offset, end-offset-exclusive) where begin-offset is 0 or greatersubstr(begin-offset, length) where begin-offset may also be negativeAnother gotcha I recently came across is that in IE 8, "abcd".substr(-1) erroneously returns "abcd", whereas Firefox 3.6 returns "d" as it should. slice works correctly on both.More on this topic can be found here.The main difference is thatsubstr() allows you to specify the maximum length to return substring() allows you to specify the indices and the second argument is NOT inclusiveThere are some additional subtleties between substr() and substring() such as the handling of equal arguments and negative arguments. Also note substring() and slice() are similar but not always the same.The difference is second parameter. Their second parameters, while both numbers, are expecting two different things:When using substring the second parameter is the first index not to include:When using substr the second parameter is the number of characters to include in the substring:Slice vs Substr vs Substring vs [ ] MethodsThere are performance benefits to each of these javascript methods. Please use these functions accordingly.The big difference is, substr() is a deprecated method that can still be used, but should be used with caution because they are expected to be removed entirely sometime in the future. You should work to remove their use from your code. And the substring() method succeeded and specified the former one.substring(): 

It has 2 parameters "start" and "end". If the end parameter is not specified, all the characters from the start position till the end of the string are extracted. If the value of start parameter is greater than the value of the end parameter, this method will swap the two arguments. This means start will be used as end and end will be used as start.substr(): It has 2 parameters "start" and "count". If the count parameter is not specified, all the characters from the start position till the end of the string are extracted. If count is 0 or negative, an empty string is returned.substring(startIndex, endIndex(not included))substr(startIndex, how many characters)

Remove all child elements of a DOM node in JavaScript

Polaris878

[Remove all child elements of a DOM node in JavaScript](https://stackoverflow.com/questions/3955229/remove-all-child-elements-of-a-dom-node-in-javascript)

How would I go about removing all of the child elements of a DOM node in JavaScript?Say I have the following (ugly) HTML:And I grab the node I want like so:How could I remove the children of foo so that just <p id="foo"></p> is left?Could I just do:or should I be using some combination of removeElement?I'd like the answer to be straight up DOM; though extra points if you also provide an answer in jQuery along with the DOM-only answer.

2010-10-17 20:51:00Z

How would I go about removing all of the child elements of a DOM node in JavaScript?Say I have the following (ugly) HTML:And I grab the node I want like so:How could I remove the children of foo so that just <p id="foo"></p> is left?Could I just do:or should I be using some combination of removeElement?I'd like the answer to be straight up DOM; though extra points if you also provide an answer in jQuery along with the DOM-only answer.The currently accepted answer is wrong about innerHTML being slower (at least in IE and Chrome), as m93a correctly mentioned.Chrome and FF are dramatically faster using this method (which will destroy attached jquery data):in a distant second for FF and Chrome, and fastest in IE:InnerHTML won't destroy your event handlers or break jquery references, it's also recommended as a solution here: 

https://developer.mozilla.org/en-US/docs/Web/API/Element.innerHTML.The fastest DOM manipulation method (still slower than the previous two) is the Range removal, but ranges aren't supported until IE9.The other methods mentioned seem to be comparable, but a lot slower than innerHTML, except for the outlier, jquery (1.1.1 and 3.1.1), which is considerably slower than anything else:Evidence here:http://jsperf.com/innerhtml-vs-removechild/167 http://jsperf.com/innerhtml-vs-removechild/300 

https://jsperf.com/remove-all-child-elements-of-a-dom-node-in-javascript

(New url for jsperf reboot because editing the old url isn't working)Jsperf's "per-test-loop" often gets understood as "per-iteration", and only the first iteration has nodes to remove so the results are meaningless, at time of posting there were tests in this thread set up incorrectly.This is a newer way to write node removal in ES5. It is vanilla JS and reads much nicer than previous versions.Most users should have modern browsers or you can transpile down if needed.Browser Support - 95% Dec 2019If there's any chance that you have jQuery affected descendants, then you must use some method that will clean up jQuery data.The jQuery .empty() method will ensure that any data that jQuery associated with elements being removed will be cleaned up.If you simply use DOM methods of removing the children, that data will remain.If you use jQuery:If you don't:The fastest...Thanks to Andrey Lushnikov for his link to jsperf.com (cool site!).EDIT: to be clear, there is no performance difference in Chrome between firstChild and lastChild.  The top answer shows a good solution for performance.If you only want to have the node without its children you could also make a copy of it like this:Depends on what you're trying to achieve.It's like innerText, except standard. It's a bit slower than removeChild(), but it's easier to use and won't make much of a performance difference if you don't have too much stuff to delete.Here's another approach:In response to DanMan, Maarten and Matt. Cloning a node, to set the text is indeed a viable way in my results.Also this works for nodes not in the dom which return null when trying to access the parentNode. In addition, if you need to be safe a node is empty before adding content this is really helpful. Consider the use case underneath.I find this method very useful when replacing a string inside an element, if you are not sure what the node will contain, instead of worrying how to clean up the mess, start out fresh.Here is what I usually do :And voila, later on you can empty any dom element with :There are couple of options to achieve that:The fastest ():Alternatives (slower):Benchmark with the suggested optionsThis will remove all nodes within the element.innerText is the winner! http://jsperf.com/innerhtml-vs-removechild/133. At all previous tests inner dom of parent node were deleted at first iteration and then innerHTML or removeChild where applied to empty div.Simplest way of removing the child nodes of a node via Javascripti saw people doing:then someone said using el.lastNode is fasterhowever I would think that this is the fastest:what do you think?ps:

this topic was a life saver for me. my firefox addon got rejected cuz i used innerHTML. Its been a habit for a long time. then i foudn this. and i actually noticed a speed difference. on load the innerhtml took awhile to update, however going by addElement its instant!Using a range loop feels the most natural to me:According to my measurements in Chrome and Firefox, it is about 1.3x slower. In normal circumstances, this will perhaps not matter.Generally, JavaScript uses arrays to reference lists of DOM nodes. So, this will work nicely if you have an interest in doing it through the HTMLElements array. Also, worth noting, because I am using an array reference instead of JavaScript proto's this should work in any browser, including IE.Why aren't we following the simplest method here "remove" looped inside while.Just saw someone mention this question in another and thought I would add a method I didn't see yet:The clear function is taking the element and using the parent node to replace itself with a copy without it's children.  Not much performance gain if the element is sparse but when the element has a bunch of nodes the performance gains are realized.Functional only approach:"childNodes" in domChildren will give a nodeList of the immediate children elements, which is empty when none are found. In order to map over the nodeList, domChildren converts it to array. domEmpty maps a function domRemove over all elements which removes it.Example usage:removes all children from the body element.Other ways in jQuerysimply only IE:true - means to do deep removal - which means that all child are also removedThe easiest way:simple and fast using for loop!!this will not work in <span> tag!If you want to put something back into that div, the innerHTML is probably better.My example:If I use the .firstChild or .lastChild method the displayHTML() function doesnt work afterwards, but no problem with the .innerHTML method.This is a pure javascript i am not using jQuery but works in all browser even IE and it is verry simple to understandwith jQuery :

How to find event listeners on a DOM node when debugging or from the JavaScript code?

Navneet

[How to find event listeners on a DOM node when debugging or from the JavaScript code?](https://stackoverflow.com/questions/446892/how-to-find-event-listeners-on-a-dom-node-when-debugging-or-from-the-javascript)

I have a page where some event listeners are attached to input boxes and select boxes. Is there a way to find out which event listeners are observing a particular DOM node and for what event?Events are attached using:

2009-01-15 14:19:44Z

I have a page where some event listeners are attached to input boxes and select boxes. Is there a way to find out which event listeners are observing a particular DOM node and for what event?Events are attached using:If you just need to inspect what's happening on a page, you might try the Visual Event bookmarklet.Update: Visual Event 2 available.It depends on how the events are attached. For illustration presume we have the following click handler:We're going to attach it to our element using different methods, some which allow inspection and some that don't.Method A) single event handlerMethod B) multiple event handlersMethod C): jQuery(See jQuery.fn.data and jQuery.data)Method D): Prototype (messy)Chrome, Firefox, Vivaldi and Safari support getEventListeners(domElement) in their Developer Tools console.For majority of the debugging purposes, this could be used. Below is a very good reference to use it:

https://developers.google.com/web/tools/chrome-devtools/console/utilities#geteventlistenersWebKit Inspector in Chrome or Safari browsers now does this. It will display the event listeners for a DOM element when you select it in the Elements pane.It is possible to list all event listeners in JavaScript: It's not that hard; you just have to hack the prototype's method of the HTML elements (before adding the listeners).Now every anchor element (a) will have a lastListenerInfo property wich contains all of its listeners. And it even works for removing listeners with anonymous functions.Use getEventListeners in Google Chrome:(Rewriting the answer from this question since it's relevant here.)When debugging, if you just want to see the events, I recommend either... If you want to use the events in your code, and you are using jQuery before version 1.8, you can use: to get the events. As of version 1.8, using .data("events") is discontinued (see this bug ticket). You can use:Another example: Write all click events on a certain link to the console:(see http://jsfiddle.net/HmsQC/ for a working example)Unfortunately, using $._data this is not recommended except for debugging since it is an internal jQuery structure, and could change in future releases. Unfortunately I know of no other easy means of accessing the events.1: Prototype.observe uses Element.addEventListener (see the source code)2: You can override Element.addEventListener to remember the added listeners (handy property EventListenerList was removed from DOM3 spec proposal). Run this code before any event is attached:Read all the events by:And don't forget to override Element.removeEventListener to remove the event from the custom Element.eventListenerList.3: the Element.onclick property needs special care here:4: don't forget the Element.onclick content attribute: these are two different things:So you need to handle it, too:The Visual Event bookmarklet (mentioned in the most popular answer) only steals the custom library handler cache:Element overriding may be questionable (i.e. because there are some DOM specific features like live collections, which can not be coded in JS), but it gives the eventListenerList support natively and it works in Chrome, Firefox and Opera (doesn't work in IE7).You could wrap the native DOM methods for managing event listeners by putting this at the top of your <head>:H/T @les2The Firefox developer tools now does this. Events are shown by clicking the "ev" button on the right of each element's display, including jQuery and DOM events.If you have Firebug, you can use console.dir(object or array) to print a nice tree in the console log of any JavaScript scalar, array, or object. Try: orFully working solution based on answer by Jan Turon - behaves like getEventListeners() from console:(There is a little bug with duplicates. It doesn't break much anyway.)Usage:someElement.getEventListeners([name]) - return list of event listeners, if name is set return array of listeners for that eventsomeElement.clearEventListeners([name]) - remove all event listeners, if name is set only remove listeners for that eventOpera 12 (not the latest Chrome Webkit engine based) Dragonfly has had this for a while and is obviously displayed in the DOM structure. In my opinion it is a superior debugger and is the only reason remaining why I still use the Opera 12 based version (there is no v13, v14 version and the v15 Webkit based lacks Dragonfly still)Prototype 1.7.1 wayI was recently working with events and wanted to view/control all events in a page. Having looked at possible solutions, I've decided to go my own way and create a custom system to monitor events. So, I did three things.First, I needed a container for all the event listeners in the page: that's theEventListeners object. It has three useful methods: add(), remove(), and get().Next, I created an EventListener object to hold the necessary information for the event, i.e.: target, type, callback, options, useCapture, wantsUntrusted, and added a method remove() to remove the listener.Lastly, I extended the native addEventListener() and removeEventListener() methods to make them work with the objects I've created (EventListener and EventListeners).Usage:addEventListener() creates an EventListener object, adds it to EventListeners and returns the EventListener object, so it can be removed later.EventListeners.get() can be used to view the listeners in the page. It accepts an EventTarget or a string (event type).DemoLet's say we want to know every event listener in this current page. We can do that (assuming you're using a script manager extension, Tampermonkey in this case). Following script does this:And when we list all the listeners, it says there are 299 event listeners. There "seems" to be some duplicates, but I don't know if they're really duplicates. Not every event type is duplicated, so all those "duplicates" might be an individual listener.Code can be found at my repository. I didn't want to post it here because it's rather long.Update: This doesn't seem to work with jQuery. When I examine the EventListener, I see that the callback isI believe this belongs to jQuery, and is not the actual callback. jQuery stores the actual callback in the properties of the EventTarget:To remove an event listener, the actual callback needs to be passed to the removeEventListener() method. So in order to make this work with jQuery, it needs further modification. I might fix that in the future.I am trying to do that in jQuery 2.1, and with the "$().click() -> $(element).data("events").click;" method it doesn't work.I realized that only the $._data() functions works in my case :There exists nice jQuery Events extension  :

(topic source)changing these functions will allow you to log the listeners added:read the rest of the listeners with

What is the correct way to check for string equality in JavaScript?

JSS

[What is the correct way to check for string equality in JavaScript?](https://stackoverflow.com/questions/3586775/what-is-the-correct-way-to-check-for-string-equality-in-javascript)

What is the correct way to check for equality between Strings in JavaScript?

2010-08-27 17:37:55Z

What is the correct way to check for equality between Strings in JavaScript?always Until you fully understand the differences and implications of using the == and === operators, use the === operator since it will save you from obscure (non-obvious) bugs and WTFs.  The "regular" == operator can have very unexpected results due to the type-coercion internally, so using === is always the recommended approach.For insight into this, and other "good vs. bad" parts of Javascript read up on Mr. Douglas Crockford and his work.  There's a great Google Tech Talk where he summarizes lots of good info: http://www.youtube.com/watch?v=hQVTIJBZookUpdate:The You Don't Know JS series by Kyle Simpson is excellent (and free to read online).  The series goes into the commonly misunderstood areas of the language and explains the "bad parts" that Crockford suggests you avoid.  By understanding them you can make proper use of them and avoid the pitfalls.The "Up & Going" book includes a section on Equality, with this specific summary of when to use the loose (==) vs strict (===) operators:I still recommend Crockford's talk for developers who don't want to invest the time to really understand Javascript—it's good advice for a developer who only occasionally works in Javascript.If you know they are strings, then there's no need to check for type.However, note that string objects will not be equal.will return false.Call the valueOf() method to convert it to a primitive for String objects,will return trueJust one addition to answers: If all these methods return false, even if strings seem to be equal, it is possible that there is a whitespace to the left and or right of one string. So, just put a .trim() at the end of strings before comparing:I have lost hours trying to figure out what is wrong.

Hope this will help to someone!what led me to this question is the padding and white-spaces  check my caseand title was "           LastName"Unless you really know how coercion works, you should avoid == and use the identity operator === instead. But you should read this to understand how it works.If you use ==, you let the language do some type coercion for you, so for example:As Douglas Crockford's said in his book: There are actually two ways in which strings can be made in javascript.So the best way to check for equality is using the === operator because it checks value as well as type of both operands.If you want to check for equality between two objects then using String.prototype.valueOf is the correct way.String Objects can be checked using JSON.stringyfy() trick.Considering that both strings may be very large, there are 2 main approaches bitwise search and localeCompareI recommed this functionThe easiest way to do it is to use a ternary operator like so:but if the string you want to compare is in an array, you'll use the es6 filterthe above will check your stringArray and whatever string that matches it from the array which in our case we chose "boys"I came up with a alternative solution during testing.

you can use function on the string prototype.works fine in chrome browsers

How to sort an array of integers correctly

peirix

[How to sort an array of integers correctly](https://stackoverflow.com/questions/1063007/how-to-sort-an-array-of-integers-correctly)

Trying to get the highest and lowest value from an array that I know will contain only integers seems to be harder than I thought.I'd expect this to show 99, 104, 140000. Instead it shows 104, 140000, 99. So it seems the sort is handling the values as strings.Is there a way to get the sort function to actually sort on integer value?

2009-06-30 10:43:11Z

Trying to get the highest and lowest value from an array that I know will contain only integers seems to be harder than I thought.I'd expect this to show 99, 104, 140000. Instead it shows 104, 140000, 99. So it seems the sort is handling the values as strings.Is there a way to get the sort function to actually sort on integer value?By default, the sort method sorts elements alphabetically. To sort numerically just add a new method which handles numeric sorts (sortNumber, shown below) - In ES6, you can simplify this with arrow functions:Documentation:Mozilla Array.prototype.sort() recommends this compare function for arrays that don't contain Infinity or NaN.  (Because Inf - Inf is NaN, not 0).Also examples of sorting objects by key.Just building on all of the above answers, they can also be done in one line like this:array.sort does a lexicographic sort by default, for a numeric sort, provide your own function. Here's a simple example:Also note that sort works "in place", there's no need for the assignment.This answer is equivalent to some of the existing answers, but ECMAScript 6 arrow functions provide a much more compact syntax that allows us to define an inline sort function without sacrificing readability:It is supported in most browsers today.I am surprised why everyone recommends to pass a comparator funciton to sort(), that makes sorting really slow!To sort numbers, just create any TypedArray:From the documentation:If you print the unicode point values of the array then it will get clear.This returns: "49, 49, 57".Now, because 140000 and 104 returned the same values (49) it cuts the first index and checks again:If we sort this, then we will get:so 104 comes before 140000.So the final result will be: 

104, 140000, 99Conclusion:sort() does sorting by only looking at the first index of the numbers. sort() does not care if a whole number is bigger than another, it compares the value of the unicode of the digits, and if there are two equal unicode values, then it checks if there is a next digit and compares it as well.To sort correctly, you have to pass a compare function to sort() like explained here.I agree with aks, however instead of using    You should useIn JavaScript the sort() method's default behaviour is to sort values in an array alphabetically.To sort by number you have to define a numeric sort function (which is very easy):In the new ES6 world its much easier to do a sort Thats all you need  :)Array.prototype.sort() is the go to method for sorting arrays, but there are a couple of issues we need to be aware of.The sorting order is by default lexicographic and not numeric regardless of the types of values in the array. Even if the array is all numbers, all values will be converted to string and sorted lexicographically.So should we need to customize the sort() and reverse() method like below.Referred URLFor sorting numbers inside the arrayFor reversing numbers inside the arrayReferred URLThe question has already been answered, the shortest way is to use sort() method. But if you're searching for more ways to sort your array of numbers, and you also love cycles, check the followingInsertion sortAscending:

Descending:Selection sort:Ascending:Descending:Have funThe function 'numerically' below serves the purpose of sorting array of numbers numerically in many cases when provided as a callback function:But in some rare instances, where array contains very large and negative numbers, an overflow error can occur as the result of a-b gets smaller than the smallest number that JavaScript can cope with.So a better way of writing numerically function is as follows:For a normal array of elements values only:For an array of objects:to handle undefined, null, and NaN: Null behaves like 0, NaN and undefined goes to end.Try this code:HTML:JavaScript code:Try this code as belowMy personal favorite form of this function allows for a param for Ascending, or Descending:Usage as simple as:jsFiddleNow have even more fun with a sorting method that sorts an array full of multiple items! Doesn't currently cover "associative" (aka, string keys), but it does cover about every type of value! Not only will it sort the multiple values asc or desc accordingly, but it will also maintain constant "position" of "groups" of values. In other words; ints are always first, then come strings, then arrays (yes, i'm making this multidimensional!), then Objects (unfiltered, element, date), & finally undefineds and nulls! "Why?" you ask. Why not!Now comes in 2 flavors! The first of which requires newer browsers as it uses Object.defineProperty to add the method to the Array.protoype Object. This allows for ease of natural use, such as: myArray.smartSort('a'). If you need to implement for older browsers, or you simply don't like modifying native Objects, scroll down to Method Only version.jsFiddle Array.prototype.smartSort('asc|desc')Use is simple! First make some crazy array like:Then simply sort it!Same as the preceding, except as just a simple method!Use:jsFiddle Method smartSort(Array, "asc|desc")This is the already proposed and accepted solution as a method on the Array prototype:As sort method converts Array elements into string. So, below way also works fine with decimal numbers with array elements.And gives you the expected result.While not required in JavaScript, if you would like the sort() compareFunction to strictly return -1, 0, or 1 (similar to how the spaceship operator works in PHP), then you can use Math.sign().The compareFunction below strictly returns -1, 0, or 1:Here is my sort array function in the utils library:

How to get the data-id attribute?

Bruce Adams

[How to get the data-id attribute?](https://stackoverflow.com/questions/5309926/how-to-get-the-data-id-attribute)

I'm using the jQuery quicksand plugin. I need to get the data-id of the clicked item and pass it to a webservice.

How do I get the data-id attribute? I'm using the .on() method to re-bind the click event for sorted items.

2011-03-15 09:44:30Z

I'm using the jQuery quicksand plugin. I need to get the data-id of the clicked item and pass it to a webservice.

How do I get the data-id attribute? I'm using the .on() method to re-bind the click event for sorted items.To get the contents of the attribute data-id (like in <a data-id="123">link</a>) you have to useor .data() (if you use newer jQuery >= 1.4.3)and the part after data- must be lowercase, e.g. data-idNum will not work, but data-idnum will.If we want to retrieve or update these attributes using existing, native JavaScript, then we can do so using the getAttribute and setAttribute methods as shown below:   Through JavaScript Through jQueryRead this documentationImportant note. Keep in mind, that if you adjust the data- attribute dynamically via JavaScript it will NOT be reflected in the data() jQuery function. You have to adjust it via data() function as well.js:If you are not concerned about old IE browsers, you can also use HTML5 dataset APIHTMLJSDemo: http://html5demos.com/datasetFull browser support list: http://caniuse.com/#feat=datasetSurprised no one mentioned: Here is the working example: https://jsfiddle.net/ed5axgvk/1/HTMLJSorWorks for me!I use $.data - http://api.jquery.com/jquery.data/works for me!Accessing data attribute with its own id is bit easy for me.$("#Id").data("attribute");This piece of code will return the value of the data attributes eg: data-id, data-time, data-name etc.., I have shown for the idjs:// get the value of the data-id -> a1// this will change the data-id -> a2// get the value of the data-id -> a2using jQuery:For those looking to dynamically remove and re-enable the tooltip, you can use the dispose and enable methods. See https://getbootstrap.com/docs/4.0/components/tooltips/#tooltipdisposeI have a span. I want to take the value of attribute data-txt-lang, which is used defined.The issue is you are not specifying the the option or selected option of dropdown or list, Here is an example for dropdown, i am assuming a data attribute data-record.

How to detect Safari, Chrome, IE, Firefox and Opera browser?

FrankC

[How to detect Safari, Chrome, IE, Firefox and Opera browser?](https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser)

I have 5 addons/extensions for FF, Chrome, IE, Opera, and Safari. How can I recognize the user browser and redirect (once an install button has been clicked) to download the corresponding addon?

2012-03-23 23:06:42Z

I have 5 addons/extensions for FF, Chrome, IE, Opera, and Safari. How can I recognize the user browser and redirect (once an install button has been clicked) to download the corresponding addon?Googling for browser reliable detection often results in checking the User agent string. This method is not reliable, because it's trivial to spoof this value.

I've written a method to detect browsers by duck-typing.Only use the browser detection method if it's truly necessary, such as showing browser-specific instructions to install an extension. Use feature detection when possible.Demo: https://jsfiddle.net/6spj1059/The previous method depended on properties of the rendering engine (-moz-box-sizing and -webkit-transform) to detect the browser. These prefixes will eventually be dropped, so to make detection even more robust, I switched to browser-specific characteristics:You can try following way to check Browser version.    And if you need to know only IE Browser version then you can follow below code. This code works well for version IE6 to IE11I know it may be overkill to use a lib for that, but just to enrich the thread, you could check is.js way of doing this:In case anyone finds this useful, I've made Rob W's answer into a function that returns the browser string rather than having multiple variables floating about. Since the browser also can't really change without loading all over again, I've made it cache the result to prevent it from needing to work it out the next time the function is called.Here are several prominent libraries that handle browser detection as of Dec 2019.*supports Edge based on ChromiumShort variantHere's a 2016 adjusted version of Rob's answer, including Microsoft Edge and detection of Blink:(edit: I updated Rob's answer above with this information.)The beauty of this approach is that it relies on browser engine properties, so it covers even derivative browsers, such as Yandex or Vivaldi, which are practically compatible with the major browsers whose engines they use. The exception is Opera, which relies on user agent sniffing, but today (i.e. ver. 15 and up) even Opera is itself only a shell for Blink.Thank you, everybody. I tested the code snippets here on the recent browsers: Chrome 55, Firefox 50, IE 11 and Edge 38 and I came up with the following combination that worked for me for all of them. I'm sure it can be improved, but it's a quick solution for whoever needs:It adds a CSS class to the HTML, with the name of the browser.No idea if it is useful to anyone but here is a variant to make TypeScript happy.}You can use try and catch to use the different browser error messages.

IE and edge were mixed up, but I used the duck typing from Rob W (based on this project here: https://www.khanacademy.org/computer-programming/i-have-opera/2395080328).There is also a less "hacky" method which works for all popular browsers.

Google has included a browser-check in their Closure Library. In particular, have a look at goog.userAgent and goog.userAgent.product. In this way, you are also up to date if something changes in the way the browsers present themselves (given that you always run the latest version of the closure compiler.)If you need to know what is the numeric version of some particular browser you can use the following snippet. Currently it will tell you the version of Chrome/Chromium/Firefox:Detecting Browsers on Desktop and Mobile : Edge, Opera, Chrome, Safari, Firefox, IEThanks @nimesh user:2063564UAParser is one of the lightweight JavaScript Library to identify browser, engine, OS, CPU, and device type/model from userAgent string. There's an CDN available. Here, I have included a example code to detect browser using UAParser.Now you can use the value of result.browser to conditionally program your page.Source Tutorial: How to detect browser, engine, OS, CPU, and device using JavaScript?This combines both Rob's original answer and Pilau's update for 2016 Here you find out which browser is it running.We can use below util methodsSimple, single line of JavaScript code will give you the name of browser:

Is there a link to the「latest」jQuery library on Google APIs? [duplicate]

Nick Pierpoint

[Is there a link to the「latest」jQuery library on Google APIs? [duplicate]](https://stackoverflow.com/questions/441412/is-there-a-link-to-the-latest-jquery-library-on-google-apis)

I use the following for a jQuery link in my <script> tags:Is there a link to the "latest" version? Something like the following (which doesn't work):(Obviously not necessarily a great plan to link your code to potentially changing libraries but useful in development.)

2009-01-14 00:08:57Z

I use the following for a jQuery link in my <script> tags:Is there a link to the "latest" version? Something like the following (which doesn't work):(Obviously not necessarily a great plan to link your code to potentially changing libraries but useful in development.)Up until jQuery 1.11.1, you could use the following URLs to get the latest version of jQuery:For example:However, since jQuery 1.11.1, both jQuery and Google stopped updating these URL's; they will forever be fixed at 1.11.1. There is no supported alternative URL to use. For an explanation of why this is the case, see this blog post; Don't use jquery-latest.js.Both hosts support https as well as http, so change the protocol as you see fit (or use a protocol relative URI)See also: https://developers.google.com/speed/libraries/devguideDO NOT USE THIS ANSWER. The URL is pointing at jQuery 1.11 (and always will).http://code.jquery.com/jquery-latest.min.js is the minified version, always up-to-date.Be aware that caching headers are different when you use "direct" vs. "latest" link from google.When using http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.jsWhen using http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.jsDon’t Use jquery-latest.jsThis file is no longer updated (it'll be on v1.11.1 forever). Furthermore it has a very short cache life, (wiping out the benefits of using a CDN) so you'd be better of selecting a version of jQuery instead.More details on the jQuery blog:

http://blog.jquery.com/2014/07/03/dont-use-jquery-latest-js/Not for nothing, but you shouldn't just automatically use the latest library. If they release the newest library tomorrow and it breaks some of your scripts, you are SOL, but if you use the library you used to develop the scripts, you will ensure they will work.Use:Note: The above snippet will stick to 1.7.1 or 1.11.1.My advice for production is to hard code the CDN jQuery version: <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>You can find the latest Libraries of Google CDN here:

https://developers.google.com/speed/libraries/Or use the jQuery CDN:

https://code.jquery.com/jQuery also doesn't allow you to call their latest file over SSL, a consideration if you want to use jQuery in a shopping cart etc.e.g.will give you a security error.Google's API will let you call over SSL:Yes there is.http://code.jquery.com/jquery-latest.min.jsNo.  There isn't..But, for development there is such a link on the jQuery code site.What about this one?http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.jsI think this is always the latest version - Correct me, if I'm wrong.http://lab.abhinayrathore.com/jquery_cdn/ is a page where you can find links to the latest versions of jQuery, jQuery UI and Themes for Google and Microsoft CDN's.This page automatically updates with the latest links from the CDN.You can use the latest version of the jQuery library by any of the following.

Scroll to bottom of div?

dMix

[Scroll to bottom of div?](https://stackoverflow.com/questions/270612/scroll-to-bottom-of-div)

I am creating a chat using ajax requests in rails and I'm trying to get a div to scroll to the bottom without much luck.I am wrapping everything in this div:Is there a way to keep it scrolled to the bottom by default using JS?Is there a way to keep it scrolled to the bottom after an ajax request?

2008-11-06 22:37:30Z

I am creating a chat using ajax requests in rails and I'm trying to get a div to scroll to the bottom without much luck.I am wrapping everything in this div:Is there a way to keep it scrolled to the bottom by default using JS?Is there a way to keep it scrolled to the bottom after an ajax request?Here's what I use on my site:This is much easier if you're using jQuery scrollTop:using jQuery animate:You can use the following code:To perform a smooth scroll with JQuery:See the example on JSFiddleAnd that's how it works:Ref: scrollTop, scrollHeight, clientHeightWorks from jQuery 1.6https://api.jquery.com/scrollTop/http://api.jquery.com/prop/Newer method that works on all current browsers:smooth scroll with Javascript:document.getElementById('messages').scrollIntoView({ behavior: 'smooth', block: 'end' });If you don't want to rely on scrollHeight, the following code helps:Using jQuery, scrollTop is used to set the vertical position of scollbar for any given element. there is also a nice jquery scrollTo plugin used to scroll with animation and different options (demos)if you want to use jQuery's animate method to add animation while scrolling down, check the following snippet:I have encountered the same problem, but with an additional constraint: I had no control over the code that appended new elements to the scroll container. None of the examples I found here allowed me to do just that. Here is the solution I ended up with .It uses Mutation Observers (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver) which makes it usable only on modern browsers (though polyfills exist)So basically the code does just that :I made a fiddle to demonstrate the concept : 

https://jsfiddle.net/j17r4bnk/Javascript or jquery:Css:Found this really helpful, thank you.For the Angular 1.X folks out there: Just because the wrapping in jQuery elements versus HTML DOM elements gets a little confusing with angular.  Also for a chat application, I found making this assignment after your chats were loaded to be useful, you also might need to slap on short timeout as well. small addendum: scrolls only, if last line is already visible. if scrolled a tiny bit, leaves the content where it is (attention: not tested with different font sizes. this may need some adjustments inside ">= comparison"):Just as a bonus snippet. I'm using angular and was trying to scroll a message thread to the bottom when a user selected different conversations with users. In order to make sure that the scroll works after the new data had been loaded into the div with the ng-repeat for messages, just wrap the scroll snippet in a timeout.That will make sure that the scroll event is fired after the data has been inserted into the DOM.You can also, using jQuery, attach an animation to html,body of the document via:$("html,body").animate({scrollTop:$("#div-id")[0].offsetTop}, 1000);which will result in a smooth scroll to the top of the div with id "div-id".Java Script:document.getElementById('messages').scrollIntoView(false);Scrolls to the last line of the content present.This will let you scroll all the way down regards the document heightA very simple method to this is to set the scroll to to the height of the div.Scroll to the last element inside the div:On my Angular 6 application I just did this:The clearInterval(interval) function will stop the timer to allow manual scroll top / bottom.Sometimes the most simple is the best solution:

I do not know if this will help, it helped me to scroll it were ever I wanted too. The higher the "y=" is,the more down it scrolls and of course "0" means top, so there for example "1000" could be bottom, or "2000" or "3000" and so on, depending how long your page is.

This usually works in a button with onclick or onmouseover.I know this is an old question, but none of these solutions worked out for me. I ended up using offset().top to get the desired results. Here's what I used to gently scroll the screen down to the last message in my chat application:I hope this helps someone else.Set the distance from the top of the scrollable element to be the total height of the element.You can use the HTML DOM scrollIntoView Method like this:use :or check scroll to bottom :If this is being done for scrolling to the bottom of chat window, do the followingThe idea of scrolling to a particular div in the chat was the following 1) Each chat div consisting of Person, time and message is run in a for loop with class chatContentbox 2) querySelectorAll finds all such arrays. It could be 400 nodes (400 chats) 3) go to the last one 4) scrollIntoView() 

HTTP GET request in JavaScript?

mclaughlinj

[HTTP GET request in JavaScript?](https://stackoverflow.com/questions/247483/http-get-request-in-javascript)

I need to do an HTTP GET request in JavaScript. What's the best way to do that?I need to do this in a Mac OS X dashcode widget.

2008-10-29 16:31:34Z

I need to do an HTTP GET request in JavaScript. What's the best way to do that?I need to do this in a Mac OS X dashcode widget.Browsers (and Dashcode) provide an XMLHttpRequest object which can be used to make HTTP requests from JavaScript:However, synchronous requests are discouraged and will generate a warning along the lines of:You should make an asynchronous request and handle the response inside an event handler.In jQuery:Lots of great advice above, but not very reusable, and too often filled with DOM nonsense and other fluff that hides the easy code.Here's a Javascript class we created that's reusable and easy to use.  Currently it only has a GET method, but that works for us.  Adding a POST shouldn't tax anyone's skills.Using it is as easy as:The new window.fetch API is a cleaner replacement for XMLHttpRequest that makes use of ES6 promises. There's a nice explanation here, but it boils down to (from the article):Browser support is now good in the latest releases (works in Chrome, Firefox, Edge (v14), Safari (v10.1), Opera, Safari iOS (v10.3), Android browser, and Chrome for Android), however IE will likely not get official support. GitHub has a polyfill available which is recommended to support older browsers still largely in use (esp versions of Safari pre March 2017 and mobile browsers from the same period).I guess whether this is more convenient than jQuery or XMLHttpRequest or not depends on the nature of the project.Here's a link to the spec https://fetch.spec.whatwg.org/Edit:Using ES7 async/await, this becomes simply (based on this Gist):A version without callbackHere is code to do it directly with JavaScript. But, as previously mentioned, you'd be much better off with a JavaScript library. My favorite is jQuery.In the case below, an ASPX page (that's servicing as a poor man's REST service) is being called to return a JavaScript JSON object.Short and clean:IE will cache URLs in order to make loading faster, but if you're, say, polling a server at intervals trying to get new information, IE will cache that URL and will likely return the same data set you've always had.Regardless of how you end up doing your GET request - vanilla JavaScript, Prototype, jQuery, etc - make sure that you put a mechanism in place to combat caching. In order to combat that, append a unique token to the end of the URL you're going to be hitting. This can be done by:This will append a unique timestamp to the end of the URL and will prevent any caching from happening.Prototype makes it dead simpleOne solution supporting older browsers:Maybe somewhat overkill but you definitely go safe with this code.Usage:

I'm not familiar with Mac OS Dashcode Widgets, but if they let you use JavaScript libraries and support XMLHttpRequests, I'd use jQuery and do something like this:In your widget's Info.plist file, don't forget to set your AllowNetworkAccess key to true.The best way is to use AJAX ( you can find a simple tutorial on this page Tizag). The reason is that any other technique you may use requires more code, it is not guaranteed to work cross browser without rework and requires you use more client memory by opening hidden pages inside frames passing urls parsing their data and closing them. 

AJAX is the way to go in this situation. That my two years of javascript heavy development speaking. For those who use AngularJs, it's $http.get:You can get an HTTP GET request in two ways:To do this Fetch API is the recommended approach, using JavaScript Promises. XMLHttpRequest (XHR), IFrame object or dynamic  tags are older (and clunkier) approaches.Here is a great fetch demo and MDN docsSame thing can be done for post request as well.

Have a look at this link JavaScript post request like a form submitSimple async request:If you want to use the code for a Dashboard widget, and you don't want to include a JavaScript library in every widget you created, then you can use the object XMLHttpRequest that Safari natively supports.As reported by Andrew Hedges, a widget doesn't have access to a network, by default; you need to change that setting in the info.plist associated with the widget.AjaxYou'd be best off using a library such as Prototype or jQuery.To refresh best answer from joann with promise this is my code:You can do it with pure JS too:See: for more details: html5rocks tutorialHere is an alternative to xml files to load your files as an object and access properties as an object in a very fast way.XML works as a tree ok? instead of writing write a simple file like this:Save your file ..

Now call the function ....now you can get your values efficiently.It's just a small gift to contibute to the group. Thanks of your like :)If you want to test the function on your PC locally, restart your browser with the following command (supported by all browsers except safari):

Function overloading in Javascript - Best practices

hamdiakoguz

[Function overloading in Javascript - Best practices](https://stackoverflow.com/questions/456177/function-overloading-in-javascript-best-practices)

What is the best way(s) to fake function overloading in Javascript? I know it is not possible to overload functions in Javascript as in other languages. 

If I needed a function with two uses foo(x) and foo(x,y,z) which is the best / preferred way:

2009-01-19 00:06:27Z

What is the best way(s) to fake function overloading in Javascript? I know it is not possible to overload functions in Javascript as in other languages. 

If I needed a function with two uses foo(x) and foo(x,y,z) which is the best / preferred way:The best way to do function overloading with parameters is not to check the argument length or  the types; checking the types will just make your code slow and you have the fun of Arrays, nulls, Objects, etc.What most developers do is tack on an object as the last argument to their methods.  This object can hold anything. Then you can handle it anyway you want in your method. [Switch, if-else, etc.]I often do this:C#:JavaScript Equivalent:This particular example is actually more elegant in javascript than C#.  Parameters which are not specified are 'undefined' in javascript, which evaluates to false in an if statement. However, the function definition does not convey the information that p2 and p3 are optional.  If you need a lot of overloading, jQuery has decided to use an object as the parameter, for example, jQuery.ajax(options).  I agree with them that this is the most powerful and clearly documentable approach to overloading, but I rarely need more than one or two quick optional parameters.EDIT: changed IF test per Ian's suggestionThere is no real function overloading in JavaScript since it allows to pass any number of parameters of any type. You have to check inside the function how many arguments have been passed and what type they are.The correct answer is THERE IS NO OVERLOADING IN JAVASCRIPT.Checking / Switching inside the function is not OVERLOADING.The concept of overloading:

In some programming languages, function overloading or method overloading is the ability to create multiple methods of the same name with different implementations. Calls to an overloaded function will run a specific implementation of that function appropriate to the context of the call, allowing one function call to perform different tasks depending on context.For example, doTask() and doTask(object O) are overloaded methods. To call the latter, an object must be passed as a parameter, whereas the former does not require a parameter, and is called with an empty parameter field. A common error would be to assign a default value to the object in the second method, which would result in an ambiguous call error, as the compiler wouldn't know which of the two methods to use.https://en.wikipedia.org/wiki/Function_overloadingAll suggested implementations are great, but truth to be told, there is no native implementation for JavaScript.There are two ways you could approach this better: Here is an approach that allows real method overloading using parameter types, shown below:Edit (2018): Since this was written in 2011, the speed of direct method calls has greatly increased while the speed of overloaded methods have not.It is not an approach I would recommend, but it is a worthwhile thought exercise to think about how you can solve these types of problems.Here is a benchmark of the different approaches - https://jsperf.com/function-overloading. It shows that function overloading (taking types into account) can be around 13 times slower in Google Chrome's V8 as of 16.0(beta).As well as passing an object (i.e. {x: 0, y: 0}), one can also take the C approach when appropriate, naming the methods accordingly. For example, Vector.AddVector(vector), Vector.AddIntegers(x, y, z, ...) and Vector.AddArray(integerArray). You can look at C libraries, such as OpenGL for naming inspiration. Edit: I've added a benchmark for passing an object and testing for the object using both 'param' in arg and arg.hasOwnProperty('param'), and function overloading is much faster than passing an object and checking for properties (in this benchmark at least).From a design perspective, function overloading is only valid or logical if the overloaded parameters correspond to the same action. So it stands to reason that there ought to be an underlying method that is only concerned with specific details, otherwise that may indicate inappropriate design choices. So one could also resolve the use of function overloading by converting data to a respective object. Of course one must consider the scope of the problem as there's no need in making elaborate designs if your intention is just to print a name, but for the design of frameworks and libraries such thought is justified.My example comes from a Rectangle implementation - hence the mention of Dimension and Point. Perhaps Rectangle could add a GetRectangle() method to the Dimension and Point prototype, and then the function overloading issue is sorted. And what about primitives? Well, we have argument length, which is now a valid test since objects have a GetRectangle() method.The best way really depends on the function and the arguments. Each of your options is a good idea in different situations. I generally try these in the following order until one of them works:The issue is that JavaScript does NOT natively support method overloading. So, if it sees/parses two or more functions with a same names it’ll just consider the last defined function and overwrite the previous ones.One of the way I think is suitable for most of the case is follows - Lets say you have method Instead of overloading method which is not possible in javascript you can define a new method and then modify the 1st function as follows -If you have many such overloaded methods consider using switch than just if-else statements.(more details)PS: Above link goes to my personal blog that has additional details.I'm not sure about best practice, but here is how I do it:I just tried this, maybe it suits your needs.

Depending on the number of the arguments, you can access a different function. You initialize it the first time you call it.

And the function map is hidden in the closure.Test it. Since JavaScript doesn't have function overload options object can be used instead.  If there are one or two required arguments, it's better to keep them separate from the options object.  Here is an example on how to use options object and populated values to default value in case if value was not passed in options object.here is an example on how to use options objectThere is no way to function overloading in javascript.

So, I recommend like the following by typeof() method instead of

multiple function to fake overloading.Good luck!INTRODUCTIONSo far reading through so many answers would give anyone a headache. Anyone trying to know the concept would need to know the following prerequisites. Function overloading Definition, Function Length property, Function argument propertyFunction overloading in its simplest form means that a function performs different tasks on the basis of number of arguments that are being passed to it. Notably the TASK1, TASK2 and TASK3 are highlighted below and are being performed on the basis of the number of arguments being passed to the same function fooYo. NOTE

- JS does not provide inbuilt ability of function overloading. AlternativeJohn E Resig (creator of JS) has pointed out an alternative which uses the above prerequisites to achieve the ability to implement function overloading. The code below uses a straightforward but naive approach by using if-else or switch statement.Another technique is much more clean and dynamic. The highlight of this technique is the addMethod generic function. Another way to approach this is by using the special variable: arguments, this is an implementation:so you can modify this code to:check this out. It is very cool.

http://ejohn.org/blog/javascript-method-overloading/

Trick Javascript to allow you to do calls like this:Function overloading is the ability of a programming language to create multiple functions of the same name with different implementations. when an overloaded function is called it will run function a specific implementation of that function appropriate to the context of the call. This context is usually the amount of arguments is receives, and it allows one function call to behave differently depending on context.Javascript doesn't have built-in function overloading. However, this behaviour can be emulated in many ways. Here is a convenient simple one:In scenarios where you don't know how many arguments you will be getting you can use the rest operator which is three dots .... It will convert the remainder of the arguments into an array. Beware of browser compatibilty though. Here is an example:As this post already contains a lot of different solutions i thought i post another one.this can be used as shown below:This solution is not perfect but i only want to demonstrate how it could be done.You can user the 'addMethod' from John Resig. With this method you can "overload" methods based on arguments count.I have also created an alternative to this method that uses caching to hold the variations of the function. The differencies are described hereForward to another function which name is built from the 3rd & 4th points : This is from a larger body of code which includes the isFn, isArr, etc. type checking functions. The VanillaJS version below has been reworked to remove all external dependencies, however you will have to define you're own type checking functions for use in the .add() calls.Note: This is a self-executing function (so we can have a closure/closed scope), hence the assignment to window.overload rather than function overload() {...}.The caller defines their overloaded functions by assigning a variable to the return of overload(). Thanks to chaining, the additional overloads can be defined in series:The single optional argument to overload() defines the "default" function to call if the signature cannot be identified. The arguments to .add() are:This implementation actually allows for more than just traditional function overloads as the second a_vArgumentTests argument to .add() in practice defines custom types. So, you could gate arguments not only based on type, but on ranges, values or collections of values!If you look through the 145 lines of code for overload() you'll see that each signature is categorized by the number of arguments passed to it. This is done so that we're limiting the number of tests we are running. I also keep track of a call count. With some additional code, the arrays of overloaded functions could be re-sorted so that more commonly called functions are tested first, again adding some measure of performance enhancement.Now, there are some caveats... As Javascript is loosely typed, you will have to be careful with your vArgumentTests as an integer could be validated as a float, etc.JSCompress.com version (1114 bytes, 744 bytes g-zipped):You can now do function overloading in ECMAScript 2018 without polyfills, checking var length/type, etc., just use the spread syntax.Note: spread syntax in object literals doesn't work in Edge and IE and it is an experimental feature. see browser compatabilitySomething like this can be done for function overloading.SourceThis is an old question but one that I think needs another entry (although I doubt anyone will read it). The use of Immediately Invoked Function Expressions (IIFE) can be used in conjunction with closures and inline functions to allow for function overloading. Consider the following (contrived) example:In short, the use of the IIFE creates a local scope, allowing us to define the private variable old to store a reference to the initial definition of the function foo. This function then returns an inline function newFoo that logs the contents of both two arguments if it is passed exactly two arguments a and b or calls the old function if arguments.length !== 2. This pattern can be repeated any number of times to endow one variable with several different functional defitions.I would like to share a useful example of overloaded-like approach.Usage: 

  Clear(); // Clears all the documentClear(myDiv); // Clears panel referenced by myDivJavaScript is untyped language, and I only think that makes sense to overload a method/function with regards to the number of params. Hence, I would recommend to check if the parameter has been defined:As of July 2017, the following has been the common technique. Note that we can also perform type checking within the function.For your use case, this is how I would tackle it with ES6 (since it's already the end of 2017):You can obviously adapt this to work with any amount of parameters and just change your conditional statements accordingly.The first option really deserves attention cause it's the thing I've come up in quite complex code setup. So, my answer isWith a little but essential hint, names should look different for computer, but not for you. Name overloaded functions like: func, func1, func2.We made over.js to solve this problem is a very elegant way.  You can do:So I really liked this way of doing things that I found in secrets of the javascript ninjayou then use addMethod to add overloaded functions to any object.  The main confusion in this code for me was the use of fn.length == arguments.length -- this works because fn.length is the number of expected parameters, while arguments.length is the number of parameters that are actually called with the function. The reason the anonymous function has no argument is because you can pass in any number of arguments in javascript and the language is forgiving. I liked this because you can use it everywhere - just create this function and simply use the method in whatever code base you want. It also avoids having a ridiculously large if/switch statement, which becomes hard to read if you start writing complex code (the accepted answer will result in this).In terms of cons, I guess the code is initially a little obscure...but I'm not sure of others? 

What is the (function() { } )() construct in JavaScript?

Exitos

[What is the (function() { } )() construct in JavaScript?](https://stackoverflow.com/questions/8228281/what-is-the-function-construct-in-javascript)

I used to know what this meant, but I'm struggling now...Is this basically saying document.onload?

2011-11-22 14:19:11Z

I used to know what this meant, but I'm struggling now...Is this basically saying document.onload?It’s an Immediately-Invoked Function Expression, or IIFE for short. It executes immediately after it’s created.It has nothing to do with any event-handler for any events (such as document.onload).

Consider the part within the first pair of parentheses: (function(){})();....it is a regular function expression. Then look at the last pair (function(){})();, this is normally added to an expression to call a function; in this case, our prior expression.This pattern is often used when trying to avoid polluting the global namespace, because all the variables used inside the IIFE (like in any other normal function) are not visible outside its scope.

This is why, maybe, you confused this construction with an event-handler for window.onload, because it’s often used as this:  Correction suggested by Guffa:Update

Since this is a pretty popular topic, it's worth mentioning that IIFE's can also be written with ES6's arrow function (like Gajus has pointed out in a comment) :It's just an anonymous function that is executed right after it's created.It's just as if you assigned it to a variable, and used it right after, only without the variable:In jQuery there is a similar construct that you might be thinking of:That is the short form of binding the ready event:But the above two construct are not IIFE.An immediately-invoked function expression (IIFE) immediately calls a function. This simply means that the function is executed immediately after the completion of the definition.Three more common wordings:If there are no special requirements for its return value, then we can write:Alternatively, it can be:You can even write:It declares an anonymous function, then calls it:That is saying execute immediately.so if I do:Fiddle: http://jsfiddle.net/maniator/LqvpQ/That construct is called Immediately Invoked Function Expression (IIFE) which means it gets executed immediately. Think of it as a function getting called automatically when the interpreter reaches that function.Most Common Use-case:One of its most common use case is to limit the scope of a variable made via var. Variables created via var have a scope limited to a function so this construct (which is a function wrapper around certain code) will make sure that your variable scope doesn't leak out of that function. In following example, count will not be available outside the immediately invoked function i.e. Scope of count will not leak out of the function. You should get a Reference Error, should you try to access it outside of the immediately invoked function anyway.ES6 Alternative (Recommended)In ES6, we now can have variables created via let and const. Both of them are block-scoped (unlike var which is a function-scoped).Therefore, instead of using that complex construct of IIFE for the use case I mentioned above, you can now write much, much simpler code to make sure that a variable's scope does not leak out of your desired block. In this example, we used let to define a count variable which makes count limited to the block of code, we created with the curly brackets {...}. I call it a Curly Jail. This is called IIFE (Immediately Invoked Function Expression). One of the famous JavaScript design patterns, it is the heart and soul of the modern day Module pattern. As the name suggests it executes immediately after it is created. This pattern creates an isolated or private scope of execution.JavaScript prior to ECMAScript 6 used lexical scoping, so IIFE was used for simulating block scoping. (With ECMAScript 6 block scoping is possible with the introduction of the let and const keywords.)

Reference for issue with lexical scopingSimulate block scoping with IIFEThe performance benefit of using IIFE’s is the ability to pass commonly used global objects like window, document, etc. as an argument by reducing the scope lookup. (Remember JavaScript looks for properties in local scope and way up the chain until global scope). So accessing global objects in local scope reduces the lookup time like below.No, this construct just creates a scope for naming. If you break it in parts you can see that you have an externalThat is a function invocation. Inside the parenthesis you have:That is an anonymous function. Everything that is declared with var inside the construct will be visible only inside the same construct and will not pollute the global namespace.This is an Immediately Invoked Function Expression in Javascript:To understand IIFE in JS, lets break it down:How function expression works: 

- When JS engine runs for the first time (Execution Context - Create Phase), this function (on the right side of = above) does not get executed or stored in the memory. Variable 'greet' is assigned 'undefined' value by the JS engine. 

- During execution (Execution Context - Execute phase), the funtion object is created on the fly (its not executed yet), gets assigned to 'greet' variable and it can be invoked using 'greet('somename')'. 3. Immediately Invoked Funtion Expression:Example:How IIFE works: 

- Notice the '()' immediately after the function declaration. Every funtion object has a 'CODE' property attached to it which is callable. And we can call it (or invoke it) using '()' braces. 

- So here, during the execution (Execution Context - Execute Phase), the function object is created and its executed at the same time

- So now, the greeting variable, instead of having the funtion object, has its return value ( a string )Typical usecase of IIFE in JS: The following IIFE pattern is quite commonly used. So this function gets created and executed at the same time (IIFE).Important usecase for IIFE: IIFE keeps our code safe.  

- IIFE, being a function, has its own execution context, meaning all the variables created inside it are local to this function and are not shared with the global execution context. Suppose I've another JS file (test1.js) used in my applicaiton along with iife.js (see below). So IIFE helps us to write safe code where we are not colliding with the global objects unintentionally. That is a self-invoking anonymous function.Check out the W3Schools explanation of a self-invoking function.This is the self-invoking anonymous function. It is executed while it is defined. Which means this function is defined and invokes itself immediate after the definition.And the explanation of the syntax is: The function within the first () parenthesis is the function which has no name and by the next (); parenthesis you can understand that it is called at the time it is defined. And you can pass any argument in this second () parenthesis which will be grabbed in the function which is in the first parenthesis. See this example:Here the 'object' you are passing will be accessible within the function by 'obj', as you are grabbing it in the function signature.Start here:Put it in a function and it is no longer global -- your primary goal.Call the function immediately -- oops:Use the parentheses to avoid a syntax error:You can leave off the function name:It doesn't need to be any more complicated than that. Self-executing anonymous function. It's executed as soon as it is created.One short and dummy example where this is useful is:So instead of creating a list each time, you create it only once (less overhead).Self-executing functions are typically used to encapsulate context and avoid name collusions. Any variable that you define inside the (function(){..})() are not global.The codeproduces this output:By using this syntax you avoid colliding with global variables declared elsewhere in your JavaScript code.It is called IIFE - Immediately Invoked Function Expression. Here is an example to show it's syntax and usage. It is used to scope the use of variables only till the function and not beyond.IIFE (Immediately invoked function expression) is a function which executes as soon as the script loads and goes away. Consider the function below written in a file named iife.jsThis code above will execute as soon as you load iife.js and will print 'Hello Stackoverflow!' on the developer tools' console. For a Detailed explanation see Immediately-Invoked Function Expression (IIFE)One more use case is memoization where a cache object is not global:An IIFE can also be described as a self-invoking anonymous function. Its most common usage is to limit the scope of a variable made via var or to encapsulate context to avoid name collisions.The reason self-evoking anonymous functions are used is they should never be called by other code since they "set up" the code which IS meant to be called (along with giving scope to functions and variables).In other words, they are like programs that "make classes', at the beginning of program. After they are instantiated (automatically), the only functions that are available are the ones returned in by the anonymous function. However, all the other 'hidden' functions are still there, along with any state (variables set during scope creation).Very cool.The following code:is called an immediately invoked function expression (IIFE).It is called a function expression because the ( yourcode ) operator in Javascript force it into an expression. The difference between a function expression and a function declaration is the following:An expression is simply a bunch of code which can be evaluated to a single value. In case of the expressions in the above example this value was a single function object. After we have an expression which evaluates to a function object we then can immediately invoke the function object with the () operator. For example:When we are dealing with a large code base and/or when we are importing various libraries the chance of naming conflicts increases. When we are writing certain parts of our code which is related (and thus is using the same variables) inside an IIFE all of the variables and function names are scoped to the function brackets of the IIFE. This reduces chances of naming conflicts and lets you name them more careless (e.g. you don't have to prefix them).I think the 2 sets of brackets makes it a bit confusing but I saw another usage in googles example, they used something similar, I hope this will help you understand better:so if windows.app is not defined, then window.app = {} is immediately executed, so window.app is assigned with {} during the condition evaluation, so the result is both app and window.app now become {}, so console output is:Usually, we don't invoke a function immediately after we write it in the program. 

In extremely simple terms, when you call a function right after its creation, it is called IIFE - a fancy name.Normally, JavaScript code has global scope in the application. When we declare global variable in it, there is a chance for using the same duplicate variable  in some other area of the development for some other purpose. Because of this duplication there may happen some error. So we can avoid this global variables by using immediately invoking function expression , this expression is self-executing expression.When we make our code inside this IIFE expression global variable will be like local scope and local variable.Two ways we can create IIFEORIn the code snippet above,「var app」is a local variable now.

__proto__ VS. prototype in JavaScript

0x90

[__proto__ VS. prototype in JavaScript](https://stackoverflow.com/questions/9959727/proto-vs-prototype-in-javascript)

What are the differences between __proto__ and prototype?The figure was taken from dmitrysoshnikov.com.

2012-03-31 21:13:13Z

What are the differences between __proto__ and prototype?The figure was taken from dmitrysoshnikov.com.__proto__ is the actual object that is used in the lookup chain to resolve methods, etc.  prototype is the object that is used to build __proto__ when you create an object with new:prototype is a property of a Function object. It is the prototype of objects constructed by that function.__proto__ is internal property of an object, pointing to its prototype. Current standards provide an equivalent Object.getPrototypeOf(O) method, though de facto standard __proto__ is quicker.You can find instanceof relationships by comparing a function's prototype to an object's __proto__ chain, and you can break these relationships by changing prototype.Here Point is a constructor function, it builds an object (data structure) procedurally. myPoint is an object constructed by Point() so Point.prototype gets saved to myPoint.__proto__ at that time.Prototype property is created when a function is declared. For instance:Person.prototype property is created internally once you declare above function.

Many properties can be added to the Person.prototype which are shared by Person instances created using new Person().It is worth noting that Person.prototype is an Object literal by default (it can be changed as required). Every instance created using new Person() has a __proto__ property which points to the Person.prototype. This is the chain that is used to traverse to find a property of a particular object. creates 2 instances of Person, these 2 objects can call age method of Person.prototype as person1.age, person2.age.In the above picture from your question, you can see that Foo is a Function Object and therefore it has a __proto__ link to the Function.prototype which in turn is an instance of Object and has a __proto__ link to Object.prototype. The proto link ends here with __proto__ in the Object.prototype pointing to null.Any object can have access to all the properties in its proto chain as linked by __proto__ , thus forming the basis for prototypal inheritance.__proto__ is not a standard way of accessing the prototype chain, the standard but similar approach is to use Object.getPrototypeOf(obj).Below code for instanceof operator gives a better understanding:object instanceof Class operator returns true when an object is an instance of a Class, more specifically if Class.prototype is found in the proto chain of that object then the object is an instance of that Class.The above method can be called as: instanceOf.call(object, Class) which return true if object is instance of Class.A nice way to think of it is...prototype is used by constructor() functions. It should've really been called something like, "prototypeToInstall", since that's what it is.and __proto__ is that "installed prototype" on an object (that was created/installed upon the object from said constructor() function)To explain let us create a functionWhen JavaScript executes this code, it adds prototype property to a, prototype property is an object with two properties to it:So when we doa.prototype it returns Now as you can see constructor is nothing but the function a itself

and __proto__ points to the root level Object of JavaScript.Let us see what happens when we use a function with new key word.When JavaScript executes this code it does 4 things:Now if we add a.prototype.car = "BMW" and do 

b.car, the output "BMW" appears.this is because when JavaScript executed this code it searched for car property on b, it did not find then JavaScript used b.__proto__ (which was made to point to 'a.prototype' in step#2) and finds car property so return "BMW".When creating a function, a property object called prototype is being created automatically (you didn't create it yourself) and is being attached to the function object (the constructor). Note: This new prototype object also points to, or has an internal-private link to, the native JavaScript Object.Example:If you create a new object out of Foo using the new keyword, you are basically creating (among other things) a new object that has an internal or private link to the function Foo's prototype we discussed earlier:To be more specific, __proto__ is actually a getter function that belong to the native JavaScript Object. It returns the internal-private prototype linkage of whatever the this binding is (returns the [[Prototype]] of b):It is worth noting that starting of ECMAScript5, you can also use the getPrototypeOf method to get the internal private linkage:To make it a little bit clear in addition to above great answers:Instances have __proto__, classes have prototype.In JavaScript, a function can be used as a constructor. That means we can create objects out of them using the new keyword. Every constructor function comes with a built-in object chained with them. This built-in object is called a prototype. Instances of a constructor function use __proto__ to access the prototype property of its constructor function.I happen to be learning prototype from You Don't Know JS: this & Object Prototypes, which is a wonderful book to understand the design underneath and clarify so many misconceptions (that's why I'm trying to avoid using inheritance and things like instanceof). But I have the same question as people asked here. Several answers are really helpful and enlightening. I'd also love to share my understandings. Objects in JavaScript have an internal property, denoted in the specification as[[Prototype]], which is simply a reference to another object. Almost all objects are given a non-nullvalue for this property, at the time of their creation.via __proto__or Object.getPrototypeOfprototype is an object automatically created as a special property of a function, which is used to establish the delegation (inheritance) chain, aka prototype chain.When we create a function a, prototype is automatically created as a special property on a and saves the function code on as the constructor on prototype.I'd love to consider this property as the place to store the properties (including methods) of a function object. That's also the reason why utility functions in JS are defined like Array.prototype.forEach() , Function.prototype.bind(), Object.prototype.toString().Why to emphasize the property of a function?So, Arary, Function, Objectare all functions. I should admit that this refreshes my impression on JS. I know functions are first-class citizen in JS but it seems that it is built on functions.__proto__a reference works on every object to refer to its [[Prototype]]property.prototype is an object automatically created as a special property of a function, which is used to store the properties (including methods) of a function object.With these two, we could mentally map out the prototype chain. Like this picture illustrates:The __proto__ property of an object is a property that maps to the prototype of the constructor function of the object. In other words:instance.__proto__ === constructor.prototype // trueThis is used to form the prototype chain of an object. The prototype chain is a lookup mechanism for properties on an object. If an object's property is accessed, JavaScript will first look on the object itself. If the property isn't found there, it will climb all the way up to protochain until it is found (or not)Our first log results to true, this is because as mentioned the __proto__ property of the instance created by the constructor refers to the prototype property of the constructor. Remember, in JavaScript, functions are also Objects. Objects can have properties, and a default property of any function is one property named prototype.Then, when this function is utilized as a constructor function, the object instantiated from it will receive a property called __proto__. And this __proto__ property refers to the prototype property of the constructor function (which by default every function has).JavaScript has a mechanism when looking up properties on Objects which is called 'prototypal inheritance', here is what it basically does:For example:Another good way to understand it:Only after IE11 __proto__ is supported. Before that version, such as IE9, you could use the constructor to get the __proto__.In JavaScript, Every object(function is object too!) has a __proto__ property, the property is reference to its prototype.When we use the new operator with a constructor to create a new object,

the new object's __proto__ property will be set with constructor's prototype property,

then the constructor will be call by the new object,

in that process "this" will be a reference to the new object in the constructor scope, finally return the new object.Constructor's prototype is __proto__ property, Constructor's prototype property is work with the new operator.Constructor must be a function, but function not always is constructor even if it has prototype property.Prototype chain actually is object's __proto__ property to reference its prototype,

and the prototype's __proto__ property to reference the prototype's prototype, and so on,

until to reference Object's prototype's __proto__ property which is reference to null.For example:[[Prototype]] and __proto__ property actually is same thing.We can use Object's getPrototypeOf method to get something's prototype.Any function we written can be use to create an object with the new operator,

so anyone of those functions can be a constructor.prototype is a property of a Function. It is the blueprint for creating objects by using that (constructor) function with new keyword.__proto__ is used in the lookup chain to resolve methods, properties. when an object is created (using constructor function with new keyword), __proto__ is set to (Constructor) Function.prototypeImagine there is an imaginary class (blueprint/coockie cutter) associated with function. That imaginary class is used to instantiate objects. prototype is the extention mechanism (extention method in C#, or Swift Extension) to add things to that imaginary class.      The above can be imagined as:     So,    Now adding method to the prototype of Robot:The above can be imagined as extension of Robot class:    Which in turn,   To put it simply:This allows you to attach properties to X.prototype AFTER objects of type X has been instantiated, and they will still get access to those new properties through the __proto__ reference which the Javascript-engine uses to walk up the prototype chain.Prototype or Object.prototype is a property of an object literal. It represents the Object prototype object which you can override to add more properties or methods further along the prototype chain. __proto__ is an accessor property (get and set function) that exposes the internal prototype of an object thru which it is accessed.References:I know, I am late but let me try to simplify it. Let us say there is a function Foo function will have a prototype object linked. So,Whenever we create a function in JavaScript, it always has a prototype object linked to it. Now let us go ahead and create two objects using the function Foo. Now, Foo.prototype, a.proto, and b.proto  all denotes same object. all of above would return true. As we know, in JavaScript properties can be added dynamically. We can add property to object As you see we added Greet() method in Foo.prototype but it is accessible in a and b or any other object which is constructed using Foo. While executing a.Greet(), JavaScript will first search Greet in object a on property list. On not finding , it will go up in proto chain of a. Since a.proto and Foo.prototype is same object, JavaScript will find Greet() method and execute it. I hope, now prototype and proto  is simplified a bit. (number inside the parenthesis () is a 'link' to the code that is written below)prototype - an object that consists of:

 => functions (3) of this

   particular ConstructorFunction.prototype(5) that are accessible by each

   object (4) created or to-be-created through this constructor function (1)

 => the constructor function itself (1)

 => __proto__ of this particular object (prototype object)__proto__ (dandor proto?) - a link BETWEEN any object (2) created through a particular constructor function (1), AND the prototype object's properties (5) of that constructor THAT allows each created object (2) to have access to the prototype's functions and methods (4) (__proto__ is by default included in every single object in JS)1.2.3.  4.5.Explanatory example: now, myPupppie has __proto__ property which points to Dog.prototype.but myPuppie does NOT have a prototype property.So, __proto__ of mypuppie is the reference to the .prototype property of constructor function that was used to instantiate this object (and the current myPuppie object has "delegates to" relationship to this __proto__ object), while .prototype property of myPuppie is simply absent (since we did not set it).Good explanation by MPJ here:

proto vs prototype - Object Creation in JavaScriptI've made for myself a small drawing that represents the following code snippet:I have a classical OO background, so it was helpful to represent the hierarchy in this manner. To help you read this diagram, treat the rectangles in the image as JavaScript objects. And yes, functions are also objects. ;)Objects in JavaScript have properties and __proto__ is just one of them. The idea behind this property is to point to the ancestor object in the (inheritance) hierarchy. The root object in JavaScript is Object.prototype and all other objects are descendants of this one. The __proto__ property of the root object is null, which represents the end of inheritance chain.You'll notice that prototype is a property of functions. Cat is a function, but also Function and Object are (native) functions. tom is not a function, thus it does not have this property.The idea behind this property is to point to an object which will be used in the construction, i.e. when you call the new operator on that function.Indeed, when we create the tom object with new Cat(), the created object will have the __proto__ property set to the prototype object of the constructor function.In the end, let us play with this diagram a bit. The following statements are true:Cheers!I'll try a 4th grade explanation:Things are very simple. A prototype is an example of how something should be built. So:proof:Every function you create has a property called prototype, and it starts off its life as an empty object. This property is of no use until you use this function as constructor function i.e. with the 'new' keyword. This is often confused with the __proto__ property of an object. Some might get confused and except that the prototype property of an object might get them the proto of an object. But this is not case. prototype is used to get the __proto__ of an object created from a function constructor.In the above example:I hope it makes sense.What about using __proto__ for static methods?Try this code to understandThere is only one object that is used for protypal chaining. This object obviously has a name and a value: __proto__ is its name, and prototype is its value. That's all.to make it even easier to grasp, look at the diagram on the top of this post (Diagram by dmitry soshnikov), you'll never find __proto__ points to something else other than prototype as its value.The gist is this: __proto__ is the name that references the prototypal object, and prototype is the actual prototypal object.It's like saying:x is the object name (pointer), and {name: 'john'} is the actual object (data value).NOTE: this just a massively simplified hint on how they are related on a high level.Update: Here is a simple concrete javascript example for better illustration:This means that when Object.getPrototypeOf(x) gets us the actual value of x (which is its prototype), is exactly what the __proto__ of x is pointing to. Therefore __proto__ is indeed pointing to the prototype of x. Thus __proto__ references x (pointer of x), and prototype is the value of x (its prototype).I hope it's a bit clear now.__proto__ is the base to construct prototype and a constructor function eg: function human(){} has prototype which is shared via __proto__ in the new instance of the constructor function. A more detailed read hereAs this rightly statedWe can further note that __proto__ property of an object created using function constructor points towards the memory location pointed towards by prototype property of that respective constructor. If we change the memory location of prototype of constructor function, __proto__ of derived object will still continue to point towards the original address space. Therefore to make common property available down the inheritance chain, always append property to constructor function prototype, instead of re-initializing it (which would change its memory address).Consider the following example:my understanding is: __proto__ and prototype are all served for the prototype chain technique . the difference is functions named with underscore(like __proto__) are not aim for developers invoked explicitly at all. in other words, they are just for some mechanisms like inherit etc. they are 'back-end'. but functions named without underscore are designed for invoked explicitly, they are 'front-end'. !!!THIS IS THE BEST EXPLANATION IN THE WORLD!!!!! in function constructors javascript engine call this q.__proto__ = prototype automatically  when we write new Class, and in to the __proto__ prop set Class.prototypeEnjoy %)

How to get the browser viewport dimensions?

Alix Axel

[How to get the browser viewport dimensions?](https://stackoverflow.com/questions/1248081/how-to-get-the-browser-viewport-dimensions)

I want to provide my visitors the ability to see images in high quality, is there any way I can detect the window size?Or better yet, the viewport size of the browser with JavaScript? See green area here:

2009-08-08 05:54:41Z

I want to provide my visitors the ability to see images in high quality, is there any way I can detect the window size?Or better yet, the viewport size of the browser with JavaScript? See green area here:jQuery dimension functions$(window).width() and $(window).height()You can use the window.innerWidth and window.innerHeight properties.If you aren't using jQuery, it gets ugly. Here's a snippet that should work on all new browsers. The behavior is different in Quirks mode and standards mode in IE. This takes care of it.I know this has an acceptable answer, but I ran into a situation where clientWidth didn't work, as iPhone (at least mine) returned 980, not 320, so I used window.screen.width. I was working on existing site, being made "responsive" and needed to force larger browsers to use a different meta-viewport. Hope this helps someone, it may not be perfect, but it works in my testing on iOs and Android. I looked and found a cross browser way:I was able to find a definitive answer in JavaScript: The Definitive Guide, 6th Edition by O'Reilly, p. 391:This solution works even in Quirks mode, while ryanve and ScottEvernden's current solution do not.except for the fact that I wonder why the line if (document.compatMode == "CSS1Compat") is not if (d.compatMode == "CSS1Compat"), everything looks good.This code is from http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/NB : to read the width, use console.log('viewport width'+viewport().width);If you are looking for non-jQuery solution that gives correct values in virtual pixels on mobile, and you think that plain window.innerHeight or document.documentElement.clientHeight can solve your problem, please study this link first: https://tripleodeon.com/assets/2011/12/table.htmlThe developer has done good testing that reveals the problem: you can get unexpected values for Android/iOS, landscape/portrait, normal/high density displays. My current answer is not silver bullet yet (//todo), but rather a warning to those who are going to quickly copy-paste any given solution from this thread into production code.I was looking for page width in virtual pixels on mobile, and I've found the  only working code is (unexpectedly!) window.outerWidth. I will later examine this table for correct solution giving height excluding navigation bar, when I have time.There is a difference between window.innerHeight and document.documentElement.clientHeight. The first includes the height of the horizontal scrollbar.A solution that would conform to W3C standards would be to create a transparent div (for example dynamically with JavaScript), set its width and height to 100vw/100vh (Viewport units) and then get its offsetWidth and offsetHeight. After that, the element can be removed again. This will not work in older browsers because the viewport units are relatively new, but if you don't care about them but about (soon-to-be) standards instead, you could definitely go this way:Of course, you could also set objNode.style.position = "fixed" and then use 100% as width/height - this should have the same effect and improve compatibility to some extent. Also, setting position to fixed might be a good idea in general, because otherwise the div will be invisible but consume some space, which will lead to scrollbars appearing etc.This is the way I do it, I tried it in IE 8 -> 10, FF 35, Chrome 40, it will work very smooth in all modern browsers (as window.innerWidth is defined) and in IE 8 (with no window.innerWidth) it works smooth as well, any issue (like flashing because of overflow: "hidden"), please report it. I'm not really interested on the viewport height as I made this function just to workaround some responsive tools, but it might be implemented. Hope it helps, I appreciate comments and suggestions.

How to find the sum of an array of numbers

akano1

[How to find the sum of an array of numbers](https://stackoverflow.com/questions/1230233/how-to-find-the-sum-of-an-array-of-numbers)

Given an array [1, 2, 3, 4], how can I find the sum of its elements? (In this case, the sum would be 10.)I thought $.each might be useful, but I'm not sure how to implement it.

2009-08-04 22:29:40Z

Given an array [1, 2, 3, 4], how can I find the sum of its elements? (In this case, the sum would be 10.)I thought $.each might be useful, but I'm not sure how to implement it.Array.prototype.reduce can be used to iterate through the array, adding the current element value to the sum of the previous element values.You get a TypeError

If non-numbers are possible inputs, you may want to handle that?

We can use eval to execute a string representation of JavaScript code. Using the Array.prototype.join function to convert the array to a string, we change [1,2,3] into "1+2+3", which evaluates to 6.Of course displaying an alert isn't the worst thing that could happen. The only reason I have included this is as an answer Ortund's question as I do not think it was clarified.In Lisp, this'd be exactly the job for reduce. You'd see this kind of code:Fortunately, in JavaScript, we also have reduce! Unfortunately, + is an operator, not a function. But we can make it pretty! Here, look:Isn't that pretty? :-)Even better! If you're using ECMAScript 2015 (aka ECMAScript 6), it can be this pretty:Why not reduce? It's usually a bit counter intuitive, but using it to find a sum is pretty straightforward:This is possible by looping over all items, and adding them on each iteration to a sum-variable.JavaScript doesn't know block scoping, so sum will be accesible:The same as above, however annotated and prepared as a simple function:If you happen to be using Lodash you can use the sum functionReference: Array.prototype.reduce()This will take on average 1.57 ms/run (measured over 1000 runs on an array of 100 random normal numbers), compared to 3.604 ms/run with the eval() method above and 2.151 ms/run with a standard for(i,length,++) loop.Methodology note: this test was run on a Google Apps Script server, so their javascript engines are pretty much the same as Chrome.EDIT: --i instead of i-- saves 0.12 ms each run (i-- is 1.7)EDIT: Holy expletive, never mind this whole post. Use the reduce() method mentioned above, it's only 1 ms/run.You can also use reduceRight.which results output as 21.Reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRightAnyone looking for a functional oneliner like me? Take this:Funny approach:OK, imagine you have this array below:Let's start looking into many different ways to do it as I couldn't find any comprehensive answer here:1) Using built-in reduce()2) Using for loop3) Using while loop4) Using array forEachand call it like this:It's not recommended to prototype something like this to Array... A standard JavaScript solution:This works for me (the result should be 5). I hope there is no hidden disadvantage in this kind of solution.That way you can put all kinds of exotic things in the array.I'm only half joking.I am a beginner with JavaScript and coding in general, but I found that a simple and easy way to sum the numbers in an array is like this: Basically, I wanted to contribute this because I didn't see many solutions that don't use built-in functions, and this method is easy to write and understand.A short piece of JavaScript code would do this job:A few people have suggested adding a .sum() method to the Array.prototype. This is generally considered bad practice so I'm not suggesting that you do it.If you still insist on doing it then this is a succinct way of writing it:then: [1,2].sum(); // 3Note that the function added to the prototype is using a mixture of ES5 and ES6 function and arrow syntax. The function is declared to allow the method to get the this context from the Array that you're operating on. I used the => for brevity inside the reduce call.Here's an elegant one-liner solution that uses stack algorithm, though one may take some time to understand the beauty of this implementation.Basically, the function accepts an array and checks whether the array contains exactly one item. If false, it pop the last item out of the stack and return the updated array. The beauty of this snippet is that the function includes arr[0] checking to prevent infinite looping. Once it reaches the last item, it returns the entire sum.You can combine reduce() method with lambda expression:Use a for loop:Or even a forEach loop:For simplicity:Use reduceNo need to initial value! Because if no initial value is passed, the callback function is not invoked on the first element of the list, and the first element is instead passed as the initial value. Very cOOl feature :)i saw all answers going for 'reduce' solution Cool tricks here, I've got a nit pick with a lot of the safe traditional answers not caching the length of the array.Without caching the length of the array the JS compiler needs to go through the array with every iteration of the loop to calculate the length, it's unnecessary overhead in most cases.  V8 and a lot of modern browsers optimize this for us, so it is less of a concern then it was, but there are older devices that benefit from this simple caching.If the length is subject to change, caching's that could cause some unexpected side effects if you're unaware of why you're caching the length, but for a reusable function who's only purpose is to take an array and add the values together it's a great fit.Here's a CodePen link for this arraySum function.

http://codepen.io/brandonbrule/pen/ZGEJyVIt's possible this is an outdated mindset that's stuck with me, but I don't see a disadvantage to using it in this context.Those are really great answers, but just in case if the numbers are in sequence like in the question ( 1,2,3,4) you can easily do that by applying the formula 

(n*(n+1))/2 where n is the last numberThis is much easierA simple method example:Increase Accuracy: sort array and start sum form smallest numbersFor multidimensional array of numbers use arr.flat(Infinity)

Include jQuery in the JavaScript Console

mrtsherman

[Include jQuery in the JavaScript Console](https://stackoverflow.com/questions/7474354/include-jquery-in-the-javascript-console)

Is there an easy way to include jQuery in the Chrome JavaScript console for sites that do not use it? For example, on a website I would like to get the number of rows in a table. I know this is really easy with jQuery.The site does not use jQuery. Can I add it in from the command line?

2011-09-19 16:42:34Z

Is there an easy way to include jQuery in the Chrome JavaScript console for sites that do not use it? For example, on a website I would like to get the number of rows in a table. I know this is really easy with jQuery.The site does not use jQuery. Can I add it in from the command line?

Run this in your browser's JavaScript console, then jQuery should be available...NOTE: if the site has scripts that conflict with jQuery (other libs, etc.) you could still run into problems.Making the best better, creating a Bookmark makes it really convenient, let's do it, and a little feedback is great too:Below is the formatted code:Here the official jQuery CDN URL is used, feel free to use your own CDN/version.Run this in your consoleIt creates a new script tag, fills it with jQuery and appends to the head.Copy everything from:

https://code.jquery.com/jquery-3.4.1.min.js And paste it into console. Works perfectly.Use the jQueryify booklet:http://marklets.com/jQuerify.aspxInstead of copy pasting the code in the other answers, this'll make it a clickable bookmark.Adding to @jondavidjohn's answer, we can also set it as a bookmark with URL as the javascript code.Name: Include JqueryUrl:and then add it to the toolbar of Chrome or Firefox so that instead of pasting the script again and again, we can just click on the bookmarklet.I'm a rebel.Solution: don't use jQuery. jQuery is a library to abstract the DOM inconcistencies across the browsers. Since you're in your own console, you don't need this kind of abstraction.For your example:($$ is an alias to document.querySelectorAll in the console.)For any other example: I'm sure I can find anything. Especially if you're using a modern browser (Chrome, FF, Safari, Opera).Besides, knowing how the DOM works wouldn't hurt anyone, it would only increase your level of jQuery (yes, learning more about javascript makes you better at jQuery).I just made a jQuery 3.2.1 bookmarklet with error-handling (only load if not already loaded, detect version if already loaded, error message if error while loading). Tested in Chrome 27. There is no reason to use the "old" jQuery 1.9.1 on Chrome browser since jQuery 2.0 is API-compatible with 1.9.Just run the following in Chrome's developer console or drag & drop it in your bookmark bar:Readable source-code is available hereThe top answer, by jondavidjohn is good but I'd like to tweak it to address a couple of points:My only issue is that I have to include a version number where in the console I really always want the latest.Per this answer:For some reason I have to execute it twice to get the new '$' (which I have to do with the other methods as well), but it works.This is the equivalent if your browser isn't so modern:It's pretty easy to do this manually, as the other answers explain. But there's also the jQuerify plug-in.FWIW, Firebug embeds the include special command, and jquery is aliased by default:

https://getfirebug.com/wiki/index.php/IncludeSo in your case, you just have to type : Florentthis answer based on @genesis answer, at first I tried the bookmark version @jondavidjohn, and it is not working, so I change it to this (add it to your bookmark):words of caution, is not tested in chrome but work in firefox, and not tested in conflict environment.One of the shortest ways would be just copy pasting the code below to the console.If you're looking to do this for a userscript, I wrote this: http://userscripts.org/scripts/show/123588It'll let you include jQuery, plus UI and any plugins you'd like.  I'm using it on a site that has 1.5.1 and no UI; this script gives me 1.7.1 instead, plus UI, and no conflicts in Chrome or FF.  I've not tested Opera myself, but others have told me it's worked there for them as well, so this ought to be pretty well a complete cross-browser userscript solution, if that's what you need to do this for.Here is alternative code:which can be pasted either directly in Console or create a new Bookmark page (in Chrome right-click on the Bookmark Bar, Add Page...) and paste this code as URL.To test if that worked, see below.Before:After:If you want to use jQuery frequently from the console you can easily write a userscript.

First, install Tampermonkey if you are on Chrome and Greasemonkey if you are on Firefox. Write a simple userscript with a use function like this:Put your code in yourCode_here function. And prevent HTML without HEAD tag.Modern browsers (tested on Chrome, Firefox, Safari) implement some helper functions using the dollar sign $ that are very similar to jQuery (if the website doesn't define something using window.$).Those utilities are quite useful for selecting elements in the DOM and modifying them.Docs: Chrome, Firefoxintuitive one-linerYou can change the src address.

I referred to ReferenceError: Can't find variable: jQuery 

jQuery Ajax File Upload

Willy

[jQuery Ajax File Upload](https://stackoverflow.com/questions/2320069/jquery-ajax-file-upload)

Can I use the following jQuery code to perform file upload using POST method of an ajax request ?If it is possible, do I need to fill data part? Is it the correct way? I only POST the file to the server side.I have been googling around, but what I found was a plugin while in my plan I do not want to use it. At least for the moment.

2010-02-23 16:58:24Z

Can I use the following jQuery code to perform file upload using POST method of an ajax request ?If it is possible, do I need to fill data part? Is it the correct way? I only POST the file to the server side.I have been googling around, but what I found was a plugin while in my plan I do not want to use it. At least for the moment.file upload is not possible through ajax.

You can upload file, without refreshing page by using IFrame.

you can check further detail hereUPDATE:With XHR2, File upload through AJAX is supported. E.g. through FormData object, but unfortunately it is not supported by all/old browsers.FormData support starts from following desktop browsers versions.

IE 10+,

Firefox 4.0+,

Chrome 7+,

Safari 5+,

Opera 12+For more detail, see MDN linkIframes is no longer needed for uploading files through ajax. I've recently done it by myself. Check out these pages:Using HTML5 file uploads with AJAX and jQueryhttp://dev.w3.org/2006/webapi/FileAPI/#FileReader-interfaceUpdated the answer and cleaned it up. Use the getSize function to check size or use getType function to check types.

Added progressbar html and css code.How to use the Upload classProgressbar html codeProgressbar css codeAjax post and upload file is possible. I'm using jQuery $.ajax function to load my files. I tried to use the XHR object but could not get results on the server side with PHP.As you can see, you must create a FormData object, empty or from (serialized? - $('#yourForm').serialize()) existing form, and then attach the input file.Here is more information: 

- How to upload a file using jQuery.ajax and FormData

- Uploading files via jQuery, object FormData is provided and no file name, GET requestFor the PHP process you can use something like this:Simple Upload FormI'm pretty late for this but I was looking for an ajax based image uploading solution and the answer I was looking for was kinda scattered throughout this post. The solution I settled on involved the FormData object. I assembled a basic form of the code I put together. You can see it demonstrates how to add a custom field to the form with fd.append() as well as how to handle response data when the ajax request is done.Upload html:In case you are working with php here's a way to handle the upload that includes making use of both of the custom fields demonstrated in the above html.Upload.phpAn AJAX upload is indeed possible with XMLHttpRequest(). No iframes necessary. Upload progress can be shown.For details see: Answer https://stackoverflow.com/a/4943774/873282 to question jQuery Upload Progress and AJAX file upload.Here's how I got this working: HTMLJSPHPIn case you want to do it like that:than https://github.com/lgersman/jquery.orangevolt-ampere/blob/master/src/jquery.upload.jsmight be your solution.More details on my blog post: http://blog.manki.in/2011/08/ajax-fie-upload.html.edit: Note contentype and process data

You can simply use this to upload files via Ajax...... submit input cannot be outside form element :)2019 update:htmljsviews.pyI have implemented a multiple file select with instant preview and upload after removing unwanted files from preview via ajax. Detailed documentation can be found here: http://anasthecoder.blogspot.ae/2014/12/multi-file-select-preview-without.htmlDemo: http://jsfiddle.net/anas/6v8Kz/7/embedded/result/jsFiddle: http://jsfiddle.net/anas/6v8Kz/7/Javascript:I have handled these in a simple code. You can download a working demo from hereFor your case, these very possible. I will take you step by step how you can upload a file to the server using AJAX jquery. First let's us create an HTML file to add the following form file element as shown below.Secondly create a jquery.js file and add the following code to handle our file submission to the serverThere you are done . View moreYes you can, just use javascript to get the file, making sure you read the file as a data URL. Parse out the stuff before base64 to actually get the base 64 encoded data and then if you are using php or really any back end language you can decode the base 64 data and save into a file like shown belowOf course you will probably want to do some validation like checking which file type you are dealing with and stuff like that but this is the idea. Using FormData is the way to go as indicated by many answers.  here is a bit of code that works great for this purpose.  I also agree with the comment of nesting ajax blocks to complete complex circumstances.  By including e.PreventDefault(); in my experience makes the code more cross browser compatible. You can use method ajaxSubmit as follow :)

when you select a file that need upload to server, form be submit to server :)to upload a file which is submitted by user as a part of form using jquery please follow the below code :Then send the form data object to server.We can also append a File or Blob directly to the FormData object.Using pure js it is easierHere is more developed snippet with error handling and additional json sendingUse FormData. It works really well :-) ...If you want to upload file using AJAX here is code which you can use for file uploading.Here is the HTML for Upload the fileTo get all your form inputs, including the type="file" you need to use FormData object. 

you will be able to see the formData content in the debugger -> network ->Headers after you will submit the form.Here was an idea i was thinking of:Have a form in which you move the INPUT:File element to.The result will post to the frame, and then you can just send the fetched data up a level to the image tag you want with something like:and the page loads.I believe it works for me, and depending you might be able to do something like:

Changing the image source using jQuery

user67033

[Changing the image source using jQuery](https://stackoverflow.com/questions/554273/changing-the-image-source-using-jquery)

My DOM looks like this:When someone clicks on an image, I want the image src to change to <img src="imgx_off.gif"> where x represents the image number 1 or 2.Is this possible or do I have to use CSS to change the images?

2009-02-16 19:23:59Z

My DOM looks like this:When someone clicks on an image, I want the image src to change to <img src="imgx_off.gif"> where x represents the image number 1 or 2.Is this possible or do I have to use CSS to change the images?You can use jQuery's attr() function.  For example, if your img tag has an id attribute of 'my_image', you would do this:Then you can change the src of your image with jQuery like this:To attach this to a click event, you could write:To rotate the image, you could do this:One of the common mistakes people do when change the image source is not waiting for image load to do afterward actions like maturing image size etc.

You will need to use jQuery .load() method to do stuff after image load.Reason for editing: https://stackoverflow.com/a/670433/561545For more information. I try setting src attribute with attr method in jquery for ad image using the syntax for example: $("#myid").attr('src', '/images/sample.gif');This solution is useful and it works but if changing the path change also the path for image and not working.I've searching for resolve this issue but not found nothing. The solution is putting the '\' at the beginning the path: 

$("#myid").attr('src', '\images/sample.gif');This trick is very useful for me and I hope it is useful for other.I'll show you how to change the image src, so that when you click an image it rotates through all the images that are in your HTML (in your d1 id and c1 class specifically)... whether you have 2 or more images in your HTML.I'll also show you how to clean up the page after the document is ready, so that only one image is displayed initially.The full codeThe breakdown

You can also store the srcs in an array.

jsFiddle example with 3 imagesAnd here's how to incorporate the hrefs from the anchor tags around the images:

jsFiddle exampleIF there is not only jQuery or other resource killing frameworks - many kb to download each time by each user just for a simple trick - but also native JavaScript(!):This can be written general and more elegant:Hope this can workYou should add id attribute to your image tag, like this: then you can use this code to change the source of images:You can also do this with jQuery in this way:You can have a condition if there are multiple states for the image source.I had the same problem when trying to call re captcha button.

After some searching, now  the below function works fine in almost all the famous browsers(chrome,Firefox,IE,Edge,...):'theUrl' is used to render new captcha image and can be ignored in your case. The most important point is generating new URL which forces FF and IE to rerender the image.Change the image source using jQuery click()element:code:I have the same wonder today, I did on this way :This is a guaranteed way to get it done in Vanilla (or simply Pure) JavaScript:Just an addition, to make it even more tiny: There is no way of changing the image source with CSS.Only possible way is using Javascript or any Javascript library like jQuery.The images are inside a div and there are no class or id with that image.So logic will be select the elements inside the div where the images are located.Then select all the images elements with loop and change the image src with Javascript / jQuery.

How to open a Bootstrap modal window using jQuery?

user244394

[How to open a Bootstrap modal window using jQuery?](https://stackoverflow.com/questions/13183630/how-to-open-a-bootstrap-modal-window-using-jquery)

I'm using Twitter Bootstrap modal window functionality. When someone clicks submit on my form, I want to show the modal window upon clicking the "submit button" in the form.jQuery:

2012-11-01 18:52:18Z

I'm using Twitter Bootstrap modal window functionality. When someone clicks submit on my form, I want to show the modal window upon clicking the "submit button" in the form.jQuery:Bootstrap has a few functions that can be called manually on modals:You can see more here: Bootstrap modal componentSpecifically the methods section.So you would need to change:to:If you're looking to make a custom popup of your own, here's a suggested video from another community member:https://www.youtube.com/watch?v=zK4nXa84Km4In addition you can use via data attributeIn this particular case you don't need to write javascript.You can see more here: http://getbootstrap.com/2.3.2/javascript.html#modalsMost often, when $('#myModal').modal('show'); doesn't work, it's caused by having included jQuery twice. Including jQuery 2 times makes modals not to work.Remove one of the links to make it work again.Furthermore, some plugins cause errors too, in this case add Just call the modal method(without passing any parameters) using jQuery selector. Here is example:If you use links's onclick function to call a modal by jQuery, the "href" can't be null.For example:The Modal can't show.

The right code is :Here is how to load bootstrap alert as soon as the document is ready. It is very easy just add I made a demo on W3Schools.Check out the complete solution here: http://www.w3schools.com/bootstrap/tryit.asp?filename=trybs_ref_js_modal_show&stacked=hMake sure to put libraries in required order to get result:1- First bootstrap.min.css 2- jquery.min.js 3- bootstrap.min.js(In other words jquery.min.js must be call before bootstrap.min.js)I tried several methods which failed, but the below worked for me like a charm:Try to use jQuery instead of $ sign when calling the function, it worked in my case as you can see below.jQuery.noConflict();  because when jQuery('#myModal').modal('show'); doesn't work, it's caused by having included jQuery twice. Including jQuery 2 times makes modals not to work. and it would resolve the problem in that case, as in my case it is repeating. Further you can go to this linkBootstrap Model Window Not Showing by Calling Through JQueryTryTo open or close the modal with id myModal.If the above is not working then it means bootstrap.js has been overridden by some other js file.

Here is a solution1:- Move bootstrap.js to the bottom so that it will override other js files.2:- Make sure the order is like belowYou can launch the modal with the code below this.

HTML-encoding lost when attribute read from input field

AJM

[HTML-encoding lost when attribute read from input field](https://stackoverflow.com/questions/1219860/html-encoding-lost-when-attribute-read-from-input-field)

I’m using JavaScript to pull a value out from a hidden field and display it in a textbox. The value in the hidden field is encoded.For example,gets pulled intovia some jQuery to get the value from the hidden field (it’s at this point that I lose the encoding):The problem is that when I read chalk &amp; cheese from the hidden field, JavaScript seems to lose the encoding. I do not want the value to be chalk & cheese. I want the literal amp; to be retained.Is there a JavaScript library or a jQuery method that will HTML-encode a string?

2009-08-02 21:08:29Z

I’m using JavaScript to pull a value out from a hidden field and display it in a textbox. The value in the hidden field is encoded.For example,gets pulled intovia some jQuery to get the value from the hidden field (it’s at this point that I lose the encoding):The problem is that when I read chalk &amp; cheese from the hidden field, JavaScript seems to lose the encoding. I do not want the value to be chalk & cheese. I want the literal amp; to be retained.Is there a JavaScript library or a jQuery method that will HTML-encode a string?EDIT: This answer was posted a long ago, and the htmlDecode function introduced a XSS vulnerability. It has been modified changing the temporary element from a div to a textarea reducing the XSS chance. But nowadays, I would encourage you to use the DOMParser API as suggested in other anwswer.I use these functions:Basically a div element is created in memory, but it is never appended to the document.On the htmlEncode function I set the innerText of the element, and retrieve the encoded innerHTML; on the htmlDecode function I set the innerHTML value of the element and the innerText is retrieved.Check a running example here.The jQuery trick doesn't encode quote marks and in IE it will strip your whitespace.Based on the escape templatetag in Django, which I guess is heavily used/tested already, I made this function which does what's needed.It's arguably simpler (and possibly faster) than any of the workarounds for the whitespace-stripping issue - and it encodes quote marks, which is essential if you're going to use the result inside an attribute value for example.Update 2013-06-17:

In the search for the fastest escaping I have found this implementation of a replaceAll method:

http://dumpsite.com/forum/index.php?topic=4.msg29#msg29

(also referenced here: Fastest method to replace all instances of a character in a string)

Some performance results here:

http://jsperf.com/htmlencoderegex/25It gives identical result string to the builtin replace chains above. I'd be very happy if someone could explain why it's faster!?Update 2015-03-04:

I just noticed that AngularJS are using exactly the method above:

https://github.com/angular/angular.js/blob/v1.3.14/src/ngSanitize/sanitize.js#L435They add a couple of refinements - they appear to be handling an obscure Unicode issue as well as converting all non-alphanumeric characters to entities. I was under the impression the latter was not necessary as long as you have an UTF8 charset specified for your document.I will note that (4 years later) Django still does not do either of these things, so I'm not sure how important they are:

https://github.com/django/django/blob/1.8b1/django/utils/html.py#L44Update 2016-04-06:

You may also wish to escape forward-slash /. This is not required for correct HTML encoding, however it is recommended by OWASP as an anti-XSS safety measure. (thanks to @JNF for suggesting this in comments)Here's a non-jQuery version that is considerably faster than both the jQuery .html() version and the .replace() version. This preserves all whitespace, but like the jQuery version, doesn't handle quotes.Speed: http://jsperf.com/htmlencoderegex/17Demo: I know this is an old one, but I wanted to post a variation of the accepted answer that will work in IE without removing lines:Underscore provides _.escape() and _.unescape() methods that do this.Good answer. Note that if the value to encode is undefined or null with jQuery 1.4.2 you might get errors such as:jQuery("<div/>").text(value).html is not a functionORUncaught TypeError: Object  has no method 'html'The solution is to modify the function to check for an actual value:For those who prefer plain javascript, here is the method I have used successfully:FWIW, the encoding is not being lost.  The encoding is used by the markup parser (browser) during the page load.  Once the source is read and parsed and the browser has the DOM loaded into memory, the encoding has been parsed into what it represents. So by the time your JS is execute to read anything in memory, the char it gets is what the encoding represented.I may be operating strictly on semantics here, but I wanted you to understand the purpose of encoding.  The word "lost" makes it sound like something isn't working like it should.Faster without Jquery. You can encode every character in your string:Or just target the main characters to worry about (&, inebreaks, <, >, " and ') like:Prototype has it built-in the String class. So if you are using/plan to use Prototype, it does something like:Here is a simple javascript solution. It extends String object with a method "HTMLEncode" which can be used on an object without parameter, or with a parameter.I have made a gist "HTMLEncode method for javascript".I had a similar problem and solve it using the function encodeURIComponent from JavaScript (documentation)For example, in your case if you use:andyou will get chalk%20%26%20cheese. Even spaces are kept.In my case, I had to encode one backslash and this code works perfectlyand I got name%2FsurnameBased on angular's sanitize... (es6 module syntax)As far as I know there isn't any straight forward HTML Encode/Decode method in javascript.However, what you can do, is to use JS to create an arbitrary element, set its inner text, then read it using innerHTML. Let's say, with jQuery, this should work:Or something along these lines.You shouldn't have to escape/encode values in order to shuttle them from one input field to another.JS doesn't go inserting raw HTML or anything; it just tells the DOM to set the value property (or attribute; not sure).  Either way, the DOM handles any encoding issues for you.  Unless you're doing something odd like using document.write or eval, HTML-encoding will be effectively transparent.If you're talking about generating a new textbox to hold the result...it's still as easy.  Just pass the static part of the HTML to jQuery, and then set the rest of the properties/attributes on the object it returns to you.Here's a little bit that emulates the Server.HTMLEncode function from Microsoft's ASP, written in pure JavaScript:The result does not encode apostrophes, but encodes the other HTML specials and any character outside the 0x20-0x7e range.My pure-JS function:If you want to use jQuery. I found this:http://www.jquerysdk.com/api/jQuery.htmlspecialchars(part of jquery.string plugin offered by jQuery SDK)The problem with Prototype I believe is that it extends base objects in JavaScript and will be incompatible with any jQuery you may have used. Of course, if you are already using Prototype and not jQuery, it won't be a problem.EDIT: Also there is this, which is a port of Prototype's string utilities for jQuery:http://stilldesigning.com/dotstring/This is from ExtJS source code.Will output: &lt;script&gt;alert(&quot;I hack your site&quot;)&lt;/script&gt;.htmlEncode() will be accessible on all strings once defined.HtmlEncodes the given valueI ran into some issues with backslash in my Domain\User string.I added this to the other escapes from Anentropic's answerWhich I found here:

How to escape backslash in JavaScript?Picking what escapeHTML() is doing in the prototype.jsAdding this script helps you escapeHTML:now you can call escapeHTML method on strings in your script, like:Hope it helps anyone looking for a simple solution without having to include the entire prototype.jsUsing some of the other answers here I made a version that replaces all the pertinent characters in one pass irrespective of the number of distinct encoded characters (only one call to replace()) so will be faster for larger strings.It doesn't rely on the DOM API to exist or on other libraries.Having ran that once, you can now callTo get &lt;&gt;&amp;&quot;&#39;

module.exports vs exports in Node.js

Andreas Köberle

[module.exports vs exports in Node.js](https://stackoverflow.com/questions/7137397/module-exports-vs-exports-in-node-js)

I've found the following contract in a Node.js module:I wonder whats the different between module.exports and exports and why both are used here.

2011-08-21 09:16:55Z

I've found the following contract in a Node.js module:I wonder whats the different between module.exports and exports and why both are used here.Setting module.exports allows the database_module function to be called like a function when required.  Simply setting exports wouldn't allow the function to be 

exported because node exports the object module.exports references.  The following code wouldn't allow the user to call the function. The following won't work.The following will work if module.exports is set.consoleBasically node.js doesn't export the object that exports currently references, but exports the properties of what exports originally references.  Although Node.js does export the object module.exports references, allowing you to call it like a function.They set both module.exports and exports to ensure exports isn't referencing the prior exported object.  By setting both you use exports as a shorthand and avoid potential bugs later on down the road.Using exports.prop = true  instead of module.exports.prop = true saves characters and avoids confusion.Even though question has been answered and accepted long ago, i just want to share my 2 cents:You can imagine that at the very beginning of your file there is something like (just for explanation):So whatever you do just keep in mind that module.exports and NOT exports will be returned from your module when you're requiring that module from somewhere else.So when you do something like:You are adding 2 function a and b to the object on which module.exports points too, so the typeof the returning result will be an object : { a: [Function], b: [Function] }Of course, this is the same result you will get if you are using module.exports in this example instead of exports.This is the case where you want your module.exports to behave like a container of exported values. Whereas, if you only want to export a constructor function then there is something you should know about using module.exports or exports;(Remember again that module.exports will be returned when you require something, not export).Now typeof returning result is 'function' and you can require it and immediately invoke like:

 var x = require('./file1.js')(); because you overwrite the returning result to be a function.However, using exports you can't use something like:Because with exports, the reference doesn't point anymore to the object where module.exports points, so there is not a relationship between exports and module.exports anymore. In this case module.exports still points to the empty object {} which will be returned.Accepted answer from another topic should also help:

Does Javascript pass by reference?Basically the answer lies in what really happens when a module is required via require statement. Assuming this is the first time the module is being required.For example:contents of file1.js:When the above statement is executed, a Module object is created. Its constructor function is:As you see each module object has a property with name exports. This is what is eventually returned as part of require.Next step of require is to wrap the contents of file1.js into an anonymous function like below: And this anonymous function is invoked the following way, module here refers to the Module Object created earlier.As we can see inside the function, exports formal argument refers to module.exports. In essence it's a convenience provided to the module programmer.However this convenience need to be exercised with care. In any case if trying to assign a new object to exports ensure we do it this way.If we do it following way wrong way, module.exports will still be pointing to the object created as part of module instance.As as result adding anything to the above exports object will have no effect to module.exports object and nothing will be exported or returned as part of require.Initially,module.exports=exports , and the require function returns the object module.exports refers to.if we add property to the object, say exports.a=1, then module.exports and exports still refer to the same object. So if we call require and assign the module to a variable, then the variable has a property a and its value is 1;But if we override one of them, for example, exports=function(){}, then they are different now: exports refers to a new object and module.exports refer to the original object. And if we require the file, it will not return the new object, since module.exports is not refer to the new object.For me, i will keep adding new property, or override both of them to a new object. Just override one is not right. And keep in mind that module.exports is the real boss.exports and module.exports are the same unless you reassign exports within your module.The easiest way to think about it, is to think that this line is implicitly at the top of every module.If, within your module, you reassign exports, then you reassign it within your module and it no longer equals module.exports. This is why, if you want to export a function, you must do: If you simply assigned your function() { ... } to exports, you would be reassigning exports to no longer point to module.exports.If you don't want to refer to your function by module.exports every time, you can do:Notice that module.exports is the left most argument.Attaching properties to exports is not the same since you are not reassigning it. That is why this worksIt's a subtle difference to do with the way objects are passed by reference in JavaScript.exports and module.exports both point to the same object. exports is a variable and module.exports is an attribute of the module object.Say I write something like this:exports and module.exports now point to different objects. Modifying exports no longer modifies module.exports.When the import function inspects module.exports it gets {b:12}I just make some test, it turns out that, inside nodejs's module code, it should something like this:so:Here is a good description written about node modules in node.js in action book from Manning publication.

What ultimately gets exported in your application is module.exports. exports is set

up simply as a global reference to module.exports , which initially is defined as an

empty object that you can add properties to. So exports.myFunc is just shorthand

for module.exports.myFunc.

As a result, if exports is set to anything else, it breaks the reference between

module.exports and exports . Because module.exports is what really gets

exported, exports will no longer work as expected—it doesn’t reference module

.exports anymore. If you want to maintain that link, you can make module.exports

reference exports  again as follows:I went through some tests and I think this may shed some light on the subject...app.js:versions of /routes/index.js:I even added new files:./routes/index.js:./routes/not-index.js:./routes/user.js:We get the output "@routes {}"./routes/index.js:./routes/not-index.js:./routes/user.js:We get the output "@routes { fn: {}, user: {} }"./routes/index.js:./routes/not-index.js:./routes/user.js:We get the output "@routes { user: [Function: user] }"

If we change user.js to { ThisLoadedLast: [Function: ThisLoadedLast] }, we get the output "@routes { ThisLoadedLast: [Function: ThisLoadedLast] }".But if we modify ./routes/index.js..../routes/index.js:./routes/not-index.js:./routes/user.js:... we get "@routes { fn: { fn: [Function: fn] }, ThisLoadedLast: { ThisLoadedLast: [Function: ThisLoadedLast] } }"So I would suggest always use module.exports in your module definitions.I don't completely understand what's going on internally with Node, but please comment if you can make more sense of this as I'm sure it helps.-- Happy codingThis shows how require() works in its simplest form, excerpted from Eloquent JavaScriptProblem

It is not possible for a module to directly export a value other than the exports object, such as a function. For example, a module might want to export only the constructor of the object type it defines. Right now, it cannot do that because require always uses the exports object it creates as the exported value.Solution

Provide modules with another variable, module, which is an object that has a property exports. This property initially points at the empty object created by require but can be overwritten with another value in order to export something else.Here is the result of Also:Note:

The CommonJS specification only allows the use of the exports variable to expose public members. Therefore, the named exports pattern is the only one that is really compatible with the CommonJS specification. The use of module.exports is an extension provided by Node.js to support a broader range of module definition patterns.//Firstly,the exports and module.exports point the same empty Object//If you point exp to other object instead of point it's property to other object. The md.exp will be empty Object {}From the docsIt is just a variable pointing to module.exports. I found this link useful to answer the above question.http://timnew.me/blog/2012/04/20/exports-vs-module-exports-in-node-js/To add to the other posts  The module system in node does    before executing your code. So when you want to exports = foo  , you probably want to do module.exports = exports = foo  but using exports.foo = foo should be fine"If you want the root of your module's export to be a function (such as a constructor) or if you want to export a complete object in one assignment instead of building it one property at a time, assign it to module.exports instead of exports." - http://nodejs.org/api/modules.html1.exports -> use as singleton utility 

2. module-exports -> use as logical objects such as service , model etcLet's create one module with 2 ways:One waySecond wayAnd this is how require() will integrate module.First way:Second wayI believe they just want to be clear that module.exports, exports, and nano point to the same function - allowing you to use either variable to call the function within the file. nano provides some context to what the function does.exports won't be exported (only module.exports will), so why bother overwriting that as well?The verbosity trade-off limits the risk of future bugs, such as using exports instead of module.exports within the file. It also provides clarification that module.exports and exports are in fact pointing to the same value.As long as you don't reassign module.exports or exports (and instead add values to the object they both refer to), you won't have any issues and can safely use exports to be more concise.When assigning either to a non-object, they are now pointing to different places which can be confusing unless you intentionally want module.exports to be something specific (such as a function). Setting exports to a non-object doesn't make much sense as you'll have to set module.exports = exports at the end to be able to use it in other files.More concise! Compare how much shorter the 2nd example is:app1.js: let sayHello = require('./helloWorld1'); sayHello.hello; // hello worldapp2.js: let sayHello = require('./helloWorld2'); sayHello; // hello worldEach file you create is a module. module is an object. It has property called exports : {} which is empty object by default.you can create functions/middlewares and add  to this empty exports object such as exports.findById() => { ...  }  then require anywhere in your app and use...controllers/user.jsrequire in routes.js to use:module.exports and exports both point to the same object before the module is evaluated. Any property you add to the module.exports  object will be available when your module is used in another module using require statement. exports is a shortcut made available for the same thing. For instance: is equivalent to writing:So it is okay as long as you do not assign a new value to exports variable. When you do something like this:as you are assigning a new value to exports it no longer has reference to the exported object and thus will remain local to your module.If you are planning to assign a new value to module.exports rather than adding new properties to the initial object made available, you should probably consider doing as given below:Node.js website has a very good explanation of this.To understand the differences, you have to first understand what Node.js does to every module during runtime. Node.js creates a wrapper function for every module:Notice the first param exports is an empty object, and the third param module is an object with many properties, and one of the properties is named exports. This is what exports comes from and what module.exports comes from. The former one is a variable object, and the latter one is a property of module object.Within the module, Node.js automatically does this thing at the beginning: module.exports = exports, and ultimately returns module.exports.So you can see that if you reassign some value to exports, it won't have any effect to module.exports. (Simply because exports points to another new object, but module.exports still holds the old exports)But if you updates properties of exports, it will surely have effect on module.exports. Because they both point to the same object.Also notice that if you reassign another value to module.exports, then it seems meaningless for exports updates. Every updates on exports is ignored because module.exports points to another object.in node js module.js file is use to run the module.load system.every time when node execute a file it wrap your js file content as followbecause of this wrapping inside ur js source code you can access exports,require,module,etc..

this approach is used because there is no other way to get functionalities wrote in on js file to another.then node execute this wrapped function using c++. at that moment exports object that passed into this function will be filled.you can see inside this function parameters exports and module.

actually exports is a public member of module constructor function.look at following codecopy this code into b.jscopy this code to a.jsnow run using nodeobject.keys of foo: 

name is function (){console.log('function to module exports')}

function to module exportsnow remove the commented line in a.js and comment the line above that line

and remove the last line of b.js and run.in javascript world you cannot reassign object that passed as parameter but you can change function's public member when object of that function set as a parameter to another functionuse module.exports on and only if you wants to get a function when you use require keyword .

in above example we var foo = require(a.js); you can see we can call foo as a function;this is how node documentation explain it

"The exports object is created by the Module system. Sometimes this is not acceptable, many want their module to be an instance of some class. To do this assign the desired export object to module.exports."So, you will be happy if both exports and module.exports pointing to the same thing.

Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference

Fabrício Matté

[Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference](https://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron)

Given the following examples, why is outerScopeVar undefined in all cases?Why does it output undefined in all of these examples? I don't want workarounds, I want to know why this is happening.

2014-05-14 23:55:16Z

Given the following examples, why is outerScopeVar undefined in all cases?Why does it output undefined in all of these examples? I don't want workarounds, I want to know why this is happening.One word answer: asynchronicity.This topic has been iterated at least a couple of thousands of times, here, in Stack Overflow. Hence, first off I'd like to point out some extremely useful resources:Let's trace the common behavior first. In all examples, the outerScopeVar is modified inside of a function. That function is clearly not executed immediately, it is being assigned or passed as an argument. That is what we call a callback.Now the question is, when is that callback called?It depends on the case. Let's try to trace some common behavior again:In all cases, we have a callback which may run sometime in the future. This "sometime in the future" is what we refer to as asynchronous flow.Asynchronous execution is pushed out of the synchronous flow. That is, the asynchronous code will never execute while the synchronous code stack is executing. This is the meaning of JavaScript being single-threaded.More specifically, when the JS engine is idle -- not executing a stack of (a)synchronous code -- it will poll for events that may have triggered asynchronous callbacks (e.g. expired timeout, received network response) and execute them one after another. This is regarded as Event Loop.That is, the asynchronous code highlighted in the hand-drawn red shapes may execute only after all the remaining synchronous code in their respective code blocks have executed:In short, the callback functions are created synchronously but executed asynchronously. You just can't rely on the execution of an asynchronous function until you know it has executed, and how to do that?It is simple, really. The logic that depends on the asynchronous function execution should be started/called from inside this asynchronous function. For example, moving the alerts and console.logs too inside the callback function would output the expected result, because the result is available at that point.Often you need to do more things with the result from an asynchronous function or do different things with the result depending on where the asynchronous function has been called. Let's tackle a bit more complex example:Note: I'm using setTimeout with a random delay as a generic asynchronous function, the same example applies to Ajax, readFile, onload and any other asynchronous flow.This example clearly suffers from the same issue as the other examples, it is not waiting until the asynchronous function executes.Let's tackle it implementing a callback system of our own. First off, we get rid of that ugly outerScopeVar which is completely useless in this case. Then we add a parameter which accepts a function argument, our callback. When the asynchronous operation finishes, we call this callback passing the result. The implementation (please read the comments in order):Code snippet of the above example:Most often in real use cases, the DOM API and most libraries already provide the callback functionality (the helloCatAsync implementation in this demonstrative example). You only need to pass the callback function and understand that it will execute out of the synchronous flow, and restructure your code to accommodate for that.You will also notice that due to the asynchronous nature, it is impossible to return a value from an asynchronous flow back to the synchronous flow where the callback was defined, as the asynchronous callbacks are executed long after the synchronous code has already finished executing.Instead of returning a value from an asynchronous callback, you will have to make use of the callback pattern, or... Promises.Although there are ways to keep the callback hell at bay with vanilla JS, promises are growing in popularity and are currently being standardized in ES6 (see Promise - MDN).Promises (a.k.a. Futures) provide a more linear, and thus pleasant, reading of the asynchronous code, but explaining their entire functionality is out of the scope of this question. Instead, I'll leave these excellent resources for the interested:Fabrício's answer is spot on; but I wanted to complement his answer with something less technical, which focusses on an analogy to help explain the concept of asynchronicity.Yesterday, the work I was doing required some information from a colleague. I rang him up; here's how the conversation went:At this point, I hung up the phone. Since I needed information from Bob to complete my report, I left the report and went for a coffee instead, then I caught up on some email. 40 minutes later (Bob is slow), Bob called back and gave me the information I needed. At this point, I resumed my work with my report, as I had all the information I needed.Imagine if the conversation had gone like this instead;And I sat there and waited. And waited. And waited. For 40 minutes. Doing nothing but waiting. Eventually, Bob gave me the information, we hung up, and I completed my report. But I'd lost 40 minutes of productivity.This is exactly what is happening in all the examples in our question. Loading an image, loading a file off disk, and requesting a page via AJAX are all slow operations (in the context of modern computing). Rather than waiting for these slow operations to complete, JavaScript lets you register a callback function which will be executed when the slow operation has completed. In the meantime, however, JavaScript will continue to execute other code. The fact that JavaScript executes other code whilst waiting for the slow operation to complete makes the behaviorasynchronous. Had JavaScript waited around for the operation to complete before executing any other code, this would have been synchronous behavior.In the code above, we're asking JavaScript to load lolcat.png, which is a sloooow operation. The callback function will be executed once this slow operation has done, but in the meantime, JavaScript will keep processing the next lines of code; i.e. alert(outerScopeVar). This is why we see the alert showing undefined; since the alert() is processed immediately, rather than after the image has been loaded. In order to fix our code, all we have to do is move the alert(outerScopeVar) code into the callback function. As a consequence of this, we no longer need the outerScopeVar variable declared as a global variable.You'll always see a callback is specified as a function, because that's the only* way in JavaScript to define some code, but not execute it until later.Therefore, in all of our examples, the function() { /* Do something */ } is the callback; to fix all the examples, all we have to do is move the code which needs the response of the operation into there!* Technically you can use eval() as well, but eval() is evil for this purposeYou might currently have some code similar to this;However, we now know that the return outerScopeVar happens immediately; before the onload callback function has updated the variable. This leads to getWidthOfImage() returning undefined, and undefined being alerted.To fix this, we need to allow the function calling getWidthOfImage() to register a callback, then move the alert'ing of the width to be within that callback;... as before, note that we've been able to remove the global variables (in this case width).Here's a more concise answer for people that are looking for a quick reference as well as some examples using promises and async/await.Start with the naive approach (that doesn't work) for a function that calls an asynchronous method (in this case setTimeout) and returns a message:undefined gets logged in this case because getMessage returns before the setTimeout callback is called and updates outerScopeVar.The two main ways to solve it are using callbacks and promises:CallbacksThe change here is that getMessage accepts a callback parameter that will be called to deliver the results back to the calling code once available.PromisesPromises provide an alternative which is more flexible than callbacks because they can be naturally combined to coordinate multiple async operations. A Promises/A+ standard implementation is natively provided in node.js (0.12+) and many current browsers, but is also implemented in libraries like Bluebird and Q.jQuery DeferredsjQuery provides functionality that's similar to promises with its Deferreds.async/awaitIf your JavaScript environment includes support for async and await (like Node.js 7.6+), then you can use promises synchronously within async functions:To state the obvious, the cup represents outerScopeVar.  Asynchronous functions be like...The other answers are excellent and I just want to provide a straight forward answer to this. Just limiting to jQuery asynchronous callsAll ajax calls (including the $.get or $.post or $.ajax) are asynchronous.Considering your exampleThe code execution starts from line 1, declares the variable and triggers and asynchronous call on line 2, (i.e., the post request) and it continues its execution from line 3, without waiting for the post request to complete its execution.Lets say that the post request takes 10 seconds to complete, the value of outerScopeVar will only be set after those 10 seconds.To try out,Now when you execute this, you would get an alert on line 3. Now wait for some time until you are sure the post request has returned some value. Then when you click OK, on the alert box, next alert would print the expected value, because you waited for it.In real life scenario, the code becomes,All the code that depends on the asynchronous calls, is moved inside the asynchronous block, or by waiting on the asynchronous calls.In all these scenarios outerScopeVar is modified or assigned a value asynchronously or happening in a later time(waiting or listening for some event to occur),for which the current execution will not wait.So all these cases current execution flow results in outerScopeVar = undefinedLet's discuss each examples(I marked the portion which is called asynchronously or delayed for some events to occur):1.Here we register an eventlistner which will be executed upon that particular event.Here loading of image.Then the current execution continuous with next lines img.src = 'lolcat.png'; and alert(outerScopeVar); meanwhile the event may not occur. i.e, funtion img.onload wait for the referred image to load, asynchrously. This will happen all the folowing example- the event may differ.2.Here the timeout event plays the role, which will invoke the handler after the specified time. Here it is 0, but still it registers an asynchronous event it will be added to the last position of the Event Queue for execution, which makes the guaranteed delay.3.

This time ajax callback.4.Node can be consider as a king of asynchronous coding.Here the marked function is registered as a callback handler which will be executed after reading the specified file.5.Obvious promise (something will be done in future) is asynchronous. see What are the differences between Deferred, Promise and Future in JavaScript?https://www.quora.com/Whats-the-difference-between-a-promise-and-a-callback-in-Javascript

How to detect pressing Enter on keyboard using jQuery?

chris

[How to detect pressing Enter on keyboard using jQuery?](https://stackoverflow.com/questions/979662/how-to-detect-pressing-enter-on-keyboard-using-jquery)

I would like to detect whether the user has pressed Enter using jQuery.How is this possible? Does it require a plugin?EDIT: It looks like I need to use the keypress() method. I wanted to know if anyone knows if there are browser issues with that command - like are there any browser compatibility issues I should know about?

2009-06-11 06:39:43Z

I would like to detect whether the user has pressed Enter using jQuery.How is this possible? Does it require a plugin?EDIT: It looks like I need to use the keypress() method. I wanted to know if anyone knows if there are browser issues with that command - like are there any browser compatibility issues I should know about?The whole point of jQuery is that you don't have to worry about browser differences. I am pretty sure you can safely go with enter being 13 in all browsers. So with that in mind, you can do this:I wrote a small plugin to make it easier to bind the "on enter key pressed" a event:Usage:I couldn't get the code posted by @Paolo Bergantino to work but when I changed it to $(document) and e.which instead of e.keyCode then I found it to work faultlessly.Link to example on JS BinI found this to be more cross-browser compatible:You can do this using the jquery 'keydown' event handleor without jQuery:Mozilla DocsSupported BrowsersI spent sometime coming up with this solution i hope it helps someone.There's a keypress() event method. The Enter key's ascii number is 13 and is not dependent on which browser is being used.A minor extension of Andrea's answer above makes the helper method more useful when you may also want to capture modified enter presses (i.e. ctrl-enter or shift-enter). For example, this variant allows binding like:to submit a form when the user presses ctrl-enter with focus on that form's textarea.(see also Ctrl+Enter jQuery in TEXTAREA)In some cases, you may need to suppress the ENTER key for a certain area of a page but not for other areas of a page, like the page below that contains a header <div> with a SEARCH field.It took me a bit to figure out how to do this, and I am posting this simple yet complete example up here for the community.Link to JSFiddle Playground: The [Submit] button does not do anything, but pressing ENTER from one of the Text Box controls will not submit the form.Try this to detect the Enter key pressed.See demo @ detect enter key press on keyboardas the keypress event isn't covered by any official specification, the actual behavior encountered when using it may differ across browsers, browser versions, and platforms.I hope it would be useful !The easy way to detect whether the user has pressed enter is to use key number the enter key number is =13 to check the value of key in your deviceby pressing the enter key you will get result as 13 . using the key value you can call a function or do whatever you wish if you want to target a button once enter key is pressed you can use the code Hope it help I think the simplest method would be using vanilla javacript:

Check whether a string matches a regex in JS

Richard

[Check whether a string matches a regex in JS](https://stackoverflow.com/questions/6603015/check-whether-a-string-matches-a-regex-in-js)

I want to use JavaScript (can be with jQuery) to do some client-side validation to check whether a string matches the regex:Ideally it would be an expression that returned true or false. I'm a JavaScript newbie, does match() do what I need? It seems to check whether part of a string matches a regex, not the whole thing. 

2011-07-06 21:08:50Z

I want to use JavaScript (can be with jQuery) to do some client-side validation to check whether a string matches the regex:Ideally it would be an expression that returned true or false. I'm a JavaScript newbie, does match() do what I need? It seems to check whether part of a string matches a regex, not the whole thing. Use regex.test() if all you want is a boolean result:...and you could remove the () from your regexp since you've no need for a capture.Use test() method : You can use match() as well:But test() seems to be faster as you can read here.Important difference between match() and test():match() works only with strings, but test() works also with integers.Use /youregexp/.test(yourString) if you only want to know whether your string matches the regexp.Here's an example that looks for certain HTML tags so it's clear that /someregex/.test() returns a boolean:please try this flower:tryI would recommend using the execute method which returns null if no match exists otherwise it returns a helpful object.You can try this, it works for me.

How can I obfuscate (protect) JavaScript? [closed]

Teifion

[How can I obfuscate (protect) JavaScript? [closed]](https://stackoverflow.com/questions/194397/how-can-i-obfuscate-protect-javascript)

I want to make a JavaScript application that's not open source, and thus I wish to learn how to can obfuscate my JS code? Is this possible?

2008-10-11 18:17:18Z

I want to make a JavaScript application that's not open source, and thus I wish to learn how to can obfuscate my JS code? Is this possible?Obfuscation: Try YUI Compressor.  It's a very popular tool, built, enhanced and maintained by the Yahoo UI team.You may also use:UPDATE: This question was originally asked more than 10 years ago, and YUI is no longer maintained. Google Closure Compiler is still in use, and UglifyJS can be run locally via node package manager: npm install -g uglify-jsPrivate String Data:Keeping string values private is a different concern, and obfuscation won't really be of much benefit.  Of course, by packaging up your source into a garbled, minified mess, you have a light version of security through obscurity.  Most of the time, it's your user who is viewing the source, and the string values on the client are intended for their use, so that sort of private string value isn't often necessary.If you really had a value that you never wanted a user to see, you would have a couple of options.  First, you could do some kind of encryption, which is decrypted at page load.  That would probably be one of the most secure options, but also a lot of work which may be unnecessary.  You could probably base64 encode some string values, and that would be easier.. but someone who really wanted those string values could easily decode them.  Encryption is the only way to truly prevent anyone from accessing your data, and most people find that to be more security than they need.Sidenote:Obfuscation in Javascript has been known to cause some bugs. The obfuscators are getting a little better about it, but many outfits decide that they see enough benefit from minifying and gzipping, and the added savings of obfuscation isn't always worth the trouble.  If you're trying to protect your source, maybe you'll decide that it's worth your while, just to make your code harder to read. JSMin is a good alternative.I'm surprised no one has mentioned Google's Closure Compiler. It doesn't just minify/compress, it analyzes to find and remove unused code, and rewrites for maximum minification. It can also do type checking and will warn about syntax errors. JQuery recently switched from YUI Compresser to Closure Compiler, and saw a "solid improvement"Obfuscation can never really work.  For anyone who really wants to get at your code, it's just a speed bump.  Worse, it keeps your users from fixing bugs (and shipping the fixes back to you), and makes it harder for you to diagnose problems in the field.  Its a waste of your time and money.Talk to a lawyer about intellectual property law and what your legal options are. "Open Source" does not mean "people can read the source". Instead, Open Source is a particular licensing model granting permission to freely use and modify your code. If you don't grant such a license then people copying your code are in violation and (in most of the world) you have legal options to stop them.The only way you can really protect your code is to not ship it.  Move the important code server-side and have your public Javascript code do Ajax calls to it.See my full answer about obfuscators here.You can obfuscate the javascript source all you want, but it will always be reverse-engineerable just by virtue of requiring all the source code to actually run on the client machine... the best option I can think of is having all your processing done with server-side code, and all the client code javascript does is send requests for processing to the server itself. Otherwise, anyone will always be able to keep track of all operations that the code is doing.Someone mentioned base64 to keep strings safe. This is a terrible idea. Base64 is immediately recognizable by the types of people who would want to reverse engineer your code. The first thing they'll do is unencode it and see what it is.There are a number of JavaScript obfuscation tools that are freely available; however, I think it's important to note that it is difficult to obfuscate JavaScript to the point where it cannot be reverse-engineered. To that end, there are several options that I've used to some degree overtime:What i would do:A. Troll the hacker!This is will be in the second part my fake/obfuscated secret javascript code LAUNCHER.

The one you see in the source code.What does this code?B. Obfuscate the code a littleWhat is that?C Create a hard to display php file with the real code insideWhat does this php code?If everything is ok it will show you the right code else a fake code or ban ip, close page.. whatever.base64 referrer = http://here.is/my/launcher.htmlSECRET javascript = document.body.appendChild(document.createElement('div')).innerText='Awesome';FAKE = window.open('', '_self', '');window.close();Now .. if you define event handlers in the SECRET javascript it's probably accessible.. you need to define them outside with the launchcode and pointing to a nested SECRET function.SO... is there a easy wayto get the code?

document.body.appendChild(document.createElement('div')).innerText='Awesome';I'm not sure if this works but i'm using chrome and checked Elements,Resources,Network,Sources,Timeline,Profiles,Audits but i didn't find the line above.note1: if u open the Troll.php url from Inspect element->network in chrome you get the fake code.note2: the whole code is written for modern browsers. polyfill needs alot more code.EDIT launcher.htmlTroll.phpThe problem with interpreted languages, is that you send the source to get them working (unless you have a compiler to bytecode, but then again, it is quite trivial to decompile).So, if you don't want to sacrifice performance, you can only act on variable and function names, eg. replacing them with a, b... aa, ab... or a101, a102, etc. And, of course, remove as much space/newlines as you can (that's what so called JS compressors do).

Obfuscating strings will have a performance hit, if you have to encrypt them and decrypt them in real time. Plus a JS debugger can show the final values...Try JScrambler. I gave it a spin recently and  was impressed by it. 

It provides a set of templates for obfuscation with predefined settings for those who don't care much about the details and just want to get it done quickly. You can also create custom obfuscation by choosing whatever transformations/techniques you want.Contrary to most of the other answers I suggest against YUI Compressor; you should use Google Closure.Not much because it compresses more, but mostly because it will catch javascript errors such as a = [1,2,3,]; which make IE go haywire.A non-open-source Javascript-based application is fairly silly. Javascript is a client-side interpreted language.. Obfuscation isn't much protection..JS obfuscation is usually done to reduce the size of the script, rather than "protect" it. If you are in a situation where you don't want your code to be public, Javascript isn't the right language..There are plenty of tools around, but most have the word "compressor" (or "minifier") in its name for a reason..You can't secure client side code: just press F12 on Google Chrome, pause javascript execution and you will get all strings, even those encrypted. Beautify it and rename variables and you will get almost the original code.If you're writing server side javascript (i.e. NodeJS) is afraid of someone hacking into your server and want to make the hacker work more difficult, giving you more time to get your access back, then use javacript compilers:You need to use Closure Compiler on Advanced Compilation, as it's the only tool that renames all your variables, even if those are used in multiple files/modules. But it just have a problem: it only work if you write in it's coding style.I can recommend JavaScript Utility by Patrick J. O'Neil. It can obfuscate/compact and compress and it seems to be pretty good at these. That said, I never tried integrating it in a build script of any kind.As for obfuscating vs. minifying - I am not a big fan of the former. It makes debugging impossible (Error at line 1... "wait, there is only one line") and they always take time to unpack. But if you need to... well.I would suggest first minify with something like YUI Compressor, and then convert all string and numbers to HEX Values using something like http://www.javascriptobfuscator.com/With this, the code would be rendered near impossible to understand and I think at this Stage it will take more time for a Hacker to re-enact your code than actually if he re-wrote from scratch. Rewriting and Cloning is what you cant actually stop. After all we are free-people !Dean Edward's Packer is an excellent obfuscator, though it primarily obfuscates the code, not any string elements you may have within your code.See: Online Javascript Compression Tool  and select Packer (Dean Edwards) from the dropdownI'm under the impression that some enterprises (e.g.: JackBe) put encrypted JavaScript code inside *.gif files, rather than JS files, as an additional measure of obfuscation.I've been using Jasob for years and it is hands down the best obfuscator out there.

It has an advanced UI but is still intuitive and easy to use.

It will also handle HTML and CSS files.The best way to use it is to prefix all of your private variables with something like an underscore, then use the sort feature to group them all together and check them off as targets for obfuscation.  Users can still view your source, but it's much more difficult to decipher when your private variables are converted from something like _sUserPreferredNickName to a.The engine will automatically tally up the number of targeted variables and prioritize them to get the maximum compression.I don't work for Jasob and I get nothing out of promoting them, just offering some friendly advice.

The downside is that it's not free and is a little pricey, but still worth it when stacked against alternatives - the 'free' options don't even come close.Have you tried Bananascript? It produces highly compressed and completely unreadable code.I am using Closure-Compiler utility for the java-script obfuscation.  It minifies the code and has more options for obfuscation.

This utility is available at Google code at below URL:

Closure ToolsBut now a days I am hearing much of UglifyJS.  You can find various comparison between Closure Compiler and UglifyJS in which Uglify seems to be a winner.

UglifyJS: A Fast New JavaScript Compressor For Node.js That’s On Par With ClosureSoon I would give chance to UglifyJS.As a JavaScript/HTML/CSS obfuscator/compressor you can also try Patu Digua.Try this tool Javascript ObfuscatorI used it on my HTML5 game not only it reduced it size from 950KB to 150 but also made the source code unreadable closure compilers and minifiers are reversable I personally dont know how to reverse this obfuscation.You definitely should consider taking a look at Obfuscriptor. I goes beyond the typical Javascript minifying tricks we've seen from other tools such as YUI Compressor or Google Closure. The obfuscated code looks more like encrypted. Unlike anything I've seen before. This one minifies but doesn't obfuscate. If you don't want to use command line Java you can paste your javascript into a webform.If you use a JavaScript library, consider Dojo Toolkit which is compatible (after minor modifications) with the Closure Compiler's Advanced mode compilation.Dojo – The Only JavaScript Library 

Compatible with The Closure CompilerCode compiled with Closure Advanced mode is almost impossible to reverse-engineer, even passing through a beautifier, as the entire code base (includinhg the library) is obfuscated.  It is also 25% small on average.JavaScript code that is merely minified (YUI Compressor, Uglify etc.) is easy to reverse-engineer after passing through a beautifier.I've used this in the past, and it does a good job. It's not free, but you should definitely take a look.

JavaScript Obfuscator & Encoder

Dynamically access object property using variable

RichW

[Dynamically access object property using variable](https://stackoverflow.com/questions/4244896/dynamically-access-object-property-using-variable)

I'm trying to access a property of an object using a dynamic name. Is this possible?

2010-11-22 11:23:32Z

I'm trying to access a property of an object using a dynamic name. Is this possible?There are two ways to access properties of an object:The value between the brackets can be any expression. Therefore, if the property name is stored in a variable, you have to use bracket notation:This is my solution:Usage examples:In javascript we can access with:But only second case allows to access properties dynamically:Following is an ES6 example of how you can access the property of an object using a property name that has been dynamically generated by concatenating two strings. This is called computed property namesYou can achieve this in quite a few different ways.The bracket notation is specially powerful as it let's you access a property based on a variable:This can be extended to looping over every property of an object. This can be seem redundant due to newer JavaScript constructs such as for ... of ..., but helps illustrate a use case:Both dot and bracket notation also work as expected for nested objects:Object destructuringWe could also consider object destructuring as a means to access a property in an object, but as follows:I have take comments below into consideration and agreed. Eval is to be avoided.Accessing root properties in object is easily achieved with obj[variable], but getting nested complicates thing. Not to write already written code I suggest to use lodash.get.ExampleLodash get can be used on different ways, here is link to the documentation lodash.getYou can do it like this using Lodash getWhenever you need to access property dynamically you have to use square bracket for accessing property not "." operator

 Syntax: object[propery}It gets interesting when you have to pass parameters to this function as well.Code jsfiddleI came across a case where I thought I wanted to pass the "address" of an object property as data to another function and populate the object (with AJAX), do lookup from address array, and display in that other function. I couldn't use dot notation without doing string acrobatics so I thought an array might be nice to pass instead. I ended-up doing something different anyway, but seemed related to this post.Here's a sample of a language file object like the one I wanted data from:I wanted to be able to pass an array such as: ["audioPlayer", "controls", "stop"] to access the language text, "stop" in this case.I created this little function that looks-up the "least specific" (first) address parameter, and reassigns the returned object to itself. Then it is ready to look-up the next-most-specific address parameter if one exists.usage:This simple piece of code can check for deeply nested variable / value existence without having to check each variable along the way... Ex. - a deeply nested array of objects:Instead of :We can now :Cheers!I asked a question that kinda duplicated on this topic a while back, and after excessive research, and seeing a lot of information missing that should be here, I feel I have something valuable to add to this older post.however I rarely go this route because it doesn't work on property values assigned via style-sheets. To give you an example, I'll demonstrate with a bit of pseudo code.Using the code example above; if the width property of the div element that was stored in the 'elem' variable was styled in a CSS style-sheet, and not styled inside of its HTML tag, you are without a doubt going to get a return value of undefined stored inside of the cssProp variable. The undefined value occurs because in-order to get the correct value, the code written inside a CSS Style-Sheet needs to be computed in-order to get the value, therefore; you must use a method that will compute the value of the property who's value lies within the style-sheet.W3Schools getComputedValue Doc This gives a good example, and lets you play with it, however, this link Mozilla CSS getComputedValue doc talks about the getComputedValue function in detail, and should be read by any aspiring developer who isn't totally clear on this subject....does get, and does set. It is what I use, the only downside is you got to know JQuery, but this is honestly one of the very many good reasons that every Javascript Developer should learn JQuery, it just makes life easy, and offers methods, like this one, which is not available with standard Javascript.

Hope this helps someone!!!There is a few possibilities:If you want to get nested value dynamically (e.g. by variable), your best option will be to use lodash.You should use JSON.parse, take a look at https://www.w3schools.com/js/js_json_parse.asp

What is VanillaJS?

user1377911

[What is VanillaJS?](https://stackoverflow.com/questions/20435653/what-is-vanillajs)

I have one simple question, that got stuck in my mind for a few days: What is VanillaJS? Some people refer to it as a framework, you can download a library from the official pages.But when I check some examples or TodoMVC, they just use classic raw JavaScript functions without even including the library from the official pages or anything. Also the link "Docs" on the official webpage leads to the Mozilla specification of JavaScript.My question is: Is VanillaJS raw JavaScript? And if yes, why people refer to it as "framework" when all you need is a browser without any special included scripts?I am sorry for a probably stupid question but I have no idea what people are talking about when they say "VanillaJS".

2013-12-06 23:52:36Z

I have one simple question, that got stuck in my mind for a few days: What is VanillaJS? Some people refer to it as a framework, you can download a library from the official pages.But when I check some examples or TodoMVC, they just use classic raw JavaScript functions without even including the library from the official pages or anything. Also the link "Docs" on the official webpage leads to the Mozilla specification of JavaScript.My question is: Is VanillaJS raw JavaScript? And if yes, why people refer to it as "framework" when all you need is a browser without any special included scripts?I am sorry for a probably stupid question but I have no idea what people are talking about when they say "VanillaJS".This is VanillaJS (unmodified):As you can see, it's not really a framework or a library. It's just a running gag for framework-loving bosses or people who think you NEED to use a JS framework. It means you just use whatever your (for you own sake: non-legacy) browser gives you (using Vanilla JS when working with legacy browsers is a bad idea).Using "VanillaJS" means using plain JavaScript without any additional libraries like jQuery. People use it as a joke to remind other developers that many things can be done nowadays without the need for additional JavaScript libraries.  Here's a funny site that jokingly talks about this: http://vanilla-js.com/VanillaJS is a term for library/framework free javascript.  Its sometimes ironically referred to as a library, as a joke for people who could be seen as mindlessly using different frameworks, especially jQuery.Some people have gone so far to release this library, usually with an empty or comment-only js file.This is a joke for those who are excited about the JavaScript frameworks and do not know the pure Javascript.So VanillaJS is the same as pure Javascript.Vanilla in slang means:Here is a nice presentation on YouTube about VanillaJS: What is Vanilla JS?The plain and simple answer is yes, VanillaJS === JavaScript, as prescribed by Dr B. Eich.VanillaJS === JavaScript i.e.VanillaJS is native JavaScriptWhy,

Vanilla says it all!!!So why name it VanillaJS? As the accepted answer says some bosses want to work with a framework (because it's more organized and flexible and do all the things we want??) but simply JavaScript will do the job.  Yet you need to add a framework somewhere. Use VanillaJS... Is it a Joke? YESWant some fun? 

Where can you find it, http://vanilla-js.com/ Download and see for yourself!!!  It's 0 bytes uncompressed, 25 bytes gzipped :DFound this pun on internet regarding JS frameworks (Not to condemn the existing JS frameworks though, they'll make life really easy :)),

Also refer,"Vanilla JS」is an expression that got popular after the publishing of a satire website in 2012 (http://vanilla-js.com/). There’s a section covering its story/meaning in this post.So why the joke? It kind of came as a modern response to the old school knee-jerk reflex of relying on jQuery and additional JS libraries. With the ECMAScript spec and modern browsers capabilities, the need to bypass plain JS with external libraries to maintain consistency across browsers just isn’t there anymore. Here’s a site that shows you how true this is with concrete examples: http://youmightnotneedjquery.com/This word, hence, VanillaJS is a just damn joke that changed my life. I had gone to a German company for an interview, I was very poor in JavaScript and CSS, very poor, so the Interviewer said to me: We're working here with VanillaJs, So you should know this framework.Definitely, I understood that I'was rejected, but for one week I seek for VanillaJS, After all, I found THIS LINK. 😂What I am just was because of that joke.There's no difference at all, VanillaJS is just a way to refer to native (non-extended and standards-based) JavaScript. Generally speaking it's a term of contrast when using libraries and frameworks like jQuery and React. Website www.vanilla-js.com lays emphasis on it as a joke, by talking 'bout VanillaJS as though it were a fast, lightweight, and cross-platform framework. That muddies the waters! Thus, it can be a little philosophical question: "how many things do I compile to Vanilla JavaScript without being VanillaJS themselves?" So, a mere guideline for that is: if you can write the code and run it in any current web-browser without additional tools or so called compile steps, it might be VanillaJS.

What techniques can be used to define a class in JavaScript, and what are their trade-offs?

Karim

[What techniques can be used to define a class in JavaScript, and what are their trade-offs?](https://stackoverflow.com/questions/387707/what-techniques-can-be-used-to-define-a-class-in-javascript-and-what-are-their)

I prefer to use OOP in large scale projects like the one I'm working on right now. I need to create several classes in JavaScript but, if I'm not mistaken, there are at least a couple of ways to go about doing that. What would be the syntax and why would it be done in that way?I would like to avoid using third-party libraries - at least at first.

Looking for other answers, I found the article Object-Oriented Programming with JavaScript, Part I: Inheritance - Doc JavaScript that discusses object-oriented programming in JavaScript. Is there a better way to do inheritance? 

2008-12-22 23:07:04Z

I prefer to use OOP in large scale projects like the one I'm working on right now. I need to create several classes in JavaScript but, if I'm not mistaken, there are at least a couple of ways to go about doing that. What would be the syntax and why would it be done in that way?I would like to avoid using third-party libraries - at least at first.

Looking for other answers, I found the article Object-Oriented Programming with JavaScript, Part I: Inheritance - Doc JavaScript that discusses object-oriented programming in JavaScript. Is there a better way to do inheritance? Here's the way to do it without using any external libraries:Now the real answer is a whole lot more complex than that. For instance, there is no such thing as classes in JavaScript. JavaScript uses a prototype-based inheritance scheme.  In addition, there are numerous popular JavaScript libraries that have their own style of approximating class-like functionality in JavaScript. You'll want to check out at least Prototype and jQuery.  Deciding which of these is the "best" is a great way to start a holy war on Stack Overflow. If you're embarking on a larger JavaScript-heavy project, it's definitely worth learning a popular library and doing it their way. I'm a Prototype guy, but Stack Overflow seems to lean towards jQuery.As far as there being only "one way to do it", without any dependencies on external libraries, the way I wrote is pretty much it.   The best way to define a class in JavaScript is to not define a class.Seriously.There are several different flavors of object-orientation, some of them are: And probably others I don't know about.JavaScript implements prototype-based OO. In prototype-based OO, new objects are created by copying other objects (instead of being instantiated from a class template) and methods live directly in objects instead of in classes. Inheritance is done via delegation: if an object doesn't have a method or property, it is looked up on its prototype(s) (i.e. the object it was cloned from), then the prototype's prototypes and so on.In other words: there are no classes.JavaScript actually has a nice tweak of that model: constructors. Not only can you create objects by copying existing ones, you can also construct them "out of thin air", so to speak. If you call a function with the new keyword, that function becomes a constructor and the this keyword will not point to the current object but instead to a newly created "empty" one. So, you can configure an object any way you like. In that way, JavaScript constructors can take on one of the roles of classes in traditional class-based OO: serving as a template or blueprint for new objects.Now, JavaScript is a very powerful language, so it is quite easy to implement a class-based OO system within JavaScript if you want to. However, you should only do this if you really have a need for it and not just because that's the way Java does it.In the ES2015 specification, you can use the class syntax which is just sugar over the prototype system.The main benefit is that static analysis tools find it easier to target this syntax. It is also easier for others coming from class-based languages to use the language as a polyglot. Be wary of its current limitations. To achieve private properties, one must resort to using Symbols or WeakMaps. In future releases, classes will most likely be expanded to include these missing features.Browser support isn't very good at the moment (supported by nearly everyone except IE), but you can use these features now with a transpiler like Babel.I prefer to use Daniel X. Moore's {SUPER: SYSTEM}. This is a discipline that provides benefits such as true instance variables, trait based inheritance, class hierarchies and configuration options. The example below illustrates the use of true instance variables, which I believe is the biggest advantage. If you don't need instance variables and are happy with only public or private variables then there are probably simpler systems.Wow, that's not really very useful on it's own, but take a look at adding a subclass:Another advantage is the ability to have modules and trait based inheritance.An example of having the person class include the bindable module.Disclosure: I am Daniel X. Moore and this is my {SUPER: SYSTEM}. It is the best way to define a class in JavaScript.Following are the ways to create objects in javascript, which I've used so farExample 1:Example 2:Example 3:Example 4: Actual benefits of Object.create(). please refer [this link]

Example 5 (customised Crockford's Object.create):A class is defined like this:I think you should read Douglas Crockford's Prototypal Inheritance in JavaScript and Classical Inheritance in JavaScript.Examples from his page:Effect? It will allow you to add methods in more elegant way:I also recommend his videos:

Advanced JavaScript.You can find more videos on his page: http://javascript.crockford.com/

In John Reisig book you can find many examples from Douglas Crockfor's website.Because I will not admit the YUI/Crockford factory plan and because I like to keep things self contained and extensible this is my variation:where ideally the typeof test is on something like the first method prototypedIf you're going for simple, you can avoid the "new" keyword entirely and just use factory methods.  I prefer this, sometimes, because I like using JSON to create objects.I'm not sure what the performance hit is for large objects, though.Thats the way TypeScript compiles class with constructor to JavaScript.The simple way is:The reason for that is that this can be bound to something else if you give a method as an event handler, so you save the value during instantiation and use it later.Edit: it's definitely not the best way, just a simple way. I'm waiting for good answers too!You probably want to create a type by using the Folding Pattern:That code will give you a type called myType. It will have internal private fields called toggle and text. It will also have these exposed members: the fields count and numbers; the properties toggle, text and numberLength; the methods incrementNumbersByCount and tweak.The Folding Pattern is fully detailed here:

Javascript Folding PatternCode golf for @liammclennan's answer.MooTools (My Object Oriented Tools) is centered on the idea of classes.  You can even extend and implement with inheritance.  When mastered, it makes for ridiculously reusable, powerful javascript.Object Based Classes with InheritenceSimple, sweet, and gets 'er done.A baseA classActionBased on the example of Triptych, this might even be simpler:This only creates a single object instance, but is still useful if you want to encapsulate a bunch of names for variable and methods in a class. Normally there would not be the "Bob, M" arguments to the constructor, for example if the methods would be calls to a system with its own data, such as a database or network.I am still too new with JS to see why this does not use the prototype thing.JavaScript is object-oriented, but it's radically different than other OOP languages like Java, C# or C++. Don't try to understand it like that. Throw that old knowledge out and start anew. JavaScript needs a different thinking.I'd suggest to get a good manual or something on the subject. I myself found ExtJS Tutorials the best for me, although I haven't used the framework before or after reading it. But it does give a good explanation about what is what in JavaScript world. Sorry, it seems that that content has been removed. Here's a link to archive.org copy instead. Works today. :P

Preloading images with jQuery

James

[Preloading images with jQuery](https://stackoverflow.com/questions/476679/preloading-images-with-jquery)

I'm looking for a quick and easy way to preload images with JavaScript. I'm using jQuery if that's important.I saw this here (http://nettuts.com...):But, it looks a bit over-the-top for what I want!I know there are jQuery plugins out there that do this but they all seem a bit big (in size); I just need a quick, easy and short way of preloading images!

2009-01-24 21:25:54Z

I'm looking for a quick and easy way to preload images with JavaScript. I'm using jQuery if that's important.I saw this here (http://nettuts.com...):But, it looks a bit over-the-top for what I want!I know there are jQuery plugins out there that do this but they all seem a bit big (in size); I just need a quick, easy and short way of preloading images!Quick and easy:Or, if you want a jQuery plugin:Here's a tweaked version of the first response that actually loads the images into DOM and hides it by default.Use JavaScript Image object.This function allows you to trigger a callback upon loading all pictures. However, note that it will never trigger a callback if at least one resource is not loaded. This can be easily fixed by implementing onerror callback and incrementing loaded value or handling the error.JP, After checking your solution, I was still having issues in Firefox where it wouldn't preload the images before moving along with loading the page. I discovered this by putting some sleep(5) in my server side script. I implemented the following solution based off yours which seems to solve this.Basically I added a callback to your jQuery preload plugin, so that it gets called after all the images are properly loaded.Out of interest, in my context, I'm using this as follows:Hopefully this helps someone who comes to this page from Google (as I did) looking for a solution to preloading images on Ajax calls.This one line jQuery code creates (and loads) a DOM element img without showing it:The usage is quite simple:http://jsfiddle.net/yckart/ACbTK/I have a small plugin that handles this.It's called waitForImages and it can handle img elements or any element with a reference to an image in the CSS, e.g. div { background: url(img.png) }.If you simply wanted to load all images, including ones referenced in the CSS, here is how you would do it :)you can load images in your html somewhere using css display:none; rule, then show them when you want with js or jquerydon't use js or jquery functions to preload is just a css rule Vs many lines of js to be executedexample: HtmlCss:jQuery:Preloading images by jquery/javascript is not good cause images takes few milliseconds to load in page + you have milliseconds for the script to be parsed and executed, expecially then if they are big images, so hiding them in hml is better also for performance, cause image is really preloaded without beeing visible at all, until you show that!this jquery imageLoader plugin is just 1.39kbusage:there are also other options like whether you want to load the images synchronously or asychronously and a complete event for each individual image.A quick, plugin-free way to preload images in jQuery and get a callback function is to create multiple img tags at once and count the responses, e.g.Note that if you want to support IE7, you'll need to use this slightly less pretty version (Which also works in other browsers):Thanks for this! I'd liek to add a little riff on the J-P's answer - I don't know if this will help anyone, but this way you don't have to create an array of images, and you can preload all your large images if you name your thumbs correctly. This is handy because I have someone who is writing all the pages in html, and it ensures one less step for them to do - eliminating the need to create the image array, and another step where things could get screwed up.Basically, for each image on the page it grabs the src of each image, if it matches certain criteria (is a thumb, or home page image) it changes the name(a basic string replace in the image src), then loads the images.In my case the page was full of thumb images all named something like image_th.jpg, and all the corresponding large images are named image_lg.jpg. The thumb to large just replaces the _th.jpg with _lg.jpg and then preloads all the large images.Hope this helps someone.I use the following code:I would use an Manifest file to tell (modern) web browsers to also load all relevant images and cache them. Use Grunt and grunt-manifest to do this automatically and never worry again about preload scripts, cache invalidators, CDN etc. https://github.com/gunta/grunt-manifestThis works for me even in IE9:I wanted to do this with a Google Maps API custom overlay. Their sample code simply uses JS to insert IMG elements and the image placeholder box is displayed until the image is loaded. I found an answer here that worked for me : https://stackoverflow.com/a/10863680/2095698 .This preloads an image as suggested before, and then uses the handler to append the img object after the img URL is loaded. jQuery's documentation warns that cached images don't work well with this eventing/handler code, but it's working for me in FireFox and Chrome, and I don't have to worry about IE..attr('src',value)

not

.attr('src',this)just to point it out :)5 lines in coffeescriptFor those who know a little bit of actionscript, you can check for flash player, with minimal effort, and make a flash preloader, that you can also export to html5/Javascript/Jquery.

To use if the flash player is not detected, check examples on how to do this with the youtube role back to html5 player:)

And create your own.

I do not have the details, becouse i have not started yet, if i dont forgot, i wil post it later and will try out some standerd Jquery code to mine.

Self-references in object literals / initializers

kpozin

[Self-references in object literals / initializers](https://stackoverflow.com/questions/4616202/self-references-in-object-literals-initializers)

Is there any way to get something like the following to work in JavaScript?In the current form, this code obviously throws a reference error since this doesn't refer to foo. But is there any way to have values in an object literal's properties depend on other properties declared earlier?

2011-01-06 14:53:53Z

Is there any way to get something like the following to work in JavaScript?In the current form, this code obviously throws a reference error since this doesn't refer to foo. But is there any way to have values in an object literal's properties depend on other properties declared earlier?Well, the only thing that I can tell you about are getters:This is a syntactic extension introduced by the ECMAScript 5th Edition Specification, the syntax is supported by most modern browsers (including IE9).You could do something like:This would be some kind of one time initialization of the object.Note that you are actually assigning the return value of init() to foo, therefore you have to return this.The obvious, simple answer is missing, so for completeness:No. All of the solutions here defer it until after the object is created (in various ways) and then assign the third property. The simplest way is to just do this:All others are just more indirect ways to do the same thing. (Felix's is particularly clever, but requires creating and destroying a temporary function, adding complexity; and either leaves an extra property on the object or [if you delete that property] impacts the performance of subsequent property accesses on that object.)If you need it to all be within one expression, you can do that without the temporary property:Or of course, if you need to do this more than once:then where you need to use it:Simply instantiate an anonymous function:Now in ES6 you can create lazy cached properties. On first use the property evaluates once to become a normal static property. Result: The second time the math function overhead is skipped. The magic is in the getter.In the arrow getter this picks up the surrounding lexical scope. Some closure should deal with this;All the variables declared within foo are private to foo, as you would expect with any function declaration and because they are all in scope, they all have access to each other without needing to refer to this, just as you would expect with a function.  The difference is that this function returns an object that exposes the private variables and assigns that object to foo.  In the end, you return just the interface you want to expose as an object with the return {} statement.The function is then executed at the end with the () which causes the entire foo object to be evaluated, all the variables within instantiated and the return object added as properties of foo().You could do it like thisThat method has proven useful to me when I had to refer to the object that a function was originally declared on. The following is a minimal example of how I used it:By defining self as the object that contains the print function you allow the function to refer to that object. This means you will not have to 'bind' the print function to an object if you need to pass it somewhere else. If you would, instead, use this as illustrated belowThen the following code will log 0, 1, 2 and then give an errorBy using the self method you guarantee that print will always return the same object regardless of the context in which the function is ran. The code above will run just fine and log 0, 1, 2 and 3 when using the self version of createMyObject(). For completion, in ES6 we've got classes (supported at the time of writing this only by latest browsers, but available in Babel, TypeScript and other transpilers)You can do it using the module pattern. Just like:With this pattern you can instantiate several foo objects according to your need.http://jsfiddle.net/jPNxY/1/There are several ways to accomplish this; this is what I would use:just for the sake of thought - place object's properties out of a timeline:there are better answers above too. This is how I modified example code you questioned with.UPDATE:Creating new function on your object literal and invoking a constructor seems a radical departure from the original problem, and it's unnecessary.  You cannot reference a sibling property during object literal initialization. The simplest solution for computed properties follows (no heap, no functions, no constructor): The key to all this is SCOPE.You need to encapsulate the "parent" (parent object) of the property you want to define as it's own instantiated object, and then you can make references to sibling properties using the key word thisIt's very, very important to remember that if you refer to this without first so doing, then this will refer to the outer scope... which will be the window object.The other answers posted here are better but here's an alternative that:Self-executing anonymous functions and window storageThe order is guaranteed (bar before baz).It pollutes window of course, but I can't imagine someone writing a script that requires window.temp to be persistent. Maybe tempMyApp if you're paranoid.It's also ugly but occasionally useful. An example is when you are using an API with rigid initialization conditions and don't feel like refactoring so the scoping is correct.And it's dry, of course.if your object is written as a function which returns an object, AND you use ES6 object-attribute 'methods', then it's possible:I use the following code as alternative, and it works. And the variable can be array too. (@ Fausto R.)Here's a neat ES6 way:I use it to do something like this:How about this  solution this will work with nested objects with array as wellThrowing in an option since I didn't see this exact scenario covered.  If you don't want c updated when a or b update, then an ES6 IIFE works well. For my needs, I have an object that relates to an array which will end up being used in a loop, so I only want to calculate some common setup once, so this is what I have:Since I need to set a property for indexOfSelectedTier and I need to use that value when setting the hasUpperTierSelection property, I calculate that value first and pass it in as a param to the IIFEOther approach would be to declare the object first before assigning properties into it:With that, you can use the object variable name to access the already assigned values.

Best for config.js file.This is almost identical to @slicedtoad's answer, but doesn't use a function.Here were using class expressions to get the nested object literal interface we'd want. This is the next best thing IMHO to being able to reference the properties of an object during creation.Main thing to note is while using this solution, you have exact same interface as you'd have had from an object literal. And the syntax is pretty close to an object literal itself (vs using a function, etc).Here in this class, you can combine multiple relative path among themselves, which is not possible with an object literal.If you want to use native JS, the other answers provide good solutions.But if you'd prefer to write self-referencing objects like:I wrote an npm library called self-referenced-object that supports that syntax and returns a native object.

What is lexical scope?

Subba Rao

[What is lexical scope?](https://stackoverflow.com/questions/1047454/what-is-lexical-scope)

What is a brief introduction to lexical scoping?

2009-06-26 05:10:15Z

What is a brief introduction to lexical scoping?I understand them through examples. :)First, lexical scope (also called static scope), in C-like syntax:Every inner level can access its outer levels.There is another way, called dynamic scope used by the first implementation of Lisp, again in a C-like syntax:Here fun can either access x in dummy1 or dummy2, or any x in any function that call fun with x declared in it.will print 5,will print 10.The first one is called static because it can be deduced at compile-time, and the second is called dynamic because the outer scope is dynamic and depends on the chain call of the functions.I find static scoping easier for the eye. Most languages went this way eventually, even Lisp (can do both, right?). Dynamic scoping is like passing references of all variables to the called function.As an example of why the compiler can not deduce the outer dynamic scope of a function, consider our last example. If we write something like this:The call chain depends on a run time condition. If it is true, then the call chain looks like:If the condition is false:The outer scope of fun in both cases is the caller plus the caller of the caller and so on.Just to mention that the C language does not allow nested functions nor dynamic scoping.Lets try the shortest possible definition:Lexical Scoping defines how variable names are resolved in nested functions: inner functions contain the scope of parent functions even if the parent function has returned.That is all there is to it!The above code will return "I am just a local". It will not return "I am a global". Because the function func() counts where is was originally defined which is under the scope of function whatismyscope.It will not bother from whatever it is being called(the global scope/from within another function even), that's why global scope value I am global will not be printed.This is called lexical scoping where "functions are executed using the scope chain that was in effect when they were defined" - according to JavaScript Definition Guide.Lexical scope is a very very powerful concept. Hope this helps..:)Lexical (AKA static) scoping refers to determining a variable's scope based solely on its position within the textual corpus of code. A variable always refers to its top-level environment. It's good to understand it in relation to dynamic scope.Scope defines the area, where functions, variables and such are available. The availability of a variable for example is defined within its  the context, let's say the function, file, or object, they are defined in. We usually call these local variables.The lexical part means that you can derive the scope from reading the source code. Lexical scope is also known as static scope.Dynamic scope defines global variables that can be called or referenced from anywhere after being defined. Sometimes they are called global variables, even though global variables in most programmin languages are of lexical scope. This means, it can be derived from reading the code that the variable is available in this context. Maybe one has to follow a uses or includes clause to find the instatiation or definition, but the code/compiler knows about the variable in this place.In dynamic scoping, by contrast, you search in the local function first, then you search in the function that called the local function, then you search in the function that called that function, and so on, up the call stack. "Dynamic" refers to change, in that the call stack can be different every time a given function is called, and so the function might hit different variables depending on where it is called from. (see here)To see an interesting example for dynamic scope see here.For further details see here and here.Some examples in Delphi/Object PascalDelphi has lexical scope.The closest Delphi gets to dynamic scope is the RegisterClass()/GetClass() function pair. For its use see here.Let's say that the time RegisterClass([TmyClass]) is called to register a certain class cannot be predicted by reading the code (it gets called in a button click method called by the user), code calling GetClass('TmyClass') will get a result or not. The call to RegisterClass() does not have to be in the lexical scope of the unit using GetClass();Another possibility for dynamic scope are anonymous methods (closures) in Delphi 2009, as they know the variables of their calling function. It does not follow the calling path from there recursively and therefore is not fully dynamic.I love the fully featured, language-agnostic answers from folks like @Arak. Since this question was tagged JavaScript though, I'd like to chip in some notes very specific to this language.In JavaScript our choices for scoping are:It's worth noting, I think, that JavaScript doesn't really have dynamic scoping. .bind adjusts the this keyword, and that's close, but not technically the same.Here is an example demonstrating both approaches. You do this every time you make a decision about how to scope callbacks so this applies to promises, event handlers, and more.Here is what you might term Lexical Scoping of callbacks in JavaScript:Another way to scope is to use Function.prototype.bind:These methods are, as far as I know, behaviorally equivalent.Lexical scoping: Variables declared outside of a function are global variables and are visible everywhere in a JavaScript program. Variables declared inside a function have function scope and are visible only to code that appears inside that function.IBM defines it as:Example 1:Example 2:In simple language, lexical scope is a variable defined outside your scope or upper scope is automatically available inside your scope which means you don't need to pass it there.Example:// Output: JavaScriptLexical scope means that in a nested group of functions, the inner functions have access to the variables and other resources of their parent scope. This means that the child functions are lexically bound to the execution context of their parents. Lexical scope is sometimes also referred to as static scope.The thing you will notice about lexical scope is that it works forward, meaning name can be accessed by its children's execution contexts. But it doesn't work backward to its parents, meaning that the variable likes cannot be accessed by its parents.This also tells us that variables having the same name in different execution contexts gain precedence from top to bottom of the execution stack. A variable, having a name similar to another variable, in the innermost function (topmost context of the execution stack) will have higher precedence.Note that this is taken from here.There is an important part of the conversation surrounding lexical and dynamic scoping that is missing: a plain explanation of the lifetime of the scoped variable - or when the variable can be accessed.Dynamic scoping only very loosely corresponds to "global" scoping in the way that we traditionally think about it (the reason I bring up the comparison between the two is that it has already been mentioned - and I don't particularly like the linked article's explanation); it is probably best we don't make the comparison between global and dynamic - though supposedly, according to the linked article, "...[it] is useful as a substitute for globally scoped variables."So, in plain English, what's the important distinction between the two scoping mechanisms?Lexical scoping has been defined very well throughout the answers above: lexically scoped variables are available - or, accessible - at the local level of the function in which it was defined.However - as it is not the focus of the OP - dynamic scoping has not received a great deal of attention and the attention it has received means it probably needs a bit more (that's not a criticism of other answers, but rather a "oh, that answer made we wish there was a bit more"). So, here's a little bit more:Dynamic scoping means that a variable is accessible to the larger program during the lifetime of the function call - or, while the function is executing. Really, Wikipedia actually does a nice job with the explanation of the difference between the two. So as not to obfuscate it, here is the text that describes dynamic scoping:Lexical scope means that a function looks up variables in the context where it was defined, and not in the scope immediately around it.Look at how lexical scope works in Lisp if you want more detail. The selected answer by Kyle Cronin in Dynamic and Lexical variables in Common Lisp is a lot clearer than the answers here.Coincidentally I only learned about this in a Lisp class, and it happens to apply in JavaScript as well.I ran this code in Chrome's console.Output:A lexical scope in JavaScript means that a variable defined outside a function can be accessible inside another function defined after the variable declaration. But the opposite is not true; the variables defined inside a function will not be accessible outside that function.This concept is heavily used in closures in JavaScript.Let's say we have the below code.Now, when you call add() --> this will print 3.So, the add() function is accessing the global variable x which is defined before method function add. This is called due to lexical scoping in JavaScript.Lexical scope refers to the lexicon of identifiers (e.g., variables, functions, etc.) visible from the current position in the execution stack.foo and bar are always within the lexicon of available identifiers because they are global. When function1 is executed, it has access to a lexicon of foo2, bar2, foo, and bar. When function2 is executed, it has access to a lexicon of foo3, bar3, foo2, bar2, foo, and bar.The reason global and/or outer functions do not have access to an inner functions identifiers is because the execution of that function has not occurred yet and therefore, none of its identifiers have been allocated to memory. What’s more, once that inner context executes, it is removed from the execution stack, meaning that all of it’s identifiers have been garbage collected and are no longer available.Finally, this is why a nested execution context can ALWAYS access it’s ancestors execution context and thus why it has access to a greater lexicon of identifiers.See:Special thanks to @robr3rd for help simplifying the above definition. Here's a different angle on this question that we can get by taking a step back and looking at the role of scoping in the larger framework of interpretation (running a program). In other words, imagine that you were building an interpreter (or compiler) for a language and were responsible for computing the output, given a program and some input to it.Interpretation involves keeping track of three things:An interpreter starts at the first line of code in a program, computes its environment, runs the line in that environment and captures its effect on the program's state. It then follows the program's control flow to execute the next line of code, and repeats the process till the program ends.The way you compute the environment for any operation is through a formal set of rules defined by the programming language. The term "binding" is frequently used to describe the mapping of the overall state of the program to a value in the environment. Note that by "overall state" we do not mean global state, but rather the sum total of every reachable definition, at any point in the execution).This is the framework in which the scoping problem is defined. Now to the next part of what our options are.This is the gist of dynamic scoping, wherein the environment that any code runs in is bound to the state of the program as defined by its execution context.In other words, with lexical scope the environment that any code sees is bound to state associated with a scope defined explicitly in the language, such as a block or a function.I normally learn by example, and here's a little something:This topic is strongly related with the built-in bind function and introduced in ECMAScript 6 Arrow Functions. It was really annoying, because for every new "class" (function actually) method we wanted to use, we had to bind this in order to have access to the scope.JavaScript by default doesn't set its scope of this on functions (it doesn't set the context on this). By default you have to explicitly say which context you want to have.The arrow functions automatically gets so-called lexical scope (have access to variable's definition in its containing block). When using arrow functions it automatically binds this to the place where the arrow function was defined in the first place, and the context of this arrow functions is its containing block.See how it works in practice on the simplest examples below.Before Arrow Functions (no lexical scope by default):With arrow functions (lexical scope by default):

Moment.js transform to date object

vadim.zhiltsov

[Moment.js transform to date object](https://stackoverflow.com/questions/17987647/moment-js-transform-to-date-object)

Using Moment.js I can't transform a correct moment object to a date object with timezones. I can't get the correct date.Example:

2013-08-01 07:25:25Z

Using Moment.js I can't transform a correct moment object to a date object with timezones. I can't get the correct date.Example:Use this to transform a moment object into a date object:From http://momentjs.com/docs/#/displaying/as-javascript-date/Yields:As long as you have initialized moment-timezone with the data for the zones you want, your code works as expected.You are correctly converting the moment to the time zone, which is reflected in the second line of output from momentObj.format().Switching to UTC doesn't just drop the offset, it changes back to the UTC time zone.  If you're going to do that, you don't need the original .tz() call at all.  You could just do moment.utc().Perhaps you are just trying to change the output format string?  If so, just specify the parameters you want to the format method:Regarding the last to lines of your code - when you go back to a Date object using toDate(), you are giving up the behavior of moment.js and going back to JavaScript's behavior.  A JavaScript Date object will always be printed in the local time zone of the computer it's running on.  There's nothing moment.js can do about that.A couple of other little things:.toDate did not really work for me, So, Here is what i did :hope this helpsSince momentjs has no control over javascript date object I found a work around to this. This will give you a javascript date object with the converted time I needed to have timezone information in my date string. I was originally using moment.tz(dateStr, 'America/New_York').toString(); but then I started getting errors about feeding that string back into moment.I tried the moment.tz(dateStr, 'America/New_York').toDate(); but then I lost timezone information which I needed.The only solution that returned a usable date string with timezone that could be fed back into moment was moment.tz(dateStr, 'America/New_York').format();nice and clean!!!! To convert any date, for example utc:moment has updated the js lib as of 06/2018. if you have freedom to use Angular5+, then better use datePipe feature there than the timezone function here. I have to use moment.js because my project limits to Angular2 only.The question is a little obscure. I ll do my best to explain this. First you should understand how to use moment-timezone. According to this answer here  TypeError: moment().tz is not a function, you have to import moment from moment-timezone instead of the default moment (ofcourse you will have to npm install moment-timezone first!). For the sake of clarity,Now in order to use the timezone feature, use moment.tz("date_string/moment()","time_zone") (visit https://momentjs.com/timezone/ for more details). This function will return a moment object with a particular time zone. For the sake of clarity,Now when you try to convert newYork (the moment object) with moment's toDate() (ISO 8601 format conversion) you will get the time of Greenwich,UK. For more details, go through this article https://www.nhc.noaa.gov/aboututc.shtml, about UTC. However if you just want your local time in this format (New York time, according to this example), just add the method .utc(true) ,with the arg true,  to your moment object. For the sake of clarity,In short, moment.tz considers the time zone you specify and compares your local time with the time in Greenwich to give you a result. I hope this was useful. try (without format step)

How do I enumerate the properties of a JavaScript object? [duplicate]

davenpcj

[How do I enumerate the properties of a JavaScript object? [duplicate]](https://stackoverflow.com/questions/85992/how-do-i-enumerate-the-properties-of-a-javascript-object)

How do I enumerate the properties of a JavaScript object?I actually want to list all the defined variables and their values, but I've learned that defining a variable actually creates a property of the window object.

2008-09-17 18:10:18Z

How do I enumerate the properties of a JavaScript object?I actually want to list all the defined variables and their values, but I've learned that defining a variable actually creates a property of the window object.Simple enough:Now, you will not get private variables this way because they are not available.EDIT: @bitwiseplatypus is correct that unless you use the hasOwnProperty() method, you will get properties that are inherited - however, I don't know why anyone familiar with object-oriented programming would expect anything less! Typically, someone that brings this up has been subjected to Douglas Crockford's warnings about this, which still confuse me a bit. Again, inheritance is a normal part of OO languages and is therefore part of JavaScript, notwithstanding it being prototypical.Now, that said, hasOwnProperty() is useful for filtering, but we don't need to sound a warning as if there is something dangerous in getting inherited properties.EDIT 2: @bitwiseplatypus brings up the situation that would occur should someone add properties/methods to your objects at a point in time later than when you originally wrote your objects (via its prototype) - while it is true that this might cause unexpected behavior, I personally don't see that as my problem entirely. Just a matter of opinion. Besides, what if I design things in such a way that I use prototypes during the construction of my objects and yet have code that iterates over the properties of the object and I want all inherited properties? I wouldn't use hasOwnProperty(). Then, let's say, someone adds new properties later. Is that my fault if things behave badly at that point? I don't think so. I think this is why jQuery, as an example, has specified ways of extending how it works (via jQuery.extend and jQuery.fn.extend).Use a for..in loop to enumerate an object's properties, but be careful. The enumeration will return properties not just of the object being enumerated, but also from the prototypes of any parent objects.To avoid including inherited properties in your enumeration, check hasOwnProperty():Edit: I disagree with JasonBunting's statement that we don't need to worry about enumerating inherited properties. There is danger in enumerating over inherited properties that you aren't expecting, because it can change the behavior of your code.It doesn't matter whether this problem exists in other languages; the fact is it exists, and JavaScript is particularly vulnerable since modifications to an object's prototype affects child objects even if the modification takes place after instantiation.This is why JavaScript provides hasOwnProperty(), and this is why you should use it in order to ensure that third party code (or any other code that might modify a prototype) doesn't break yours. Apart from adding a few extra bytes of code, there is no downside to using hasOwnProperty().The standard way, which has already been proposed several times is:However Internet Explorer 6, 7 and 8 have a bug in the JavaScript interpreter, which has the effect that some keys are not enumerated. If you run this code:If will alert "12" in all browsers except IE. IE will simply ignore this key. The affected key values are:To be really safe in IE you have to use something like:The good news is that EcmaScript 5 defines the Object.keys(myObject) function, which returns the keys of an object as array and some browsers (e.g. Safari 4) already implement it.In modern browsers (ECMAScript 5) to get all enumerable properties you can do:Object.keys(obj)

(Check the link to get a snippet for backward compatibility on older browsers)Or to get also non-enumerable properties:Object.getOwnPropertyNames(obj)Check ECMAScript 5 compatibility tableAdditional info:

What is a enumerable attribute?I think an example of the case that has caught me by surprise is relevant:But to my surprise, the output isWhy? Another script on the page has extended the Object prototype:Simple JavaScript code:jQuery:I found it... for (property in object) { // do stuff } will list all the properties, and therefore all the globally declared variables on the window object..Here's how to enumerate an object's properties:If you are using the Underscore.js library, you can use function keys:You can use the for of loop.If you want an array use: Object.keys(object1)Ref. Object.keys()Python's dict has 'keys' method, and that is really useful. I think in JavaScript we can have something this:EDIT: But the answer of @carlos-ruana works very well. I tested Object.keys(window), and the result is what I expected.EDIT after 5 years: it is not good idea to extend Object, because it can conflict with other libraries that may want to use keys on their objects and it will lead unpredictable behavior on your project. @carlos-ruana answer is the correct way to get keys of an object.If you're trying to enumerate the properties in order to write new code against the object, I would recommend using a debugger like Firebug to see them visually. Another handy technique is to use Prototype's Object.toJSON() to serialize the object to JSON, which will show you both property names and values. http://www.prototypejs.org/api/object/tojsonI'm still a beginner in JavaScript, but I wrote a small function to recursively print all the properties of an object and its children:

Test for existence of nested JavaScript object key

user113716

[Test for existence of nested JavaScript object key](https://stackoverflow.com/questions/2631001/test-for-existence-of-nested-javascript-object-key)

If I have a reference to an object:that will potentially (but not immediately) have nested objects, something like:What is the best way to check for the existence of property in deeply nested objects?alert(test.level1); yields undefined, but alert(test.level1.level2.level3); fails.I’m currently doing something like this:but I was wondering if there’s a better way.

2010-04-13 15:47:06Z

If I have a reference to an object:that will potentially (but not immediately) have nested objects, something like:What is the best way to check for the existence of property in deeply nested objects?alert(test.level1); yields undefined, but alert(test.level1.level2.level3); fails.I’m currently doing something like this:but I was wondering if there’s a better way.You have to do it step by step if you don't want a TypeError because if one of the members is null or undefined, and you try to access a member, an exception will be thrown.You can either simply catch the exception, or make a function to test the existence of multiple levels, something like this:ES6 UPDATE:Here is a shorter version of the original function, using ES6 features and recursion (it's also in proper tail call form):However, if you want to get the value of a nested property and not only check its existence, here is a simple one-line function:The above function allows you to get the value of nested properties, otherwise will return undefined.UPDATE 2019-10-17:The optional chaining proposal reached Stage 3 on the ECMAScript committee process, this will allow you to safely access deeply nested properties, by using the token ?., the new optional chaining operator:If any of the levels accessed is null or undefined the expression will resolve to undefined by itself.The proposal also allows you to handle method calls safely:The above expression will produce undefined if obj, obj.level1, or obj.level1.method are null or undefined, otherwise it will call the function.You can start playing with this feature with Babel using the optional chaining plugin.Since Babel 7.8.0, ES2020 is supported by defaultCheck this example on the Babel REPL.🎉🎉UPDATE: December 2019 🎉🎉The optional chaining proposal finally reached Stage 4 in the December 2019 meeting of the TC39 committee. This means this feature will be part of the ECMAScript 2020 Standard.Here is a pattern I picked up from Oliver Steele:In fact that whole article is a discussion of how you can do this in javascript. He settles on using the above syntax (which isn't that hard to read once you get used to it) as an idiom.Looks like lodash has added _.get for all your nested property getting needs.https://lodash.com/docs#getlodash users may enjoy lodash.contrib which has a couple methods that mitigate this problem.Signature: _.getPath(obj:Object, ks:String|Array)Gets the value at any depth in a nested object based on the path described by

the keys given. Keys may be given as an array or as a dot-separated string.

Returns undefined if the path cannot be reached.I have done performance tests (thank you cdMinix for adding lodash) on some of the suggestions proposed to this question with the results listed below.Object Wrap (by Oliver Steele) – 34 % – fastest Original solution (suggested in question) – 45%checkNested – 50%get_if_exist – 52%validChain – 54%objHasKeys – 63%nestedPropertyExists – 69%_.get – 72%deeptest – 86%sad clowns – 100% – slowestYou can read an object property at any depth, if you handle the name like a string: 't.level1.level2.level3'.It returns undefined if any of the segments is undefined.If you are coding in ES6 environment (or using 6to5) then you can take advantage of the arrow function syntax:Regarding the performance, there is no performance penalty for using try..catch block if the property is set. There is a performance impact if the property is unset.Consider simply using _.has:how aboutYou can also use tc39 optional chaining proposal together with babel 7 - tc39-proposal-optional-chainingCode would look like this:I tried a recursive approach:The ! keys.length || kicks out of the recursion so it doesn't run the function with no keys left to test.  Tests:I am using it to print a friendly html view of a bunch of objects with unknown key/values, e.g.:I think the following script gives more readable representation.declare a function:then use it like this:I call it "sad clown technique" because it is using sign o(EDIT:here is a version for TypeScript it gives type checks at compile time (as well as the intellisense if you use a tool like Visual Studio)the usage is the same:but this time intellisense works! plus, you can set a default value:One simple way is this:The try/catch catches the cases for when any of the higher level objects such as test, test.level1, test.level1.level2 are not defined.I didn't see any example of someone using ProxiesSo I came up with my own.

The great thing about it is that you don't have to interpolate strings. You can actually return a chain-able object function and do some magical things with it. You can even call functions and get array indexes to check for deep objectsThe above code works fine for synchronous stuff. But how would you test something that is asynchronous like this ajax call?

How do you test that? what if the response isn't json when it returns a 500 http error?sure you could use async/await to get rid of some callbacks. But what if you could do it even more magically? something that looks like this:You probably wonder where all the promise & .then chains are... this could be blocking for all that you know... but using the same Proxy technique with promise you can actually test deeply nested complex path for it existence without ever writing a single functionBased on this answer, I came up with this generic function using ES2015 which would solve the problemI have created a little function to get nested object properties safely.Or a simpler but slightly unreadable version:Or even shorter but without fallback on falsy flag:I have test with:And here are some tests:To see all the code with documentation and the tests I've tried you can check my github gist:

https://gist.github.com/vsambor/3df9ad75ff3de489bbcb7b8c60beebf4#file-javascriptgetnestedvalues-jscreate a global function and use in whole project try thisif conditionA shorter, ES5 version of @CMS's excellent answer:With a similar test:I was looking for the value to be returned if the property exists, so I modified the answer by CMS above. Here's what I came up with:The answer given by CMS works fine with the following modification for null checks as wellFollowing options were elaborated starting from this answer. Same tree for both : I know this question is old, but I wanted to offer an extension by adding this to all objects. I know people tend to frown on using the Object prototype for extended object functionality, but I don't find anything easier than doing this. Plus, it's now allowed for with the Object.defineProperty method.Now, in order to test for any property in any object you can simply do:Here's a jsfiddle to test it out, and in particular it includes some jQuery that breaks if you modify the Object.prototype directly because of the property becoming enumerable. This should work fine with 3rd party libraries.I think this is a slight improvement (becomes a 1-liner):This works because the && operator returns the final operand it evaluated (and it short-circuits).This works with all objects and arrays :)ex: this is my improved version of Brian's answer I used _has as the property name because it can conflict with existing has property (ex: maps)Here's the fiddleHere's my take on it - most of these solutions ignore the case of a nested array as in:I may want to check for obj.l2[0].kWith the function below, you can do deeptest('l2[0].k',obj)The function will return true if the object exists, false otherwiseNow we can also use reduce to loop through nested keys: You can do this by using the recursive function. This will work even if you don't know all nested Object keys name.theres a function here on thecodeabode (safeRead) which will do this in a safe manner... i.e.if any property is null or undefined, an empty string is returnedBased on a previous comment, here is another version where the main object could not be defined either:I wrote my own function that takes the desired path, and has a good and bad callback function. Usage:

Get class list for element with jQuery

Buggabill

[Get class list for element with jQuery](https://stackoverflow.com/questions/1227286/get-class-list-for-element-with-jquery)

Is there a way in jQuery to loop through or assign to an array all of the classes that are assigned to an element?ex.I will be looking for a "special" class as in "dolor_spec" above.  I know that I could use hasClass() but the actual class name may not necessarily be known at the time.

2009-08-04 12:41:04Z

Is there a way in jQuery to loop through or assign to an array all of the classes that are assigned to an element?ex.I will be looking for a "special" class as in "dolor_spec" above.  I know that I could use hasClass() but the actual class name may not necessarily be known at the time.You can use document.getElementById('divId').className.split(/\s+/); to get you an array of class names.Then you can iterate and find the one you want.jQuery does not really help you here...Why has no one simply listed.EDIT:  As @MarkAmery points out, you can't just .split(' ') because class names can be separated by any kind of whitespace.Here is a jQuery plugin which will return an array of all the classes the matched element(s) haveUse it likeIn your case returns You can also pass a function to the method to be called on each classHere is a jsFiddle I set up to demonstrate and test http://jsfiddle.net/GD8Qn/8/On supporting browsers, you can use DOM elements' classList property.It is an array-like object listing all of the classes the element has.If you need to support old browser versions that don't support the classList property, the linked MDN page also includes a shim for it - although even the shim won't work on Internet Explorer versions below IE 8.You should try this one:It returns an array of all current classes of the element.Update:As @Ryan Leonard pointed out correctly, my answer doesn't really fix the point I made my self... You need to both trim and remove double spaces with (for example) string.replace(/ +/g, " ").. Or you could split the el.className and then remove empty values with (for example) arr.filter(Boolean).or more modernOld: With all the given answers, you should never forget to user .trim() (or $.trim())Because classes gets added and removed, it can happen that there are multiple spaces between class string.. e.g. 'class1 class2         class3'.. This would turn into ['class1', 'class2','','','', 'class3']..When you use trim, all multiple spaces get removed.. Might this can help you too. I have used this function to get classes of childern element..In your case you want doler_ipsum class u can do like this now calsses[2];.Thanks for this - I was having a similar issue, as I'm trying to programatically relate objects will hierarchical class names, even though those names might not necessarily be known to my script.In my script, I want an <a> tag to turn help text on/off by giving the <a> tag [some_class] plus the class of toggle, and then giving it's help text the class of [some_class]_toggle. This code is successfully finding the related elements using jQuery: Try This. This will get you the names of all the classes from all the elements of document.});Here is the working example: https://jsfiddle.net/raju_sumit/2xu1ujoy/3/javascript provides a classList attribute for a node element in dom. Simply using will return a object of formThe object has functions like contains, add, remove which you can useI had a similar issue, for an element of type image. I needed to check whether the element was of a certain class. First I tried with:but I got a nice "this function is not available for this element".Then I inspected my element on the DOM explorer and I saw a very nice attribute that I could use: className. It contained the names of all the classes of my element separated by blank spaces.Once you get this, just split the string as usual.In my case this worked: I am assuming this would work with other kinds of elements (besides img).Hope it helps.A bit late, but using the extend() function lets you call "hasClass()" on any element, e.g.:

var hasClass = $('#divId').hasClass('someClass');The question is what Jquery is designed to do.  And why has no one given .find() as an answer?There is also classList for non-IE browsers: Here you go, just tweaked readsquare's answer to return an array of all classes:Pass a jQuery element to the function, so that a sample call will be:I know this is an old question but still.If you want to manipulate elementIf you want to check if element has classif multiple classes

Fastest method to replace all instances of a character in a string [duplicate]

Anriëtte Myburgh

[Fastest method to replace all instances of a character in a string [duplicate]](https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string)

What is the fastest way to replace all instances of a string/character in a string in JavaScript? A while, a for-loop, a regular expression?

2010-01-22 10:26:06Z

What is the fastest way to replace all instances of a string/character in a string in JavaScript? A while, a for-loop, a regular expression?The easiest would be to use a regular expression with g flag to replace all instances:This will replace all occurrences of foo with bar in the string str. If you just have a string, you can convert it to a RegExp object like this:Try this replaceAll:

http://dumpsite.com/forum/index.php?topic=4.msg8#msg8It is very fast, and it will work for ALL these conditions

that many others fail on:Let me know if you can break it, or you have something better, but make sure it can pass these 4 tests.newString now is 'Thas as a strang'Also you can try:You can use the following:orThis is going to replace all the character that are not letter or numbers to ('_'). Simple change the underscore value for whatever you want to replace it.    Just thinking about it from a speed issue I believe the case sensitive example provided in the link above would be by far the fastest solution.newStr would be

"This is a test of the emergency broadcast system."I think the real answer is that it completely depends on what your inputs look like.  I created a JsFiddle to try a bunch of these and a couple of my own against various inputs.  No matter how I look at the results, I see no clear winner.Use Regex object like thisvar regex = new RegExp('"', 'g');

str = str.replace(regex, '\'');It will replace all occurrence of " into '. What's the fastest I don't know, but I know what's the most readable - that what's shortest and simplest. Even if it's a little bit slower than other solution it's worth to use.So use:And enjoy good code instead of faster (well... 1/100000 sec. is not a difference) and ugly one. ;)I tried a number of these suggestions after realizing that an implementation I had written of this probably close to 10 years ago actually didn't work completely (nasty production bug in an long-forgotten system, isn't that always the way?!)... what I noticed is that the ones I tried (I didn't try them all) had the same problem as mine, that is, they wouldn't replace EVERY occurrence, only the first, at least for my test case of getting "test....txt" down to "test.txt" by replacing ".." with "."... maybe I missed so regex situation?  But I digress...So, I rewrote my implementation as follows.  It's pretty darned simple, although I suspect not the fastest but I also don't think the difference will matter with modern JS engines, unless you're doing this inside a tight loop of course, but that's always the case for anything...Hope that helps someone!Use the replace() method of the String object.As mentioned in the selected answer, the /g flag should be used in the regex, in order to replace all instances of the substring in the string.I just coded a benchmark and tested the first 3 answers.

It seems that for short strings (<500 characters)

the third most voted answer is faster than the second most voted one.For long strings (add ".repeat(300)" to the test string) the faster is answer 1 followed by the second and the third.Note:  My results (on the same pc):Nice mess uh?Took the liberty of adding more test resultsChrome on Galaxy Note 4@Gumbo adding extra answer - user.email.replace(/foo/gi,"bar"); DEMO

How to create a dialog with「yes」and「no」options?

crchin

[How to create a dialog with「yes」and「no」options?](https://stackoverflow.com/questions/9334636/how-to-create-a-dialog-with-yes-and-no-options)

I am going to make a button to take an action and save the data into a database.Once the user clicks on the button, I want a JavaScript alert to offer「yes」and「cancel」options. If the user selects「yes」, the data will be inserted into the database, otherwise no action will be taken.How do I display such a dialog?

2012-02-17 20:03:21Z

I am going to make a button to take an action and save the data into a database.Once the user clicks on the button, I want a JavaScript alert to offer「yes」and「cancel」options. If the user selects「yes」, the data will be inserted into the database, otherwise no action will be taken.How do I display such a dialog?You’re probably looking for confirm(), which displays a prompt and returns true or false based on what the user decided:Use window.confirm instead of alert. This is the easiest way to achieve that functionality.How to do this using 'inline' JavaScript:Avoid inline JavaScript - changing the behaviour would mean editing every instance of the code, and it ain't pretty!A much cleaner way is to use a data attribute on the element, such as data-confirm="Your message here". My code below supports the following actions, including dynamically-generated elements:jQuery:HTML:JSFiddle demoYou have to create custome confirmBox,it is not possible to change the buttons in the dialog displayed by the confirm function.see this example: https://jsfiddle.net/kevalbhatt18/6uauqLn6/Call it by your code:Example: http://jsfiddle.net/kevalbhatt18/qwkzw3rg/127/Script:CSS:This plugin can help you jquery-confirm easy to useYou can intercept the onSubmit event ising JS.

Then call a confirmation alert and then grab the result.Or simply:Another way to do this:This a full responsive solution using vanilla javascript : xdialog provides a simple API xdialog.confirm(). Code snippet is following. More demos can be found here

How to determine equality for two JavaScript objects?

AnthonyWJones

[How to determine equality for two JavaScript objects?](https://stackoverflow.com/questions/201183/how-to-determine-equality-for-two-javascript-objects)

A strict equality operator will tell you if two object types are equal. However, is there a way to tell if two objects are equal, much like the hash code value in Java?Stack Overflow question Is there any kind of hashCode function in JavaScript? is similar to this question, but requires a more academic answer. The scenario above demonstrates why it would be necessary to have one, and I'm wondering if there is any equivalent solution.

2008-10-14 13:41:07Z

A strict equality operator will tell you if two object types are equal. However, is there a way to tell if two objects are equal, much like the hash code value in Java?Stack Overflow question Is there any kind of hashCode function in JavaScript? is similar to this question, but requires a more academic answer. The scenario above demonstrates why it would be necessary to have one, and I'm wondering if there is any equivalent solution.The short answerThe simple answer is: No, there is no generic means to determine that an object is equal to another in the sense you mean. The exception is when you are strictly thinking of an object being typeless.The long answerThe concept is that of an Equals method that compares two different instances of an object to indicate whether they are equal at a value level. However, it is up to the specific type to define how an Equals method should be implemented. An iterative comparison of attributes that have primitive values may not be enough, there may well be attributes which are not to be considered part of the object value. For example,In this above case, c is not really important to determine whether any two instances of MyClass are equal, only a and b are important. In some cases c might vary between instances and yet not be significant during comparison. Note this issue applies when members may themselves also be instances of a type and these each would all be required to have a means of determining equality.Further complicating things is that in JavaScript the distinction between data and method is blurred.An object may reference a method that is to be called as an event handler, and this would likely not be considered part of its 'value state'. Whereas another object may well be assigned a function that performs an important calculation and thereby makes this instance different from others simply because it references a different function.What about an object that has one of its existing prototype methods overridden by another function? Could it still be considered equal to another instance that it otherwise identical? That question can only be answered in each specific case for each type.As stated earlier, the exception would be a strictly typeless object. In which case the only sensible choice is an iterative and recursive comparison of each member. Even then one has to ask what is the 'value' of a function?Why reinvent the wheel? Give Lodash a try. It has a number of must-have functions such as isEqual().It will brute force check each key value - just like the other examples on this page - using ECMAScript 5 and native optimizations if they're available in the browser.Note: Previously this answer recommended Underscore.js, but lodash has done a better job of getting bugs fixed and addressing issues with consistency.The default equality operator in JavaScript for Objects yields true when they refer to the same location in memory.If you require a different equality operator you'll need to add an equals(other) method, or something like it to your classes and the specifics of your problem domain will determine what exactly that means.Here's a playing card example:If you are working in AngularJS, the angular.equals function will determine if two objects are equal. In Ember.js use isEqual.This is my version. It is using new Object.keys feature that is introduced in ES5 and ideas/tests from +, + and +:If you are using a JSON library, you can encode each object as JSON, then compare the resulting strings for equality.NOTE: While this answer will work in many cases, as several people have pointed out in the comments it's problematic for a variety of reasons. In pretty much all cases you'll want to find a more robust solution.Short functional deepEqual implementation:Edit: version 2, using jib's suggestion and ES6 arrow functions:Are you trying to test if two objects are the equal? ie: their properties are equal?If this is the case, you'll probably have noticed this situation:you might have to do something like this:Obviously that function could do with quite a bit of optimisation, and the ability to do deep checking (to handle nested objects: var a = { foo : { fu : "bar" } }) but you get the idea.As FOR pointed out, you might have to adapt this for your own purposes, eg: different classes may have different definitions of "equal". If you're just working with plain objects, the above may suffice, otherwise a custom MyClass.equals() function may be the way to go.If you have a deep copy function handy, you can use the following trick to still use JSON.stringify while matching the order of properties:Demo: http://jsfiddle.net/CU3vb/3/Rationale:Since the properties of obj1 are copied to the clone one by one, their order in the clone will be preserved. And when the properties of obj2 are copied to the clone, since properties already existing in obj1 will simply be overwritten, their orders in the clone will be preserved.In Node.js, you can use its native require("assert").deepStrictEqual. More info: 

http://nodejs.org/api/assert.htmlFor example:Another example that returns true / false instead of returning errors:Simplest and logical solutions for comparing everything Like Object, Array, String, Int...JSON.stringify({a: val1}) === JSON.stringify({a: val2})Note: I use this comparable function to produce copies of my objects that are JSON comparable:Comes in handy in tests (most test frameworks have an is function). E.g.If a difference is caught, strings get logged, making differences spottable:Heres's a solution in ES6/ES2015 using a functional-style approach:demo available hereI don't know if anyone's posted anything similar to this, but here's a function I made to check for object equalities.Also, it's recursive, so it can also check for deep equality, if that's what you call it.you can use _.isEqual(obj1, obj2) from the underscore.js library.Here is an example:See the official documentation from here: http://underscorejs.org/#isEqualFor those of you using NodeJS, there is a convenient method called isDeepStrictEqual on the native Util library that can achieve this.https://nodejs.org/api/util.html#util_util_isdeepstrictequal_val1_val2Assuming that the order of the properties in the object is not changed.JSON.stringify() works for deep and non-deep both types of objects, not very sure of performance aspects:ES6: The minimum code I could get it done, is this. It do deep comparison recursively by stringifying all objects, the only limitation is no methods or symbols are compare.A simple solution to this issue that many people don't realize is to sort the JSON strings (per character). This is also usually faster than the other solutions mentioned here:Another useful thing about this method is you can filter comparisons by passing a "replacer" function to the JSON.stringify functions (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Example_of_using_replacer_parameter). The following will only compare all objects keys that are named "derp":Just wanted to contribute my version of objects comparison utilizing some es6 features. It doesn't take an order into account. After converting all if/else's to ternary I've came with following:Needing a more generic object comparison function than had been posted, I cooked up the following. Critique appreciated...If you are comparing JSON objects you can use https://github.com/mirek/node-rus-diffUsage:If two objects are different, a MongoDB compatible {$rename:{...}, $unset:{...}, $set:{...}} like object is returned.I faced the same problem and deccided to write my own solution. But because I want to also compare Arrays with Objects and vice-versa, I crafted a generic solution. I decided to add the functions to the prototype, but one can easily rewrite them to standalone functions. Here is the code:This Algorithm is split into two parts; The equals function itself and a function to find the numeric index of a property in an array / object. The find function is only needed because indexof only finds numbers and strings and no objects .One can call it like this:The function either returns true or false, in this case true.

The algorithm als allows comparison between very complex objects:The upper example will return true, even tho the properties have a different ordering. One small detail to look out for: This code also checks for the same type of two variables, so "3" is not the same as 3.I see spaghetti code answers.

Without using any third party libs, this is very easy.Firstly sort the two objects by key their key names.Then simply use a string to compare them.I'd advise against hashing or serialization (as the JSON solution suggest).  If you need to test if two objects are equal, then you need to define what equals means.  It could be that all data members in both objects match, or it could be that must the memory locations match (meaning both variables reference the same object in memory), or may be that only one data member in each object must match.Recently I developed an object whose constructor creates a new id (starting from 1 and incrementing by 1) each time an instance is created.  This object has an isEqual function that compares that id value with the id value of another object and returns true if they match.In that case I defined "equal" as meaning the the id values match.  Given that each instance has a unique id this could be used to enforce the idea that matching objects also occupy the same memory location.  Although that is not necessary.It's useful to consider two objects equal if they have all the same values for all properties and recursively for all nested objects and arrays.  I also consider the following two objects equal:Similarly, arrays can have "missing" elements and undefined elements.  I would treat those the same as well:A function that implements this definition of equality:Source code (including the helper functions, generalType and uniqueArray):

Unit Test and Test Runner here.I'm making the following assumptions with this function:This should be treated as a demonstration of a simple strategy.This is an addition for all the above, not a replacement. If you need to fast shallow-compare objects without need to check extra recursive cases. Here is a shot.This compares for: 1) Equality of number of own properties, 2) Equality of key names, 3) if bCompareValues == true, Equality of corresponding property values and their types (triple equality)For comparing keys for simple key/value pairs object instances, I use:Once keys are compared, a simple additional for..in loop is enough.Complexity is O(N*N) with N is the number of keys. I hope/guess objects I define won't hold more than 1000 properties... I know this is a bit old, but I would like to add a solution that I came up with for this problem.

I had an object  and I wanted to know when its data changed. "something similar to Object.observe" and what I did was:This here can be duplicated and create an other set of arrays to compare the values and keys.

It is very simple because they are now arrays and will return false if objects have different sizes.

Uncaught ReferenceError: $ is not defined?

Olivers

[Uncaught ReferenceError: $ is not defined?](https://stackoverflow.com/questions/2075337/uncaught-referenceerror-is-not-defined)

How come this code throws anwhen it was OK before?   Results in tabs don't close anymore.jQuery is referenced in the header:

2010-01-15 23:04:36Z

How come this code throws anwhen it was OK before?   Results in tabs don't close anymore.jQuery is referenced in the header:You should put the references to the jquery scripts first. You are calling the ready function before the jQuery JavaScript is included. Reference jQuery first.This is what solved it for me.  Originally I went to Google and copied and pasted their suggested snippet for jQuery on their CDN page: The snippet does not include the HTTP: or HTTPS: in the src attribute but my browser, FireFox, needed it so I changed it to:

edit: this worked for me with Google Chrome as wellThen it worked.If your custom script is loaded before the jQuery plugin is loaded to the browser then this type of problem may occur. So, always keep your own JavaScript or jQuery code after calling the jQuery plugin so the solution for this is :First add the link to the jQuery file hosted at GoogleApis or a local jQuery file that you will download from http://jquery.com/download/ and host on your server:or any plugin for jQuery. Then put your custom script file link or code:In my case I was putting my .js file before the jQuery script link, putting the .js file after jQuery script link solved my issue.Okay, my problem was different - it was Document Security model in Chrome.Looking at the answers here, it was obvious that I was somehow not loading my jquery files before calling the $(document).ready() etc. functions. However, they were all in the correct positions.In my case, this was because I was accessing the content over a secure HTTPS connection, whereas the page was trying to download the CDN hosted data from google, etc. The solution was to store them locally and then include then directly rather than from the CDN each time.Edit: The other way of doing this is to link to all the CDN-hosted stuff as https:// rather than http:// - then the model doesn't complain.Add the library before you start the script.You can add any of these following CDN to start it.Google:MicrosoftJqueryIf you want any other Jquery cdn version check this link.After this:Wordpress:If it's in wordpress, might be needed to change toor addbeforeI had the exact same problem and none of these solutions above helped.

however, I just linked the .css files after the .js files and the problem miraculously disappeared. Hope this helps.In my case I had this referenceError as the order of script calls was wrong. Solved that by changing the order:toI wanted to try to make my script asynchronous. Then I forgot about it and when I went live the [custom].js file only loaded 50% of the time before the jQuery.js.So I changed to I had the same problem , and I solved by putting jQuery at the top of all javascript codes I have in my code.Something like this:Hope can help some one in future.You are calling the ready() function before the jQuery JavaScript is included. Reference jQuery first.If you're in ASP.NET MVC, you can specify when your JS code should be rendered, by doing this: 1, In your page.cshtml wrap your <script> tag into a section, and give it a name, the common name to use is 'scripts':2, In your _Layout.cshtml page add @RenderSection("Scripts", required: false), make sure to put it after you reference the Jquery source, this will make your JS code render later than the Jquery. If you are doing this in .Net and have the script file referenced properly and you jQuery looks fine, make sure that your users have access to the script file. The project I was working on (a coworker) had their web.config denying access to anonymous users. The page I was working on was accessible to anonymous users therefore they didn't have access to the script file. Dropped the following into the web.config and all was right in the world:The source file jquery-1.2.6.min.js is not called the jQuery command $() is executed earlier than <..src='jquery-1.2.6.min.js'>.Please run <.. src="/js/jquery-1.2.6.min.js.."> at first and make sure the src path is right, then execute jquery commandThis happened to me before. The reason was that I'm connecting android to a webview with a JS. And I sent a parameter without quotes.and when I changed it to it worked.In my case it was a typo, I forgot a backslash and was referencing the source incorrectly.Before src="/scripts/jquery.js"After    src="scripts/jquery.js"Your JavaScript file is missing so this error occurred. Just add the JavaScript file inside the <head> tag. See the example:or add the following code in  tag :The error will occur in the following two scenarios as well.So 3 things to be followed - check required scripts are added, check if it is added in the required order and third syntax errors in your Java Script.Doh! I had mixed quotes in my  tags that caused the jquery reference to break.  Doing an inspect in Chrome allowed me to see that the file wasn't properly linked.In my case i forgot to include this :Earlier I was including just jquery-mobile which was causing this error.I modified the script tag to point to the right content and changed the script order to be the right one in the editor. But totally forgot to save the change.I had a similar issue and it was because I was missing a closing > on a style sheet link.I have similar issue, and you know what, it's because of network is disconnected when I test in android device webview and I don't realize it, and the local js no problem to load because it doesn't need network. It seems ridiculous but it waste my ~1 hour to figure out it.Strange enough, my problem was coming from PHP.A REST API call was failing, and it was breaking the loading of the libraries afterwards. Since failure was from the REST call, it was not giving me a php compile error.Keep this as an option also, if loading jquery seems ok.I had this issue, when I was browsing internet through my mobile hotspot. it was also compressing images and added the following script at the bottom of body tag When I connected to proper wifi connection, all seems to work find for me. Hope this help someone.This can also happen, if there is network issue. Which means, that even though the " jquery scripts " are in place, and are included prior to usage, since the jquery-scripts are not accessible, at the time of loading the page, hence the definitions to the "$" are treated as "undefined references".FOR TEST/DEBUG PURPOSES :: You can try to access the "jquery-script" url on browser. If it is accessible, your page, should load properly, else it will show the said error (or other script relevant errors). Example - http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js should be accessible, on the browser (or browser context stances).I had similar problem, in which I was able to load the html-page (using scripts) in my windows-host-browser, but was not able to load in vm-ubuntu. Solving the network issue, got the issue resolved.I had similar issue.  My test server was working fine with  "http". However it failed in production which had SSL.Thus in production, I added "HTPPS" instead of "HTTP" and in test, i kept as it is  "HTTP".Hope this will help someone who is working on wordpress.Root problem is a ReferenceError.  MDN indicates that a try/catch block is the proper tool for the job. In my case, I was getting uncaught reference error for a payment sdk/library. The below works for me.Obviously the fix is to load whatever SDK/library, e.g. jQuery, prior to calling its methods but the try/catch does keep your shared JavaScript from barfing up errors in case you run that shared script on a page that doesn't load whatever library you use on a subset of pages.

What is the use of the JavaScript 'bind' method?

Sandeep Kumar

[What is the use of the JavaScript 'bind' method?](https://stackoverflow.com/questions/2236747/what-is-the-use-of-the-javascript-bind-method)

What is the use of bind() in JavaScript?

2010-02-10 12:33:48Z

What is the use of bind() in JavaScript?Bind creates a new function that will have this set to the first parameter passed to bind().Here's an example that shows how to use bind to pass a member method around that has the correct this:Which prints out:You can also add extra parameters after the 1st (this) parameter and bind will pass in those values to the original function. Any additional parameters you later pass to the bound function will be passed in after the bound parameters:Which prints out:Check out JavaScript Function bind for more info and interactive examples.Update: ECMAScript 2015 adds support for => functions.  => functions are more compact and do not change the this pointer from their defining scope, so you may not need to use bind() as often. For example, if you wanted a function on Button from the first example to hook up the click callback to a DOM event, the following are all valid ways of doing that:Or: Or:The simplest use of bind() is to make a function that, no matter

how it is called, is called with a particular this value.Please refer this link for more information https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bindbind allows-For example, you have a function to deduct monthly club feesNow you want to reuse this function for a different club member. Note that the monthly fee will vary from member to member. Let's imagine Rachel has a balance of 500, and a monthly membership fee of 90.Now, create a function that can be used again and again to deduct the fee from her account every monthNow, the same getMonthlyFee function could be used for another member with a different membership fee. For Example, Ross Geller has a 250 balance and a monthly fee of 25From the MDN docs on Function.prototype.bind() :So, what does that mean?!Well, let's take a function that looks like this :Now, let's take an object that looks like this :We can bind our function to our object like this :Now, we can run Obj.log anywhere in our code :This works, because we bound the value of this to our object Obj. Where it really gets interesting, is when you not only bind a value for this, but also for its argument prop :We can now do this :Unlike with Obj.log, we do not have to pass x or y, because we passed those values when we did our binding.Variables has local and global scopes. Let's suppose that we have two variables with the same name. One is globally defined and the other is defined inside a function closure and we want to get the variable value which is inside the function closure. In that case we use this bind() method. Please see the simple example below:The bind() method takes an object as an first argument and creates a new function. When  the function is invoked the value of this in the function body will be the object which was passed in as an argument in the bind() function.The value of this in javascript is dependent always depends on what Object the function is called. The value of this always refers to the object left of the dot from where is the function is called. In case of the global scope this is window (or global in nodeJS). Only call, apply and bind can alter the this binding differently. Here is an example to show how the this keyword works:Bind can help in overcoming difficulties with the this keyword by having a fixed object where this will refer to. For example:Once the function is bound to a particular this value we can pass it around and even put it on properties on other objects. The value of this will remain the same.I will explain bind theoretically as well as practicallybind in javascript is a method -- Function.prototype.bind . bind is a  method. It is called on function prototype. This method creates a function whose body is similar to the function on which it is called but the 'this' refers to the first parameter passed to the bind method. Its syntax isExample:--The bind() method creates a new function instance whose this value is bound to the value that was passed into bind(). 

For example: Here, a new function called objectSayColor() is created from sayColor() by calling bind() and passing in the object o. The objectSayColor() function has a this value equivalent to o, so calling the function, even as a global call, results in the string「blue」being displayed.Reference : Nicholas C. Zakas - PROFESSIONAL JAVASCRIPT® FOR WEB DEVELOPERSThe bind method creates a new function from another function with one or more arguments bound to specific values, including the implicit this argument. This is an example of partial application. Normally we supply a function with all of its arguments which yields a value. This is known as function application. We are applying the function to its arguments. Partial application is an example of a higher order function (HOF) because it yields a new function with a fewer number of argument. You can use bind to transform functions with multiple arguments into new functions.  In the most common use case, when called with one argument the bind method will create a new function that has the this value bound to a specific value. In effect this transforms an instance method to a static method. The following example shows how using binding of this can enable an object method to act as a callback that can easily update the state of an object.As mentioned, Function.bind() lets you specify the context that the function will execute in (that is, it lets you pass in what object the this keyword will resolve to in the body of the function.A couple of analogous toolkit API methods that perform a similar service:jQuery.proxy()Dojo.hitch()Consider the Simple Program listed below, The bind function creates a new function with the same function body as the function it is calling .It is called with the this argument .why we use bind fun. : when every time  a new instance is created and we have to use first initial instance then we use bind fun.We can't override the bind fun.simply it stores the initial object of the class.Another usage is that you can pass binded function as an argument to another function which is operating under another execution context.A bind implementation might look something like so:The bind function can take any number of arguments and return a new function.

The new function will call the original function using the JS Function.prototype.apply method.The apply method will use the first argument passed to the target function as its context (this), and the second array argument of the apply method will be a combination of the rest of the arguments from the target function, concat with the arguments used to call the return function (in that order).

An example can look something like so:bind is a function which is available in java script prototype, as the name suggest bind is used to bind your function call to the  context whichever you are dealing with for eg:

Does JavaScript Guarantee Object Property Order?

mellowsoon

[Does JavaScript Guarantee Object Property Order?](https://stackoverflow.com/questions/5525795/does-javascript-guarantee-object-property-order)

If I create an object like this:Will the resulting object always look like this?That is, will the properties be in the same order that I added them?

2011-04-02 20:54:12Z

If I create an object like this:Will the resulting object always look like this?That is, will the properties be in the same order that I added them?The iteration order for objects follows a certain set of rules since ES2015, but it does not (always) follow the insertion order. Simply put, the iteration order is a combination of the insertion order for strings keys, and ascending order for number-like keys:Using an array or a Map object can be a better way to achieve this. Map shares some similarities with Object and guarantees the keys to be iterated in order of insertion, without exception:As a note, properties order in objects weren’t guaranteed at all before ES2015. Definition of an Object from ECMAScript Third Edition (pdf):YES (for non-integer keys).Most Browsers iterate object properties as:Some older browsers combine categories #1 and #2, iterating all keys in insertion order. If your keys might parse as integers, it's best not to rely on any specific iteration order.Current Language Spec (since ES2015) insertion order is preserved, except in the case of keys that parse as integers (eg "7" or "99"), where behavior varies between browsers. For example, Chrome/V8 does not respect insertion order when the keys are parse as numeric.Old Language Spec (before ES2015): Iteration order was technically undefined, but all major browsers complied with the ES2015 behavior.Note that the ES2015 behavior was a good example of the language spec being driven by existing behavior, and not the other way round. To get a deeper sense of that backwards-compatibility mindset, see http://code.google.com/p/v8/issues/detail?id=164, a Chrome bug that covers in detail the design decisions behind Chrome's iteration order behavior.

Per one of the (rather opinionated) comments on that bug report:Property order in normal Objects is a complex subject in Javascript.While in ES5 explicitly no order has been specified, ES2015 has an order in certain cases. Given is the following object:This results in the following order (in certain cases):Thus, there are three segments, which may alter the insertion order (as happened in the example). And integer-like keys don't stick to the insertion order at all.The question is, for what methods this order is guaranteed in the ES2015 spec?The following methods guarantee the order shown:The following methods/loops guarantee no order at all:Conclusion: Even in ES2015 you shouldn't rely on the property order of normal objects in Javascript. It is prone to errors. Use Map instead.At the time of writing, most browsers did return properties in the same order as they were inserted, but it was explicitly not guaranteed behaviour so shouldn't have been relied upon.The ECMAScript specification used to say:However in ES2015 and later non-integer keys will be returned in insertion order.This whole answer is in the context of spec compliance, not what any engine does at a particular moment or historically.The actual question is very vague.In what context?The answer is: it depends on a number of factors. In general, no.Here is where you can count on property key order for plain Objects:In all cases these methods include non-enumerable property keys and order keys as specified by [[OwnPropertyKeys]] (see below). They differ in the type of key values they include (String and / or Symbol). In this context String includes integer values.Returns O's own String-keyed properties (property names).Returns O's own String- and Symbol-keyed properties.Returns O's own Symbol-keyed properties.The order is essentially: integer-like Strings in ascending order, non-integer-like Strings in creation order, Symbols in creation order. Depending which function invokes this, some of these types may not be included.The specific language is that keys are returned in the following order:If you're interested in ordered maps you should consider using the Map type introduced in ES2015 instead of plain Objects.In modern browsers you can use the Map data structure instead of a object. Developer mozilla > Map The order of keys in an object wasn't guaranteed until ES2015. It was implementation-defined.However, in ES2015 in was specified. Like many things in JavaScript, this was done for compatibility purposes and generally reflected an existing unofficial standard among most JS engines (with you-know-who being an exception).The order is defined in the spec, under the abstract operation OrdinaryOwnPropertyKeys, which underpins all methods of iterating over an object's own keys. Paraphrased, the order is as follows:It's silly to say that the order is unreliable - it is reliable, it's just probably not what you want, and modern browsers implement this order correctly.Some exceptions include methods of enumerating inherited keys, such as the for .. in loop. The for .. in loop doesn't guarantee order according to the specification. As others have stated, you have no guarantee as to the order when you iterate over the properties of an object. If you need an ordered list of multiple fields I suggested creating an array of objects.This way you can use a regular for loop and have the insert order. You could then use the Array sort method to sort this into a new array if needed.Just found this out the hard way.Using React with Redux, the state container of which's keys I want to traverse in order to generate children is refreshed everytime the store is changed (as per Redux's immutability concepts).Thus, in order to take Object.keys(valueFromStore) I used Object.keys(valueFromStore).sort(), so that I at least now have an alphabetical order for the keys.As of ES2015, property order is guaranteed for certain methods that iterate over properties. but not others. Unfortunately, the methods which are not guaranteed to have an order are generally the most often used:But, soon (probably in ES2020), property order for these previously untrustworthy methods will be guaranteed by the specification to be iterated over in the same deterministic manner as the others, due to to the stage 4 proposal: For-in enumeration order.Just like with the methods which have a guaranteed iteration order (like Reflect.ownKeys and Object.getOwnPropertyNames), the previously-unspecified methods will also iterate in the following order:This is what pretty much every implementation does already, but the new proposal will make it official.Although the current specification leaves for..in iteration order "almost totally unspecified, real engines tend to be more consistent:"Because every implementation already iterates over properties predictably, it can be put into the specification without breaking backwards compatibility.There are a few weird cases which implementations currently do not agree on, and in such cases, the resulting order will continue be unspecified. For property order to be guaranteed:From the JSON standard:(emphasis mine).So, no you can't guarantee the order.

jQuery checkbox checked state changed event

AnonyMouse

[jQuery checkbox checked state changed event](https://stackoverflow.com/questions/8423217/jquery-checkbox-checked-state-changed-event)

I want an event to fire client side when a checkbox is checked / unchecked:Basically I want it to happen for every checkbox on the page. Is this method of firing on the click and checking the state ok?I'm thinking there must be a cleaner jQuery way. Anyone know a solution?

2011-12-07 22:03:02Z

I want an event to fire client side when a checkbox is checked / unchecked:Basically I want it to happen for every checkbox on the page. Is this method of firing on the click and checking the state ok?I'm thinking there must be a cleaner jQuery way. Anyone know a solution?Bind to the change event instead of click. However, you will probably still need to check whether or not the checkbox is checked:The main benefit of binding to the change event over the click event is that not all clicks on a checkbox will cause it to change state. If you only want to capture events that cause the checkbox to change state, you want the aptly-named change event. Redacted in commentsAlso note that I've used this.checked instead of wrapping the element in a jQuery object and using jQuery methods, simply because it's shorter and faster to access the property of the DOM element directly.Edit (see comments)To get all checkboxes you have a couple of options. You can use the :checkbox pseudo-selector:Or you could use an attribute equals selector:For future reference to anyone here having difficulty, if you are adding the checkboxes dynamically, the correct accepted answer above will not work. You'll need to leverage event delegation which allows a parent node to capture bubbled events from a specific descendant and issue a callback.Note that it's almost always unnecessary to use document for the parent selector. Instead choose a more specific parent node to prevent propagating the event up too many levels.The example below displays how the events of dynamically added dom nodes do not trigger previously defined listeners.While this example displays the usage of event delegation to capture events for a specific node (h1 in this case), and issue a callback for such events.Just another solution If your intention is to attach event only on checked checkboxes (so it would fire when they are unchecked and checked later again) then this is what you want.if your intention is to attach event to all checkboxes (checked and unchecked)if you want it to fire only when they are being checked (from unchecked) then @James Allardice answer above. BTW input[type='checkbox']:checked is CSS selector.This is the solution to find is the checkbox is checked or not.

Use the #prop() function//perhaps this may be an alternative for you.Try this jQuery validationIs very simple, this is the way I use:JQuery:Regards!

How to break/exit from a each() function in JQuery? [duplicate]

Tebo

[How to break/exit from a each() function in JQuery? [duplicate]](https://stackoverflow.com/questions/1799284/how-to-break-exit-from-a-each-function-in-jquery)

I have some code:How can i escape from the "each" code block based on a condition?What if we have something like this:Is it possible to break out from both "each" functions from the inner "each" function?# 19.03.2013If you want to continue instead of break out

2009-11-25 19:11:17Z

I have some code:How can i escape from the "each" code block based on a condition?What if we have something like this:Is it possible to break out from both "each" functions from the inner "each" function?# 19.03.2013If you want to continue instead of break outAccording to the documentation you can simply return false; to break:You can use return false;Return false from the anonymous function:From the documentation of the each method:see  similar question asked 3 days ago.

How do I store an array in localStorage? [duplicate]

David

[How do I store an array in localStorage? [duplicate]](https://stackoverflow.com/questions/3357553/how-do-i-store-an-array-in-localstorage)

If I didn't need localStorage, my code would look like this:This works. However, I need to store this variable in localStorage and it's proving quite stubborn. I've tried:Where am I going wrong?

2010-07-28 21:14:27Z

If I didn't need localStorage, my code would look like this:This works. However, I need to store this variable in localStorage and it's proving quite stubborn. I've tried:Where am I going wrong?localStorage only supports strings. Use JSON.stringify() and JSON.parse().The localStorage and sessionStorage can only handle strings. You can extend the default storage-objects to handle arrays and objects. Just include this script and use the new methods:Use localStorage.setObj(key, value) to save an array or object and localStorage.getObj(key) to retrieve it. The same methods work with the sessionStorage object.If you just use the new methods to access the storage, every value will be converted to a JSON-string before saving and parsed before it is returned by the getter.Source: http://www.acetous.de/p/152Use JSON.stringify() and JSON.parse() as suggested by no! This prevents the maybe rare but possible problem of a member name which includes the delimiter (e.g. member name three|||bars).Just created this:https://gist.github.com/3854049Another solution would be to write a wrapper that store the array like this:Removes the overhead of converting to JSON, but would be annoying if you need to remove elements, as you would have to re-index the array :)The JSON approach works, on ie 7 you need json2.js, with it it works perfectly and despite the one comment saying otherwise there is localStorage on it. it really seems like the best solution with the least hassle. Of course one could write scripts to do essentially the same thing as json2 does but there is little point in that.at least with the following version string there is localStorage, but as said you need to include json2.js because that isn't included by the browser itself:

4.0 (compatible; MSIE 7.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; BRI/2; NP06; .NET4.0C; .NET4.0E; Zune 4.7)

(I would have made this a comment on the reply, but can't).

ECMAScript 6 arrow function that returns an object

jkschneider

[ECMAScript 6 arrow function that returns an object](https://stackoverflow.com/questions/28770415/ecmascript-6-arrow-function-that-returns-an-object)

When returning an object from an arrow function, it seems that it is necessary to use an extra set of {} and a return keyword because of an ambiguity in the grammar.That means I can’t write p => {foo: "bar"}, but have to write p => { return {foo: "bar"}; }.If the arrow function returns anything other than an object, the {} and return are unnecessary, e.g.: p => "foo".p => {foo: "bar"} returns undefined.A modified p => {"foo": "bar"} throws「SyntaxError: unexpected token: ':'」.Is there something obvious I am missing?

2015-02-27 17:02:25Z

When returning an object from an arrow function, it seems that it is necessary to use an extra set of {} and a return keyword because of an ambiguity in the grammar.That means I can’t write p => {foo: "bar"}, but have to write p => { return {foo: "bar"}; }.If the arrow function returns anything other than an object, the {} and return are unnecessary, e.g.: p => "foo".p => {foo: "bar"} returns undefined.A modified p => {"foo": "bar"} throws「SyntaxError: unexpected token: ':'」.Is there something obvious I am missing?You must wrap the returning object literal into parentheses. Otherwise curly braces will be considered to denote the function’s body. The following works:You don't need to wrap any other expression into parentheses:and so on.Reference: MDN - Returning object literalsYou may wonder, why the syntax is valid (but not working as expected):It's because of JavaScript's label syntax:So if you transpile the above code to ES5, it should look like:If the body of the arrow function is wrapped in curly braces, it is not implicitly returned. Wrap the object in parentheses. It would look something like this.By wrapping the body in parens, the function will return { foo: 'bar }.Hopefully, that solves your problem. If not, I recently wrote an article about Arrow functions which covers it in more detail. I hope you find it useful. Javascript Arrow Functionshttps://github.com/lydiahallie/javascript-questions/issues/220https://mariusschulz.com/blog/returning-object-literals-from-arrow-functions-in-javascriptWhen you do are doing:JavaScript interpreter thinks you are opening a multi-statement code block, and in that block, you have to explicitly mention a return statement.If your arrow function expression has a single statement, then you can use the following syntax:But if you want to have multiple statements then you can use the following syntax:In above example, first set of curly braces opens a multi-statement code block, and the second set of curly braces is for dynamic objects. In multi-statement code block of arrow function, you have to explicitly use return statementsFor more details, check Mozilla Docs for JS Arrow Function ExpressionsYou can always check this out for more custom solutions:

document.getElementById vs jQuery $()

Phillip Senn

[document.getElementById vs jQuery $()](https://stackoverflow.com/questions/4069982/document-getelementbyid-vs-jquery)

Is this:The same as this:Given that jQuery is loaded?

2010-11-01 14:53:24Z

Is this:The same as this:Given that jQuery is loaded?Not exactly!!In jQuery, to get the same result as document.getElementById, you can access the jQuery Object and get the first element in the object (Remember JavaScript objects act similar to associative arrays).No.Calling document.getElementById('id') will return a raw DOM object.Calling $('#id') will return a jQuery object that wraps the DOM object and provides jQuery methods.Thus, you can only call jQuery methods like css() or animate() on the $() call.You can also write $(document.getElementById('id')), which will return a jQuery object and is equivalent to $('#id').You can get the underlying DOM object from a jQuery object by writing $('#id')[0].  Close, but not the same. They're getting the same element, but the jQuery version is wrapped in a jQuery object.The equivalent would be thisor thisThese will pull the element out of the jQuery object.A note on the difference in speed.  Attach the following snipet to an onclick call:Alternate commenting one out and then comment the other out.  In my tests, On the other hand, the Of course, that is over 10000 iterations so in a simpler situation I would probably use the jQuery for ease of use and all of the other cool things like .animate and .fadeTo.  But yes, technically getElementById is quite a bit faster.No. The first returns a DOM element, or null, whereas the second always returns a jQuery object. The jQuery object will be empty if no element with the id of contents was matched.The DOM element returned by document.getElementById('contents') allows you to do things such as change the .innerHTML (or .value) etc, however you'll need to use jQuery methods on the jQuery Object.Is more equivilent, however if no element with the id of contents is matched, document.getElementById('contents') will return null, but $('#contents').get(0) will return undefined.One benefit on using the jQuery object is that you won't get any errors if no elements were returned, as an object is always returned. However you will get errors if you try to perform operations on the null returned by document.getElementByIdNo, actually the same result would be:jQuery does not know how many results would be returned from the query.  What you get back is a special jQuery object which is a collection of all the controls that matched the query.Part of what makes jQuery so convenient is that MOST methods called on this object that look like they are meant for one control, are actually in a loop called on all the members int he collectionWhen you use the [0] syntax you take the first element from the inner collection.  At this point you get a DOM objectIn case someone else hits this... Here's another difference:If the id contains characters that are not supported by the HTML standard (see SO question here) then jQuery may not find it even if getElementById does.This happened to me with an id containing "/" characters (ex: id="a/b/c"), using Chrome: was able to find my element but: did not.Btw, the simple fix was to move that id to the name field. JQuery had no trouble finding the element using:Just like most people have said, the main difference is the fact that it is wrapped in a jQuery object with the jQuery call vs the raw DOM object using straight JavaScript. The jQuery object will be able to do other jQuery functions with it of course but, if you just need to do simple DOM manipulation like basic styling or basic event handling, the straight JavaScript method is always a tad bit faster than jQuery since you don't have to load in an external library of code built on JavaScript. It saves an extra step.var contents = document.getElementById('contents');var contents = $('#contents');The code snippets are not the same. first one returns a Element object (source).

The second one, jQuery equivalent will return a jQuery object containing a collection of either zero or one DOM element. (jQuery documentation). Internally jQuery uses document.getElementById() for efficiency. In both the cases if more than one element found only the first element will be returned.When checking the github project for jQuery I found following line snippets which seems to be using document.getElementById codes (https://github.com/jquery/jquery/blob/master/src/core/init.js line 68 onwards) One other difference: getElementById returns the first match, while $('#...') returns a collection of matches - yes, the same ID can be repeated in an HTML doc. Further, getElementId is called from the document, while $('#...') can be called from a selector. So, in the code below, document.getElementById('content') will return the entire body but $('form #content')[0] will return inside of the form.It might seem odd to use duplicate IDs, but if you are using something like Wordpress, a template or plugin might use the same id as you use in the content. The selectivity of jQuery could help you out there.jQuery is built over JavaScript. This means that it's just javascript anyway.document.getElementById()Jquery $()I developed a noSQL database for storing DOM trees in Web Browsers where references to all DOM elements on page are stored in a short index. Thus function "getElementById()" is not needed to get/modify an element. When elements in DOM tree are instantiated on page the database assigns surrogate primary keys to each element. It is a free tool http://js2dx.comAll the answers above are correct. In case you want to see it in action, don't forget you have Console in a browser where you can see the actual result crystal clear :I have an HTML :Go to console (cntrl+shift+c) and use these commands to see your result clearlyAs we can see, in the first case we got the tag itself (that is, strictly speaking, an HTMLDivElement object). In the latter we actually don’t have a plain object, but an array of objects. And as mentioned by other answers above, you can use the following command:All the answers are old today as of 2019 you can directly access id keyed filds in javascript simply try it Online Demo!

- https://codepen.io/frank-dspeed/pen/mdywbre

Is JavaScript guaranteed to be single-threaded?

Egor Pavlikhin

[Is JavaScript guaranteed to be single-threaded?](https://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded)

JavaScript is known to be single-threaded in all modern browser implementations, but is that specified in any standard or is it just by tradition? Is it totally safe to assume that JavaScript is always single-threaded?

2010-04-29 00:24:54Z

JavaScript is known to be single-threaded in all modern browser implementations, but is that specified in any standard or is it just by tradition? Is it totally safe to assume that JavaScript is always single-threaded?That's a good question. I'd love to say「yes」. I can't.JavaScript is usually considered to have a single thread of execution visible to scripts(*), so that when your inline script, event listener or timeout is entered, you remain completely in control until you return from the end of your block or function.(*: ignoring the question of whether browsers really implement their JS engines using one OS-thread, or whether other limited threads-of-execution are introduced by WebWorkers.)However, in reality this isn't quite true, in sneaky nasty ways.The most common case is immediate events. Browsers will fire these right away when your code does something to cause them:Results in log in, blur, log out on all except IE. These events don't just fire because you called focus() directly, they could happen because you called alert(), or opened a pop-up window, or anything else that moves the focus.This can also result in other events. For example add an i.onchange listener and type something in the input before the focus() call unfocuses it, and the log order is log in, change, blur, log out, except in Opera where it's log in, blur, log out, change and IE where it's (even less explicably) log in, change, log out, blur.Similarly calling click() on an element that provides it calls the onclick handler immediately in all browsers (at least this is consistent!).(I'm using the direct on... event handler properties here, but the same happens with addEventListener and attachEvent.)There's also a bunch of circumstances in which events can fire whilst your code is threaded in, despite you having done nothing to provoke it. An example:Hit alert and you'll get a modal dialogue box. No more script executes until you dismiss that dialogue, yes? Nope. Resize the main window and you will get alert in, resize, alert out in the textarea.You might think it's impossible to resize a window whilst a modal dialogue box is up, but not so: in Linux, you can resize the window as much as you like; on Windows it's not so easy, but you can do it by changing the screen resolution from a larger to a smaller one where the window doesn't fit, causing it to get resized.You might think, well, it's only resize (and probably a few more like scroll) that can fire when the user doesn't have active interaction with the browser because script is threaded. And for single windows you might be right. But that all goes to pot as soon as you're doing cross-window scripting. For all browsers other than Safari, which blocks all windows/tabs/frames when any one of them is busy, you can interact with a document from the code of another document, running in a separate thread of execution and causing any related event handlers to fire.Places where events that you can cause to be generated can be raised whilst script is still threaded:In summary, JavaScript appears to most users, most of the time, to have a strict event-driven single thread of execution. In reality, it has no such thing. It is not clear how much of this is simply a bug and how much deliberate design, but if you're writing complex applications, especially cross-window/frame-scripting ones, there is every chance it could bite you — and in intermittent, hard-to-debug ways.If the worst comes to the worst, you can solve concurrency problems by indirecting all event responses. When an event comes in, drop it in a queue and deal with the queue in order later, in a setInterval function. If you are writing a framework that you intend to be used by complex applications, doing this could be a good move. postMessage will also hopefully soothe the pain of cross-document scripting in the future.I'd say yes - because virtually all existing (at least all non-trivial) javascript code would break if a browser's javascript engine were to run it asynchronously.Add to that the fact that HTML5 already specifies Web Workers (an explicit, standardized API for multi-threading javascript code) introducing multi-threading into the basic Javascript would be mostly pointless.(Note to others commenters: Even though setTimeout/setInterval, HTTP-request onload events (XHR), and UI events (click, focus, etc.) provide a crude impression of multi-threadedness - they are still all executed along a single timeline - one at a time - so even if we don't know their execution order beforehand, there's no need to worry about external conditions changing during the execution of an event handler, timed function or XHR callback.)Yes, although you can still suffer some of the issues of concurrent programming (mainly race conditions) when using any of the asynchronous APIs such as setInterval and xmlhttp callbacks.Yes, although Internet Explorer 9 will compile your Javascript on a separate thread in preparation for execution on the main thread. This doesn't change anything for you as a programmer, though.JavaScript/ECMAScript is designed to live within a host environment. That is, JavaScript doesn't actually do anything unless the host environment decides to parse and execute a given script, and provide environment objects that let JavaScript actually be useful (such as the DOM in browsers).I think a given function or script block will execute line-by-line and that is guaranteed for JavaScript. However, perhaps a host environment could execute multiple scripts at the same time. Or, a host environment could always provide an object that provides multi-threading. setTimeout and setInterval are examples, or at least pseudo-examples, of a host environment providing a way to do some concurrency (even if it's not exactly concurrency).Actually, a parent window can communicate with child or sibling windows or frames that have their own execution threads running.I would say that the specification does not prevent someone from creating an engine that runs javascript on multiple threads, requiring the code to perform synchronization for accessing shared object state.I think the single-threaded non-blocking paradigm came out of the need to run javascript in browsers where ui should never block.Nodejs has followed the browsers' approach.Rhino engine however, supports running js code in different threads. The executions cannot share context, but they can share scope.

For this specific case the documentation states:From reading Rhino documentation I conclude that that it can be possible for someone to write a javascript api that also spawns new javascript threads, but the api would be rhino-specific (e.g. node can only spawn a new process).I imagine that even for an engine that supports multiple threads in javascript there should be compatibility with scripts that do not consider multi-threading or blocking.Concearning browsers and nodejs the way I see it is:So, in case of browsers and nodejs (and probably a lot of other engines) javascript is not multithreaded but the engines themselves are.@Bobince is providing a really opaque answer.Riffing off of Már Örlygsson's answer, Javascript is always single-threaded because of this simple fact: Everything in Javascript is executed along a single timeline.That is the strict definition of a single-threaded programming language.No.I'm going against the crowd here, but bear with me. A single JS script is intended to be effectively single threaded, but this doesn't mean that it can't be interpreted differently.Let's say you have the following code...This is written with the expectation that by the end of the loop, the list must have 10000 entries which are the index squared, but the VM could notice that each iteration of the loop does not affect the other, and reinterpret using two threads.First threadSecond threadI'm simplifying here, because JS arrays are more complicated then dumb chunks of memory, but if these two scripts are able to add entries to the array in a thread-safe way, then by the time both are done executing it'll have the same result as the single-threaded version.While I'm not aware of any VM detecting parallelizable code like this, it seems likely that it could come into existence in the future for JIT VMs, since it could offer more speed in some situations.Taking this concept further, it's possible that code could be annotated to let the VM know what to convert to multi-threaded code.Since Web Workers are coming to Javascript, it's unlikely that this... uglier system will ever come into existence, but I think it's safe to say Javascript is single-threaded by tradition.Well, Chrome is multiprocess, and I think every process deals with its own Javascript code, but as far as the code knows, it is "single-threaded".There is no support whatsoever in Javascript for multi-threading, at least not explicitly, so it does not make a difference.I've tried @bobince's example with a slight modifications:So, when you press Run, close alert popup and do a "single thread", you should see something like this:But if you try to run this in Opera or Firefox stable on Windows and minimize/maximize window with alert popup on screen, then there will be something like this:I don't want to say, that this is "multithreading", but some piece of code had executed in a wrong time with me not expecting this, and now I have a corrupted state.

And better to know about this behavior.Try to nest two setTimeout functions within each other and they will behave multithreaded (ie; the outer timer won't wait for the inner one to complete before executing its function).

React js onClick can't pass value to method

user1924375

[React js onClick can't pass value to method](https://stackoverflow.com/questions/29810914/react-js-onclick-cant-pass-value-to-method)

I want to read the onClick event value properties. But when I click on it, I see something like this on the console: My code is working correctly. When I run I can see {column} but can't get it in the onClick event.My Code:How can I pass a value to the onClick event in React js?

2015-04-22 23:40:14Z

I want to read the onClick event value properties. But when I click on it, I see something like this on the console: My code is working correctly. When I run I can see {column} but can't get it in the onClick event.My Code:How can I pass a value to the onClick event in React js?Use an arrow function:This will create a new function that calls handleSort with the right params.Extract it into a sub-component.

The problem with using an arrow function in the render call is it will create a new function every time, which ends up causing unneeded re-renders.If you create a sub-component, you can pass handler and use props as the arguments, which will then re-render only when the props change (because the handler reference now never changes):Sub-componentMain componentOld Easy Way (ES5)Use .bind to pass the parameter you want:There are nice answers here, and i agree with @Austin Greco (the second option with separate components)

There is another way i like, currying.

What you can do is create a function that accept a parameter (your parameter) and returns another function that accepts another parameter (the click event in this case). then you are free to do with it what ever you want.ES5:  ES6:  And you will use it this way:Here is a full example of such usage:Note that this approach doesn't solve the creation of a new instance on each render.

I like this approach over the other inline handlers as this one is more concise and readable in my opinion. Edit:

As suggested in the comments below, you can cache / memoize the result of the function. Here is a naive implementation: Nowadays, with ES6, I feel we could use an updated answer. Basically, (for any that don't know) since onClick is expecting a function passed to it, bind works because it creates a copy of a function. Instead we can pass an arrow function expression that simply invokes the function we want, and preserves this. You should never need to bind the render method in React, but if for some reason you're losing this in one of your component methods:[[h/t to @E.Sundin for linking this in a comment]The top answer (anonymous functions or binding) will work, but it's not the most performant, as it creates a copy of the event handler for every instance generated by the map() function.This is an explanation of the optimal way to do it from the ESLint-plugin-react:This is my approach, not sure how bad it is, please commentIn the clickable element and thenthis example might be little different from yours. but i can assure you that this is the best solution you can have for this problem. 

