then when i looked at apc.php (which i copied from /usr/local/share/doc/APC/apc.php to /usr/local/www/apache24/data)

i found that the cache size had increased from the default of 32M to 64M and i was no longer getting a large cache full countreferences:

http://au1.php.net/manual/en/apc.configuration.php

also read Bokan's comments, they were very helpfulMonitor your Cached Files Size (you can use apc.php from apc pecl package) and increase

apc.shm_size according to your needs.This solves the problem.

How can I get the MAC and the IP address of a connected client in PHP?

Neveen

[How can I get the MAC and the IP address of a connected client in PHP?](https://stackoverflow.com/questions/1420381/how-can-i-get-the-mac-and-the-ip-address-of-a-connected-client-in-php)

I need to know the MAC and the IP address of the connect clients, how can I do this in PHP?

2009-09-14 08:43:33Z

I need to know the MAC and the IP address of the connect clients, how can I do this in PHP?You can get the server IP address from $_SERVER['SERVER_ADDR']. For the MAC address, you could parse the output of netstat -ie in Linux, or ipconfig /all in Windows.You can get the client IP from $_SERVER['REMOTE_ADDR']The client MAC address will not be available to you except in one special circumstance: if the client is on the same ethernet segment as the server. So, if you are building some kind of LAN based system and your clients are on the same ethernet segment, then you could get the MAC address by parsing the output of arp -n (linux) or arp -a (windows). Edit: you ask in comments how to get the output of an external command - one way is to use backticks, e.g.Well, you're out of luck unless you can have the client volunteer that information and transmit via other means. The MAC address of a client (in the sense of the computer that issued the HTTP request) is overwritten by every router between the client and the server.Client IP is conveniently provided to the script in $_SERVER['REMOTE_ADDR']. In some scenarios, particularly if your web server is behind a proxy (i.e. a caching proxy) $_SERVER['REMOTE ADDR'] will return the IP of the proxy, and there will be an extra value, often $_SERVER['HTTP_X_FORWARDED_FOR'], that contains the IP of the original request client. Sometimes, particularly when you're dealing with an anonymizing proxy that you don't control, the proxy won't return the real IP address, and all you can hope for is the IP address of the proxy.I don't think you can get MAC address in PHP, but you can get IP from $_SERVER['REMOTE_ADDR'] variable.For windows server I think u can use this:All you need to do is to put arp into diferrent group.Default:With command:you will get:And because apache is a daemon running under the user www-data, it's now able to execute this command.So if you now use a PHP script, e.g.:you will get the output of linux arp -an command.Use this class (https://github.com/BlakeGardner/php-mac-address)This is a PHP class for MAC address manipulation on top of Unix, Linux and Mac OS X operating systems. it was primarily written to help with spoofing for wireless security audits.In windows, If the user is using your script locally, it will be  very simple :We can get MAC address in Ubuntu by this ways in php Getting MAC Address Using PHP: (Tested in Ubuntu 18.04) - 2020 UpdateHere's the Code:Output:Perhaps getting the Mac address is not the best approach for verifying a client's machine over the internet. Consider using a token instead which is stored in the client's browser by an administrator's login. Therefore the client can only have this token if the administrator grants it to them through their browser. If the token is not present or valid then the client's machine is invalid.You can get MAC Address or  Physical Address  using this code I used explode many time because shell_exec ("ipconfig/all") return complete  detail of all network. so you have to split one by one. 

when you run this code then you will get

your MAC Address   00-##-##-CV-12 //this is fake address for show only.You can use the following solution to solve your problem:This works for me on Windows, as ipconfig /all is Windows system command.under linux using iptables you can log to a file  each request to web server  with mac address and ip.

from php lookup last item with  ip address and get  mac address.As stated remember that the mac address is from last router on the trace.You can do this easily using openWRT. If yo use a captive portal you can mix php and openWRT and make a relation between the IP and the mac.You can write a simple PHP code using:Later, using openWRT you can go to /tmp/dhcp.leases, you will get something with the form:There, you have the mac, the IP address and the hostname.

How to remove extension from string (only real extension!)

marc

[How to remove extension from string (only real extension!)](https://stackoverflow.com/questions/2395882/how-to-remove-extension-from-string-only-real-extension)

I'm looking for a small function that allows me to remove the extension from a filename.I've found many examples by googling, but they are bad, because they just remove part of the string with "." . They use dot for limiter and just cut string.Look at these scripts,orWhen we add the string like this:It will return only "This"...The extension can have 3 or 4 characters, so we have to check if dot is on 4 or 5 position, and then remove it.How can it be done?

2010-03-07 10:11:05Z

I'm looking for a small function that allows me to remove the extension from a filename.I've found many examples by googling, but they are bad, because they just remove part of the string with "." . They use dot for limiter and just cut string.Look at these scripts,orWhen we add the string like this:It will return only "This"...The extension can have 3 or 4 characters, so we have to check if dot is on 4 or 5 position, and then remove it.How can it be done?Try this one:So, this matches a dot followed by three or four characters which are not a dot or a space. The "3 or 4" rule should probably be relaxed, since there are plenty of file extensions which are shorter or longer.http://php.net/manual/en/function.pathinfo.phpFrom the manual, pathinfo:It doesn't have to be a complete path to operate properly. It will just as happily parse file.jpg as /path/to/my/file.jpg.Use PHP basename()(PHP 4, PHP 5)var_dump(basename('test.php', '.php'));Outputs: string(4) "test"This is a rather easy solution and will work no matter how long the extension or how many dots or other characters are in the string.Basically this just looks for the last occurrence of . and then uses substring to retrieve all the characters up to that point. It's similar to one of your googled examples but simpler, faster and easier than regular expressions and the other examples. Well imo anyway. Hope it helps someone.You could use what PHP has built in to assist...Though if you are only dealing with a filename (.somefile.jpg), you will get...See it on CodePad.orgOr use a regex...See it on CodePad.orgIf you don't have a path, but just a filename, this will work and be much terser...See it on CodePad.orgOf course, these both just look for the last period (.).The following code works well for me, and it's pretty short. It just breaks the file up into an array delimited by dots, deletes the last element (which is hypothetically the extension), and reforms the array with the dots again.Actually that is absolutely the correct thing to do. Go ahead and use that.The file extension is everything after the last dot, and there is no requirement for a file extension to be any particular number of characters. Even talking only about Windows, it already comes with file extensions that don't fit 3-4 characters, such as eg. .manifest.There are a few ways to do it, but i think one of the quicker ways is the followingAnother solution is this. I havent tested it, but it looks like it should work for multiple periods in a filenameAlso:In all of these, $name contains the filename without the extensionOutput:Recommend use: pathinfo with PATHINFO_FILENAMEAs others mention, the idea of limiting extension to a certain number of characters is invalid.  Going with the idea of array_pop, thinking of a delimited string as an array, this function has been useful to me...Usage:Outputs:In action:http://sandbox.onlinephpfunctions.com/code/5d12a96ea548f696bd097e2986b22de7628314a0You can set the length of the regular expression pattern by using the {x,y} operator. {3,4} would match if the preceeding pattern occurs 3 or 4 times. But I don't think you really need it. What will you do with a file named "This.is"?Use this:Try to use this one. it will surely remove the file extension. EDIT: 

The smartest approach IMHO, it removes the last point and following text from a filename (aka the extension):Cheers ;)This works when there is multiple parts to an extension and is both short and efficient:

What is the HMVC pattern?

Matteo Riva

[What is the HMVC pattern?](https://stackoverflow.com/questions/2263416/what-is-the-hmvc-pattern)

Reading Kohana's documentation, I found out that the main difference in 3.0 version is that it follows the HMVC pattern instead of MVC as version 2.x does. The page about this in Kohana's docs and the one on wikipedia didn't really give me a clear idea.So question: what is the HMVC pattern and how does it differ from MVC?

2010-02-15 00:15:29Z

Reading Kohana's documentation, I found out that the main difference in 3.0 version is that it follows the HMVC pattern instead of MVC as version 2.x does. The page about this in Kohana's docs and the one on wikipedia didn't really give me a clear idea.So question: what is the HMVC pattern and how does it differ from MVC?Sam de Freyssinet (one of the Kohana developers) wrote a rather in-depth article about HMVC, what it is, and how it can be used.Link is dead: New Link - https://web.archive.org/web/20160214073806/http://techportal.inviqa.com/2010/02/22/scaling-web-applications-with-hmvc/I am currently in the process of developing my own PHP 5.3 HMVC framework called Alloy. Since I am heavily invested in and sold on HMVC, I thought I could offer a different view point, and perhaps a better explanation of why HMVC should be used and the benefits it brings.The largest practical benefit of using an HMVC architecture is the "widgetization" of content structures. An example might be comments, ratings, Twitter or blog RSS feed displays, or the display of shopping cart contents for an e-commerce website. It is essentially a piece of content that needs to be displayed across multiple pages, and possibly even in different places, depending on the context of the main HTTP request.Traditional MVC frameworks generally don't provide a direct answer for these types of content structures, so people generally end up duplicating and switching layouts, using custom helpers, creating their own widget structures or library files, or pulling in unrelated data from the main requested Controller to push through to the View and render in a partial. None of these are particularly good options, because the responsibility of rendering a particular piece of content or loading required data ends up leaking into multiple areas and getting duplicated in the places it is used.HMVC, or specifically the ability to dispatch sub-requests to a Controller to handle these responsibilities is the obvious solution. If you think about what you're doing, it fits the Controller structure exactly. You need to load some data about comments, and display them in HTML format. So you send a request to the comments Controller with some params, it interacts with the Model, picks a View, and the View displays the content. The only difference is you want the comments displayed inline, below the blog article the user is viewing instead of a completely separate full comments page (though with an HMVC approach, you can actually serve both internal and external requests with the same controller and "kill two birds with one stone", as the saying goes). In this regard, HMVC is really just a natural byproduct of striving for increased code modularity, re-usability, and maintaining a better separation of concerns. THIS is the selling point of HMVC.So while Sam de Freyssinet's TechPortal article on scaling out with HMVC is interesting to think about, it's not where 90%+ of the people who use HMVC frameworks are going to get real, practical, day-to-day benefits from it.HMVC is closely related to the "component based" approach to dispatching. Basically, instead of having a single dispatcher, which delegates to a controller, each controller can act as a dispatcher it self. This gives you a hierarchy of controllers. The design is more flexible and causes better encapsulation of code, but at a price of higher abstraction. Konstrukt is designed around this pattern.See also this answer: https://stackoverflow.com/questions/115629/simplest-php-routing-framework/120411#120411In Kohana, at least, an HMVC request is a HTTP request that is serviced "internally": instead of being issued over the network, it's routed, dispatched and handled by the framework itself.  The similarity of the names "HMVC" and "MVC" is confusing in that it suggests an underlying connection between the terms that does not in fact exist: one is not a minor variant or modification of the other, they are completely different things.  (HMVC is also described as Ajax without the client-side HTTP request.)  Kohana's emphasis on, and support for "HMVC" means that the framework has strong support for a HTTP-based service oriented architecture.The advantage of this architectural pattern is that since the same "calling convention" is used for internal and external requests, it's trivial to convert "internal" service requests to "external" requests or vice versa as the need arises.Whilst this is a sensible architectural pattern, giving it its own name seems unnecessary (Symfony2 describes the same concept "sub-requests"), and in fact the name seems to be a misnomer: there's no particular requirement or need that the requests form a hierarchy (other than the standard call graph of every imperative program); the requests could easily be recursive, for example.[Update Apr 2011, Mar 2012: Expanded on answer in response to comments.]HMVC is Hierarchical Model View Controller.In in normal MVC every GUI object has its MVC.But there is no any relation between the parent GUI object and Child GUI object unlike HMVC.

In HMVC each GUI object has access to its child objects and each of child object can access to its parent object.So in every view there is a parent view.Through which it can access it parent view.

For in every controller there is a parent controller through which It can pass the event to parent controller (If event is not in its scope.)For details description please click hereNew link is this address

Uppercase Booleans vs. Lowercase in PHP

Austin Hyde

[Uppercase Booleans vs. Lowercase in PHP](https://stackoverflow.com/questions/2013848/uppercase-booleans-vs-lowercase-in-php)

When I was learning PHP, I read somewhere that you should always use the upper case versions of booleans, TRUE and FALSE, because the "normal" lowercase versions, true and false, weren't "safe" to use.It's now been many years, and every PHP script I've written uses the uppercase version. Now, though, I am questioning that, as I have seen plenty of PHP written with the lowercase version (i.e. Zend Framework).Is/Was there ever a reason to use the uppercase version, or is it perfectly OK to use the lowercase?edit: Forgot to mention that this applies to NULL and null as well.

2010-01-06 15:11:12Z

When I was learning PHP, I read somewhere that you should always use the upper case versions of booleans, TRUE and FALSE, because the "normal" lowercase versions, true and false, weren't "safe" to use.It's now been many years, and every PHP script I've written uses the uppercase version. Now, though, I am questioning that, as I have seen plenty of PHP written with the lowercase version (i.e. Zend Framework).Is/Was there ever a reason to use the uppercase version, or is it perfectly OK to use the lowercase?edit: Forgot to mention that this applies to NULL and null as well.The official PHP manual says:So yeah, true === TRUE and false === FALSE.Personally, however, I prefer TRUE over true and FALSE over false for readability reasons. It's the same reason for my preference on using OR over or or ||, and on using AND over and or &&.The PSR-2 standard requires true, false and null to be in lower case.Happy debugging! (PHP < 5.1.3 (2 May 2006), see Demo)Edit: Uppercase bools are constants and lowercases are values. You are interested in the value, not in the constant, which can easily change.Use lowercase.If you intend to use JSON, then RFC7159 says: From the list of backward incompatible changes in PHP 5.6:According to PSR-2 standard:I used to do C style TRUE/FALSE booleans like all consts, in all caps, until I got on the PSR bandwagon.Section 2.5 of PSR-2:So basically, if you want to play nice with open source style particulars, Booleans gotta be lower case.It doesn't matter, true is exactly the same as TRUE. Same goes for false and null. I haven't heard that it would have mattered at any point.The only way you can mess things up is by quoting those values, for example:Only thing restricting or encouraging you to use upper or lowercase might be your company's or your own coding guidelines. Other than that, you're free to use either one and it will not lead in any issues.I've written simple code to check the differences between false and FALSE:

Each iteration was doing something that:Here are the results:So we can see that performance is very slightly touched by the booleans case - lowercase is faster. But certainly you won't see.Personally I've always used the lowercase form, but for no particular reason other than to make my code look tidy, the only place I use capital letters is when camel casing class names and variable names.One advantage to using uppercase that comes to mind though is that they stick out and are easy to find in code.I came across this old question while asking myself the same thing.

Good point with define('TRUE', false);define('FALSE', true);

Doesn't apply to php5 though. Writing those lines in a php5 code is like writing a comment.Here is my TEST on Windows 7x64bit Apache/2.4.9 PHP/5.5.14This time FALSE won 20 times. So uppercase is faster in my environment.

Remove excess whitespace from within a string

joepour

[Remove excess whitespace from within a string](https://stackoverflow.com/questions/1703320/remove-excess-whitespace-from-within-a-string)

I receive a string from a database query, then I remove all HTML tags, carriage returns and newlines before I put it in a CSV file. Only thing is, I can't find a way to remove the excess white space from between the strings.What would be the best way to remove the inner whitespace characters?

2009-11-09 19:52:00Z

I receive a string from a database query, then I remove all HTML tags, carriage returns and newlines before I put it in a CSV file. Only thing is, I can't find a way to remove the excess white space from between the strings.What would be the best way to remove the inner whitespace characters?Not sure exactly what you want but here are two situations:Example:Or, replace with underscore, & nbsp; etc etc.$str = trim(preg_replace('/\s+/',' ', $str));The above line of code will remove extra spaces, as well as leading and trailing spaces.none of other examples worked for me, so I've used this one:this replaces all tabs, new lines, double spaces etc to simple 1 space.If you want to replace only multiple spaces in a string, for Example: "this string                        have lots of                        space  .   "

And you expect the answer to be 

"this string have lots of space", you can use the following solution:There are security flaws to using preg_replace(), if you get the payload from user input [or other untrusted sources]. PHP executes the regular expression with eval(). If the incoming string isn't properly sanitized, your application risks being subjected to code injection.In my own application, instead of bothering sanitizing the input (and as I only deal with short strings), I instead made a slightly more processor intensive function, though which is secure, since it doesn't eval() anything.You can use:This removes extra whitespaces from both sides of string and converts two spaces to one within the string. Note that this won't convert three or more spaces in a row to one!

Another way I can suggest is using implode and explode that is safer but totally not optimum!My suggestion is using a native for loop or using regex to do this kind of job.To expand on Sandip’s answer, I had a bunch of strings showing up in the logs that were mis-coded in bit.ly. They meant to code just the URL but put a twitter handle and some other stuff after a space. It looked like thisNormally, that would‘t be a problem, but I’m getting a lot of SQL injection attempts, so I redirect anything that isn’t a valid ID to a 404. I used the preg_replace method to make the invalid productID string into a valid productID.I look for a space in the URL and then remove everything after it.I wrote recently a simple function which removes excess white space from string without regular expression implode(' ', array_filter(explode(' ', $str))).

Performance of FOR vs FOREACH in PHP

srcspider

[Performance of FOR vs FOREACH in PHP](https://stackoverflow.com/questions/3430194/performance-of-for-vs-foreach-in-php)

First of all, I understand in 90% of applications the performance difference is completely irrelevant, but I just need to know which is the faster construct. That and...The information currently available on them on the net is confusing. A lot of people say foreach is bad, but technically it should be faster since it's suppose to simplify writing a array traversal using iterators. Iterators, which are again suppose to be faster, but in PHP are also apparently dead slow (or is this not a PHP thing?). I'm talking about the array functions: next() prev() reset() etc. well, if they are even functions and not one of those PHP language features that look like functions.To narrow this down a little: I'm not interesting in traversing arrays in steps of anything more than 1 (no negative steps either, ie. reverse iteration). I'm also not interested in a traversal to and from arbitrary points, just 0 to length. I also don't see manipulating arrays with more than 1000 keys happening on a regular basis, but I do see a array being traversed multiple times in the logic of a application! Also as for operations, largely only string manipulation and echo'ing.Here are few reference sites:

http://www.phpbench.com/

http://www.php.lt/benchmark/phpbench.phpWhat I hear everywhere:Here's my problem. I wrote this test script: http://pastebin.com/1ZgK07US and no matter how many times I run the script, I get something like this:In short:Can someone explain?PHP Version 5.3.0

Thank you everyone who tried to help.I'll likely stick to foreach (the non-reference version) for any simple traversal.

2010-08-07 11:15:08Z

First of all, I understand in 90% of applications the performance difference is completely irrelevant, but I just need to know which is the faster construct. That and...The information currently available on them on the net is confusing. A lot of people say foreach is bad, but technically it should be faster since it's suppose to simplify writing a array traversal using iterators. Iterators, which are again suppose to be faster, but in PHP are also apparently dead slow (or is this not a PHP thing?). I'm talking about the array functions: next() prev() reset() etc. well, if they are even functions and not one of those PHP language features that look like functions.To narrow this down a little: I'm not interesting in traversing arrays in steps of anything more than 1 (no negative steps either, ie. reverse iteration). I'm also not interested in a traversal to and from arbitrary points, just 0 to length. I also don't see manipulating arrays with more than 1000 keys happening on a regular basis, but I do see a array being traversed multiple times in the logic of a application! Also as for operations, largely only string manipulation and echo'ing.Here are few reference sites:

http://www.phpbench.com/

http://www.php.lt/benchmark/phpbench.phpWhat I hear everywhere:Here's my problem. I wrote this test script: http://pastebin.com/1ZgK07US and no matter how many times I run the script, I get something like this:In short:Can someone explain?PHP Version 5.3.0

Thank you everyone who tried to help.I'll likely stick to foreach (the non-reference version) for any simple traversal.My personal opinion is to use what makes sense in the context.  Personally I almost never use for for array traversal.  I use it for other types of iteration, but foreach is just too easy...  The time difference is going to be minimal in most cases.The big thing to watch for is:That's an expensive loop, since it calls count on every single iteration. So long as you're not doing that, I don't think it really matters...As for the reference making a difference, PHP uses copy-on-write, so if you don't write to the array, there will be relatively little overhead while looping.  However, if you start modifying the array within the array, that's where you'll start seeing differences between them (since one will need to copy the entire array, and the reference can just modify inline)...As for the iterators, foreach is equivalent to:As far as there being faster ways to iterate, it really depends on the problem.  But I really need to ask, why?  I understand wanting to make things more efficient, but I think you're wasting your time for a micro-optimization.  Remember, Premature Optimization Is The Root Of All Evil...Edit: Based upon the comment, I decided to do a quick benchmark run...And the results:So if you're modifying the array in the loop, it's several times faster to use references...And the overhead for just the reference is actually less than copying the array (this is on 5.3.2)...  So it appears (on 5.3.2 at least) as if references are significantly faster...I'm not sure this is so surprising.  Most people who code in PHP are not well versed in what PHP is actually doing at the bare metal.  I'll state a few things, which will be true most of the time:For these reasons foreach is understandably the best option for simple iteration.And don't forget, it's also the easiest to read, so it's win-win.One thing to watch out for in benchmarks (especially phpbench.com), is even though the numbers are sound, the tests are not. Alot of the tests on phpbench.com are doing things at are trivial and abuse PHP's ability to cache array lookups to skew benchmarks or in the case of iterating over an array doesn't actually test it in real world cases (no one writes empty for loops). I've done my own benchmarks that I've found are fairly reflective of the real world results and they always show the language's native iterating syntax foreach coming out on top (surprise, surprise).I think but I am not sure : the for loop takes two operations for checking and incrementing values. foreach loads the data in memory then it will iterate every values. 

PDO's query vs execute

Qiao

[PDO's query vs execute](https://stackoverflow.com/questions/4700623/pdos-query-vs-execute)

Are they both do the same thing, only differently?Is there any difference besides using prepare betweenand  ?

2011-01-15 16:12:21Z

Are they both do the same thing, only differently?Is there any difference besides using prepare betweenand  ?query runs a standard SQL statement and requires you to properly escape all data to avoid SQL Injections and other issues.execute runs a prepared statement which allows you to bind parameters to avoid the need to escape or quote the parameters. execute will also perform better if you are repeating a query multiple times. Example of prepared statements:Best practice is to stick with prepared statements and execute for increased security.See also: Are PDO prepared statements sufficient to prevent SQL injection?No, they're not the same. Aside from the escaping on the client-side that it provides, a prepared statement is compiled on the server-side once, and then can be passed different parameters at each execution. Which means you can do:They generally will give you a performance improvement, although not noticeable on a small scale. Read more on prepared statements (MySQL version).Gilean's answer is great, but I just wanted to add that sometimes there are rare exceptions to best practices, and you might want to test your environment both ways to see what will work best.In one case, I found that query worked faster for my purposes because I was bulk transferring trusted data from an Ubuntu Linux box running PHP7 with the poorly supported Microsoft ODBC driver for MS SQL Server.I arrived at this question because I had a long running script for an ETL that I was trying to squeeze for speed. It seemed intuitive to me that query could be faster than prepare & execute because it was calling only one function instead of two. The parameter binding operation provides excellent protection, but it might be expensive and possibly avoided if unnecessary.Given a couple rare conditions:Here's a method I used to test my environment, and hopefully you can replicate it or something better in yours:To start, I've created a basic table in Microsoft SQL ServerAnd now a basic timed test for performance metrics.I've played with multiple different trial and counts in my specific environment, and consistently get between 20-30% faster results with query than prepare/executeI'm curious to see how this test compares in other environments, like MySQL.

PHP Fatal error: Using $this when not in object context

ahmet2106

[PHP Fatal error: Using $this when not in object context](https://stackoverflow.com/questions/2350937/php-fatal-error-using-this-when-not-in-object-context)

I've got a problem:I'm writing a new WebApp without a Framework.In my index.php I'm using: require_once('load.php');And in load.php I'm using require_once('class.php'); to load my class.php.In my class.php I've got this error:An example how my class.php is written:In my index.php I'm loading maybe foobarfunc() like this:but can also beWhy is the error coming?

2010-02-28 11:53:08Z

I've got a problem:I'm writing a new WebApp without a Framework.In my index.php I'm using: require_once('load.php');And in load.php I'm using require_once('class.php'); to load my class.php.In my class.php I've got this error:An example how my class.php is written:In my index.php I'm loading maybe foobarfunc() like this:but can also beWhy is the error coming?You can not invoke method this way because it is not static method.You should instead use:If however you have created a static method something like:then you can use this:You are calling a non-static method :Using a static-call :When using a static-call, the function will be called (even if not declared as static), but, as there is no instance of an object, there is no $this.So :

Here, the methods of your class are using the current instance of the class, as they need to access the $foo property of the class.This means your methods need an instance of the class -- which means they cannot be static.This means you shouldn't use static calls : you should instanciate the class, and use the object to call the methods, like you did in your last portion of code :

For more informations, don't hesitate to read, in the PHP manual :

Also note that you probably don't need this line in your __construct method :Using the global keyword will make the $foo variable, declared outside of all functions and classes, visibile from inside that method... And you probably don't have such a $foo variable.To access the $foo class-property, you only need to use $this->foo, like you did.If you are invoking foobarfunc with resolution scope operator (::), then you are calling it statically, e.g. on the class level instead of the instance level, thus you are using $this when not in object context. $this does not exist in class context.If you enable E_STRICT, PHP will raise a Notice about this:Do this insteadOn a sidenote, I suggest not to use global inside your classes. If you need something from outside inside your class, pass it through the constructor. This is called Dependency Injection and it will make your code much more maintainable and less dependant on outside things.First you understand one thing, $this inside a class denotes the current object.

That is which is you are created out side of the class to call class function or variable.So when you are calling your class function like foobar::foobarfunc(), object is not created.

But inside that function you written return $this->foo(). Now here $this is nothing. Thats why its saying Using $this when not in object context in class.phpSolutions:When you call the function in a static context, $this simply doesn't exist. You would have to use this::xyz() instead.To find out what context you're in when a function can be called both statically and in an object instance, a good approach is outlined in this question: How to tell whether I’m static or an object?You need to load your class replace :by :or :Or make static function to use foobar::.$foobar = new foobar; put the class foobar in $foobar, not the object. To get the object, you need to add parenthesis: $foobar = new foobar();Your error is simply that you call a method on a class, so there is no $this since $this only exists in objects.Just use the Class method using this foobar->foobarfunc();

@ character before a function call

nixie

[@ character before a function call](https://stackoverflow.com/questions/2002610/character-before-a-function-call)

What is the difference between these two function calls in PHP?

2010-01-04 22:06:57Z

What is the difference between these two function calls in PHP?the "@" will silence any php errors your function could raise.It silences errors and warnings. See Error Control Operators.As already answered the @ will stop the error (if any) from showing up.

In terms of performance this is not recommended.What php is doing is:If you don't want any errors showing up use error_reporting(0);.Or just write bug free code :Phttp://www.faqts.com/knowledge_base/view.phtml/aid/18068/fid/38All PHP expressions can be called with the "@" prefix, which turns off 

error reporting for that particular expression.As everyone said, it stops the output of errors for that particular function. However, this decreases performance greatly since it has to change the error display setting twice. I would recommend NOT ignoring warnings or errors and fixing the code instead.

How do I get the base URL with PHP?

shin

[How do I get the base URL with PHP?](https://stackoverflow.com/questions/2820723/how-do-i-get-the-base-url-with-php)

I am using XAMPP on Windows Vista. In my development, I have http://127.0.0.1/test_website/.How do I get http://127.0.0.1/test_website/ with PHP?I tried something like these, but none of them worked.

2010-05-12 16:18:51Z

I am using XAMPP on Windows Vista. In my development, I have http://127.0.0.1/test_website/.How do I get http://127.0.0.1/test_website/ with PHP?I tried something like these, but none of them worked.Try this:Learn more about the $_SERVER predefined variable.If you plan on using https, you can use this:Per this answer, please make sure to configure your Apache properly so you can safely depend on SERVER_NAME.NOTE: If you're depending on the HTTP_HOST key (which contains user input), you still have to make some cleanup, remove spaces, commas, carriage return, etc. Anything that is not a valid character for a domain. Check the PHP builtin parse_url function for an example.Function adjusted to execute without warnings:Fun 'base_url' snippet!Use as simple as:Its just simple to use

Output :Usage:I think the $_SERVER superglobal has the information you're looking for.  It might be something like this:You can see the relevant PHP documentation here.The following code will reduce the problem to check the protocol. 

 The $_SERVER['APP_URL'] will display the domain name with the protocol$_SERVER['APP_URL'] will return protocol://domain ( eg:-http://localhost)$_SERVER['REQUEST_URI'] for remaining parts of the url such as /directory/subdirectory/something/elseThe output would be like this http://localhost/directory/subdirectory/something/elseTry the following code :I found this on

http://webcheatsheet.com/php/get_current_page_url.phpAdd the following code to a page:You can now get the current page URL using the line:Sometimes it is needed to get the page name only. The following example shows how to do it: Try this. It works for me.Use like this:Simple and easy trick:URL looks like this: http://example.com/folder/You can do it like this, but sorry my english is not good enough.First, get home base url with this simple code..I've tested this code on my local server and public and the result is good.output will like this :use home_base_url function at index.php of your website and define itand then you can use this function to load scripts, css and content via url likewill create output like this :and if this script works fine,,!Here's one I just put together that works for me. It will return an array with 2 elements. The first element is everything before the ? and the second is an array containing all of the query string variables in an associative array. Note: This is an expansion of the answer provided by maček above. (Credit where credit is due.)Edited at @user3832931 's answer to include server port..to form URLs like 'https://localhost:8000/folder/'Try using: $_SERVER['SERVER_NAME'];I used it to echo the base url of my site to link my css.Hope this helps!I had the same question as the OP, but maybe a different requirement. I created this function......which, incidentally, I use to help create absolute URLs that should be used for redirecting.and you get

    something like Just test and get the result.In my case I needed the base URL similar to the RewriteBasecontained in the .htaccess file.Unfortunately simply retrieving the RewriteBase from the .htaccess file is impossible with PHP. But it is possible to set an environment variable in the .htaccess file and then retrieve that variable in PHP. Just check these bits of code out:.htaccessindex.phpNow I use this in the base tag of the template (in the head section of the page):So if the variable was not empty, we use it. Otherwise fallback to / as default base path.Based on the environment the base url will always be correct. I use / as the base url on local and production websites. But /foldername/ for on the staging environment. They all had their own .htaccess in the first place because the RewriteBase was different. So this solution works for me.Have a look at $_SERVER['REQUEST_URI'], i.e.If you want to support both HTTP and HTTPS, you can use this solutionThis worked for me. I hope, this will also help you. Thanks for asking this question.

Sending email with PHP from an SMTP server

Borut Flis

[Sending email with PHP from an SMTP server](https://stackoverflow.com/questions/14456673/sending-email-with-php-from-an-smtp-server)

I have trouble sending email in PHP. I get an error: SMTP server response: 530 SMTP authentication is required.I was under the impression that you can send email without SMTP to verify. I know that this mail will propably get filtered out, but that doesn't matter right now.This is the setup in the php.ini file. How should I set up SMTP? Are there any SMTP  servers that require no verification or must I setup a server myself?

2013-01-22 10:42:11Z

I have trouble sending email in PHP. I get an error: SMTP server response: 530 SMTP authentication is required.I was under the impression that you can send email without SMTP to verify. I know that this mail will propably get filtered out, but that doesn't matter right now.This is the setup in the php.ini file. How should I set up SMTP? Are there any SMTP  servers that require no verification or must I setup a server myself?When you are sending an e-mail through a server that requires SMTP Auth, you really need to specify it, and set the host, username and password (and maybe the port if it is not the default one - 25).For example, I usually use PHPMailer with similar settings to this ones:You can find more about PHPMailer here: https://github.com/PHPMailer/PHPMaileror, for more details, read on.For Unix users, mail() is actually using Sendmail command to send email. Instead of modifying the application, you can change the environment. msmtp is an SMTP client with Sendmail compatible CLI syntax which means it can be used in place of Sendmail. It only requires a small change to your php.ini.Then even the lowly mail() function can work with SMTP goodness. It is super useful if you're trying to connect an existing application to mail services like sendgrid or mandrill without modifying the application.The problem is that PHP mail() function has a very limited functionality. There are several ways to send mail from PHP.No matter what choice is your, I recommend you use some abstraction layer. You can use PHP library on your development machine running Windows and simply mail() function on production machine with Linux. Abstraction layer allows you to interchange mail drivers depending on system which your application is running on. Create abstract MyMailer class or interface with abstract send() method. Inherit two classes MyPhpMailer and MySwiftMailer. Implement send() method in appropriate ways.Here is a way to do it with PHP PEARIf you use Gmail SMTP remember to enable SMTP in your Gmail account, under settings There are some SMTP servers that work without authentication, but if the server requires authentication, there is no way to circumvent that. PHP's built-in mail functions are very limited - specifying the SMTP server is possible in WIndows only. On *nix, mail() will use the OS's binaries.If you want to send E-Mail to an arbitrary SMTP server on the net, consider using a library like SwiftMailer. That will enable you to use, for example, Google Mail's outgoing servers. In cases where you are hosting a Wordpress site on Linux and have server access you can save some headaches by installing msmtp which allows you to send via smtp from the standard php mail() function. msmtp is a simpler alternative to postfix which requires a bit more configuration. Here are the steps:Install msmtpCreate a new configuration file:...with the following configuration information:You need to replace the configuration data represented by everything within "<" and ">" (inclusive, remove these). For host/username/password, use your normal credentials for sending mail through your mail provider.Tell PHP to use itAdd this single line:Complete documention can be found here:https://marlam.de/msmtp/

How do I recursively delete a directory and its entire contents (files + sub dirs) in PHP?

Itay Moav -Malimovka

[How do I recursively delete a directory and its entire contents (files + sub dirs) in PHP?](https://stackoverflow.com/questions/3338123/how-do-i-recursively-delete-a-directory-and-its-entire-contents-files-sub-dir)

How do I delete a directory and its entire contents (files and subdirectories) in PHP?

2010-07-26 19:09:50Z

How do I delete a directory and its entire contents (files and subdirectories) in PHP?The user-contributed section in the manual page of rmdir contains a decent implementation:Building on The Pixel Developer's comment, a snippet using the SPL might look like:Note: It does no sanity checking and makes use of the SKIP_DOTS flag introduced with the FilesystemIterator in PHP 5.3.0. Of course, the $todo could be an if/else. The important point is that CHILD_FIRST is used to iterate over the children (files) first before their parent (folders).Deletes all files and folders in the path.For *nix you can use  a shell_exec for rm -R or DEL /S folder_name for Windows.There is another thread with more examples here:

A recursive remove directory function for PHP?If you are using Yii then you can leave it to the framework:'simple' code that works and can be read by a ten year old:Please note that all I did was expand/simplify and fix (didn't work for non empty dir) the solution here: 

In PHP how do I recursively remove all folders that aren't empty?Enhanced @Artefacto 's solution - corrected typos and simplified code, working for both - empty && non-empty directories .The 100% working solutionSomething like this?Example with glob() function. It will delete all files and folders recursively, including files that starts with dot. unlinkr function recursively deletes all the folders and files in given path by making sure it doesn't delete the script itself.if you want to delete all files and folders where you place this script then call it as followingif you want to just delete just php files then call it as followingyou can use any other path to delete the files as well This will delete all files in home/user/temp directory.I use this code ...or this one...Once you finish running tests , just remove # from the #unlink and #rmdir in the class .   cleanup.php :It seems that all other answers assume the path given to the function is always a directory.  This variant works to remove directories as well as single files:Using DirectoryIterator and recursion correctly:I juste made this code, from some StackOverflow discussions. I didn't test on Linux environment yet. It is made in order to delete a file or a directory, completely :  Modified variant of @XzaR solution. It does remove empty folders, when all files are deleted from them and it throws exceptions instead of returning false on errors.

How to convert array values to lowercase in PHP?

user1163513

[How to convert array values to lowercase in PHP?](https://stackoverflow.com/questions/11008443/how-to-convert-array-values-to-lowercase-in-php)

How can I convert all values in an array to lowercase in PHP?Something like array_change_key_case?

2012-06-13 05:01:26Z

How can I convert all values in an array to lowercase in PHP?Something like array_change_key_case?use array_map():In case you need to lowercase nested array (by Yahya Uddin):Just for completeness: you may also use array_walk: From PHP docs: Or directly via foreach loop using references: Note that these two methods change the array "in place", whereas array_map creates and returns a copy of the array, which may not be desirable in case of very large arrays. You could use array_map(), set the first parameter to 'strtolower' (including the quotes) and the second parameter to $lower_case_array.If you wish to lowercase all values in an nested array, use the following code:So:would return:array_change_value_caseby continuearray_map() is the correct method. But, if you want to convert specific array values or all array values to lowercase one by one, you can use strtolower().AIO Solution / Recursive / Unicode|UTF-8|Multibyte supported!Example:OutputYou don't say if your array is multi-dimensional. If it is, array_map will not work alone. You need a callback method. For multi-dimensional arrays, try array_change_key_case.`$Color = array('A' => 'Blue', 'B' => 'Green', 'c' => 'Red');$strtolower = array_map('strtolower', $Color);$strtoupper = array_map('strtoupper', $Color);print_r($strtolower);

print_r($strtoupper);`You can also use a combination of array_flip() and array_change_key_case(). See this post

Chrome net::ERR_INCOMPLETE_CHUNKED_ENCODING error

Wayne Whitty

[Chrome net::ERR_INCOMPLETE_CHUNKED_ENCODING error](https://stackoverflow.com/questions/29894154/chrome-neterr-incomplete-chunked-encoding-error)

For the past two months, I have been receiving the following error on Chrome's developer console:Symptoms:Server environment:This is happening to me on our in-house Apache server. It is not happening to anybody else - i.e. None of our users are experiencing this problem - nor is anybody else on our dev team.Other people are accessing the exact same server with the exact same version of Chrome. I have also tried disabling all extensions and browsing in Incognito mode - to no effect.I have used Firefox and the exact same thing is occurring. Truncated files and whatnot. The only thing is, Firefox doesn't raise any console errors so you need to inspect the HTTP request via Firebug to see the problem.Response Headers from Apache:While testing, I was able to fix the issue by forcing HTTP 1.0 in my htaccess file:This gets rid of the problem. However, forcing HTTP 1.0 over HTTP 1.1 is not a proper solution.Update: Because I'm the only one experiencing this issue, I figured that I needed to spend more time investigating whether or not it was a client side issue. If I go into Chrome's settings and use the "Restore to Default" option, the problem will disappear for about 10-20 minutes. Then it returns.

2015-04-27 11:12:52Z

For the past two months, I have been receiving the following error on Chrome's developer console:Symptoms:Server environment:This is happening to me on our in-house Apache server. It is not happening to anybody else - i.e. None of our users are experiencing this problem - nor is anybody else on our dev team.Other people are accessing the exact same server with the exact same version of Chrome. I have also tried disabling all extensions and browsing in Incognito mode - to no effect.I have used Firefox and the exact same thing is occurring. Truncated files and whatnot. The only thing is, Firefox doesn't raise any console errors so you need to inspect the HTTP request via Firebug to see the problem.Response Headers from Apache:While testing, I was able to fix the issue by forcing HTTP 1.0 in my htaccess file:This gets rid of the problem. However, forcing HTTP 1.0 over HTTP 1.1 is not a proper solution.Update: Because I'm the only one experiencing this issue, I figured that I needed to spend more time investigating whether or not it was a client side issue. If I go into Chrome's settings and use the "Restore to Default" option, the problem will disappear for about 10-20 minutes. Then it returns.OK. I've triple-tested this and I am 100% sure that it is being caused by my anti-virus (ESET NOD32 ANTIVIRUS 5). Whenever I disable the Real-Time protection, the issue disappears. Today, I left the Real-Time protection off for 6-7 hours and the issue never occurred.A few moments ago, I switched it back on, only for the problem to surface within a minute.Over the course of the last 24 hours, I have switched the Real-Time protection on and off again, just to be sure. Each time - the result has been the same.Update: I have come across another developer who had the exact same problem with the Real-Time protection on his Kaspersky anti-virus. He disabled it and the problem went away. i.e. This issue doesn't seem to be limited to ESET.The error is trying to say that Chrome was cut off while the page was being sent. Your issue is trying to figure out why.Apparently, this might be a known issue impacting a couple of versions of Chrome. As far as I can tell, it is an issue of these versions being massively sensitive to the content length of the chunk being sent and the expressed size of that chunk (I could be far off on that one). In short, a slightly imperfect headers issue.On the other hand, it could be that the server does not send the terminal 0-length chunk. Which might be fixable with ob_flush();. It is also possible that Chrome (or connection or something) is being slow. So when the connection is closed, the page is not yet loaded. I have no idea why this might happen.Here is the paranoid programmers answer:In your case, it might be a case of the script timing out. I am not really sure why it should affect only you but it could be down to a bunch of race conditions? That's an utter guess. You should be able to test this by extending the script execution time.It also may be as simple as you need to update your Chrome install (as this problem is Chrome specific).UPDATE: I was able to replicate this error (at last) when a fatal error was thrown while PHP (on the same localhost) was output buffering. I imagine the output was too badly mangled to be of much use (headers but little or no content).Specifically, I accidentally had my code recursively calling itself until PHP, rightly, gave up. Thus, the server did not send the terminal 0-length chunk - which was the problem I identified earlier.I had this issue. Tracked it down after trying most the other answers on this question. It was caused by the owner and permissions of the /var/lib/nginx and more specifically the /var/lib/nginx/tmp directory being incorrect. The tmp directory is used by fast-cgi to cache responses as they are generated, but only if they are above a certain size. So the issue is intermittent and only occurs when the generated response is large. Check the nginx <host_name>.error_log to see if you are having permission issues.To fix, ensure the owner and group of /var/lib/nginx and all sub-dirs is nginx.The following should fix it for every client.

But in my case the following was a better option and fixed it as well:.htaccess:OMG, I solved the same problem 5 minutes ago. I spent several hours to find a solution. At first sight disabling antivirus solved problem on Windows. But then I noticed issue on other linux pc with no antivirus. No errors in nginx logs. My uwsgi showed something about "Broken pipe" but not on all requests.

Know what? It was no space left on device, which I found when restarted server on Database log, and df approved this. Only explanation about why antivirus was solved this is that it prevents browser caching (it should check every request), but browser with some strange behavior can simply ignore bad response and show cached responses.In my case i was having /usr/local/var/run/nginx/fastcgi_temp/3/07/0000000073" failed (13: Permission denied) which was probably resulting the Chrome net::ERR_INCOMPLETE_CHUNKED_ENCODING error.I had to remove /usr/local/var/run/nginx/ and let nginx create it again.It is known Chrome problem. According to Chrome and Chromium bug trackers there is no universal solution for this. This problem is not related with server type and version, it is right in Chrome.Setting Content-Encoding header to identity solved this problem to me.from developer.mozilla.orgSo, I can suggest, that in some cases Chrome can not perform gzip compress correctly.I just stared having a similar problem.  And noticed it was only happening when the page contained UTF-8 characters with an ordinal value greater than 255 (i.e. multibyte).What ended up being the problem was how the Content-Length header was being calculated.  The underlying backend was computing character length, rather than byte length.  Turning off content-length headers fixed the problem temporarily until I could fix the back end template system.When i faced this error( while making AJAX call from javascript ); the reason was the response from controller was erroneous; it was returning a JSON which was not of valid format. Here the problem was my Avast AV.

As soon I disabled it, the problem was gone. But, I really would like to understand the cause of this behavior. This was happening on two different clients' servers separated by several years, using the same code that was deployed on hundreds of other servers for that time without issue.For these clients, it happened mostly on PHP scripts that had streaming HTML - that is, "Connection: close" pages where output was sent to the browser as the output became available.It turned out that the connection between the PHP process and the web server was dropping prematurely, before the script completed and way before any timeout.The problem was opcache.fast_shutdown = 1 in the main php.ini file. This directive is disabled by default, but it seems some server administrators believe there is a performance boost to be had here. In all of my tests, I have never noted a positive difference using this setting. In my experience, it has caused some scripts to actually execute more slowly, and has an awful track record of sometimes entering shutdown while the script is still executing, or even at the end of execution while the web server is still reading from the buffer. There is an old bug report from 2013, unresolved as of Feb 2017, which may be related: https://github.com/zendtech/ZendOptimizerPlus/issues/146I have seen the following errors appear due to this

ERR_INCOMPLETE_CHUNKED_ENCODING

ERR_SPDY_PROTOCOL_ERROR

Sometimes there are correlative segfaults logged; sometimes not.If you experience either one, check your phpinfo, and make sure opcache.fast_shutdown is disabled.The easiest solution is to increase the proxy_read_timeout for your set proxy location to a higher value (let say 120s) in your nginx.conf.I found this solution here

https://rijulaggarwal.wordpress.com/2018/01/10/atmosphere-long-polling-on-nginx-chunked-encoding-error/I'm sorry to say, I don't have a precise answer for you.  But I did encounter this problem as well, and, at least in my case, found a way around it.  So maybe it'll offer some clues to someone else who knows more about Php under the hood.The scenario is, I have an array passed to a function.  The content of this array is being used to produce an HTML string to be sent back to the browser, by placing it all inside a global variable that's later printed.  (This function isn't actually returning anything.  Sloppy, I know, but that's beside the point.)  Inside this array, among other things, are a couple of elements carrying, by reference, nested associative arrays that were defined outside of this function.  By process-of-elimination, I found that manipulation of any element inside this array within this function, referenced or not, including an attempt to unset those referenced elements, results in Chrome throwing a net::ERR_INCOMPLETE_CHUNKED_ENCODING error and displaying no content.  This is despite the fact that the HTML string in the global variable is exactly what it should be.Only by re-tooling the script to not apply references to the array elements in the first place did things start working normally again.  I suspect this is actually a Php bug having something to do with the presence of the referenced elements throwing off the content-length headers, but I really don't know enough about this to say for sure.I had this problem with a site in Chrome and Firefox. If I turned off the Avast Web Shield it went away. I seem to have managed to get it to work with the Web Shield running by adding some of the html5 boilerplate htaccess to my htaccess file:I just wanted to share my experience with you if someone might has the same problem with MOODLE. Our moodle platform was suddenly very slowly, the dashboard took about 2-3 times longer to load (up to 6 seconds) then usual and from time to time some pages didn't get loaded at all (not a 404 error but a blank page). In the Developer Tools Console the following error was visible: net::ERR_INCOMPLETE_CHUNKED_ENCODING. Searching for this error, it looks like Chrome is the issue, but we had the problem with various browsers. After hours of research and comparing the databases from the days before I finally found the problem, someone turned the Event Monitoring on. However, in the "Config changes" log, this change wasn't visible! Turning Event Monitoring off, finally solved the problem - we had no rules defined for event monitoring. We're running Moodle 3.1.2+ with MariaDB and PHP 5.4.My fix is:Hope this will help someone in future, and in my case its a Kaspersky issue but the fix above works great :) In my case it was happening during json serialization of a web api return payload - I had a 'circular' reference in my Entity Framework model, I was returning a simple one-to-many object graph back but the child had a reference back to the parent, which apparently the json serializer doensn't like. Removing the property on the child that was referencing the parent did the trick.Hope this helps someone who might have a similar issue.I was getting net::ERR_INCOMPLETE_CHUNKED_ENCODING, upon closer inspection of the server error logs I found that it was due to PHP script execution timeout.Adding this line on top of PHP script solved it for me:Ref: Fatal error: Maximum execution time of 30 seconds exceededFor me it was caused by insufficient free space on hard drive.Well. Not long ago I also met this question. And finally I get the solutions which really address this issue.My problem symptoms are also the pages not loading and find the json data was be randomly truncated.Here are the solutions which I summary could help to solve this problemIf there are any loop or item which is not existing then you face this issue.When running the App on Chrome, the page is blank and become unresponsive.Scenario Start:Dev Environment: MAC, STS 3.7.3, tc Pivotal Server 3.1, Spring MVC Web,in   ${myObj.getfName()} Scenario End:Reason of issue: getfName() function is not defined on the myObj.Hope it help you.my guess is the server is not correctly handling the chunked transfer-encoding.  It needs to terminal a chunked files with a terminal chunk to indicate the entire file has been transferred.So the code below maybe work:In my case it was broken config for mysqlnd_ms php extension on the server. Funny thing is that it was working fine on requests with short duration. There was a warning in server error log, so we have fixed it quick. This seems like a common problem with multiple causes and solutions, so I'm going to put my answer here for anyone who may require it.I was getting net::ERR_INCOMPLETE_CHUNKED_ENCODING on Chrome, osx, php70, httpd24 combination, but the same code ran fine on the production server.I initially tailed the regular logs but nothing really showed up. A quick ls -later showed system.log was the latest touched file in /var/log, and tailing that gave me Contained within:A brew uninstall php70-mongodb and a httpd -k restart later and everything was smooth sailing.In my case it was issue of html. There was '\n' in json response causing the issue. So I removed that.Fascinating to see how many different causes there are for this issue! Many say it's a Chrome issue, so I tried Safari and still had issues. Then tried all solutions in this thread, including turning off my AVG Realtime Protection, no luck.For me, the issue was my .htaccess file. All it contained was FallbackResource index.php, but when I renamed it to htaccess.txt, my issue was resolved.Hmmm I just stumbled upon a similar issue but with different reasons behind... I'm using Laravel Valet on a vanilla PHP project with Laravel Mix. When I opened the site in Chrome, it was throwing net::ERR_INCOMPLETE_CHUNKED_ENCODING errors. (If I had the site loaded on HTTPS protocol, the error changed to net::ERR_SPDY_PROTOCOL_ERROR.)I checked the php.ini and opcache was not enabled. I found that in my case the problem was related to versioning the asset files - for some reason, it did not seem to like a query string in the URL of the assets (well, oddly enough, just one in particular?). I have removed mix.version() for the local environment, and the site loads just fine in my Chrome on both HTTP and HTTPS protocols. In the context of a Controller in Drupal 8 (Symfony Framework) this solution worked for me:Otherwise the response header 'Transfer-Encoding' got a value 'chunked'. This may be a problem for Chrome browser. I had this problem (showing ERR_INCOMPLETE_CHUNKED_ENCODING in Chrome, nothing in other browsers). Turned out the problem was my hosting provider GoDaddy adding a monitoring script at the end of my output. https://www.godaddy.com/community/cPanel-Hosting/how-to-remove-additional-quot-monitoring-quot-script-added/td-p/62592This generally raises when the client sends a burst of requests to the server, next to a client side event. This is generally a sign  of "bad" programming in client side.Imagine I am updating all lines of a table. The bad way is to send a request to update each row (many requests in rafale without waiting for request complete). To correct it , be sure, the request is complete, before sending another one.The good way would  be  to send a request with all updated rows.   (one request)So, at first, look at what is happening client side and refactoring code if necessary.Use wireshark to identify what goes wrong in requests.  

$_POST vs. $_SERVER['REQUEST_METHOD'] == 'POST'

Scott

[$_POST vs. $_SERVER['REQUEST_METHOD'] == 'POST'](https://stackoverflow.com/questions/409351/post-vs-serverrequest-method-post)

Some guy called one of my Snipplr submissions "crap" because I used if ($_SERVER['REQUEST_METHOD'] == 'POST') instead of if ($_POST)Checking the request method seems more correct to me because that's what I really want to do. Is there some operational difference between the two or is this just a code clarity issue?

2009-01-03 16:56:23Z

Some guy called one of my Snipplr submissions "crap" because I used if ($_SERVER['REQUEST_METHOD'] == 'POST') instead of if ($_POST)Checking the request method seems more correct to me because that's what I really want to do. Is there some operational difference between the two or is this just a code clarity issue?Well, they don't do the same thing, really.$_SERVER['REQUEST_METHOD'] contains the request method (surprise).$_POST contains any post data.It's possible for a POST request to contain no POST data.I check the request method — I actually never thought about testing the $_POST array. I check the required post fields, though. So an empty post request would give the user a lot of error messages - which makes sense to me.if ($_SERVER['REQUEST_METHOD'] == 'POST') is the correct way, you can send a post request without any post data.I used to check $_POST until I got into a trouble with larger POST data and uploaded files. There are configuration directives post_max_size and upload_max_filesize - if any of them is exceeded, $_POST array is not populated. So the "safe way" is to check $_SERVER['REQUEST_METHOD']. You still have to use isset() on every $_POST variable though, and it does not matter, whether you check or don't check $_SERVER['REQUEST_METHOD'].If your application needs to react on request of type post, use this:If your application needs to react on any data received through post request, use this:It is implementation specific, but you a going to use both, + $_FILES superglobal.You can submit a form by hitting the enter key (i.e. without clicking the submit button) in most browsers but this does not necessarily send submit as a variable - so it is possible to submit an empty form i.e. $_POST will be  empty but the form will still have generated a http post request to the php page. In this case if ($_SERVER['REQUEST_METHOD'] == 'POST') is better.They are both correct. Personally I prefer your approach better for its verbosity but it's really down to personal preference.Off hand, running if($_POST) would not throw an error - the $_POST array exists regardless if the request was sent with POST headers. An empty array is cast to false in a boolean check.As long as I may need to access my PHP scripts with more than one method, what I do actually is:It checks whether the page has been called through POST (as opposed to GET, HEAD, etc).

When you type a URL in the menu bar, the page is called through GET. However, when you submit a form with method="post" the action page is called with POST. It's really a 6 of one, a half-dozen of the other situation.The only possible argument against your approach is $_SERVER['REQUEST_METHOD'] == 'POST' may not be populated on certain web-servers/configuration, whereas the $_POST array will always exist in PHP4/PHP5 (and if it doesn't exist, you have bigger problems (-:)They both work the same way, but $_POST should be used as it is cleaner. You can add isset() to it to check it exists.

Convert a PHP script into a stand-alone windows executable

Salman A

[Convert a PHP script into a stand-alone windows executable](https://stackoverflow.com/questions/9046675/convert-a-php-script-into-a-stand-alone-windows-executable)

I want to automate a fairly simple task. For this I have written a small PHP script which I run from the command line using PHP-CLI. Now I want to hand over this script to someone but I do not want to:Is there a way to create a .exe version of the PHP script. I am really not much worried about de-compilation; I am more worried about asking people to install and configure PHP.

2012-01-28 16:07:39Z

I want to automate a fairly simple task. For this I have written a small PHP script which I run from the command line using PHP-CLI. Now I want to hand over this script to someone but I do not want to:Is there a way to create a .exe version of the PHP script. I am really not much worried about de-compilation; I am more worried about asking people to install and configure PHP.Peachpiehttp://www.peachpie.iohttps://github.com/iolevel/peachpiePeachpie is PHP 7 compiler based on Roslyn by Microsoft and drawing from popular Phalanger. It allows PHP to be executed within the .NET/.NETCore by compiling the PHP code to pure MSIL.Phalangerhttp://v4.php-compiler.net/http://wiki.php-compiler.net/Phalanger_Wikihttps://github.com/devsense/phalangerPhalanger is a project which was started at Charles University in Prague and was supported by Microsoft. It compiles source code written in the PHP scripting language into CIL (Common Intermediate Language) byte-code. It handles the beginning of a compiling process which is completed by the JIT compiler component of the .NET Framework. It does not address native code generation nor optimization. Its purpose is to compile PHP scripts into .NET assemblies, logical units containing CIL code and meta-data.Bambalamhttps://github.com/xZero707/Bamcompile/Bambalam PHP EXE Compiler/Embedder is a free command line tool to convert PHP applications to standalone Windows .exe applications. The exe files produced are totally standalone, no need for php dlls etc. The php code is encoded using the Turck MMCache Encode library so it's a perfect solution if you want to distribute your application while protecting your source code. The converter is also suitable for producing .exe files for windowed PHP applications (created using for example the WinBinder library). It's also good for making stand-alone PHP Socket servers/clients (using the php_sockets.dll extension). 

It's NOT really a compiler in the sense that it doesn't produce native machine code from PHP sources, but it works! ZZEE PHPExehttp://www.zzee.com/phpexe/ZZEE PHPExe compiles PHP, HTML, Javascript, Flash and other web files into Windows GUI exes. You can rapidly develop Windows GUI applications by employing the familiar PHP web paradigm. You can use the same code for online and Windows applications with little or no modification. It is a Commercial product.phc-winhttp://wiki.swiftlytilting.com/Phc-winThe PHP extension bcompiler is used to compile PHP script code into PHP bytecode. This bytecode can be included just like any php file as long as the bcompiler extension is loaded. Once all the bytecode files have been created, a modified Embeder is used to pack all of the project files into the program exe. RequiresExeOutputhttp://www.exeoutput.com/CommercialWinBinderhttp://winbinder.org/WinBinder is an open source extension to PHP, the script programming language. It allows PHP programmers to easily build native Windows applications, producing quick and rewarding results with minimum effort. Even short scripts with a few dozen lines can generate a useful program, thanks to the power and flexibility of PHP.PHPDesktophttps://github.com/cztomczak/phpdesktopPHP Desktop is an open source project founded by Czarek Tomczak in 2012 to provide a way for developing native desktop applications using web technologies such as PHP, HTML5, JavaScript & SQLite. This project is more than just a PHP to EXE compiler, it embeds a web-browser (Internet Explorer or Chrome embedded), a Mongoose web-server and a PHP interpreter. The development workflow you are used to remains the same, the step of turning an existing website into a desktop application is basically a matter of copying it to "www/" directory. Using SQLite database is optional, you could embed mysql/postgresql database in application's installer.PHP Nightrainhttps://github.com/kjellberg/nightrainUsing PHP Nightrain you will be able to deploy and run HTML, CSS, JavaScript and PHP web applications as a native desktop application on Windows, Mac and the Linux operating systems. Popular PHP Frameworks (e.g. CakePHP, Laravel, Drupal, etc…) are well supported!phc-win "fork"https://github.com/RDashINC/phc-winA more-or-less forked version of phc-win, it uses the same techniques as phc-win but supports almost all modern PHP versions. (5.3, 5.4, 5.5, 5.6, etc) It also can use Enigma VB to combine the php5ts.dll with your exe, aswell as UPX compress it. Lastly, it has win32std and winbinder compilied statically into PHP.EDITAnother option is to use http://www.appcelerator.com/products/titanium-cross-platform-application-development/an online compiler that can build executables for a number of different platforms, from a number of different languages including PHPTideSDKhttp://www.tidesdk.org/TideSDK is actually the renamed Titanium Desktop project. Titanium remained focused on mobile, and abandoned the desktop version, which was taken over by some people who have open sourced it and dubbed it TideSDK.Generally, TideSDK uses HTML, CSS and JS to render applications, but it supports scripted languages like PHP, as a plug-in module, as well as other scripting languages like Python and Ruby. I had problems with most of the tools in other answers as they are all very outdated.If you need a solution that will "just work", pack a bare-bones version of php with your project in a WinRar SFX archive, set it to extract everything to a temporary directory and execute php your_script.php.To run a basic script, the only files required are php.exe and php5.dll (or php5ts.dll depending on version).To add extensions, pack them along with a php.ini file:I tried most of solution given in the 1st answer, the only one that worked for me and is non-commercial is php-desktop.I simply put my php files in the www/ folder, changed the name of .exe and was able to run my php as an exe !!Also there is a complete documentation, up to date support, windows and linux compatibility and options can easily be changed.RapidEXE is exactly for this job:It converts a php project to a standalone exe. I had enough of all other compilers, tried them one by one and they all disappointed me one way or another. Be my guest, feedbacks are always welcome!Side note: the mechanism behind it is quite similar to the WinRAR SFX approach; extract engine, extract source, then run. It's just faster and easier to work with. One-command compilation, compressed, smart unpack, auto cleanup, easy config, full control of php engine & version;  also extensible with minimal effort.Happy developing!ExeOutput  is also can  Turn PHP Websites into Windows Applications and SoftwareTurn PHP Websites into Windows Applications and SoftwareApplications made with ExeOutput for PHP run PHP scripts, PHP applications, and PHP websites natively, and do not require a web server, a web browser, or PHP distribution. They are stand-alone and work on any computer with recent Windows versions.ExeOutput for PHP is a powerful website compiler that works with all of the elements found on modern sites: PHP scripts, JavaScript, HTML, CSS, XML, PDF files, Flash, Flash videos, Silverlight videos, databases, and images. Combining these elements with PHP Runtime and PHP Extensions, ExeOutput for PHP builds an EXE file that contains your complete application. http://www.exeoutput.com/My experience in this matter tells me , most of these software work good with small projects .

But what about big projects? e.g: Zend Framework 2 and some things like that.

Some of them need browser to run and this is difficult to tell customer "please type http://localhost/" in your browser address bar !!  I create a simple project to do this : PHPPy  This is not complete way for create stand alone executable file for running php projects but helps you to do this.

I couldn't compile python file with PyInstaller or Py2exe to .exe file , hope you can.

You don't need uniformserver executable files.It's an update to PHP Nightrain.https://github.com/entrypass/nightrain-ep

「Cannot send session cache limiter - headers already sent」[duplicate]

user1039878

[「Cannot send session cache limiter - headers already sent」[duplicate]](https://stackoverflow.com/questions/8812754/cannot-send-session-cache-limiter-headers-already-sent)

Having a problem with sessions which is becoming very annoying. Every time I try to start a session on a particular page I get the following error: using this code:Is it suggesting I've already used session_start(); ? Ive had a look around but nothing really clears this up for me. Thanks

2012-01-11 00:51:05Z

Having a problem with sessions which is becoming very annoying. Every time I try to start a session on a particular page I get the following error: using this code:Is it suggesting I've already used session_start(); ? Ive had a look around but nothing really clears this up for me. Thanks"Headers already sent" means that your PHP script already sent the HTTP headers, and as such it can't make modifications to them now.Check that you don't send ANY content before calling session_start. Better yet, just make session_start the first thing you do in your PHP file (so put it at the absolute beginning, before all HTML etc).

What is normalized UTF-8 all about?

Xeoncross

[What is normalized UTF-8 all about?](https://stackoverflow.com/questions/7931204/what-is-normalized-utf-8-all-about)

The ICU project (which also now has a PHP library) contains the classes needed to help normalize UTF-8 strings to make it easier to compare values when searching.However, I'm trying to figure out what this means for applications. For example, in which cases do I want "Canonical Equivalence" instead of "Compatibility equivalence", or vis-versa?

2011-10-28 15:14:20Z

The ICU project (which also now has a PHP library) contains the classes needed to help normalize UTF-8 strings to make it easier to compare values when searching.However, I'm trying to figure out what this means for applications. For example, in which cases do I want "Canonical Equivalence" instead of "Compatibility equivalence", or vis-versa?Unicode includes multiple ways to encode some characters, most notably accented characters. Canonical normalization changes the code points into a canonical encoding form. The resulting code points should appear identical to the original ones barring any bugs in the fonts or rendering engine.Because the results appear identical, it is always safe to apply canonical normalization to a string before storing or displaying it, as long as you can tolerate the result not being bit for bit identical to the input.Canonical normalization comes in 2 forms: NFD and NFC. The two are equivalent in the sense that one can convert between these two forms without loss. Comparing two strings under NFC will always give the same result as comparing them under NFD.NFD has the characters fully expanded out. This is the faster normalization form to calculate, but the results in more code points (i.e. uses more space).If you just want to compare two strings that are not already normalized, this is the preferred normalization form unless you know you need compatibility normalization.NFC recombines code points when possible after running the NFD algorithm. This takes a little longer, but results in shorter strings.Unicode also includes many characters that really do not belong, but were used in legacy character sets. Unicode added these to allow text in those character sets to be processed as Unicode, and then be converted back without loss.Compatibility normalization converts these to the corresponding sequence of "real" characters, and also performs canonical normalization. The results of compatibility normalization may not appear identical to the originals. Characters that include formatting information are replaced with ones that do not. For example the character ⁹ gets converted to 9. Others don't involve formatting differences. For example the roman numeral character Ⅸ is converted to the regular letters IX.Obviously, once this transformation has been performed, it is no longer possible to losslessly convert back to the original character set.The Unicode Consortium suggests thinking of compatibility normalization like a ToUpperCase transform. It is something that may be useful in some circumstances, but you should not just apply it willy-nilly.An excellent use case would be a search engine since you would probably want a search for 9 to match ⁹. One thing you should probably not do is display the result of applying compatibility normalization to the user. Compatibility normalization form comes in two forms NFKD and NFKC. They have the same relationship as between NFD and C.Any string in NFKC is inherently also in NFC, and the same for the NFKD and NFD. Thus NFKD(x)=NFD(NFKC(x)), and NFKC(x)=NFC(NFKD(x)), etc.If in doubt, go with canonical normalization. Choose NFC or NFD based on the space/speed trade-off applicable, or based on what is required by something you are inter-operating with.Some characters, for example a letter with an accent (say, é) can be represented in two ways - a single code point U+00E9 or the plain letter followed by a combining accent mark U+0065 U+0301. Ordinary normalization will choose one of these to always represent it (the single code point for NFC, the combining form for NFD).For characters that could be represented by multiple sequences of base characters and combining marks (say, "s, dot below, dot above" vs putting dot above then dot below or using a base character that already has one of the dots), NFD will also pick one of these (below goes first, as it happens)The compatibility decompositions include a number of characters that "shouldn't really" be characters but are because they were used in legacy encodings. Ordinary normalization won't unify these (to preserve round-trip integrity - this isn't an issue for the combining forms because no legacy encoding [except a handful of vietnamese encodings] used both), but compatibility normalization will. Think like the "kg" kilogram sign that appears in some East Asian encodings (or the halfwidth/fullwidth katakana and alphabet), or the "fi" ligature in MacRoman.See http://unicode.org/reports/tr15/ for more details.Normal forms (of Unicode, not databases) deal primarily (exclusively?) with characters that have diacritical marks. Unicode provides some characters with "built in" diacritical marks, such as U+00C0, "Latin Capital A with Grave". The same character can be created from a `Latin Capital A" (U+0041) with a "Combining Grave Accent" (U+0300). That means even though the two sequences produce the same resulting character, a byte-by-byte comparison will show them as being completely different.Normalization is an attempt at dealing with that. Normalizing assures (or at least tries to) that all the characters are encoded the same way -- either all using a separate combining diacritical mark where needed, or all using a single code point wherever possible. From a viewpoint of comparison, it doesn't really matter a whole lot which you choose -- pretty much any normalized string will compare properly with another normalized string.In this case, "compatibility" means compatibility with code that assumes that one code point equals one character. If you have code like that, you probably want to use the compatibility normal form. Although I've never seen it stated directly, the names of the normal forms imply that the Unicode consortium considers it preferable to use separate combining diacritical marks. This requires more intelligence to count the actual characters in a string (as well as things like breaking a string intelligently), but is more versatile.If you're making full use of ICU, chances are that you want to use the canonical normal form. If you're trying to write code on your own that (for example) assumes a code point equals a character, then you probably want the compatibility normal form that makes that true as often as possible.If two unicode strings are canonically equivalent the strings are really the same, only using different unicode sequences. For example Ä can be represented either using the character Ä or a combination of A and ◌̈.If the strings are only compatibility equivalent the strings aren't necessarily the same, but they may be the same in some contexts. E.g. ﬀ could be considered same as ff.So, if you are comparing strings you should use canonical equivalence, because compatibility equivalence isn't real equivalence.But if you want to sort a set of strings it might make sense to use compatibility equivalence as the are nearly identical.Whether canonical equivalence or compatibility equivalence is more relevant to you depends on your application. The ASCII way of thinking about string comparisons roughly maps to canonical equivalence, but Unicode represents a lot of languages. I don't think it is safe to assume that Unicode encodes all languages in a way that allows you to treat them just like western european ASCII.Figures 1 and 2 provide good examples of the two types of equivalence. Under compatibility equivalence, it looks like the same number in sub- and super- script form would compare equal. But I'm not sure that solve the same problem that as the cursive arabic form or the rotated characters.The hard truth of Unicode text processing is that you have to think deeply about your application's text processing requirements, and then address them as well as you can with the available tools. That doesn't directly address your question, but a more detailed answer would require linguistic experts for each of the languages you expect to support.This is actually fairly simple.  UTF-8 actually has several different representations of the same "character". (I use character in quotes since byte-wise they are different, but practically they are the same).  An example is given in the linked document.The character "Ç" can be represented as the byte sequence 0xc387.  But it can also be represented by a C (0x43) followed by the byte sequence 0xcca7.  So you can say that 0xc387 and 0x43cca7 are the same character.  The reason that works, is that 0xcca7 is a combining mark; that is to say it takes the character before it (a C here), and modifies it.Now, as far as the difference between canonical equivalence vs compatibility equivalence, we need to look at characters in general.  There are 2 types of characters, those that convey meaning through the value, and those that take another character and alter it.  9 is a meaningful character.  A super-script ⁹ takes that meaning and alters it by presentation.  So canonically they have different meanings, but they still represent the base character.  Canonical equivalence is where the byte sequence is rendering the same character with the same meaning.  Compatibility equivalence is when the byte sequence is rendering a different character with the same base meaning (even though it may be altered).  The 9 and ⁹ are compatibility equivalent since they both mean "9", but are not canonically equivalent since they don't have the same representation.The problem of compare strings:  two strings with content that is equivalent for the purposes of most applications may contain differing character sequences.See Unicode's canonical equivalence: if the comparison algorithm is simple (or must be fast), the Unicode equivalence is not performed.  This problem occurs, for instance, in XML canonical comparison, see  http://www.w3.org/TR/xml-c14nTo avoid this problem... What standard to use? "expanded UTF8" or "compact UTF8"?

Use "ç" or  "c+◌̧."?W3C and others (ex. file names) suggest to use the "composed as canonical" (take in mind C of "most compact" shorter strings)... So, For interoperability, and for "convention over configuration" choices,  the  recommendation is the use of NFC, to "canonize" external strings. To store canonical XML, for example, store it in the "FORM_C".  The W3C's CSV on the Web Working Group also recomend NFC (section 7.2).PS: de "FORM_C" is the default form in most of libraries. Ex. in PHP's normalizer.isnormalized().Ther term "compostion form" (FORM_C) is used to both, to say that "a string is in the C-canonical form" (the result of a NFC transformation) and to say that a transforming algorithm is used... See http://www.macchiato.com/unicode/nfc-faqNote: to test of normalization of little strings (pure UTF-8 or XML-entity references), you can use this test/normalize online converter.

Print newline in PHP in single quotes

Matt

[Print newline in PHP in single quotes](https://stackoverflow.com/questions/2531969/print-newline-in-php-in-single-quotes)

I try to use single quotes as much as possible and I've noticed that I can't use \n in single quotes. I know I can just enter a newline literally by pressing return, but that screws up the indentation of my code.Is there some ASCII character or something that I can type that will produce newline when I'm using single quotes?

2010-03-28 05:15:07Z

I try to use single quotes as much as possible and I've noticed that I can't use \n in single quotes. I know I can just enter a newline literally by pressing return, but that screws up the indentation of my code.Is there some ASCII character or something that I can type that will produce newline when I'm using single quotes?No, because single-quotes even inhibit hex code replacement.Use the constant PHP_EOL then it is OS independent too.If you are echoing to a browser, you can use <br/> with your statement:FYI it is possible to get newlines into strings without double quotes:Which may be useful If your irrational fear of double quotes knows no bounds. Though I fear this cure may be worse than the disease.  There IS a difference on using single VS double quotes in PHPe.g:

1. echo '$var\n';

2. echo "$var\n";We're in the range of millionths of a second, but there IS a difference in performance. I would recommend you to use single quotes whenever possible, even knowing you won't be able to perceive this performance increase. But I'm a paranoid developer when it comes to performance.The only escape sequence you can use in single quotes is for the single quote itself.The only way you could insert a new line into a string created with single quotes is to insert a literal newlineI wonder why no one added the alternative of using the function chr():or, more efficient if you're going to repeat it a million times:This avoids the silly-looking notation of concatenating a single- and double-quoted string.You may want to consider using <<<e.g. More info at: http://php.net/manual/en/language.types.string.phpBtw - Some Coding environments don't know how to handle the above syntax.No, according to documentation, PHP recognize no special symbol in single quotes. And there is no single reason to use single quotes as much as possible in case you have a variable : You can use this:

How can I add additional PHP versions to MAMP

LiveSource

[How can I add additional PHP versions to MAMP](https://stackoverflow.com/questions/16783558/how-can-i-add-additional-php-versions-to-mamp)

The current version of MAMP that I have only has php 5.2.17 and 5.4.4. I need 5.3.X. Is there a way to add additional versions that can be selected in the MAMP interfaces php preferences? This is for the free version of MAMP, not MAMP PRO.Thanks

2013-05-28 03:46:42Z

The current version of MAMP that I have only has php 5.2.17 and 5.4.4. I need 5.3.X. Is there a way to add additional versions that can be selected in the MAMP interfaces php preferences? This is for the free version of MAMP, not MAMP PRO.ThanksFound a quick fix in the MAMP forums.Basically it seems MAMP is only allowing 2 versions of PHP to show up. Quick fix, rename the folders you're not bothered about using, for me this meant adding an "X" to my /Applications/MAMP/bin/php/php5.4.10_X folder. Now 5.2.17 and 5.3.20 show up in the mamp prefs.Done!Edit - if the PHP version you require isn't in the PHP folder, you can download the version you require from http://www.mamp.info/en/downloads/Edit - MAMP don't seem to provide links to the alternative PHP versions on the download page any more. Use WayBackMachine https://web.archive.org/web/20180131074715/http://www.mamp.info/en/downloads/If you need to be able to switch between more than two versions at a time, you can use the following to change the version of PHP manually.MAMP automatically rewrites the following line in your /Applications/MAMP/conf/apache/httpd.conf file when it restarts based on the settings in preferences. You can comment out this line and add the second one to the end of your file:At the bottom of the httpd.conf file, you'll see where additional configurations are loaded from the extra folder. Add this to the bottom of the httpd.conf fileThen create a new file here: /Applications/MAMP/conf/apache/extra/httpd-php.confAfter you have this setup, just uncomment the version of PHP you want to use and restart the servers!Maybe easy like this?Compiled binaries of the PHP interpreter can be found at http://www.mamp.info/en/ downloads/index.html . Drop this downloaded folder into your /Applications/MAMP/bin/php! directory. Close and re-open your MAMP PRO application. Your new PHP version should now appear in the PHP drop down menu. MAMP PRO will only support PHP versions from the downloads page.First stop the Server if its running. Go to "/Applications/MAMP/bin/", rename the PHP Version you don't need (MAMP is only allowed to use 2 PHP Versions), e.g. "_php5.2.17". Now MAMP will use the php versions that are left. Go to the MAMP Manager and then settings, then switch to the php version you need.One problem with this solution I encountered was the httpd process (took me a while to figure that out xD). If you have the httpd process running in the background, then the php switch won't work, until you stop those processes (sometimes MAMP has an awkward problem to stop the server, thats why this process can be still alive). Start your Activity Monitor on your Mac (Shortcut: Press Command+Space and type in activity...), go to the Search Function and type in "httpd", close all those processes. Now you should be able to switch your PHP Version with the MAMP Manager.MAMP takes only two highest versions of the PHP in the following folder

/Application/MAMP/bin/phpAs you can see here highest versions are 7.0.10 and 5.6.25

Now 7.0.10 version is removed and as you can see highest two versions are 

5.6.25 and 5.5.38 as shown in preferencesThe file /Applications/MAMP/bin/mamp/mamp.conf.json holds the MAMP configuration, look for the section:which lists the the php versions which will be displayed in the GUI, obviously you need to have downloaded the PHP version from the MAMP site first and placed it in /Applications/MAMP/bin/php for this to work.

Any way to break if statement in PHP?

Muhammad Usman

[Any way to break if statement in PHP?](https://stackoverflow.com/questions/7468836/any-way-to-break-if-statement-in-php)

Is there any command in PHP to stop executing the current or parent if statement, same as break or break(1) for switch/loop. For examplein the above code PHP will not do echo "test"; and will go to echo "finish";I need this for ifI want to break the if statement above and stop executing echo "yes"; or such codes which are no longer necessary to be executed, there may be or may not be an additional condition, is there way to do this?

2011-09-19 09:29:19Z

Is there any command in PHP to stop executing the current or parent if statement, same as break or break(1) for switch/loop. For examplein the above code PHP will not do echo "test"; and will go to echo "finish";I need this for ifI want to break the if statement above and stop executing echo "yes"; or such codes which are no longer necessary to be executed, there may be or may not be an additional condition, is there way to do this?Don't worry about other users comments, I can understand you, SOMETIMES when developing this "fancy" things are required. If we can break an if, a lot of nested ifs won't be necessary, making the code much more clean and aesthetic.This sample code illustrate that CERTAINS SITUATIONS where breaked if can be much more suitable than a lot of ugly nested ifs... if you haven't faced that certain situation does not mean it doesn't exists.Ugly codeGood looking codeAs @NiematojakTomasz says, the use of goto is an alternative, the bad thing about this is you always need to define the label (point target).Encapsulate your code in a function. You can stop executing a function with return at any time.proper way to do this :After reading some of the comments, I realized that exception handling doesn't always makes sense for normal flow control. For normal control flow it is better to use "If else":You can also save the process return values in variables and then check in the failure/exception blocks which process has failed.Because you can break out of a do/while loop, let us "do" one round. With a while(false) at the end, the condition is never true and will not repeat, again.goto:However, remember goto is not a recommended practice, because it makes the code to be formatted unusually.You could use a do-while(false):as described in http://php.net/manual/en/control-structures.if.php#90073No, there is no way to "break" an if block like you would inside loops.:(

So turn your test into a switch !I wonder why nobody encouraged you to use switch statement since (even if you haven't to many test cases)

Do you think it's too verbose?I would definitely go for it hereTo me Exceptions are meant to raise errors and not really to control execution flaw.

If the break behaviour you are trying to set is not about unexpected error(s), Exception handling is not the right solution here :/.In this way I got what I want.  I use a switch only has a definite case and then use break in case to choose if condition.  The reason why I use the break :  condition1 and condition2 may both satisfy, in that situation only condition1 is applied .IF is selective according the order.No.But how about:Just move the code that is not supposed to be executed to else/elseif branch. I don't really see why would you want to do what you're trying to do.The simple answer is that no, there isn't a way to break from an if statement without completely stopping the execution (via exit). Other solutions won't work for me because I can't change the structure of the if statement, since I'm injecting code into a plugin, like so:Answering to your question whether that is achievable or not, then yes that is achievable using "goto" operator of php. But ethically, its not a good practice to use "goto" and of there is any need to use goto then this means that code need to be reconstructed such that requirement of goto can be removed. According to the sample code you posted above, it can be clearly seen that the code can be reconstructed and the code that is no more required can be either deleted or commented (if possibility is there for use in future).combining your statements, i think this would give you your wished result.

clean and simple, without having too much statements.for the ugly and good looking code, my recomandation would be:somewhere in your normal codei have a simple solution without lot of changes.

the initial statement is so, it seem simple. try code like this.if you want to try without this code, it's simple. and you can back when you want. another solution is comment blocks. 

or simply thinking and try in another separated code and copy paste only the result in your final code.

and if a code is no longer nescessary, in your case, the result can bewith this code, the original statement is completely respected.. :)

and more readable!The simple solution is to comment it out.The added benefit is your not changing your original code and you can date it, initial it and put a reason why.Why the down vote, according to the OP request I think this is a perfectly valid solution."I want to [break the if statement above and] stop executing echo "yes"; or such codes which are no longer necessary to be executed, there may be or may not be an additional condition, is there way to do this?"In fact someone could look at some of the other solutions, a year latter and wonder what is going on there.  As per my suggestion, one could leave good documentation for future reference, which is always good practice. you can use the statement 'die' e.g in this case what you want to do does not make sense logically. What about using ternary operator?Which is identical to this if/else statement:To completely stop the rest of the script from running you can just doexit; //In place of break. The rest of the code will not executeI'm late to the party but I wanted to contribute. I'm surprised that nobody suggested exit(). It's good for testing. I use it all the time and works like charm. The code will stop at exit() and everything after will not run. ResultIt works with foreach() and while() as well. It works anywhere you place it really.ResultUse it with a forloop()ResultIn a normal case scenarioResult

PHP passing $_GET in linux command prompt

Patrick

[PHP passing $_GET in linux command prompt](https://stackoverflow.com/questions/4186392/php-passing-get-in-linux-command-prompt)

Say we usually access via How do we execute the same in linux command prompt?But what about passing the $_GET variables? Maybe something like php -e index.php --a 1 --b 2 --c 3? Doubt that'll work.Thank you!

2010-11-15 16:18:30Z

Say we usually access via How do we execute the same in linux command prompt?But what about passing the $_GET variables? Maybe something like php -e index.php --a 1 --b 2 --c 3? Doubt that'll work.Thank you!Typically, for passing arguments to a command line script, you will use either argv global variable or getopt:$_GET refers to the HTTP GET method parameters, which are unavailable in command line, since they require a web server to populate.If you really want to populate $_GET anyway, you can do this:You can also execute a given script, populate $_GET from the command line, without having to modify said script:Note that you can do the same with $_POST and $_COOKIE as well.From this answer on ServerFault:Use the php-cgi binary instead of just php, and pass the arguments on the command line, like this:Which puts this in $_GET:You can also set environment variables that would be set by the web server, like this:I don't have a php-cgi binary on Ubuntu, so I did this:Sometimes you don't have the option of editing the php file to set $_GET to the parameters passed in, and sometimes you can't or don't want to install php-cgi.I found this to be the best solution for that case:This avoids altering your php file and lets you use the plain php command. If you have php-cgi installed, by all means use that, but this is the next best thing. Thought this options was worthy of mentionthe -r means run the php code in the string following. you set the $_GET value manually there, and then reference the file you want to run. Its worth noting you should run this in the right folder, often but not always the folder the php file is in. Requires statements will use the location of your command to resolve relative urls, NOT the location of the fileThen set your $_GET variables on your first line in PHP, although this is not the desired way of setting a $_GET variable and you may experience problems depending on what you do later with that variable.the variables you launch the script with will be accessible from the $argv array in your PHP app.  the first entry will the name of the script they came from, so you may want to do  an array_shift($argv) to drop that first entry if you want to process a bunch of variables. Or just load into a local variable.Try using WGET:-- Option 1: php-cgi --Use 'php-cgi' in place of 'php' to run your script. This is the simplest way as you won't need to specially modify your php code to work with it:-- Option 2: if you have a web server --If the php file is on a web server you can use 'wget' on the command line:OR: -- Accessing the variables in php --In both option 1 & 2 you access these parameters like this:If you need to pass $_GET, $_REQUEST, $_POST, or anything else you can also use PHP interactive mode:Then type:This will manually set any variables you want and then run your php file with those variables set.If you have the possibility to edit the PHP script, you can artificially populate $_GET array using the following code at the beginning of the script and then call the script with the syntax: php -f script.php name1=value1 name2=value2At the command line paste the followingI just pass them like this:works just fine, the $_GET array is:php -r 'parse_str($argv[2],$_GET);include $argv[1];' index.php  'a=1&b=2'You could make the first part as an alias: alias php-get='php -r '\''parse_str($argv[2],$_GET);include $argv[1];'\'then simply use:php-get some_script.php 'a=1&b=2&c=3'or just (if you have LYNX):

Stop caching for PHP 5.5.3 in MAMP

Daron Spence

[Stop caching for PHP 5.5.3 in MAMP](https://stackoverflow.com/questions/19073270/stop-caching-for-php-5-5-3-in-mamp)

Installed MAMP on a new Macbook with PHP 5.5.3.Reload and refresh do nothing. Still nothing. Google around for a few minutes trying to find out what is wrong, come back and refresh. It works. What the heck? I went into php.ini and disabled all the new OPcache and set the default cache time to 0. Added headers to the document to force no caching. Still same problem. What the heck is going on here?The network tab is showing a HTTP 200 request, so any new HTML in the index.php file renders fine, but new PHP that needs to be rendered by the server is delayed and not rendered until some predetermined set of time passes that I don't know how to change. What's going on?I checked this in Safari too so it is definitely a server thing that is keeping the file from rendering.Interesting fact though, if I go into MAMP and change the PHP version to the old one (PHP 5.2 or something) it will render normally, with no "caching issues". Switch to PHP 5.5 and it hangs up. In the MAMP preferences caching options for 5.5 don't even exist and are automatically disabled.

2013-09-29 00:42:00Z

Installed MAMP on a new Macbook with PHP 5.5.3.Reload and refresh do nothing. Still nothing. Google around for a few minutes trying to find out what is wrong, come back and refresh. It works. What the heck? I went into php.ini and disabled all the new OPcache and set the default cache time to 0. Added headers to the document to force no caching. Still same problem. What the heck is going on here?The network tab is showing a HTTP 200 request, so any new HTML in the index.php file renders fine, but new PHP that needs to be rendered by the server is delayed and not rendered until some predetermined set of time passes that I don't know how to change. What's going on?I checked this in Safari too so it is definitely a server thing that is keeping the file from rendering.Interesting fact though, if I go into MAMP and change the PHP version to the old one (PHP 5.2 or something) it will render normally, with no "caching issues". Switch to PHP 5.5 and it hangs up. In the MAMP preferences caching options for 5.5 don't even exist and are automatically disabled.Disable OPCacheMAMP now turns on OPCache by default, you can disable it by editing your php.ini file. Make sure you edit the correct php.ini.I was running into the same problem myself. MAMP with PHP version 5.5.3 runs OPcache by default, but you can't turn it off in the GUI like you can with the older PHP version 5.2.17. You have to manually comment out all the OPcache lines at the end of the php.ini file (MAMP/bin/php/[version]/conf/php.ini) and make sure to stop and start the servers for the changes to take effect.I updated the URI, the changes can be reflective by also changing /conf/ under the php folder, but it seems MAMP will ignore these after restart.I added opcache_reset(); in my main PHP to stop this caching.Removing it from php5.5.3/conf/php.ini did nothing for me. EditTurns out there also is a /Applications/MAMP/bin/php/php5.5.3/conf/php.ini. It

works if I comment it out there.1) in /Applications/MAMP/bin/php/php5.5.3/conf/php.ini 

2) set opcache.revalidate_freq=0

3) restart MAMPTook me so long to figure out it was a MAMP problem! Why would OPcache be enabled by default-- and require php.ini tinkering to disable-- in an app that's supposed to be used for testing websites? Anyway, I read through this whole thread and tried the various solutions.Here are my notes on how each solution works and considerations for selecting a solution.Each solution works on its own; no need for redundancy.Important: Use the php.ini file in /Applications/MAMP/bin/php/php5.5.3/conf/php.ini and not in

/Applications/MAMP/conf/php5.5.3/php.ini. Adjust accordingly if you're using a different version of PHP.Choose the webpage code solution if:Choose a server configuration solution if:I personally prefer enable=0 since it's the simplest solution for me, and I need caching disabled by default.It looks like this is finally a GUI option. MAMP 3.0.7.2 for Mac OS X.It was painful spending around 1 hour trying to figure out what could it be.I just added this at the end of the code and restart MAMP.Edit "/Applications/MAMP/conf/php5.5.3/php.ini", and search for [OPcache] and add this code under it directly:This will disable opcache in when use PHP in MAMP server.Oh man am I glad I found this thread! I was pulling my hair out! I just upgraded MAMP yesterday and didn't notice this caching issue until today while working on a project. Thought I was losing my mind. 

I just changed "/Applications/MAMP/conf/php5.5.3/php.ini" very bottom of file opcache.enable=0This is also current in the Windows version of MAMP as well.It's listed at the very bottom of the file.The other problem I found, was on a QNAP NAS TS-431. This caching is also enabled, and if you are working with dynamically changing files, or try to develop on it, you'll be ripping out your hair. As per the other comments, just comment it out. The setting is located in:Once again, you'll find the settings at the bottom of the file.

How to generate .json file with PHP?

Egglabs

[How to generate .json file with PHP?](https://stackoverflow.com/questions/2467945/how-to-generate-json-file-with-php)

json.php codeI have to generate results.json file.

2010-03-18 06:39:36Z

json.php codeI have to generate results.json file.Here is a sample code:Use this:You have to create the myfile.json before you run the script.Insert your fetched values into an array instead of echoing. Use file_put_contents() and insert json_encode($rows) into that file, if $rows is your data. Use PHP's json methods to create the json then write it to a file with fwrite.You can simply use json_encode function of php and save file with file handling functions such as fopen and fwrite.If you're pulling dynamic records it's better to have 1 php file that creates a json representation and not create a file each time. my_json.phpThen in your script set the path to the file my_json.phpHere i have mentioned the simple syntex for create json file and print the array value inside the json file in pretty manner.Hope it will works for you....First, you need to decode it :Then change the data :Then re-encode it and save it back in the file:copy

Best way to give a variable a default value (simulate Perl ||, ||= )

Tom Auger

[Best way to give a variable a default value (simulate Perl ||, ||= )](https://stackoverflow.com/questions/5972516/best-way-to-give-a-variable-a-default-value-simulate-perl)

I love doing this sort of thing in Perl: $foo = $bar || $baz to assign $baz to $foo if $bar is empty or undefined. You also have $foo ||= $bletch which will only assign $bletch to $foo if $foo is not defined or empty.The ternary operator in this situation is tedious and tiresome. Surely there's a simple, elegant method available in PHP?Or is the only answer a custom function that uses isset()? 

2011-05-12 01:50:20Z

I love doing this sort of thing in Perl: $foo = $bar || $baz to assign $baz to $foo if $bar is empty or undefined. You also have $foo ||= $bletch which will only assign $bletch to $foo if $foo is not defined or empty.The ternary operator in this situation is tedious and tiresome. Surely there's a simple, elegant method available in PHP?Or is the only answer a custom function that uses isset()? In PHP 7 we finally have a way to do this elegantly. It is called the Null coalescing operator. You can use it like this:This is equivalent toPHP 5.3 has a shorthand ?: operator:Which assigns $bar if it's not an empty value (I don't know how this would be different in PHP from Perl), otherwise $baz, and is the same as this in Perl and older versions of PHP:But PHP does not have a compound assignment operator for this (that is, no equivalent of Perl's ||=).Also, PHP will make noise if $bar isn't set unless you turn notices off. There is also a semantic difference between isset() and empty(). The former returns false if the variable doesn't exist, or is set to NULL. The latter returns true if it doesn't exist, or is set to 0, '', false or NULL.Thanks for all the great answers!For anyone else coming here for a possible alternative, here are some functions that help take the tedium out of this sort of thing.Examples:I'm sure these can be improved upon.A common idiom to stay compatible with older PHP versions is:This works for values that can be evaluated in boolean context. The advantage here is that it also gives you said debug e_notice should the variable be undefined.In PHP earlier than 7.*, one may use ?: for an undefined variable having errors locally suppressed with an @:this is another good format for the isset caseisset($foo) || $foo= $bar;another simple way and will give you more control as you can add more conditions and assign to another variable in the same time$foo = (isset($oData['foo']))?$bar['foo']:'default value';

Best practice: PHP Magic Methods __set and __get [duplicate]

rfc1484

[Best practice: PHP Magic Methods __set and __get [duplicate]](https://stackoverflow.com/questions/6184337/best-practice-php-magic-methods-set-and-get)

These are simple examples, but imagine you have more properties than two in your class.What would be best practice?a) Using __get and __setb) Using traditional setters and gettersIn this article: http://blog.webspecies.co.uk/2011-05-23/the-new-era-of-php-frameworks.htmlThe author claims that using magic methods is not a good idea: But I would like to hear more opinions about this.

2011-05-31 07:34:31Z

These are simple examples, but imagine you have more properties than two in your class.What would be best practice?a) Using __get and __setb) Using traditional setters and gettersIn this article: http://blog.webspecies.co.uk/2011-05-23/the-new-era-of-php-frameworks.htmlThe author claims that using magic methods is not a good idea: But I would like to hear more opinions about this.I have been exactly in your case in the past. And I went for magic methods.This was a mistake, the last part of your question says it all :Finally, and this is the biggest problem IMO : this is magic. And magic is very very bad, because you have to know how the magic works to use it properly. That's a problem I've met in a team: everybody has to understand the magic, not just you.Getters and setters are a pain to write (I hate them) but they are worth it.You only need to use magic if the object is indeed "magical". If you have a classic object with fixed properties then use setters and getters, they work fine.If your object have dynamic properties for example it is part of a database abstraction layer, and its parameters are set at runtime then you indeed need the magic methods for convenience.I use __get (and public properties) as much as possible, because they make code much more readable. Compare:this code unequivocally says what i'm doing:this code makes me feel stupid, which i don't enjoy:The difference between the two is particularly obvious when you access multiple properties at once.andWhether $a->b should really do something or just return a value is the responsibility of the callee. For the caller, $user->name and $user->accountBalance should look the same, although the latter may involve complicated calculations. In my data classes i use the following small method:when someone calls $obj->xxx and the class has get_xxx defined, this method will be implicitly called. So you can define a getter if you need it, while keeping your interface uniform and transparent. As an additional bonus this provides an elegant way to memorize calculations:Bottom line: php is a dynamic scripting language, use it that way, don't pretend you're doing Java or C#.I do a mix of edem's answer and your second code. This way, I have the benefits of common getter/setters (code completion in your IDE), ease of coding if I want, exceptions due to inexistent properties (great for discovering typos: $foo->naem instead of $foo->name), read only properties and compound properties.I vote for a third solution. I use this in my projects and Symfony uses something like this too:This way you have automated getters (you can write setters too), and you only have to write new methods if there is a special case for a member variable.You should use stdClass if you want magic members, if you write a class - define what it contains.The best practice would be to use traditionnal getters and setters, because of introspection or reflection. There is a way in PHP (exactly like in Java) to obtain the name of a method or of all methods. Such a thing would return "__get" in the first case and "getFirstField", "getSecondField" in the second (plus setters).More on that: http://php.net/manual/en/book.reflection.phpI am now returning to setters and getters but I am also putting the getters and setters in the magic methos __get and __set. This way I have a default behavior when I do thisThis will just call the getter I have set in the __get. Normally I will just use the getter directly but there are still some instances where this is just simpler.Second code example is much more proper way to do this because you are taking full control of data which are given to class. 

There are cases in which the __set and __get are useful but not in this case.

jQuery UI Sortable, then write order into a database

Harry

[jQuery UI Sortable, then write order into a database](https://stackoverflow.com/questions/15633341/jquery-ui-sortable-then-write-order-into-a-database)

I want to use the jQuery UI sortable function to allow users to set an order and then on change, write it to the database and update it. Can someone write an example on how this would be done?

2013-03-26 09:22:27Z

I want to use the jQuery UI sortable function to allow users to set an order and then on change, write it to the database and update it. Can someone write an example on how this would be done?The jQuery UI sortable feature includes a serialize method to do this. It's quite simple, really. Here's a quick example that sends the data to the specified URL as soon as an element has changes position.What this does is that it creates an array of the elements using the elements id. So, I usually do something like this:When you use the serialize option, it will create a POST query string like this: item[]=1&item[]=2 etc. So if you make use - for example - your database IDs in the id attribute, you can then simply iterate through the POSTed array and update the elements' positions accordingly.For example, in PHP:Example on jsFiddle.Thought this might help as well. A) it was designed to keep payload to its minimum while sending back to server, after each sort. (instead of sending all elements each time or iterating through many elements that server might chuck out) B) I needed to send back custom id without compromising the id / name of the element. This code will get the list from asp.net server and then upon sorting only 2 values will be sent back: The db id of sorted element and db id of the element next to which it was dropped. Based on those 2 values, server can easily identify the new postion.You're in luck, I use the exact thing in my CMSWhen you want to store the order, just call the JavaScript method saveOrder(). It will make an AJAX POST request to saveorder.php, but of course you could always post it as a regular form.In saveorder.php; Keep in mind I removed all verification and checking.This is my example.https://github.com/luisnicg/jQuery-Sortable-and-PHPYou need to catch the order in the update eventI can change the rows by following the accepted answer and associated example on jsFiddle. But due to some unknown reasons, I couldn't get the ids after "stop or change" actions. But the example posted in the JQuery UI page works fine for me. You can check that link here.Try with this solution: http://phppot.com/php/sorting-mysql-row-order-using-jquery/

where new order is saved in some HMTL element.

Then you submit the form with this data to some PHP script,

and iterate trough it with for loop.Note: I had to add another db field of type INT(11) which is updated(timestamp'ed) on each iteration - it serves for script to know which row is recenty updated, or else you end up with scrambled results.

How to comment in laravel .env file?

Akshay Khale

[How to comment in laravel .env file?](https://stackoverflow.com/questions/32368016/how-to-comment-in-laravel-env-file)

I am working on a project in Laravel where I am storing some settings in .env file setting like few parameters for testing purpose and few parameters are for live working so I was just checking that is there any way to comment in .env file of Laravel.Here is an example

2015-09-03 06:01:15Z

I am working on a project in Laravel where I am storing some settings in .env file setting like few parameters for testing purpose and few parameters are for live working so I was just checking that is there any way to comment in .env file of Laravel.Here is an exampleYou use hash commenting:Documentation: https://github.com/vlucas/phpdotenv#commentsPlease note that as of Laravel 5.8 comment parsing in values has changed.In Laravel 5.7 an .env file containing ENV_VALUE=foo#bar would evaluate to foo#bar.In Laravel 5.8 the same .env file would evaluate to foo instead, with #bar being seen as a comment. To use the # character in a value, double quote the entire value like so ENV_VALUE="foo#bar".

Store print_r result into a variable as a string or text

aWebDeveloper

[Store print_r result into a variable as a string or text](https://stackoverflow.com/questions/9325067/store-print-r-result-into-a-variable-as-a-string-or-text)

If I use print_r or var_dump it displays the result on the screen, but I want this data to be stored in a variable so that I can write it to a file.How do I do this?

2012-02-17 08:29:06Z

If I use print_r or var_dump it displays the result on the screen, but I want this data to be stored in a variable so that I can write it to a file.How do I do this?You must add true into print_r.What you do while you print or dump? Basically you send your data (result or anything) to Show it on screen. Keep your mind clear that its not saved, it is just displayed, 

To save the data , so a simple thing, just declare a variable and assign the data to it..for example you are printing some array like this..to save this, you just have to add an option , set Return to TRUE and assign it to a variable if you need some more information, Follow thishoping this will help you understanding the conceptit works.

Is there a MySQL command to convert a string to lowercase?

Thomas Owens

[Is there a MySQL command to convert a string to lowercase?](https://stackoverflow.com/questions/221774/is-there-a-mysql-command-to-convert-a-string-to-lowercase)

I have a MySQL database of keywords that are presently mixed-case. However, I want to convert them all to lowercase. Is there an easy command to do this, either using MySQL or MySQL and PHP?

2008-10-21 13:01:20Z

I have a MySQL database of keywords that are presently mixed-case. However, I want to convert them all to lowercase. Is there an easy command to do this, either using MySQL or MySQL and PHP?Yes, the function is LOWER() or LCASE() (they both do the same thing).For example:SELECT LOWER(foo) AS foo FROM barYou can use the functions LOWER() or LCASE().These can be used both on columns or string literals.  e.g.orLCASE() can be substituted for LOWER() in both examples.Did you try looking it up? Google, manual...http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_lowerSimply use:or  Both functions will work the same.Interesting to note that the field name is renamed and if you reference it in a function, you will not get its value unless you give him an alias (that can be its own name)Example: I use a function to dynamically get a field name value:my query being:

    SELECT LOWER(itemID), … etc..needed to be changed to:

    SELECT LOWER(itemID) as itemID, … etc..use LOWER function to convert data or string in lower case.orI believe in php you can useso you could make a php to read all the entries in the table then use that command to print them back as lower case

How can I set the PHP version in PHPStorm?

Fluffy

[How can I set the PHP version in PHPStorm?](https://stackoverflow.com/questions/4122585/how-can-i-set-the-php-version-in-phpstorm)

Is it possible to set the PHP version value, say 4.0+ and have PHPStorm highlight functions that wouldn't work with the oldest version? For example, for PHP4 this should highlight static function etc. I have a PHP installation on my PC but I don't want to install an older PHP version for every small script I have to produce. Thanks

2010-11-08 09:29:38Z

Is it possible to set the PHP version value, say 4.0+ and have PHPStorm highlight functions that wouldn't work with the oldest version? For example, for PHP4 this should highlight static function etc. I have a PHP installation on my PC but I don't want to install an older PHP version for every small script I have to produce. Thanksso, you mean to highlight all pieces of code that will not work with the PHP version you are writing it in, right? That can be done here:Or with newer versions of PhpStorm:then select your PHP version, for example, 7.0This is very useful when your local system runs PHP 7.0, for example, but production is running PHP 5.5. That way phpstorm will warn you which parts will not work in production.In case your field is disabled.Probably your settings "Synchronize IDE settings with composer.json" is enabledYou may change your PHP version in composer.json fileOR disable your settings in this path*If you change your composer.json file - 

As Félix Gagnon-Grenier commented,

   Keep in mind  it has effects on the way packages will be required laterOpen the Settings dialog box by choosing File | Settings, then click PHP under Languages & Frameworks. The PHP page opens.Now you can do 2 things:You can use Alejandro Moreno's answer, but sometimes you might not be able to change PHP level from closed dropdown.You can disable "Synchronize IDE settings with composer.json" checkbox from:File -> Settings -> Languages & Frameworks -> PHP -> ComposerAnd after applying again openFile -> Settings -> Languages & Frameworks -> PHPHere You can change PHP level from opened dropdown.On Mac, it is under PHPStorm, Preferences, Languages & Frameworks, PHPYou can set this per project, as outlined by @Alejandro Moreno.There is also a global setting, that allows you to set the PHP Language Level for all NEW projects.File --> Preferences for New Projects --> Languages & Frameworks --> PHPHere you can set the desired level for all future projects :-)in picture ..........................INMy composer PHP version is synchronized to the phpstorm , so to explicitly choose the php language level from the setting, check that the option in the picture bellow is disabled. just like @mohammed my composer PHP version was synchronized to my phpstorm. so all i did was to update my composer.json php version number and it affected the whole project.dont forget to composer update and php artisan config:clearhappy coding!

Warning about `$HTTP_RAW_POST_DATA` being deprecated

rr-

[Warning about `$HTTP_RAW_POST_DATA` being deprecated](https://stackoverflow.com/questions/26261001/warning-about-http-raw-post-data-being-deprecated)

I switched to PHP 5.6.0 and now I get the following warning everywhere:Fine, I rely on some deprecated feature. Except that I don't!I don't want to "avoid the warning" by setting this value to -1. This will just hide the warning, and I'll still have deprecated configuration. I want to solve the problem at its source and know why PHP thinks that HTTP_RAW_POST_DATA populating is turned on.

2014-10-08 15:41:39Z

I switched to PHP 5.6.0 and now I get the following warning everywhere:Fine, I rely on some deprecated feature. Except that I don't!I don't want to "avoid the warning" by setting this value to -1. This will just hide the warning, and I'll still have deprecated configuration. I want to solve the problem at its source and know why PHP thinks that HTTP_RAW_POST_DATA populating is turned on.It turns out that my understanding of the error message was wrong. I'd say it features very poor choice of words. Googling around shown me someone else misunderstood the message exactly like I did - see PHP bug #66763.After totally unhelpful "This is the way the RMs wanted it to be." response to that bug by Mike, Tyrael explains that setting it to "-1" doesn't make just the warning to go away. It does the right thing, i.e. it completely disables populating the culprit variable. Turns out that having it set to 0 STILL populates data under some circumstances. Talk about bad design! To cite PHP RFC:So yeah, setting it to -1 not only avoids the warning, like the message said, but it also finally disables populating this variable, which is what I wanted.Been awhile until I came across this error. Put up my answer for anyone who may stumble upon this issue.The error only means that you are sending an empty POST request. This error is commonly found on HTTPRequests with no parameters passed. To avoid this error, you can always add a parameter to the POST without changing the php.ini.Like:I experienced the same issue on nginx server (DigitalOcean) - all I had to do is to log in as root and modify the file /etc/php5/fpm/php.ini.To find the line with the always_populate_raw_post_data I first run grep:That returned the line 704Then simply open php.ini on that line with vi editor:Remove the semi colon to uncomment it and save the file :wqLastly reboot the server and the error went away.you should add or uncomment the property always_populate_raw_post_data in php.ini and set its value to -1. In my case php.ini is located in:C:\wamp64\bin\php\php5.6.25\php.iniFinally restart WAMP (or click restart all services)Uncommenting the     in php.ini ( line# 703 ) and restarting APACHE services help me get rid from the message anywayIf the .htaccess file not avilable create it on root folder and past this line of code.Put this in .htaccess file (tested working well for API)For anyone still strugling with this problem after changing the php.init as the accepted answer suggests. Since the error ocurs when an ajax petition is made via POST without any parameter all you have to do is change the send method to GET.Still an other option if you want to keep the method POST for any reason is to add an empty JSON object to the ajax petititon.I got this error message when sending data from a html form (Post method). All I had to do was change the encoding in the form from "text/plain" to "application/x-www-form-urlencoded" or "multipart/form-data".

The error message was very misleading.Unfortunately, this answer here by @EatOng is not correct. After reading his answer I added a dummy variable to every AJAX request I was firing (even if some of them already had some fields) just to be sure the error never appears.But just now I came across the same damn error from PHP. I double-confirmed that I had sent some POST data (some other fields too along with the dummy variable). PHP version 5.6.25, always_populate_raw_post_data value is set to 0.Also, as I am sending a application/json request, PHP is not populating it to $_POST, rather I have to json_decode() the raw POST request body, accessible by php://input.As the answer by @rr- cites,Because the request method is for sure POST, I guess PHP didn't recognize/like my Content-Type: application/json request (again, why??).OPTION 1:Edit the php.ini file manually and set the culprit variable to -1, as many of the answers here suggest.OPTION 2:This is a PHP 5.6 bug. Upgrade PHP.OPTION 3:As @user9541305 answered here, changing the Content-Type of AJAX request to application/x-www-form-urlencoded or multipart/form-data will make PHP populate the $_POST from the POSTed body (because PHP likes/recognizes those content-type headers!?).OPTION 4: LAST RESORTWell, I did not want to change the Content-Type of AJAX, it would cause a lot of trouble for debugging. (Chrome DevTools nicely views the POSTed variables of JSON requests.)I am developing this thing for a client and cannot ask them to use latest PHP, nor to edit the php.ini file. As a last resort, I will just check if it is set to 0 and if so, edit the php.ini file in my PHP script itself. Of course I will have to ask the user to restart apache. What a shame!Here is a sample code:Well, if there's anyone out there on a shared hosting and with no access to php.ini file, you can set this line of code at the very top of your PHP files:Works more of the same. I hope it saves someone some debugging time :)N.B : IF YOU ARE USING PHPSTORM

I spent an hour trying to solve this problem, thinking that it was my php server problem, So i set 'always_populate_raw_post_data' to '-1' in php.ini and nothing worked.Until i found out that using phpStorm built in server is what causing the problem as detailed in the answer here : Answer by LazyOne Here , So i thought about sharing it.; always_populate_raw_post_data = -1 

in php.init

remove comment of this line .. 

always_populate_raw_post_data = -1

Why does PHP 5.2+ disallow abstract static class methods?

Artem Russakovskii

[Why does PHP 5.2+ disallow abstract static class methods?](https://stackoverflow.com/questions/999066/why-does-php-5-2-disallow-abstract-static-class-methods)

After enabling strict warnings in PHP 5.2, I saw a load of strict standards warnings from a project that was originally written without strict warnings:The function in question belongs to an abstract parent class Program and is declared abstract static because it should be implemented in its child classes, such as TVProgram.I did find references to this change here:My question is: can someone explain in a clear way why there shouldn't be an abstract static function in PHP?

2009-06-16 00:07:03Z

After enabling strict warnings in PHP 5.2, I saw a load of strict standards warnings from a project that was originally written without strict warnings:The function in question belongs to an abstract parent class Program and is declared abstract static because it should be implemented in its child classes, such as TVProgram.I did find references to this change here:My question is: can someone explain in a clear way why there shouldn't be an abstract static function in PHP?static methods belong to the class that declared them. When extending the class, you may create a static method of the same name, but you are not in fact implementing a static abstract method. Same goes for extending any class with static methods. If you extend that class and create a static method of the same signature, you are not actually overriding the superclass's static methodEDIT (Sept. 16th, 2009)

Update on this. Running PHP 5.3, I see abstract static is back, for good or ill. (see http://php.net/lsb for more info)CORRECTION (by philfreo)

abstract static is still not allowed in PHP 5.3, LSB is related but different.It's a long, sad story.When PHP 5.2 first introduced this warning, late static bindings weren't yet in the language. In case you're not familiar with late static bindings, note that code like this doesn't work the way you might expect:Leaving aside the strict mode warning, the code above doesn't work. The self::bar() call in foo() explicitly refers to the bar() method of ParentClass, even when foo() is called as a method of ChildClass. If you try to run this code with strict mode off, you'll see "PHP Fatal error:  Cannot call abstract method ParentClass::bar()".Given this, abstract static methods in PHP 5.2 were useless. The entire point of using an abstract method is that you can write code that calls the method without knowing what implementation it's going to be calling - and then provide different implementations on different child classes. But since PHP 5.2 offers no clean way to write a method of a parent class that calls a static method of the child class on which it is called, this usage of abstract static methods isn't possible. Hence any usage of abstract static in PHP 5.2 is bad code, probably inspired by a misunderstanding of how the self keyword works. It was entirely reasonable to throw a warning over this.But then PHP 5.3 came along added in the ability to refer to the class on which a method was called via the static keyword (unlike the self keyword, which always refers to the class in which the method was defined). If you change self::bar() to static::bar() in my example above, it works fine in PHP 5.3 and above. You can read more about self vs static at New self vs. new static.With the static keyword added, the clear argument for having abstract static throw a warning was gone. Late static bindings' main purpose was to  allow methods defined in a parent class to call static methods that would be defined in child classes; allowing abstract static methods seems reasonable and consistent given the existence late static bindings.You could still, I guess, make a case for keeping the warning. For instance, you could argue that since PHP lets you call static methods of abstract classes, in my example above (even after fixing it by replacing self with static) you're exposing a public method ParentClass::foo() which is broken and that you don't really want to expose. Using a non-static class - that is, making all the methods instance methods and making the children of ParentClass all be singletons or something - would solve this problem, since ParentClass, being abstract, can't be instantiated and so its instance methods can't be called. I think this argument is weak (because I think exposing ParentClass::foo() isn't a big deal and using singletons instead of static classes is often needlessly verbose and ugly), but you might reasonably disagree - it's a somewhat subjective call.So based upon this argument, the PHP devs kept the warning in the language, right?Uh, not exactly.PHP bug report 53081, linked above, called for the warning to be dropped since the addition of the static::foo() construct had made abstract static methods reasonable and useful. Rasmus Lerdorf (creator of PHP) starts off by labelling the request as bogus and goes through a long chain of bad reasoning to try to justify the warning. Then, finally, this exchange takes place:The claim by Rasmus that the code in his example "works fine" is false; as you know, it throws a strict mode warning. I guess he was testing without strict mode turned on. Regardless, a confused Rasmus left the request erroneously closed as "bogus".And that's why the warning is still in the language. This may not be an entirely satisfying explanation - you probably came here hoping there was a rational justification of the warning. Unfortunately, in the real world, sometimes choices are born from mundane mistakes and bad reasoning rather than from rational decision-making. This is simply one of those times.Luckily, the estimable Nikita Popov has removed the warning from the language in PHP 7 as part of PHP RFC: Reclassify E_STRICT notices. Ultimately, sanity has prevailed, and once PHP 7 is released we can all happily use abstract static without receiving this silly warning.There is a very simple work around for this issue, which actually makes sense from a design point of view. As Jonathan wrote:So, as a work around you could do this:And now you enforce that any class subclassing MyFoo implements a getInstance static method, and a public getSomeData method. And if you don't subclass MyFoo, you can still implement iMyFoo to create a class with similar functionality.I know this is old but....Why not just throw an exception the that parent class's static method, that way if you don't override it the exception is caused.I would argue that an abstract class/interface could be seen as a contract between programmers. It deals more with how things should look/ behave like and not implement actual functionality. As seen in php5.0 and 5.1.x it's not a natural law that prevents the php developers from doing it, but the urge to go along with other OO design patterns in other languages. Basically these ideas try to prevent unexpected behavior, if one is already familiar with other languages.I don't see any reason to forbid static abstract functions. The best argument that there is no reason to forbid them is, that they are allowed in Java. 

The questions are: 

- Are the technically feasable? - Yes, since the existed in PHP 5.2 and they exist in Java.

So whe CAN do it. SHOULD we do it?

- Do they make sense? Yes. It makes sense to implement an part of a class and leave another part of a class to the user. It makes sense in non-static functions, why shouldn't it make sense for static functions? One use of static functions are classes where there must not be more than one instance (singletons). For example an encryption engine. It does not need to exist in several instances and there are reasons to prevent this - for example, you have to protect only one part of the memory against intruders. So it makes perfect sense to implement one part of the engine and leave the encryption algorithm to the user. 

This is only one example. If you are accustomed to use static functions you'll find lots more.In php 5.4+ use trait:and in your class put at the beggining: Look into PHP's 'Late Static Binding' issues.  If you're putting static methods on abstract classes, you're probably going to run into it sooner rather than later.  It makes sense that the strict warnings are telling you to avoid using broken language features.

How do you remove an array element in a foreach loop?

ajsie

[How do you remove an array element in a foreach loop?](https://stackoverflow.com/questions/1949259/how-do-you-remove-an-array-element-in-a-foreach-loop)

I want to loop through an array with foreach to check if a value exists. If the value does exist, I want to delete the element which contains it.I have the following code:I don't know how to delete the element once the value is found. How do I delete it?I have to use foreach for this problem. There are probably alternatives to foreach, and you are welcome to share them.

2009-12-22 21:22:44Z

I want to loop through an array with foreach to check if a value exists. If the value does exist, I want to delete the element which contains it.I have the following code:I don't know how to delete the element once the value is found. How do I delete it?I have to use foreach for this problem. There are probably alternatives to foreach, and you are welcome to share them.If you also get the key, you can delete that item like this:A better solution is to use the array_filter function:As the php documentation reads:Instead of doing foreach() loop on the array, it would be faster to use array_search() to find the proper key. On small arrays, I would go with foreach for better readibility, but for bigger arrays, or often executed code, this should be a bit more optimal:The strict comparsion operator !== is needed, because array_search() can return 0 as the index of the $unwantedValue.Also, the above example will remove just the first value $unwantedValue, if the $unwantedValue can occur more then once in the $array, You should use array_keys(), to find all of them:Check http://php.net/manual/en/function.array-search.php for more information.if you have scenario in which you have to remove more then one values from the foreach array in this case you have to pass value by reference in for each:

I try to explain this scenario:in second loop you want to unset first loops entries dont come again in the iteration for performance purpose or else then unset from memory as well because in memory they present and will come in iterations.  There are already answers which are giving light on how to unset. Rather than repeating code in all your classes make function like below and use it in code whenever required. In business logic, sometimes you don't want to expose some properties. Please see below one liner call to removeCall like:As has already been mentioned, you’d want to do a foreach with the key, and unset using the key – but note that mutating an array during iteration is in general a bad idea, though I’m not sure on PHP’s rules on this offhand.

How to get the root dir of the Symfony2 application?

Dawid Ohia

[How to get the root dir of the Symfony2 application?](https://stackoverflow.com/questions/9215753/how-to-get-the-root-dir-of-the-symfony2-application)

What is the best way to get the root app directory from inside the controller? Is it possible to get it outside of the controller?Now I get it by passing it (from parameters) to the service as an argument, like this:Is there a better, simpler way to get this information in Symfony2?

2012-02-09 17:29:59Z

What is the best way to get the root app directory from inside the controller? Is it possible to get it outside of the controller?Now I get it by passing it (from parameters) to the service as an argument, like this:Is there a better, simpler way to get this information in Symfony2?UPDATE 2018-10-21:As of this week, getRootDir() was deprecated. Please use getProjectDir() instead, as suggested in the comment section by Muzaraf Ali.—-Use this: And if you want the web root:this will work from controller action method...EDIT:

As for the services, I think the way you did it is as clean as possible, although I would pass complete kernel service as an argument... but this will also do the trick...In Symfony 3.3 you can useto get the web/project root.If you are using this path to access parts of the projects which are not code (for example an upload directory, or a SQLite database) then it might be better to turn the path into a parameter, like this:This parameter can be injected everywhere you need it, so you don't have to mess around with paths in your code any more. Also, the parameter can be overridden at deployment time. Finally, every maintaining programmer will have a better idea what you are using it for.Update:

Fixed kernel.root_dir constant usage.You can also use regular expression in addition to this:Since Symfony 3.3 you can use binding, likeAfter that you can use parameter $kernelProjectDir in any controller OR service. Just like

PHP abstract properties

Tamás Pap

[PHP abstract properties](https://stackoverflow.com/questions/7634970/php-abstract-properties)

Is there any way to define abstract class properties in PHP?

2011-10-03 12:28:43Z

Is there any way to define abstract class properties in PHP?There is no such thing as defining a property.You can only declare properties because they are containers of data reserved in memory on initialization. A function on the other hand can be declared (types, name, parameters) without being defined (function body missing) and thus, can be made abstract."Abstract" only indicates that something was declared but not defined and therefore before using it, you need to define it or it becomes useless.No, there is no way to enforce that with the compiler, you'd have to use run-time checks (say, in the constructor) for the $tablename variable, e.g.:To enforce this for all derived classes of Foo_Abstract you would have to make Foo_Abstract's constructor final, preventing overriding.You could declare an abstract getter instead:As stated above, there is no such exact definition.

I, however, use this simple workaround to force the child class to define the "abstract" property:Depending on the context of the property if I want to force declaration of an abstract object property in a child object, I like to use a constant with the static keyword for the property in the abstract object constructor or setter/getter methods.Other than that the child object overrides the parent object property and methods if redefined.

For example if a property is declared as protected in the parent and redefined as public in the child, the resulting property is public. However if the property is declared private in the parent it will remain private and not available to the child.http://www.php.net//manual/en/language.oop5.static.phpAs you could have found out by just testing your code:No, there is not. Properties cannot be declared abstract in PHP.However you can implement a getter/setter function abstract, this might be what you're looking for.Properties aren't implemented (especially public properties), they just exist (or not):I've asked myself the same question today, and I'd like to add my two cents.The reason we would like abstract properties is to make sure that subclasses define them and throw exceptions when they don't. In my specific case, I needed something that could work with statically.Ideally I would like something like this:I ended up with this implementationAs you can see, in A I don't define $prop, but I use it in a static getter. Therefore, the following code worksIn C, on the other hand, I don't define $prop, so I get exceptions:I must call the getProp() method to get the exception and I can't get it on class loading, but it is quite close to the desired behavior, at least in my case.I define getProp() as final to avoid that some smart guy (aka myself in 6 months) is tempted to doThe need for abstract properties can indicate design problems. While many of answers implement kind of Template method pattern and it works, it always looks kind of strange. Let's take a look at the original example:To mark something abstract is to indicate it a must-have thing. Well, a must-have value (in this case) is a required dependency, so it should be passed to the constructor during instantiation:Then if you actually want a more concrete named class you can inherit like so:This can be useful if you use DI container and have to pass different tables for different objects.PHP 7 makes it quite a bit easier for making abstract "properties". Just as above, you will make them by creating abstract functions, but with PHP 7 you can define the return type for that function, which makes things a lot easier when you're building a base class that anyone can extend.if tablename value will never change during the object's lifetime, following will be a simple yet safe implementation.the key here is that the string value 'users' is specified and returned directly in getTablename() in child class implementation. The function mimics a "readonly" property.This is fairly similar to a solution posted earlier on which uses an additional variable. I also like Marco's solution though it can be a bit more complicated.

Show a PDF files in users browser via PHP/Perl

dimassony

[Show a PDF files in users browser via PHP/Perl](https://stackoverflow.com/questions/4679756/show-a-pdf-files-in-users-browser-via-php-perl)

I want to show my users PDF files. The reason why I use cgi to show the pdf is I want to track the clicks for the pdf, and cloak the real location of the saved pdf.I've been searching on the Internet and only found how to show save dialog to the users and creating a pdf, not show the files to the users.What I wanted for is show the users my pdf files, not creating or download the pdf.

Here is what I got form the official php documentation:Also my google-search-result perl code:if you do it on ruby, please say it to me. But I'm not sure if my server support rails.Sorry if my code is too far away from the method to show the pdf, since I don't know anything about pdf processing and how to implement this problem.Lets assume that the users have the Adobe Reader plug-in. So, how to fix my problem?edit : I want to show plain pdf file. My primary purpose: track my pdf files and use some fancy urls.edit : Here's my main php code:edit : Now the code is working. But the loading progress bar (on Adobe Reader X plugin) doesn't shows up. Why? Anyone can help me? Here's my main code:edit : All my problems solved. Here's the final code:Thanks! :)

2011-01-13 11:58:15Z

I want to show my users PDF files. The reason why I use cgi to show the pdf is I want to track the clicks for the pdf, and cloak the real location of the saved pdf.I've been searching on the Internet and only found how to show save dialog to the users and creating a pdf, not show the files to the users.What I wanted for is show the users my pdf files, not creating or download the pdf.

Here is what I got form the official php documentation:Also my google-search-result perl code:if you do it on ruby, please say it to me. But I'm not sure if my server support rails.Sorry if my code is too far away from the method to show the pdf, since I don't know anything about pdf processing and how to implement this problem.Lets assume that the users have the Adobe Reader plug-in. So, how to fix my problem?edit : I want to show plain pdf file. My primary purpose: track my pdf files and use some fancy urls.edit : Here's my main php code:edit : Now the code is working. But the loading progress bar (on Adobe Reader X plugin) doesn't shows up. Why? Anyone can help me? Here's my main code:edit : All my problems solved. Here's the final code:Thanks! :)I assume you want the PDF to display in the browser, rather than forcing a download. If that is the case, try setting the Content-Disposition header with a value of inline.Also remember that this will also be affected by browser settings - some browsers may be configured to always download PDF files or open them in a different application (e.g. Adobe Reader)Tested and works fine. If you want the file to download instead, replacewithYou could modify a PDF renderer such as xpdf or evince to render into a graphics image on your server, and then deliver the image to the user. This is how Google's quick view of PDF files works, they render it locally, then deliver images to the user. No downloaded PDF file, and the source is pretty well obscured. :)The safest way to have a PDF display instead of download seems to be embedding it using an object or iframe element. There are also 3rd party solutions like Google's PDF viewer.See Best Way to Embed PDF in HTML for an overview.There's also DoPDF, a Java based In-browser PDF viewer. I can't speak to its quality but it looks interesting.You can also use fpdf class available at: http://www.fpdf.org.

It gives options for both outputting to a file and displaying on browser.

How to check if an email address exists without sending an email?

php-guy

[How to check if an email address exists without sending an email?](https://stackoverflow.com/questions/565504/how-to-check-if-an-email-address-exists-without-sending-an-email)

I have come across this PHP code to check email address using SMTP without sending an email.Has anyone tried anything similar or does it work for you? Can you tell if an email customer / user enters is correct & exists?

2009-02-19 14:20:43Z

I have come across this PHP code to check email address using SMTP without sending an email.Has anyone tried anything similar or does it work for you? Can you tell if an email customer / user enters is correct & exists?There are two methods you can sometimes use to determine if a recipient actually exists:If the user doesn't exist, you'll get a 5.1.1 DSN. However, just because the email is not rejected, does not mean the user exists. Some server will silently discard requests like this to prevent enumeration of their users. Other servers cannot verify the user and have to accept the message regardless.There is also an antispam technique called greylisting, which will cause the server to reject the address initially, expecting a real SMTP server would attempt a re-delivery some time later. This will mess up attempts to validate the address.Honestly, if you're attempting to validate an address the best approach is to use a simple regex to block obviously invalid addresses, and then send an actual email with a link back to your system that will validate the email was received. This also ensures that they user entered their actual email, not a slight typo that happens to belong to somebody else.Other answers here discuss the various problems with trying to do this.  I thought I'd show how you might try this in case you wanted to learn by doing it yourself.You can connect to an mail server via telnet to ask whether an email address exists.  Here's an example of testing an email address for stackoverflow.com:Lines prefixed with numeric codes are responses from the SMTP server.  I added some blank lines to make it more readable.Many mail servers will not return this information as a means to prevent against email address harvesting by spammers, so you cannot rely on this technique.  However you may have some success at cleaning out some obviously bad email addresses by detecting invalid mail servers, or having recipient addresses rejected as above.Note too that mail servers may blacklist you if you make too many requests of them.In PHP I believe you can use fsockopen, fwrite and fread to perform the above steps programmatically:The general answer is that you can not check if an email address exists event if you send an email to it: it could just go into a black hole.That being said the method described there is quite effective.  It is used in production code in ZoneCheck except that it uses RSET instead of QUIT.Where user interaction with his mailbox is not overcostly many sites actually test that the mail arrive somewhere by sending a secret number that must be sent back to the emitter (either by going to a secret URL or sending back this secret number by email).  Most mailing lists work like that.Not really.....Some server may not check the "rcpt to:"http://www.freesoft.org/CIE/RFC/1123/92.htmDoing so is security risk.....If the server do, you can write a bot to discovery every address on the server....This will fail (amongst other cases) when the target mailserver uses greylisting. Greylisting: SMTP server refuses delivery the first time a previously unknown client connects, allows next time(s); this keeps some percentage of spambots out, while allowing legitimate use - as it is expected that a legitimate mail sender will retry, which is what normal mail transfer agents will do.However, if your code only checks on the server once, a server with greylisting will deny delivery (as your client is connecting for the first time); unless you check again in a little while, you may be incorrectly rejecting valid e-mail addresses.Some issues: "Can you tell if an email customer / user enters is correct & exists?"Actually these are two separate things. It might exist but might not be correct. Sometimes you have to take the user inputs at the face value. There are many ways to defeat the system otherwise.About all you can do is search DNS and ensure the domain that is in the email address has an MX record, other than that there is no reliable way of dealing with this.Some servers may work with the rcpt-to method where you talk to the SMTP server, but it depends entirely on the configuration of the server.  Another issue may be an overloaded server may return a 550 code saying user is unknown, but this is a temporary error, there is a permanent error (451 i think?) that can be returned.  This depends entirely on the configuration of the server.I personally would check for the DNS MX record, then send an email verification if the MX record exists.Although this question is a bit old, this service tip might help users searching for a similar solution checking email addresses beyond syntax validation prior to sending. I have been using this open sourced service for a more in depth validating of emails (checking for mx records on the e-mail address domain etc.) for a few projects with good results. It also checks for common typos witch is quite useful. Demo here.Assuming it's the user's address, some mail servers do allow the SMTP VRFY command to actually verify the email address against its mailboxes.  Most of the major site won't give you much information; the gmail response is "if you try to mail it, we'll try to deliver it" or something clever like that.I think you cannot, there are so many scenarios where even sending an e-mail can fail. Eg. mail server on the user side is temporarily down, mailbox exists but is full so message cannot be delivered, etc.That's probably why so many sites validate a registration after the user confirmed they have received the confirmation e-mail.

Lost connection to MySQL server at 'reading initial communication packet', system error: 0

Rikesh

[Lost connection to MySQL server at 'reading initial communication packet', system error: 0](https://stackoverflow.com/questions/5755819/lost-connection-to-mysql-server-at-reading-initial-communication-packet-syste)

I am getting error:while I am going to connect my db.If I am using localhost everything is working fine.

But when I am using my live IP address like below, it's getting error:

2011-04-22 13:17:03Z

I am getting error:while I am going to connect my db.If I am using localhost everything is working fine.

But when I am using my live IP address like below, it's getting error:Someone here suggests that it might be a firewall problem:Could that be it?Also, someone here suggests that it might be because the MySQL server is bound to the loop-back IP (127.0.0.1 / localhost) which effectively cuts you off from connecting from "outside".If this is the case, you need to upload the script to the webserver (which is probably also running the MySQL server) and keep your server host as 'localhost'Open mysql configuration file named my.cnf and try to find "bind-address", here replace the setting (127.0.0.1 OR localhost) with your live server ip (the ip you are using in mysql_connect function)This will solve the problem definitely.Thanks1) Allow remote connect to MySQL.

Edit file:Comment line:Restart MySQL:2) Create user for remote connection.3) In my case I need to connect remotely from Windows to VirtualBox machine with Ubuntu. So I need to allow port 3306 in iptables:Had this problem when setting up a new slave server. Found it was the slave server IP address was missing from the master server /etc/hosts.allow file. Added the IP address and it let me connect to the master server.Note that I use hosts.allow and hosts.deny to control access. I had this problem and it ended up being the prior sys admin changed the port MySQL was running on. MySQL Workbench was trying to connect to the default 3306 but the server was running on 20300.The problem on my case was MySQL being bind only to the lo on linux.

in order to solve the problem i have edited the my.cnf (found at /etc/mysql/my.cnf) removing the line bind-address=127.0.0.1this allows mysql to bind to any network interfaceThis error occurred to me while trying to connect to the Google Cloud SQL using MySQL Workbench 6.3.After a little research I found that my IP address has been changed by the internet provider and he was not allowed in the Cloud SQL.I authorized it and went back to work.I ran into this exact same error when connecting from MySQL workbench.  Here's how I fixed it.  My /etc/my.cnf configuration file had the bind-address value set to the server's IP address.  This had to be done to setup replication.  Anyway, I solved it by doing two things:e.g. The problem for me was that DNS queries were blocked by the FW within the subnet. The solution was to disable DNS lookups within MySQL.I just set up mysql on a windows box. I got the OP's error when trying to connect with the Navicat MySql client on the same box. I had to specify 127.0.0.1 as the host, and that got it.localhost, or the servers actual ip address both did not work.The error means that it didn't receive a response from the port it expected to find the server on. The causes range from contacting the wrong machine (For one of a number of reasons) to the server not being on the expected port.Check which port your server is bound to in /etc/mysql/my.cnf. Does that correspond to what is in your connect statement. If they match then try connecting with mysql from the server itself and from the command line of the machine where you are running the client. If it works form one place and not another then you may have a firewall / router configuration issue.in my case, I had ALL: ALL in hosts.deny.  Changing this to ALL: PARANOID solved my problem when connecting over sshFor me the config file was found "/etc/mysql/mysql.conf.d/mysqld.cnf" commenting out bind address did the trick.As we can see here:

 Instead of skip-networking the default is now to listen only on

 localhost which is more compatible and is not less secure.The problem was quite stupid for me.I used to get the same issue on AWS EC2 Ubuntu machine (MariaDB is installed locally for the time being), so I tried to make SSH tunneling, and had the same issue. So I tried to ssh tunnel over terminal:And it told me this:I changed ssh user from root to ubuntu, just like my ssh config, and it connected just fine.So check your SSH connecting user.I oversaw this, so this too half an hour of my time, so I hope this will be useful for you.Ran into this same issue, Bind Address back and forth to no avail. Solution for me was flushing privileges. For me setting bind-address = 0.0.0.0 in mysql/my.cnf worked. It basically listens to all addresses (but still one port) then.And don't forget restart your server: systemctl restart mysqlI just had the same problem, but in my case I solved it withI am trying to connect my db docker container on Ubuntu 18.04, same problem. First check your device by run nmcli dev to check if device docker0 is connected.If it is not connected, try to restart docker service:sudo service docker restartWhen connecting to Mysql remotely, I got the error.

I had this warning in /var/log/mysqld.log:I just added this line to /etc/hosts file:Problem solved! Not using skip-name-resolve caused some errors in my local app when connecting to MySQL.I had identical problem. To fix it I just changed host from localhost:3306 to just localhost. So error may acour when You sepcify unproper port for connection. It's better to leave it default. Database directory read-write permission also a problem i found.

Just make sure your application is able to rw files on db location. Try chmod 777 for testing.The apache firewall blocks the ip address. so to give access, use these commands:firewall-cmd --permanent --zone=trusted --add-source=YOUR_IP/32firewall-cmd --permanent --zone=trusted --add-port=3306/tcpfirewall-cmd  --reloadI faced the same problem. I checked and tried to set AllowTcpForwarding Yes but it was missing in my sshd_config so no help.I didn't change sshd_config or my.cnf. Make sure the ssh hostname is NOT the same with the mysql hostname(use localhost).In workbench, choose + to add new connection and set the following:Test connection. It should be successful then hit OK.Viola!One more reason...I ran into an Ubuntu server where everything was customized and could not connect because of that same error.This setting was inside /etc/ssh/sshd_configAfter turning intoI was able to connect remotely to my MySQL DBIf bind-address is not present in your configuration file and mysql is hosted on AWS instance, please check your security group. In ideal conditions, the inbound rules should accept all connection from port 3306 and outbound rule should respond back to all valid IPs.I have done below 3 steps then working for me.I had a similar error (connecting to MYSQL on aws via MYSql Workbench). I used to connect fine before and all of a sudden it stopped working and just wouldn't work again). My connection was via SSH protected by keyfile.Turns out I was timing out. So I increased the SQL connection timeout to 30 secs (from default 10) and was good to go again. things to try (if you're in a similar setup)Limited disk space can cause to this error.Check your disk space Try to increase the space if there are 100% used disks. In my case: I have Vagrant (8.0.1) box (Ubuntu 16.04) My mysql disk capacity was 10GB, I increased it to 20GBThen restart mysqlIn my case it was the university wifi blocking port 3306.  I was able to connect by using a mobile hotspot.Change to a mobile hotspot or another network, and if it works there, then you know that original network is blocking port 3306.  If you get the same error on more than 1 network, then you know it's specific to your machine.

Get first day of week in PHP?

Iggy Ma

[Get first day of week in PHP?](https://stackoverflow.com/questions/1897727/get-first-day-of-week-in-php)

Given a date MM-dd-yyyy format, can someone help me get the first day of the week?

2009-12-13 21:00:58Z

Given a date MM-dd-yyyy format, can someone help me get the first day of the week?Here is what I am using...$day contains a number from 0 to 6 representing the day of the week (Sunday = 0, Monday = 1, etc.).

$week_start contains the date for Sunday of the current week as mm-dd-yyyy.

$week_end contains the date for the Saturday of the current week as mm-dd-yyyy.Replace time(). Next sunday/last monday methods won't work when the current day is sunday/monday.Very simple to use strtotime function:It differs a bit across PHP versions:Relative descriptions like this week have their own context. The following shows the output for this week monday and sunday when it's a monday or a sunday:Againt it differs a bit across PHP versions:Keep it simple :Source : PHP manualThis gives you the day of the week of the given date itself where 0 = Sunday and 6 = Saturday. From there you can simply calculate backwards to the day you want.This question needs a good DateTime answer:-Output:-This will deal with year boundaries and leap years.EDIT: the below link is no longer running on the version of PHP stated. It is running on PHP 5.6 which improves the reliability of strtotime, but isn't perfect! The results in the table are live results from PHP 5.6.For what it's worth, here is a breakdown of the wonky behavior of strtotime when determining a consistent frame of reference:http://gamereplays.org/reference/strtotime.phpBasically only these strings will reliably give you the same date, no matter what day of the week you're currently on when you call them:The following code should work with any custom date, just uses the desired date format. I tested the code with PHP 5.2.17 Results:Assuming Monday as the first day of the week, this works:How about this? This is what I am using to get the first and last day of the week from any date.

In this case, monday is the first day of the week...Here I am considering Sunday as first & Saturday as last day of the week.  Output :Start: 05-08-2012

   End: 11-08-2012  How about this?Just use date($format, strtotime($date,' LAST SUNDAY + 1 DAY'));Try this:(from this forum thread)This is the shortest and most readable solution I found:strtotime is faster than new DateTime()->getTimestamp().Given PHP version pre 5.3 following function gives you a first day of the week of given date (in this case - Sunday, 2013-02-03):You have to get next monday first then get the 'last monday' of next monday. So if the given date is monday it will return the same date not last week monday.If you want Monday as the start of your week, do this:A smart way of doing this is to let PHP handle timezone differences and Daylight Savings Time (DST). Let me show you how to do this.This function will generate all days from Monday until Friday, inclusive (handy for generating work week days):This will return datetimes Monday-Friday for current week. To do the same for an arbitrary date, pass a date as a parameter to DateTimeUtilities ::getPeriodFromMondayUntilFriday, thus:Only interested in Monday, as the OP asked?You parse the date using strptime() and use date() on the result:(Note: MM, dd and yyyy in the Question are not standard php date format syntax - I can't be sure what is meant, so I set the $start_date with ISO year-month-day)Another way to do it....The easiest way to get first day(Monday) of current week is: where 604800 - is count of seconds in 1 week(60*60*24*7).This code get next Monday and decrease it for 1 week. This code will work well in any day of week. Even if today is Monday.I found this quite frustrating given that my timezone is Australian and that strtotime() hates UK dates.If the current day is a Sunday, then strtotime("monday this week") will return the day after.To overcome this:Here's a one liner for the first day of last week, and the last day of last week as a DateTime object.I've come against this question a few times and always surprised the date functions don't make this easier or clearer. Here's my solution for PHP5 that uses the DateTime class:Necessary to clone to avoid altering the original date.What about:Its not the best way but i tested and if i am in this week i get the correct monday, and if i am on a monday i will get that monday.

How to use php serialize() and unserialize()

Istiaque Ahmed

[How to use php serialize() and unserialize()](https://stackoverflow.com/questions/8641889/how-to-use-php-serialize-and-unserialize)

My problem is very basic.I did not find any example to meet my needs as to what exactly serialize() and unserialize() mean in php? They just give an example - serialize an array and show an output in an unexplained format. It is really hard to understand the basic concept going through their jargon.EDIT:output:I cannot understand the second output. Besides that, can anyone give an example of a situation that I need to serialize a php array before using it?

2011-12-27 06:42:17Z

My problem is very basic.I did not find any example to meet my needs as to what exactly serialize() and unserialize() mean in php? They just give an example - serialize an array and show an output in an unexplained format. It is really hard to understand the basic concept going through their jargon.EDIT:output:I cannot understand the second output. Besides that, can anyone give an example of a situation that I need to serialize a php array before using it?A PHP array or object or other complex data structure cannot be transported or stored or otherwise used outside of a running PHP script. If you want to persist such a complex data structure beyond a single run of a script, you need to serialize it. That just means to put the structure into a "lower common denominator" that can be handled by things other than PHP, like databases, text files, sockets. The standard PHP function serialize is just a format to express such a thing, it serializes a data structure into a string representation that's unique to PHP and can be reversed into a PHP object using unserialize. There are many other formats though, like JSON or XML.Take for example this common problem:PHP and Javascript can only communicate via strings. You can pass the string "foo" very easily to Javascript. You can pass the number 1 very easily to Javascript. You can pass the boolean values true and false easily to Javascript. But how do you pass this array to Javascript?The answer is serialization. In case of PHP/Javascript, JSON is actually the better serialization format:Javascript can easily reverse this into an actual Javascript array.This is just as valid a representation of the same data structure though:But pretty much only PHP uses it, there's little support for this format anywhere else.

This is very common and well supported as well though:There are many situations where you need to pass complex data structures around as strings. Serialization, representing arbitrary data structures as strings, solves how to do this.PHP serialize() unserialize() usage http://freeonlinetools24.com/serializeWhich gives you an output something like this again if you want to get the original array back just use PHP unserialize() function I hope this will helpWhen you want to make your php value storable, you have to turn it to be a string value, that is what serialize() does. And unserialize() does the reverse thing.Most storage mediums can store string types. They can not directly store a PHP data structure such as an array or object, and they shouldn't, as that would couple the data storage medium with PHP.Instead, serialize() allows you to store one of these structs as a string. It can be de-serialised from its string representation with unserialize().If you are familiar with json_encode() and json_decode() (and JSON in general), the concept is similar.Run this program its echo the outputyou can use serialize to store array of data in database and can retrieve and UN-serialize data to use.Please! please! please! DO NOT serialize data and place it into your database. Serialize can be used that way, but that's missing the point of a relational database and the datatypes inherent in your database engine. Doing this makes data in your database non-portable, difficult to read, and can complicate queries. If you want your application to be portable to other languages, like let's say you find that you want to use Java for some portion of your app that it makes sense to use Java in, serialization will become a pain in the buttocks. You should always be able to query and modify data in the database without using a third party intermediary tool to manipulate data to be inserted. it makes really difficult to maintain code, code with portability issues, and data that is it more difficult to migrate to other RDMS systems, new schema, etc. It also has the added disadvantage of making it messy to search your database based on one of the fields that you've serialized. That's not to say serialize() is useless. It's not... A good place to use it may be a cache file that contains the result of a data intensive operation, for instance. There are tons of others... Just don't abuse serialize because the next guy who comes along will have a maintenance or migration nightmare.A good example of serialize() and unserialize() could be like this:Unserialize on the pageFrom http://php.net/manual/en/function.serialize.php :Essentially, it takes a php array or object and converts it to a string (which you can then transmit or store as you see fit).Unserialize is used to convert the string back to an object.Basically, when you serialize arrays or objects you simply turn it to a valid string format so that you can easily store them outside of the php script.Note for object you should use  magic __sleep and __wakeup methods.

__sleep is called by serialize(). A sleep method will return an array of the values from the object that you want to persist.__wakeup is called by unserialize(). A wakeup method should take the unserialized values and initialize them in them in the object.For passing data between php and js you would use json_encode to turn php array to valid json format. Or other way round - use JSON.parese() to convert a output data (string) into valid json object. You would want to do that to make use of local storage. (offline data access)Yes, I can. Assume we need to track your system means In your system has more than one admin and subadmin, All of these can insert or update or edit any information.Later you need to know who make this change. For solving this problem you need serialize.I hope this will help you.

How to POST JSON Data With PHP cURL?

user1463076

[How to POST JSON Data With PHP cURL?](https://stackoverflow.com/questions/11079135/how-to-post-json-data-with-php-curl)

Here is my code,And at other page, I am retrieving post data. Output is So, I am not getting proper data even at my own server, it's empty array. I want to implement REST using json as at http://docs.shopify.com/api/customer#create

2012-06-18 08:17:50Z

Here is my code,And at other page, I am retrieving post data. Output is So, I am not getting proper data even at my own server, it's empty array. I want to implement REST using json as at http://docs.shopify.com/api/customer#createYou are POSTing the json incorrectly -- but even if it were correct, you would not be able to test using print_r($_POST) (read why here).  Instead, on your second page, you can nab the incoming request using file_get_contents("php://input"), which will contain the POSTed json.  To view the received data in a more readable format, try this: In your code, you are indicating Content-Type:application/json, but you are not json-encoding all of the POST data -- only the value of the "customer" POST field.  Instead, do something like this:Sidenote: You might benefit from using a third-party library instead of interfacing with the Shopify API directly yourself.This code worked for me. You can try...Replacewith:I dont get what you meant by "other page", I hope it is the page at: 'url_to_post'. If that page is written in PHP, the JSON you just posted above will be read in the below way:Please try this code:-Try this example.Your page2.php codeTry like this:The key thing you've forgotten was to json_encode your data. But you also may find it convenient to use curl_setopt_array to set all curl options at once by passing an array. 

How to [recursively] Zip a directory in PHP?

ed209

[How to [recursively] Zip a directory in PHP?](https://stackoverflow.com/questions/1334613/how-to-recursively-zip-a-directory-in-php)

Directory is something like:I am using the same PHP Zip class used in PHPMyAdmin http://trac.seagullproject.org/browser/branches/0.6-bugfix/lib/other/Zip.php . I'm not sure how to zip a directory rather than just a file. Here's what I have so far:but when I try to unzip the corresponding downloaded zip file I get "operation not permitted"This error only happens when I try to unzip on my mac, when I unzip through the command line the file unzips ok. Do I need to send a specific content type on download, currently 'application/zip'

2009-08-26 13:16:44Z

Directory is something like:I am using the same PHP Zip class used in PHPMyAdmin http://trac.seagullproject.org/browser/branches/0.6-bugfix/lib/other/Zip.php . I'm not sure how to zip a directory rather than just a file. Here's what I have so far:but when I try to unzip the corresponding downloaded zip file I get "operation not permitted"This error only happens when I try to unzip on my mac, when I unzip through the command line the file unzips ok. Do I need to send a specific content type on download, currently 'application/zip'Here is a simple function that can compress any file or directory recursively, only needs the zip extension to be loaded.Call it like this:Yet another recursive directory tree archiving, implemented as an extension to ZipArchive. As a bonus, a single-statement tree compression helper function is included. Optional localname is supported, as in other ZipArchive functions. Error handling code to be added...I've edited Alix Axel's answer to take a third argrument, when setting this third argrument to true all the files will be added under the main directory rather than directly in the zip folder.If the zip file exists the file will be deleted as well.Example:Third argrument true zip structure:Third argrument false or missing zip structure:Edited code:USAGE:  thisfile.php?dir=./path/to/folder (After zipping, it starts download too:)Try this link <-- MORE SOURCE CODE HEREHere Is my code For Zip the folders and its sub folders and its files and make it downloadable in zip FormatIf Any Issue With the Code Let Me know.I needed to run this Zip function in Mac OSXso I would always zip that annoying .DS_Store.I adapted https://stackoverflow.com/users/2019515/user2019515 by including additionalIgnore files.SO to ignore the .DS_Store from zip, you runzipIt('/path/to/folder', '/path/to/compressed.zip', false, array('.DS_Store'));Great solution but for my Windows I need make a modifications. Below the modify codeThis code works for both windows and linux.Here's my version base on Alix's, works on Windows and hopefully on *nix too:Here is the simple, easy to read, recursive function that works very well:Following @user2019515 answer, I needed to handle exclusions to my archive. here is the resulting function with an example.Zip Function :How to use it :

How to get client IP address in Laravel 5+

Amrinder Singh

[How to get client IP address in Laravel 5+](https://stackoverflow.com/questions/33268683/how-to-get-client-ip-address-in-laravel-5)

I am trying to get the client's IP address in Laravel. It is easy to get a client's IP in PHP by using $_SERVER["REMOTE_ADDR"]. It is working fine in core PHP, but when I use the same thing in Laravel,  it returns the server IP instead of the visitor's IP.

2015-10-21 20:32:41Z

I am trying to get the client's IP address in Laravel. It is easy to get a client's IP in PHP by using $_SERVER["REMOTE_ADDR"]. It is working fine in core PHP, but when I use the same thing in Laravel,  it returns the server IP instead of the visitor's IP.Looking at the Laravel API:Internally, it uses the getClientIps method from the Symfony Request Object:Use request()->ip(). From what I understand, since Laravel 5 it's advised/good practice to use the global functions like: And, if anything, when using the functions instead of the static notation my IDE doesn't light up like a Christmas tree.If you are under a load balancer, Laravel's \Request::ip() always returns the balancer's IP:This custom method returns the real client ip:In addition to this I suggest you to be very careful using Laravel's throttle middleware: It uses Laravel's Request::ip() as well, so all your visitors will be identified as the same user and you will hit the throttle limit very quickly. I experienced this live and this caused big issues.To fix this:Illuminate\Http\Request.phpYou can now also use Request::ip(), which should return the real IP in production.Add namespace Then call the function For Laravel 5 you can use the Request object. Just call its ip() method, something like:In Laravel 5There are two things to take care of:If this is your case you need to follow "Configuring Trusted Proxies" or maybe even set a "Trusting All Proxies" option.Why? Because being your server will be getting your proxy/load-balancer IP instead.If you are on the AWS balance-loader, go to App\Http\Middleware\TrustProxies and make $proxies declaration look like this:Now test it and celebrate because you just saved yourself from having trouble with  throttle middleware. It also relies on request()->ip() and without setting "TrustProxies" up, you could have all your users blocked from logging in instead of blocking only the culprit's IP.And because throttle middleware is not explained properly in the documentation, I recommend watching "laravel 5.2 tutorial for beginner, API Rate Limiting"Tested in Laravel 5.7If you are still getting 127.0.0.1 as the IP, you need to add your "proxy", but be aware that you have to change it before going into production!Read "Configuring Trusted Proxies". And add this:Now request()->ip() gives you the correct IP.In Laravel 5.4 we can't call ip static.  This a correct way to get the IP of the user:If you call this function then you easily get the client's IP address.

I have already used this in my existing project:If you want client IP and your server is behind aws elb, then user the following code. Tested for laravel 5.3When we want the user's ip_address:and want to server address:

Make var_dump look pretty

Plummer

[Make var_dump look pretty](https://stackoverflow.com/questions/19816438/make-var-dump-look-pretty)

I have a simple $_GET[] query var set for showing testing data when pulling down queries from the DB.When I do var_dump, as expected it's this big array string that is all smushed together.  Is there a way to add in line breaks at least for this or display the var_dump in a way that's more readable? I'm open to jQuery suggestions on manipulating the string after it's posted.

2013-11-06 15:45:24Z

I have a simple $_GET[] query var set for showing testing data when pulling down queries from the DB.When I do var_dump, as expected it's this big array string that is all smushed together.  Is there a way to add in line breaks at least for this or display the var_dump in a way that's more readable? I'm open to jQuery suggestions on manipulating the string after it's posted.I really love var_export().  If you like copy/paste-able code, try:Or even something like this for color syntax highlighting:Try xdebug extension for php.Example:Outputs:Use preformatted HTML code I have make an addition to @AbraCadaver answers.

I have included a javascript script which will delete php starting and closing tag.

We will have clean more pretty dump.May be somebody like this too.Result before:Result After:Now we don't have php starting and closing tag  If it's "all smushed together" you can often give the ol' "view source code" a try. Sometimes the dumps, messages and exceptions seem like they're just one long string when it turns out that the line breaks simply don't show. Especially XML trees.Alternatively, I've once created a small little tool called InteractiveVarDump for this very purpose. It certainly has its limits but it can also be very convenient sometimes. Even though it was designed with PHP 5 in mind.The best what and easiest way to get nice var_dump is use xDebug (must have for any php dev)

Debian way installIn console: apt-get install php-xdebug

after that you should open php.ini (depends on which stack you use) for it's /etc/php/7.0/fpm/php.iniSearch for display_errorsset same -> display_errors = OnCheck html_errors in same file a little bit below, it's also must be OnSave and exitAfter open /etc/php/7.0/fpm/conf.d/20-xdebug.iniAnd add to the end:

```

xdebug.cli_color=1```

Save and exit.A lot other available option and documentation for xdebug can be founded here.https://xdebug.org/docs/Good luck and Have Fun !!!ResultYou could use this one debugVar() instead of var_dump()Check out: https://github.com/E1NSER/php-debug-functionHere is my function to have a pretty var_dump. Combined with Xdebug, it helps a lot to have a better view of what we are dumping.I improved a bit the display of Xdebug (give some space around, separator between values, wrap long variables, etc).When you call the function, you can set a title, a background, a text color to distinguish all your var_dump in a page.Or not ;)I don't seem to have enough rep to close this as a duplicate, but it is one if someone else can do that.  I posted the same thing over at A more pretty/informative Var_dump alternative in PHP? but for the sake of saving time, I'll copy/paste it here too:I had to add another answer here because I didn't really want to go through the steps in the other solutions. It is extremely simple and requires no extensions, includes etc and is what I prefer. It's very easy and very fast.First just json_encode the variable in question:Copy the result you get into the JSON Editor at http://jsoneditoronline.org/ just copy it into the left side pane, click Copy > and it pretty prints the JSON in a really nice tree format.To each their own, but hopefully this helps some others have one more nice option! :)There is a Symfony package for this: https://symfony.com/doc/current/components/var_dumper.html.I wrote a function (debug_display) which can print, arrays, objects, and file info in pretty way.UseThis should work ^^

Flat file databases [closed]

saint_groceon

[Flat file databases [closed]](https://stackoverflow.com/questions/85/flat-file-databases)

What are the best practices around creating flat file database structures in PHP?A lot of more matured PHP flat file frameworks out there which I attempt to implement SQL-like query syntax which is over the top for my purposes in most cases. (I would just use a database at that point).Are there any elegant tricks out there to get good performance and features with a small code overhead?

2008-08-01 14:19:52Z

What are the best practices around creating flat file database structures in PHP?A lot of more matured PHP flat file frameworks out there which I attempt to implement SQL-like query syntax which is over the top for my purposes in most cases. (I would just use a database at that point).Are there any elegant tricks out there to get good performance and features with a small code overhead?Well, what is the nature of the flat databases.  Are they large or small.  Is it simple arrays with arrays in them?  if its something simple say userprofiles built as such:and to save or update the db record for that user.and to load the record for the userbut again this implementation will vary on the application and nature of the database you need.You might consider SQLite. It's almost as simple as flat files, but you do get a SQL engine for querying. It works well with PHP too.In my opinion, using a "Flat File Database" in the sense you're meaning (and the answer you've accepted) isn't neccesarily the best way to go about things. First of all, using serialize() and unserialize() can cause MAJOR headaches if someone gets in and edits the file (they can, in fact, put arbritrary code in your "database" to be run each time.)Personally, I'd say - why not look to the future? There have been so many times that I've had issues because I've been creating my own "proprietary" files, and the project has exploded to a point where it needs a database, and I'm thinking "you know, I wish I'd written this for a database to start with" - because the refactoring of the code takes way too much time and effort.From this I've learnt that future proofing my application so that when it gets bigger I don't have to go and spend days refactoring is the way to go forward. How do I do this?SQLite. It works as a database, uses SQL, and is pretty easy to change over to mySQL (espescially if you're using abstracted classes for database manipulation like I do!)In fact, espescially with the "accepted answer"'s method, it can drastically cut the memory usage of your app (you don't have to load all the "RECORDS" into PHP)One framework I'm considering would be for a blogging platform. Since just about any possible view of data you would want would be sorted by date, I was thinking about this structure:One directory per content node:Subdirectories of each node including  As well as simple text files in the node directory for pre- and post-rendered content and the like.This would allow a simple PHP glob() call (and probably a reversal of the result array) to query on just about anything within the content structure:Would return paths including all articles tagged "funny".Here's the code we use for Lilina:It stores each entry as a separate file, which we found is efficient enough for use (no unneeded data is loaded and it's faster to save).If you're going to use a flat file to persist data, use XML to structure the data. PHP has a built-in XML parser.If you want a human-readable result, you can also use this type of file :This way, you have only one file, you can debug it (and manually fix) easily, you can add fields later (at the end of each line) and the PHP code is simple (for each line, split according to |).However, the drawbacks is that you should parse the entire file to search something (if you have millions of entry, it's not fine) and you should handle the separator in data (for example if the nick is WaR|ordz).I have written two simple functions designed to store data in a file. You can judge for yourself if it's useful in this case.

The point is to save a php variable (if it's either an array a string or an object) to a file.This one is inspiring as a practical solution:

https://github.com/mhgolkar/FlatFire

It uses multiple strategies to handling data...

[Copied from Readme File]IMHO, you have two options if you want to avoid homebrewing something:Just pointing out a potential problem with a flat file database with this type of system:...etcThe problem is that the cell data contains a "|" or a "\n" then the data will be lost. Sometimes it would be easier to split by combinations of letters that most people wouldn't use.For example:Column splitter: #$% (Shift+345)Row splitter: ^&* (Shift+678)Text file: test data#$%blah blah#$%^&*new row#$%new row data 2Then use: explode("#$%", $data); use foreach, the explode again to separate columnsOr anything along these lines. Also, I might add that flat file databases are good for systems with small amounts of data (ie. less than 20 rows), but become huge memory hogs for larger databases.

Difference between array_push() and $array[] =

l2aelba

[Difference between array_push() and $array[] =](https://stackoverflow.com/questions/14232766/difference-between-array-push-and-array)

In the PHP manual, (array_push) says..For example :vsI don't understand why there is a big difference.

2013-01-09 10:10:03Z

In the PHP manual, (array_push) says..For example :vsI don't understand why there is a big difference.When you call a function in PHP (such as array_push()), there are overheads to the call, as PHP has to look up the function reference, find its position in memory and execute whatever code it defines.Using $arr[] = 'some value'; does not require a function call, and implements the addition straight into the data structure. Thus, when adding a lot of data it is a lot quicker and resource-efficient to use $arr[].You can add more than 1 element in one shot to array using array_push, e.g.  array_push($array_name, $element1, $element2,...)Where $element1, $element2,... are elements to be added to array.But if you want to add only one element at one time, then other method (i.e. using $array_name[]) should be preferred.The difference is in the line below to "because in that way there is no overhead of calling a function."You should always use $array[] if possible because as the box states there is no overhead for the function call. Thus it is a bit faster than the function call.array_push — Push one or more elements onto the end of arrayTake note of the words "one or more elements onto the end"

to do that using $arr[] you would have to get the max size of the arrayexplain:

1.the first one declare the variable in array.2.the second array_push method is used to push the string in the array variable.3.finally it will print the result.4.the second method is directly store the string in the array.5.the data is printed in the array values in using print_r method.this two are sameboth are the same, but array_push makes a loop in it's parameter which is an array and perform $array[]=$elementI know this is an old answer but it might be helpful for others to know that another difference between the two is that if you have to add more than 2/3 values per loop to an array it's faster to use:instead of:edit- Forgot to close the bracket for the for conditionalNo one said, but array_push only pushes a element to the END OF THE ARRAY, where $array[index] can insert a value at any given index. Big difference.

using jquery $.ajax to call a PHP function

Catfish

[using jquery $.ajax to call a PHP function](https://stackoverflow.com/questions/2269307/using-jquery-ajax-to-call-a-php-function)

This may be a simple answer, but I'm using jQuery's $.ajax to call a PHP script. What I want to do is basically put that PHP script inside a function and call the PHP function from javascript. to thisHow would i call that function in javascript? Right now i'm just using $.ajax with the PHP file listed. 

2010-02-15 22:15:57Z

This may be a simple answer, but I'm using jQuery's $.ajax to call a PHP script. What I want to do is basically put that PHP script inside a function and call the PHP function from javascript. to thisHow would i call that function in javascript? Right now i'm just using $.ajax with the PHP file listed. Use $.ajax to call a server context (or URL, or whatever) to invoke a particular 'action'.  What you want is something like:On the server side, the action POST parameter should be read and the corresponding value should point to the method to invoke, e.g.:I believe that's a simple incarnation of the Command pattern.I developed a jQuery plugin that allows you to call any core PHP function or even user defined PHP functions as methods of the plugin: jquery.phpAfter including jquery and jquery.php in the head of our document and placing request_handler.php on our server we would start using the plugin in the manner described below.For ease of use reference the function in a simple manner:Then initialize the plugin:And now some usage scenarios:Demonstrating PHP function chaining:Demonstrating sending a JSON block of PHP pseudo-code:The backend configuration provides a whitelist so you can restrict which functions can be called. There are a few other patterns for working with PHP described by the plugin as well. I would stick with normal approach to call the file directly, but if you really want to call a function, have a look at JSON-RPC (JSON Remote Procedure Call).You basically send a JSON string in a specific format to the server, e.g.which includes the function to call and the parameters of that function.Of course the server has to know how to handle such requests.

Here is jQuery plugin for JSON-RPC and e.g. the Zend JSON Server as server implementation in PHP.This might be overkill for a small project or less functions. Easiest way would be karim's answer. On the other hand, JSON-RPC is a standard.You can't call a PHP function with Javascript, in the same way you can't call arbitrary PHP functions when you load a page (just think of the security implications).If you need to wrap your code in a function for whatever reason, why don't you either put a function call under the function definition, eg:Or, use a PHP include:You are going to have to expose and endpoint (URL) in your system which will accept the POST request from the ajax call in jQuery.Then, when processing that url from PHP, you would call your function and return the result in the appropriate format (JSON most likely, or XML if you prefer).You may use my library that does that automatically, I've been improving it for the past 2 years http://phery-php-ajax.netThe javascript would be simple asYou can pass all the dynamic javascript part to the server, with a query builder like chainable interface, and you may pass any type of data back to the PHP. For example, some functions that would take too much space in the javascript side, could be called in the server using this (in this example, mcrypt, that in javascript would be almost impossible to accomplish):and in the serverNow the variable will have the encrypted data. 

In PHP what does it mean by a function being binary-safe?

Zacky112

[In PHP what does it mean by a function being binary-safe?](https://stackoverflow.com/questions/3264514/in-php-what-does-it-mean-by-a-function-being-binary-safe)

In PHP what does it mean by a function being binary-safe ?What makes them special and where are they typically used ?

2010-07-16 11:52:16Z

In PHP what does it mean by a function being binary-safe ?What makes them special and where are they typically used ?It means the function will work correctly when you pass it arbitrary binary data (i.e. strings containing non-ASCII bytes and/or null bytes).For example, a non-binary-safe function might be based on a C function which expects null-terminated strings, so if the string contains a null character, the function would ignore anything after it.This is relevant because PHP does not cleanly separate string and binary data.The other users already mentioned what binary safe means in general.In PHP, the meaning is more specific, referring only to what Michael gives as an example.All strings in PHP have a length associated, which are the number of bytes that compose it. When a function manipulates a string, it can either:It's also true that all string PHP variables manipulated by the engine are also null-terminated. The problem with functions that rely on 2., is that, if the string itself contains a byte with value 0, the function that's manipulating it will think the string has ended at that point and will ignore everything after that.For instance, if PHP's strlen function worked like C standard library strlen, the result here would be wrong:More examples:\x indicates hexadecimal notation. See: PHP stringsASCII table to see ASCII char list

phpinfo() - is there an easy way for seeing it?

MEM

[phpinfo() - is there an easy way for seeing it?](https://stackoverflow.com/questions/7190093/phpinfo-is-there-an-easy-way-for-seeing-it)

Each time I want to see the phpinfo(); I have to:I'm on Ubuntu.Isn't there a more practical way to see phpinfo in the browser?

2011-08-25 12:11:21Z

Each time I want to see the phpinfo(); I have to:I'm on Ubuntu.Isn't there a more practical way to see phpinfo in the browser?From your command line you can run..I know it's not the browser window, but you can't see the phpinfo(); contents without making the function call. Obviously, the best approach would be to have a phpinfo script in the root of your web server directory, that way you have access to it at all times via http://localhost/info.php or something similar (NOTE: don't do this in a production environment or somewhere that is publicly accessible)EDIT: As mentioned by binaryLV, its quite common to have two versions of a php.ini per installation. One for the command line interface (CLI) and the other for the web server interface. If you want to see phpinfo output for your web server make sure you specify the ini file path, for example...If you have php installed on your local machine try:From the CLI the best way is to use grep like:From the CLI: Use the command line.touch /var/www/project1/html/phpinfo.php && echo '<?php phpinfo(); ?>' >> /var/www/project1/html/phpinfo.php && firefox --url localhost/project1/phpinfo.phpSomething like that? Idk!

file_get_contents(「php://input」) or $HTTP_RAW_POST_DATA, which one is better to get the body of JSON request?

Manuel Bitto

[file_get_contents(「php://input」) or $HTTP_RAW_POST_DATA, which one is better to get the body of JSON request?](https://stackoverflow.com/questions/2731297/file-get-contentsphp-input-or-http-raw-post-data-which-one-is-better-to)

file_get_contents("php://input") or $HTTP_RAW_POST_DATA - which one is better to get the body of JSON request?And which request type (GET or POST) should I use to send JSON data when using client side XmlHTTPRequest?My question was inspired from this answer:

How to post JSON to PHP with curlQuote from that answer:

2010-04-28 16:20:28Z

file_get_contents("php://input") or $HTTP_RAW_POST_DATA - which one is better to get the body of JSON request?And which request type (GET or POST) should I use to send JSON data when using client side XmlHTTPRequest?My question was inspired from this answer:

How to post JSON to PHP with curlQuote from that answer:Actually php://input allows you to read raw POST data.It is a less memory intensive alternative to $HTTP_RAW_POST_DATA and does not need any special php.ini directives.php://input is not available with enctype="multipart/form-data".Reference: http://php.net/manual/en/wrappers.php.phpSource: http://php.net/manual/en/wrappers.php.php.file_get_contents(php://input) - gets the raw POST data and you need to use this when you write APIs and need XML/JSON/... input that cannot be decoded to $_POST by PHP

some example : send by post JSON string 1.phpThe usual rules should apply for how you send the request. If the request is to retrieve information (e.g. a partial search 'hint' result, or a new page to be displayed, etc...) you can use GET. If the data being sent is part of a request to change something (update a database, delete a record, etc..) then use POST.Server-side, there's no reason to use the raw input, unless you want to grab the entire post/get data block in a single go. You can retrieve the specific information you want via the _GET/_POST arrays as usual. AJAX libraries such as MooTools/jQuery will handle the hard part of doing the actual AJAX calls and encoding form data into appropriate formats for you.For JSON data, it's much easier to POST it as "application/json" content-type. If you use GET, you have to URL-encode the JSON in a parameter and it's kind of messy. Also, there is no size limit when you do POST. GET's size if very limited (4K at most).Your second question is easy, GET has a size limitation of 1-2 kilobytes on both the server and browser side, so any kind of larger amounts of data you'd have to send through POST.

Make column not nullable in a Laravel migration

bilalq

[Make column not nullable in a Laravel migration](https://stackoverflow.com/questions/14013832/make-column-not-nullable-in-a-laravel-migration)

I'm writing a migration to make certain columns in a table nullable right now. For the down function, I of course want to make those columns not nullable again. I looked through the schema builder docs, but couldn't see a way to do this. Any help would be appreciated.

2012-12-23 19:03:34Z

I'm writing a migration to make certain columns in a table nullable right now. For the down function, I of course want to make those columns not nullable again. I looked through the schema builder docs, but couldn't see a way to do this. Any help would be appreciated.Prior to Laravel 5 there was no Laravel native way of altering an existing table column using the schema builder. You'd need to use raw queries for this.However, as of Laravel 5 you can use:As of Laravel 5, it's possible to reverse this natively - simply pass false as an argument to nullable().e.g.First run this:composer require doctrine/dbalThen create a migration that will alter the table like so:php artisan make:migration fix_whatever_table_name_here  You can just declare the column again without ->nullable() and use ->change

Do htmlspecialchars and mysql_real_escape_string keep my PHP code safe from injection?

Cheekysoft

[Do htmlspecialchars and mysql_real_escape_string keep my PHP code safe from injection?](https://stackoverflow.com/questions/110575/do-htmlspecialchars-and-mysql-real-escape-string-keep-my-php-code-safe-from-inje)

Earlier today a question was asked regarding input validation strategies in web apps.The top answer, at time of writing, suggests in PHP just using htmlspecialchars and mysql_real_escape_string. My question is: Is this always enough? Is there more we should know? Where do these functions break down?

2008-09-21 08:58:26Z

Earlier today a question was asked regarding input validation strategies in web apps.The top answer, at time of writing, suggests in PHP just using htmlspecialchars and mysql_real_escape_string. My question is: Is this always enough? Is there more we should know? Where do these functions break down?When it comes to database queries, always try and use prepared parameterised queries. The mysqli and PDO libraries support this. This is infinitely safer than using escaping functions such as mysql_real_escape_string.Yes, mysql_real_escape_string is effectively just a string escaping function. It is not a magic bullet. All it will do is escape dangerous characters in order that they can be safe to use in a single query string. However, if you do not sanitise your inputs beforehand, then you will be vulnerable to certain attack vectors.Imagine the following SQL:You should be able to see that this is vulnerable to exploit.

Imagine the id parameter contained the common attack vector:There's no risky chars in there to encode, so it will pass straight through the escaping filter. Leaving us:Which is a lovely SQL injection vector and would allow the attacker to return all the rows.

Orwhich producesWhich allows the attacker to return the first administrator's details in this completely fictional example.Whilst these functions are useful, they must be used with care. You need to ensure that all web inputs are validated to some degree. In this case, we see that we can be exploited because we didn't check that a variable we were using as a number, was actually numeric. In PHP you should widely use a set of functions to check that inputs are integers, floats, alphanumeric etc.   But when it comes to SQL, heed most the value of the prepared statement. The above code would have been secure if it was a prepared statement as the database functions would have known that 1 OR 1=1 is not a valid literal.As for htmlspecialchars(). That's a minefield of its own.There's a real problem in PHP in that it has a whole selection of different html-related escaping functions, and no clear guidance on exactly which functions do what. Firstly, if you are inside an HTML tag, you are in real trouble. Look atWe're already inside an HTML tag, so we don't need < or > to do anything dangerous. Our attack vector could just be javascript:alert(document.cookie)Now resultant HTML looks likeThe attack gets straight through. It gets worse. Why? because htmlspecialchars (when called this way) only encodes double quotes and not single. So if we had Our evil attacker can now inject whole new parametersgives usIn these cases, there is no magic bullet, you just have to santise the input yourself. If you try and filter out bad characters you will surely fail. Take a whitelist approach and only let through the chars which are good. Look at the XSS cheat sheet for examples on how diverse vectors can beEven if you use htmlspecialchars($string) outside of HTML tags, you are still vulnerable to multi-byte charset attack vectors.The most effective you can be is to use the a combination of mb_convert_encoding and htmlentities as follows.Even this leaves IE6 vulnerable, because of the way it handles UTF. However, you could fall back to a more limited encoding, such as ISO-8859-1, until IE6 usage drops off.For a more in-depth study to the multibyte problems, see https://stackoverflow.com/a/12118602/1820In addition to Cheekysoft's excellent answer:There isn't really a silver bullet for preventing HTML injection (e.g. cross site scripting), but you may be able to achieve it more easily if you're using a library or templating system for outputting HTML. Read the documentation for that for how to escape things appropriately.In HTML, things need to be escaped differently depending on context. This is especially true of strings being placed into Javascript.I would definitely agree with the above posts, but I have one small thing to add in reply to Cheekysoft's answer, specifically:I coded up a quick little function that I put in my database class that will strip out anything that isnt a number. It uses preg_replace, so there is prob a bit more optimized function, but it works in a pinch...So instead of usingI would useand it would safely run the querySure, that just stopped it from displaying the correct row, but I dont think that is a big issue for whoever is trying to inject sql into your site ;)An important piece of this puzzle is contexts. Someone sending "1 OR 1=1" as the ID is not a problem if you quote every argument in your query:Which results in:which is ineffectual. Since you're escaping the string, the input cannot break out of the string context. I've tested this as far as version 5.0.45 of MySQL, and using a string context for an integer column does not cause any problems.Works well, even better on 64 bit systems. Beware of your systems limitations on addressing large numbers though, but for database ids this works great 99% of the time.You should be using a single function/method for cleaning your values as well. Even if this function is just a wrapper for mysql_real_escape_string().  Why? Because one day when an exploit to your preferred method of cleaning data is found you only have to update it one place, rather than a system-wide find and replace.why, oh WHY, would you not include quotes around user input in your sql statement?  seems quite silly not to!  including quotes in your sql statement would render "1 or 1=1" a fruitless attempt, no?so now, you'll say, "what if the user includes a quote (or double quotes) in the input?"well, easy fix for that: just remove user input'd quotes.  eg: input =~ s/'//g;.  now, it seems to me anyway, that user input would be secured...

How can I measure the speed of code written in PHP? [closed]

M. A. Kishawy

[How can I measure the speed of code written in PHP? [closed]](https://stackoverflow.com/questions/1200214/how-can-i-measure-the-speed-of-code-written-in-php)

How can I say which class of many (which all do the same job) execute faster? is there a software to measure that?

2009-07-29 13:20:45Z

How can I say which class of many (which all do the same job) execute faster? is there a software to measure that?You have (at least) two solutions :The quite "naïve" one is using microtime(true) tobefore and after a portion of code, to get how much time has passed during its execution ; other answers said that and gave examples already, so I won"t say much more.This is a nice solution if you want to benchmark a couple of instructions ; like compare two types of functions, for instance -- it's better if done thousands of times, to make sure any "perturbating element" is averaged.Something like this, so, if you want to know how long it take to serialize an array :Not perfect, but useful, and it doesn't take much time to set up.The other solution, that works quite nice if you want to identify which function takes lots of time in an entire script, is to use :To get profiling files, you have to install and configure Xdebug ; take a look at the Profiling PHP Scripts page of the documentation.What I generally do is not enable the profiler by default (it generates quite big files, and slows things down), but use the possibility to send a parameter called XDEBUG_PROFILE as GET data, to activate profiling just for the page I need.

The profiling-related part of my php.ini looks like this :(Read the documentation for more informations)This screenshot is from a C++ program in KcacheGrind : 

(source: sourceforge.net)

You'll get exactly the same kind of thing with PHP scripts ;-)

(With KCacheGrind, I mean ; WinCacheGrind is not as good as KCacheGrind...)This allows you to get a nice view of what takes time in your application -- and it sometimes definitly helps to locate the function that is slowing everything down ^^Note that Xdebug counts the CPU time spent by PHP ; when PHP is waiting for an answer from a Database (for instance), it is not working ; only waiting. So Xdebug will think the DB request doesn't take much time !

This should be profiled on the SQL server, not PHP, so...

Hope this is helpful :-)

Have fun !For quick stuff I do this (in PHP):You can also use a profiler like http://xdebug.org/.I've made a simple timing class, maybe it's useful to someone:Use:2020 UpdateIt's been many years since I last answered this questions so I thought this deserves an update on the APM landscape. Here is a direct answer to your question Yes, there is. I'm wondering why anyone hasn't mentioned it yet. Although the answers suggested above seems fine for a quick check but isn't scalable in the long run or for a bigger project. Why not use an Application Performance Monitoring (APM) tool which are build exactly for that and so much more. Check out NewRelic, AppDynamics, Ruxit (all have free version) to monitor the execution time, resource usage, throughput of every application to the method level.If you want to quick test performance of a framework, you can put in index.php fileEvery time you will get execution time in milliseconds. Because microseconds is not too useful in testing a framework case.I've been using XHProf lately http://pecl.php.net/package/xhprof.  It was originally developed by Facebook and it comes with a decent web interface.I'd like to share with you a self made function I use to measure the speed of any existing function up to 10 arguments:ExampleReturnsIf it's something that can be tested outside the Web context, I just use the Unix time command.Zend Studio has built in support for profiling using XDebug or ZendDebugger. It will profile your code, telling you exactly how long every function took. It's a fantastic tool for figuring out where your bottlenecks are.You can use basic stuff like storing timestamps or microtime() before and after an operation to calculate the time needed. That's easy to do, but not very accurate. Maybe a better solution is Xdebug, i've never worked with it but it seems to be the best-known PHP debugger/profiler I can find.

How to pop an alert message box using PHP?

adil

[How to pop an alert message box using PHP?](https://stackoverflow.com/questions/13851528/how-to-pop-an-alert-message-box-using-php)

How to pop an alert message box using PHP?

2012-12-13 01:27:37Z

How to pop an alert message box using PHP?You could use Javascript:Create function for alertPHP renders HTML and Javascript to send to the client's browser. PHP is a server-side language. This is what allows it do things like INSERT something into a database on the server.But an alert is rendered by the browser of the client. You would have to work through javascript to get an alert.I have done it this way:Use jquery between the php command

$alertSee this example :This .php file content will generate valid html with alert (you can even remove <?php...?>)You can use DHP to do this. It is absolutely simple and it is fast than script.

 Just write alert('something');

It is not programing language it is something like a lit bit jquery. You need require dhp.php in the top and in the bottom require dhpjs.php.

For now it is not open source but when it is you can use it. It is our programing language ;)

Using a .php file to generate a MySQL dump

Thomas Ward

[Using a .php file to generate a MySQL dump](https://stackoverflow.com/questions/6750531/using-a-php-file-to-generate-a-mysql-dump)

Here's the information I have:I am working with a Linux based system using MySQL and PHP5.  I need to be able to generate a mysqldump from within a .php file, and then have that dump be stored in a file on the server in a location I would specify.As I'm a PHP nooblet, I'd like someone to give me some assistance, guidance, or code, that would do what I require. This would have to be run remotely from the Internet.

2011-07-19 16:20:08Z

Here's the information I have:I am working with a Linux based system using MySQL and PHP5.  I need to be able to generate a mysqldump from within a .php file, and then have that dump be stored in a file on the server in a location I would specify.As I'm a PHP nooblet, I'd like someone to give me some assistance, guidance, or code, that would do what I require. This would have to be run remotely from the Internet.You can use the exec() function to execute an external command.Note: between shell_exec() and exec(), I would choose the second one, which doesn't return the output to the PHP script -- no need for the PHP script to get the whole SQL dump as a string : you only need it written to a file, and this can be done by the command itself.

That external command will :For example :

Which means your PHP code would look like this :

Of course, up to you to use the right connection information, replacing the ... with those.If you want to create a backup to download it via the browser, you also can do this without using a file.The php function passthru() will directly redirect the output of mysqldump to the browser. In this example it also will be zipped.Pro: You don't have to deal with temp files.Con: Won't work on Windows. May have limits with huge datasets.Take a look here: https://github.com/ifsnop/mysqldump-php ! It is a native solution written in php.You can install it using composer, and it is as easy as doing:It supports advanced users, with lots of options copied from the original mysqldump.All the options are explained at the github page, but more or less are auto-explicative:Please reffer to the following link which contains a scriptlet that will help you:

http://davidwalsh.name/backup-mysql-database-phpNote: This script may contain bugs with NULL data typesFor security reasons, it's recommended to specify the password in a configuration file and not in the command (a user can execute a ps aux | grep mysqldump and see the password).Here you can find a comprehensive solution to dump mysql structure and data like in PMA (and without using exec, passthru etc.):https://github.com/antarasi/MySQL-Dump-with-Foreign-keysIt is fork of dszymczuk project with my enhancements. The usage is simpleworks like a charm :-)As long as you are allowed to use exec(),  you can execute shell commands through your PHP code.So assuming you know how to write the mysqldump in the command line, i.e.then you can use this as the parameter to exec() function.MajorLeo's answer point me in the right direction but it didn't worked for me. I've found this site that follows the same approach and did work.I hope it helps someone else!Well, you can always use PHP's system function call.http://php.net/manual/en/function.system.phphttp://www.php.net/manual/en/function.exec.phpThat runs any command-line program from PHP.<?php

exec('mysqldump --all-databases > /your/path/to/test.sql');

?>You can extend the command with any options mysqldump takes ofcourse. Use man mysqldump for more options (but I guess you knew that ;))Here's another native PHP based option:  https://github.com/2createStudio/shuttle-exportNone of the above codes worked for me. I am using windows.

Below Code worked for me...This will save file in your project folder according to your query whatever data you want.To dump database using shell_exec(), below is the method :

PHP: Type hinting - Difference between `Closure` and `Callable`

Dev01

[PHP: Type hinting - Difference between `Closure` and `Callable`](https://stackoverflow.com/questions/29730720/php-type-hinting-difference-between-closure-and-callable)

I noticed that I can use either of Closure or Callable as type hint if we expected some callback function to run. For example:Question:What's the difference here ? In other words when to use Closure and when to use Callable OR they serve the same purpose ?

2015-04-19 13:49:12Z

I noticed that I can use either of Closure or Callable as type hint if we expected some callback function to run. For example:Question:What's the difference here ? In other words when to use Closure and when to use Callable OR they serve the same purpose ?The difference is, that a Closure must be an anonymous function, where callable also can be a normal function.You can see/test this with the example below and you will see that you will get an error for the first one:So if you only want to type hint anonymous function use: Closure and if you want also to allow normal functions use callable as type hint.The main difference between them is that a closure is a class and callable a type.The callable type accepts anything that can be called:Where a closure will only accept an anonymous function. Note that in PHP version 7.1 you can convert functions to a closure like so:

 Closure::fromCallable('functionName').Strictness because a closure is an object that has some additional methods: call(), bind() and bindto(). They allow you to use a function declared outside of a class and execute it as if it was inside a class.You would not like to call methods on a normal function as that will raise fatal errors. So in order to circumvent that you would have to write something like:To do this check every time is pointless. So if you want to use those methods state that the argument is a closure. Otherwise just use a normal callback. This way; An error is raised on function call instead of your code causing it making it much easier to diagnose.On a side note: The closure class cannot be extended as its final.It's worth mentioning that this won't work for PHP versions 5.3.21 to 5.3.29.In any of those versions you will get an output like:One can try that out using https://3v4l.org/kqeYD#v5321Best regards,

json_encode sparse PHP array as JSON array, not JSON object

Nguyen Van Vinh

[json_encode sparse PHP array as JSON array, not JSON object](https://stackoverflow.com/questions/11195692/json-encode-sparse-php-array-as-json-array-not-json-object)

I have the following array in PHP:I want to JSON encode it as a JSON array, producing a string like the following:But when I call json_encode on this array, I get the following:which is an object instead of an array.How can I get json_encode to encode my array as an array, instead?

2012-06-25 19:06:27Z

I have the following array in PHP:I want to JSON encode it as a JSON array, producing a string like the following:But when I call json_encode on this array, I get the following:which is an object instead of an array.How can I get json_encode to encode my array as an array, instead?You are observing this behaviour because your array is not sequential - it has keys 0 and 2, but doesn't have 1 as a key.Just having numeric indexes isn't enough. json_encode will only encode your PHP array as a JSON array if your PHP array is sequential - that is, if its keys are 0, 1, 2, 3, ...You can reindex your array sequentially using the array_values function to get the behaviour you want. For example, the code below works successfully in your use case:Array in JSON are indexed array only, so the structure you're trying to get is not valid Json/Javascript.PHP Associatives array are objects in JSON, so unless you don't need the index, you can't do such conversions.If you want to get such structure you can do:Will returns something like:Try this,true turns all properties to array (sequential or not)

How to remove「index.php」in codeigniter's path

OrangeRind

[How to remove「index.php」in codeigniter's path](https://stackoverflow.com/questions/1445385/how-to-remove-index-php-in-codeigniters-path)

How do I remove the "index.php" sticking out in every path in codeigniter somewhere in the center?

I want clean non index.php-fied URLs?

2009-09-18 15:46:00Z

How do I remove the "index.php" sticking out in every path in codeigniter somewhere in the center?

I want clean non index.php-fied URLs?If you are using Apache place a .htaccess file in your root web directory containing the following:Another good version is located here:http://snipplr.com/view/5966/codeigniter-htaccess/I had some big issues with removing the index.php. As a general rule the .htaccess below has been tested on several servers and generally works:If you don't have any luck with that then the next step is to adjust your config file. Try some of the other URI protocols e.g. If your still not having any luck try changing the rewrite rule to include your subfolder. This is often a problem if your using a temporary URL on a dev server etc:Just play around with these options, one should work. Also, make sure your index file is set to:Good luck!Have the.htaccess file in the application root directory, along with the index.php file. (Check if the htaccess extension is correct , Bz htaccess.txt did not work for me.)And Add the following rules to .htaccess file, Then find the following line in your application/config/config.php file Set the variable empty as below.That's it, it worked for me.If it doesn't work further try to replace following variable with these parameters  ('AUTO', 'PATH_INFO', 'QUERY_STRING', 'REQUEST_URI', and 'ORIG_PATH_INFO') one by one Have a look in the system\application\config\config.php file, there is a variable named index_pageIt should look like thischange it toThen as mentioned you also need to add a rewrite rule to the .htaccess fileNote: in CodeIgniter v2 this file was moved out of the system folder to application\config\config.phpAll above methods failed for me and then I found that I was not changing AllowOverride None to AllowOverride All in my virtual host file at /etc/apache2/sites-available/defaultJust thought i might addwould be the .htaccess and be sure to edit your application/config.php variable in the following manner:replacewithThis must definitely work.. have a tryEnsure you have enabled mod_rewrite (I hadn't).

To enable:  Also, replace AllowOverride None by AllowOverride AllFinaly...  My .htaccess isThis is an .htaccess for one of my CI projects:The last line should give you what you need, though you may or may not need '/projectFolder' depending on how your folder structure is set up. Good luck!Use mod_rewrite as instructed in this tutorial from the CI wiki.As an .htaccess file, a good option is to use the one provided by the Kohana Framework:It's a well thought out .htaccess that just works.There are two way to solve index.php in url path for codeigniter1:In config/config.php

Change code :to2:Create .htacess in root path if not created,Copy the following code:-Save it and then check in your Apache Configuration rewrite_module OR mod_rewrite is Enabled.If not then please enabled.

(Best Approach)!i tested this on apache2 on many different hosting and it works great.use this htaccessbe sure you have enabled mod_rewirte with a phpinfo();then do this in config/config.php:if it doesn't works yet, try to change the $config['uri_protocol']='AUTO' to one of the listed inside application/config/config.php file on line 40/54:sometimes i used : REQUEST_URI instead of AUTO or "QUERY_STRING" for goDaddy hostingsLook in the \application\config\config.php file, there is a variable named index_pageIt should look like thischange it toThen as mentioned you also need to add a rewrite rule to the .htaccess file like this:It work for me, hope you too.If you are on linux and using apache2 server then we may need to override apache2.conf file also beside changes on .htaccess file. Find apache2 configuration file on /etc/apache2/apache2.conf .Search Directory /var/www/ Change AllowOverride None -> AllowOverride Allplace a .htaccess file in your root web directoryWhatsoever tweaking you do - if the above is not met - it will not work. Usually its in the System folder, it should be in the root. Cheers!I have tried many solutions but the one i came up with is this:This iwill remove the index.php from the url as required.I use these lines in .htaccess file; which I place in root folderThen I can access http://example.com/controller/function/parameterinstead of http://example.com/index.php/controller/function/parameterThis will help you

paste this code in application folder in .htacess fileThis one did me the complete magic:Hope it helps!Hi This one worked  meas well as thiswhere the folder is the name of the subfolder if this codeigniter application is hosted as a subdomain

e.g domainname/folder/index.php.Hope that works for you. Thanks.Copy past following code in your .htaccess Step 1 :Add this in htaccess fileStep 2 :Remove index.php in codeigniter configStep 3 :Allow overriding htaccess in Apache Configuration (Command)sudo nano /etc/apache2/apache2.conf

and edit the file & change tofor www folderStep 4 :Enabled apache mod rewrite (Command)Step 5 :Restart Apache (Command)

What is an abstract class in PHP?

udaya

[What is an abstract class in PHP?](https://stackoverflow.com/questions/2558559/what-is-an-abstract-class-in-php)

What is an abstract class in PHP?How can it be used?

2010-04-01 06:35:08Z

What is an abstract class in PHP?How can it be used?An abstract class is a class that contains at least one abstract method, which is a method without any actual code in it, just the name and the parameters, and that has been marked as "abstract".The purpose of this is to provide a kind of template to inherit from and to force the inheriting class to implement the abstract methods.An abstract class thus is something between a regular class and a pure interface. Also interfaces are a special case of abstract classes where ALL methods are abstract.See this section of the PHP manual for further reference.1.  Can not instantiate abstract class: Classes defined as abstract may not be instantiated, and any class that contains at least one abstract method must also be abstract.Example below : 2. Any class that contains at least one abstract method must also be abstract: Abstract class can have abstract and non-abstract methods, but it must contain at least one abstract method. If a class has at least one abstract method, then the class must be declared abstract.Example below : 3. An abstract method can not contain body: Methods defined as abstract simply declare the method's signature - they cannot define the implementation. But a non-abstract method can define the implementation.4. When inheriting from an abstract class, all methods marked abstract in the parent's class declaration must be defined by the child :If you inherit an abstract class you have to provide implementations to all the abstract methods in it.5. Same (or a less restricted) visibility:When inheriting from an abstract class, all methods marked abstract in the parent's class declaration must be defined by the child; additionally, these methods must be defined with the same (or a less restricted) visibility. For example, if the abstract method is defined as protected, the function implementation must be defined as either protected or public, but not private.6.  Signatures of the abstract methods must match:When inheriting from an abstract class, all methods marked abstract in the parent's class declaration must be defined by the child;the signatures of the methods must match, i.e. the type hints and the number of required arguments must be the same. For example, if the child class defines an optional argument, where the abstract method's signature does not, there is no conflict in the signature.7. Abstract class doesn't support multiple inheritance:Abstract class can extends another abstract class,Abstract class can provide the implementation of interface.But it doesn't support multiple inheritance.below example will cause Fatal error: Class 'horse' not foundThere is good explanation of that here.Abstract Class 

 1. Contains an abstract method

 2. Cannot be directly initialized

 3. Cannot create an object of abstract class

 4. Only used for inheritance purposesAbstract Method

 1. Cannot contain a body

 2. Cannot be defined as private

 3. Child classes must define the methods declared in abstract class Example Code:Output:Abstract Classes are those classes which can not be initialised directly. Or in other word we can say that abstract classes are those classes which object can not be created directly. In PHP abstract classes are defied with keyword abstract.Also to become one class abstract ateast one method of the class must be abstract.For the detail of the abstract class you can refer to my blog on Abstract Class in PHP.An abstract class is like the normal class it contains variables it contains protected variables functions it contains constructor only one thing is different it contains abstract method.The abstract method means an empty method without definition so only one difference in abstract class we can not create an object of abstract classAbstract must contains the abstract method and those methods must be defined in its inheriting class.

What is the difference between fastcgi and fpm?

Deepan Chakravarthy

[What is the difference between fastcgi and fpm?](https://stackoverflow.com/questions/4526242/what-is-the-difference-between-fastcgi-and-fpm)

I am trying to install php with fpm on macports. I read somewhere that fpm means FastCGI process manager. Does that mean fastcgi and fpm are same? If they are same, then why do we have two different macports variants for php namely

"php5 +fastcgi" and 

"php5 +fpm" 

2010-12-24 12:11:19Z

I am trying to install php with fpm on macports. I read somewhere that fpm means FastCGI process manager. Does that mean fastcgi and fpm are same? If they are same, then why do we have two different macports variants for php namely

"php5 +fastcgi" and 

"php5 +fpm" FPM is a process manager to manage the FastCGI SAPI (Server API) in PHP.  Basically, it replaces the need for something like SpawnFCGI.  It spawns the FastCGI children adaptively (meaning launching more if the current load requires it).Otherwise, there's not much operating difference between it and FastCGI (The request pipeline from start of request to end is the same).  It's just there to make implementing it easier.What Anthony says is absolutely correct, but I'd like to add that your experience will likely show a lot better performance and efficiency (due not to fpm-vs-fcgi but more to the implementation of your httpd).For example, I had a quad-core machine running lighttpd + fcgi humming along nicely. I upgraded to a 16-core machine to cope with growth, and two things exploded: RAM usage, and segfaults. I found myself restarting lighttpd every 30 minutes to keep the website up.I switched to php-fpm and nginx, and RAM usage dropped from >20GB to 2GB. Segfaults disappeared as well. After doing some research, I learned that lighttpd and fcgi don't get along well on multi-core machines under load, and also have memory leak issues in certain instances.Is this due to php-fpm being better than fcgi? Not entirely, but how you hook into php-fpm seems to be a whole heckuva lot more efficient than how you serve via fcgi.

Default visibility of class methods in PHP

Yada

[Default visibility of class methods in PHP](https://stackoverflow.com/questions/2224380/default-visibility-of-class-methods-in-php)

I looked at the manual, but I can't seem to find the answer.What is the default visibility in PHP for methods without a visibility declaration? Does PHP have a package visibility like in Java?  For example, in the following code, is go() public or private?The reason I asked is that I've seen many constructors code written as function __construct() and some as public function __construct(). Are they equivalent?

2010-02-08 19:46:03Z

I looked at the manual, but I can't seem to find the answer.What is the default visibility in PHP for methods without a visibility declaration? Does PHP have a package visibility like in Java?  For example, in the following code, is go() public or private?The reason I asked is that I've seen many constructors code written as function __construct() and some as public function __construct(). Are they equivalent?Default is public.http://www.php.net/manual/en/language.oop5.visibility.phpDefault is public. It's a good practice to always include it, however PHP4 supported classes without access modifiers, so it's common to see no usage of them in legacy code.And no, PHP has no package visibility, mainly because until recently PHP had no packages.The default is public. The reason probably is backwards compatibility as old code expects it to be public (it would stop working if it weren't public).SourceWhen no visibility keyword (public,private or protected) used, methods will be public. But, you cannot define properties in this way. For properties, you will need to append a visibility keyword on declaration.For properties which is not declared in the class and you assign a value to it inside a method will have a public visibility.function __construct() and public function __construct() works as same method name.If you could not define the prefix for a method name, it should be by default public.

Fastest way to implode an associative array with keys

matpie

[Fastest way to implode an associative array with keys](https://stackoverflow.com/questions/408032/fastest-way-to-implode-an-associative-array-with-keys)

I'm looking for a fast way to turn an associative array in to a string. Typical structure would be like a URL query string but with customizable separators so I can use '&amp;' for xhtml links or '&' otherwise.My first inclination is to use foreach but since my method could be called many times in one request I fear it might be too slow.Is there a faster way?

2009-01-02 21:06:17Z

I'm looking for a fast way to turn an associative array in to a string. Typical structure would be like a URL query string but with customizable separators so I can use '&amp;' for xhtml links or '&' otherwise.My first inclination is to use foreach but since my method could be called many times in one request I fear it might be too slow.Is there a faster way?You can use http_build_query() to do that.As an aside, I was in search to find the best way to implode an associative array but using my own seperators etc...So I did this using PHP's array_walk() function to let me join an associative array into a list of parameters that could then be applied to a HTML tag....Obviously, you could stick that in your own function somehow but it gives you an idea of how you can join an associative array using your own method.

Hope that helps someone :)If you're not concerned about the exact formatting however you do want something simple but without the line breaks of print_r you can also use json_encode($value) for a quick and simple formatted output. (note it works well on other data types too)This is my solution for example for an div data-attributes:One way is using print_r(array, true) and it will return string representation of arrayA one-liner for creating string of HTML attributes (with quotes) from a simple array:What about this shorter, more transparent, yet more intuitive with array_walkMy solution:This is the most basic version I can think of:$companies->toArray() --

this is just in case if your $variable is an object, otherwise just pass $companies.That's it!

What does $$ (dollar dollar or double dollar) mean in PHP?

chicane

[What does $$ (dollar dollar or double dollar) mean in PHP?](https://stackoverflow.com/questions/2715654/what-does-dollar-dollar-or-double-dollar-mean-in-php)

Example is a variable declaration within a function: What does $$ mean?

2010-04-26 17:55:24Z

Example is a variable declaration within a function: What does $$ mean?A syntax such as $$variable is called Variable Variable.

For example, if you consider this portion of code :You will get the following output :

Here :EDIT after @Jhonny's comment :Doing a $$$ ?

Well, the best way to know is to try ;-)So, let's try this portion of code :And here's the output I get :So, I would say that, yes, you can do $$$ ;-)The inner $ resolves the a variable to a string, and the outer one resolves a variable by that string.So, consider this exampleThe variable:would equal the string "foo"It's a variable's variable.It creates a dynamic variable name. E.g.(also known as variable variable)I do not want to repeat after others but there is a risk using $$ :)So use it with head. :)It evaluates the contents of one variable as the name of another. Basically it gives you the variable whose name is stored in $link.this worked for me (enclose in square brackets):

How to retrieve Request Payload

nkuhta

[How to retrieve Request Payload](https://stackoverflow.com/questions/9597052/how-to-retrieve-request-payload)

I'm using PHP, ExtJS and ajax store. It sends data (on create, update, destroy) not in POST or GET. In the Chrome Console I see my outgoing params as JSON in the "Request Payload" field. $_POST  and $_GET are empty.How to retrieve it in PHP?

2012-03-07 06:56:28Z

I'm using PHP, ExtJS and ajax store. It sends data (on create, update, destroy) not in POST or GET. In the Chrome Console I see my outgoing params as JSON in the "Request Payload" field. $_POST  and $_GET are empty.How to retrieve it in PHP?If I understand the situation correctly, you are just passing json data through the http body, instead of application/x-www-form-urlencoded data.You can fetch this data with this snippet:If you are passing json, then you can do:$data then contains the json data is php array.php://input is a so called wrapper.Also you can setup extJs writer with encode: true and it will send data regularly (and, hence, you will be able to retrieve data via  $_POST and $_GET).UPDATEAlso docs say that:So, probably, writer's root config is required.

PHP namespaces and「use」

Shawn Northrop

[PHP namespaces and「use」](https://stackoverflow.com/questions/10542012/php-namespaces-and-use)

I am having a little trouble with namespaces and the use statements.I have three files: ShapeInterface.php, Shape.php and Circle.php.I am trying to do this using relative paths so I have put this in all of the classes:In my circle class I have the following:If I use the include statements I get no errors. If I try the use statements I get:Could someone please give me a little guidance on the issue?

2012-05-10 20:56:40Z

I am having a little trouble with namespaces and the use statements.I have three files: ShapeInterface.php, Shape.php and Circle.php.I am trying to do this using relative paths so I have put this in all of the classes:In my circle class I have the following:If I use the include statements I get no errors. If I try the use statements I get:Could someone please give me a little guidance on the issue?The use operator is for giving aliases to names of classes, interfaces or other namespaces. Most use statements refer to a namespace or class that you'd like to shorten:is equivalent to:If the use operator is used with a class or interface name, it has the following uses:The use operator is not to be confused with autoloading. A class is autoloaded (negating the need for include) by registering an autoloader (e.g. with spl_autoload_register). You might want to read PSR-4 to see a suitable autoloader implementation.If you need to order your code into namespaces, just use the keyword namespace:file1.phpIn file2.phpYou can also use use. If in file2 you putuse foo\bar as mypath;you need to use mypath instead of bar anywhere in the file:Using use foo\bar; is equal to use foo\bar as bar;. 

PHP and MySQL - how to avoid password in source code? [duplicate]

Horst Walter

[PHP and MySQL - how to avoid password in source code? [duplicate]](https://stackoverflow.com/questions/15088979/php-and-mysql-how-to-avoid-password-in-source-code)

I have a small PHP application storing data in a MySQL database. Currently username / password are hard-coded in the PHP code. A situation I do not really like, for example, since the code is also available in a repository.The best idea I have is to move the data from the code to a configuration file (excluded from the repository), and somehow encode it, so is not directly readable (obfuscation). Is there any better and easy to use way to solve the issue?Scope: I want to established a robust, but also easy-to-use solution. I want reasonable security, but I am not dealing with highly confidential data here.Remark: It is no longer recommended to use the mysql_connect functions, see Stack Overflow question Why shouldn't I use mysql_ functions in PHP?*. I could have changed the code example, but since some comments refer to this, I did not. However, the original nature of the question remains valid.

2013-02-26 12:19:28Z

I have a small PHP application storing data in a MySQL database. Currently username / password are hard-coded in the PHP code. A situation I do not really like, for example, since the code is also available in a repository.The best idea I have is to move the data from the code to a configuration file (excluded from the repository), and somehow encode it, so is not directly readable (obfuscation). Is there any better and easy to use way to solve the issue?Scope: I want to established a robust, but also easy-to-use solution. I want reasonable security, but I am not dealing with highly confidential data here.Remark: It is no longer recommended to use the mysql_connect functions, see Stack Overflow question Why shouldn't I use mysql_ functions in PHP?*. I could have changed the code example, but since some comments refer to this, I did not. However, the original nature of the question remains valid.The easiest way is, like you said, to use a configuration file.Many frameworks use this (Zend, CakePHP, Kohana, etc) and it's the most common way of doing things (even in a non-PHP environment such as ASP.NET with its web.config files). This allows you also to copy over configuration values from environment to environment by just copying the files for the site, which is a benefit over relying on server-setup environment variables (which can very quickly be lost and forgotten).You shouldn't need to worry about obfuscation of the password since it's not a world-accessible file, it certainly shouldn't be web accessible. What I mean by this is that you would either a) Tell your web server not to serve your configuration file (IIS already does this with web.config files and serves a HTTP 404.8 status instead of the contents) or b) Move it outside of your web served directory. If somebody can see your configuration file, it's worse than having it in your source code.It's also going to be a good idea to have a base (empty / default) version of the configuration file, and separate it out per environments, so that you could have a different configuration file for production, development, and testing platforms.An environment variable is the most common way to differentiate between these environments, something like the below code:Another way that is pretty common is to use an XML configuration file and only read in the values that you need as appropriate (storing a cached copy of the config file in memory). This can very easily be restricted to only load in certain values, rather than allowing arbitrary inclusion of PHP files and is overall a better solution in my opinion, but the above should get you started in the right direction.You'll probably want your VCS to ignore the file. On the other hand, you might want a skeleton of the file, or one with reasonable defaults (the latter does not apply to login data, of course), to be version controlled. A common way to deal with that is to have a checked-in template configuration file, and the installation procedure copies that file to the location of the real configuration file, where it is customized. This can be a manual, or an automated, process.(Whilst somewhat unrelated to the main question, introducing a constant for your environment allows you to do some other cool stuff like deferring to a fake mail implementation instead of a live SMTP one, but of course this could also be done with a configuration file)One pretty nice solution, if you are on Apache, it to store the information in the virtualhost configurationThe data can easily be fetched using $_ENV[] for use in the code.As others have mentioned, put it in a separate configuration file outside of source control (obviously this will be mentioned in code which is under source control).It also is a good idea to name the file config.php rather than config.ini in case the directory is ever accidentally exposed, meaning that the file won't be downloaded, rather it returns nothing.If you feel that the 12factor way is valuable, they recommend storing config in the environment. This has the added advantage of allowing you to write the exact same code when you're testing or otherwise in a non-production environment. If you want (or need) to change the database, or anything else, there's no need to modify your code - you just change the environment variables and you're good to go.What I would do is to store only example config file in repository, like config.php.dist and don't put actual config.php under version control.Good question. You could move the most sensitive pieces (e.g. keys/passwords) out as environment variables, but that would then just defer the problem to your server configuration (Which presumably is also in a repository).You could also try to avoid passwords for stuff like the database, by making it password less and secure it behind a firewall instead. None of these are perfect solutions, but they are the approaches that I know about.It is a good idea to move the password from code to a configuration file, so the password will not be in the repository. The idea to encrypt it in a configuration file is questionable, because the one who has the configuration file + PHP code that decrypts it can always run the code and get a clear-text password. Probably it would be better to keep the password in a configuration file as plain text and think how to protect the configuration file from unauthorized access.I don't see all this problem here. If you are sharing a repository you don't probably want to hard code passwords and configuration. You should provide defaults one instead:If you really want you can use and parse a .ini file but it's likely to be very slow compared to an array being set in the source code and doesn't really make that much sense to me.Remember: the only thing you can trust is your source code, if they can get it, you are screwed anyway.You can always create a configuration ini file using the function parse_ini_file.

Difference between float and double in php?

Centurion

[Difference between float and double in php?](https://stackoverflow.com/questions/3280892/difference-between-float-and-double-in-php)

I have this codethis will output:So it is double or float in php?

2010-07-19 12:10:08Z

I have this codethis will output:So it is double or float in php?There is no difference in PHP. float, double or real are the same datatype.At the C level, everything is stored as a double.

The real size is still platform-dependent.See the manual for more details:

http://www.php.net/manual/en/language.types.float.phpFor PHP, they are the same. http://www.php.net/manual/en/language.types.float.php :The confusing part is why gettype (which you shouldn't use, anyway) returns "double" instead of "float". The answer is http://de2.php.net/manual/en/function.gettype.php:As of PHP 7.0.6 on Windows, comparing this command without xdebug:and with xdebug:Note that this only changes var_dump() output, but not the actual memory management.This may address some concerns why you see double instead of float shown in var_dump in some other machines.Also, with or without xdebug, gettype still returns string(6) "double".In PHP 7.0.14Returns "Fatal error:  Uncaught TypeError: Argument 1 passed to test() must be an instance of double, float given".Prints 2.2111 to the screen.

Call to undefined method mysqli_stmt::get_result

kush.impetus

[Call to undefined method mysqli_stmt::get_result](https://stackoverflow.com/questions/8321096/call-to-undefined-method-mysqli-stmtget-result)

Here's  my code:I get the error on last line as: Call to undefined method mysqli_stmt::get_result()Here is the code for conn.php:If I write this line: It prints 'Statement NOT prepared'. If I run the query directly in the IDE replacing ? marks with values, it works fine. Please note that $conn object works fine in other queries in the project.Any help please.......

2011-11-30 04:20:41Z

Here's  my code:I get the error on last line as: Call to undefined method mysqli_stmt::get_result()Here is the code for conn.php:If I write this line: It prints 'Statement NOT prepared'. If I run the query directly in the IDE replacing ? marks with values, it works fine. Please note that $conn object works fine in other queries in the project.Any help please.......Please read the user notes for this method:http://php.net/manual/en/mysqli-stmt.get-result.phpIt requires the mysqlnd driver... if it isn't installed on your webspace you will have to work with BIND_RESULT & FETCH!https://secure.php.net/manual/en/mysqli-stmt.bind-result.phphttps://secure.php.net/manual/en/mysqli-stmt.fetch.phpSo if the MySQL Native Driver (mysqlnd) driver is not available, and therefore using bind_result and fetch instead of get_result, the code becomes:Your system is missing the mysqlnd driver!If you are able to install new packages on your (Debian/Ubuntu-based) server, install the driver:and then restart your web server:for those searching for an alternative to $result = stmt->get_result() I've made this function which allows you to mimic the $result->fetch_assoc() but using directly the stmt object:as you can see it creates an array and fetches it with the row data, since it uses $stmt->fetch() internally, you can call it just as you would call mysqli_result::fetch_assoc (just be sure that the $stmt object is open and result is stored):hope this helps.With PHP version 7.2 I just used nd_mysqli instead of mysqli and it worked as expected.Steps to enable it into godaddy hosting server-I know this was already answered as to what the actual problem is, however I want to offer a simple workaround.I wanted to use the get_results() method however I didn't have the driver, and I'm not somewhere I can get that added.  So, before I called I created an empty array, and then just bound the results as keys in that array:so that those results could easily be passed into methods or cast to an object for further use.Hope this helps anyone who's looking to do something similar.I was getting this same error on my server - PHP 7.0 with the mysqlnd extension already enabled.Solution was for me (thanks to this page) was to deselect the mysqli extension and select nd_mysqli instead.NB - You may be able to access the extensions selector in your cPanel. (I access mine via the Select PHP Version option.)I realize that it's been a while since there has been any new activity on this question.  But, as other posters have commented - get_result() is now only available in PHP by installing the MySQL native driver (mysqlnd), and in some cases, it may not be possible or desirable to install mysqlnd.  So, I thought it would be helpful to post this answer with info on how get the functionality that get_result() offers - without using get_result().get_result() is/was often combined with fetch_array() to loop through a result set and store the values from each row of the result set in a numerically-indexed or associative array.  For example, the code below uses get_result() with fetch_array() to loop through a result set, storing the values from each row in the numerically-indexed $data[] array:However, if get_result() is not available (because mysqlnd is not installed), then this leads to the problem of how to store the values from each row of a result set in an  array, without using get_result().  Or, how to migrate legacy code that uses get_result() to run without it (e.g. using bind_result() instead) - while impacting the rest of the code as little as possible.It turns out that storing the values from each row in a numerically-indexed array is not so straight-forward using bind_result().  bind_result() expects a list of scalar variables (not an array).  So, it takes some doing to make it store the values from each row of the result set in an array.Of course, the code could easily be modified as follows:But, this requires us to explicitly list $data[0], $data[1], etc. individually in the call to bind_result(), which is not ideal.  We want a solution that doesn't require us to have to explicitly list $data[0], $data[1], ... $data[N-1] (where N is the number of fields in the select statement) in the call to bind_results().  If we're migrating a legacy application that has a large number of queries, and each query may contain a different number of fields in the select clause, the migration will be very labor intensive and prone to error if we use a solution like the one above.Ideally, we want a snippet of 'drop-in replacement' code - to replace just the line containing the get_result() function and the while() loop on the next line.  The replacement code should have the same function as the code that it's replacing, without affecting any of the lines before, or any of the lines after - including the lines inside the while() loop.  Ideally we want the replacement code to be as compact as possible, and we don't want to have to taylor the replacement code based on the number of fields in the select clause of the query.Searching on the internet, I found a number of solutions that use bind_param() with call_user_func_array()

(for example, Dynamically bind mysqli_stmt parameters and then bind result (PHP)), but most solutions that I found eventually lead to the results being stored in an associative array, not a numerically-indexed array, and many of these solutions were not as compact as I would like and/or were not suited as 'drop-in replacements'.  However, from the examples that I found, I was able to cobble together this solution, which fits the bill:Of course, the for() loop can be collapsed into one line to make it more compact.  I hope this helps anyone who is looking for a solution using bind_result() to store the values from each row in a numerically-indexed array and/or looking for a way to migrate legacy code using get_result().  Comments welcome.Here is my alternative. It is object-oriented and is more like mysql/mysqli things.Usage:I have written two simple functions that give the same functionality as $stmt->get_result();, but they don't require the mysqlnd driver.You simply replace$result = $stmt->get_result(); with $fields = bindAll($stmt); and $row= $stmt->get_result(); with $row = fetchRowAssoc($stmt, $fields);.(To get the numbers of returned rows you can use $stmt->num_rows.)You just have to place these two functions I have written somewhere in your PHP Script. (for example right at the bottom)How it works:My code uses the $stmt->result_metadata(); function to figure out how many and which fields are returned and then automatically binds the fetched results to pre-created references. Works like a charm!

how do i remove a comma off the end of a string?

zeckdude

[how do i remove a comma off the end of a string?](https://stackoverflow.com/questions/1642698/how-do-i-remove-a-comma-off-the-end-of-a-string)

I want to remove the comma off the end of a string. As it is now i am usingbut that only removes the last character of the string. I am adding the string dynamically, so sometimes there is no comma at the end of the string. How can I have PHP remove the comma off the end of the string if there is one at the end of it?

2009-10-29 10:14:34Z

I want to remove the comma off the end of a string. As it is now i am usingbut that only removes the last character of the string. I am adding the string dynamically, so sometimes there is no comma at the end of the string. How can I have PHP remove the comma off the end of the string if there is one at the end of it?Docs for rtrim here This is a classic question, with two solutions. If you want to remove exactly one comma, which may or may not be there, use:If you want to remove all commas from the end of a line use the simpler:The rtrim function (and corresponding ltrim for left trim) is very useful as you can specify a range of characters to remove, i.e. to remove commas and trailing whitespace you would write:i guess you're concatenating something in the loop, likemuch better is to collect items in an array and then join it with a delimiter you needthis solves trailing and double delimiter problems that usually occur with concatenationIf you're concatenating something in the loop, you can do it in this way too:have a look at the rtrim function the above line will remove a char if the last char is a commahttp://php.net/manual/en/function.substr.phpA simple regular expression would workrtrim ($string , ","); is the easiest way.Precede that with:I had a pesky "invisible" space at the end of my string and had to do thisBut a solution above is better

How to sum all column values in multi-dimensional array?

marknt15

[How to sum all column values in multi-dimensional array?](https://stackoverflow.com/questions/1496682/how-to-sum-all-column-values-in-multi-dimensional-array)

How can I add all the columnar values by associative key? Note that key sets are dynamic.  Input array:Desired result:

2009-09-30 07:59:32Z

How can I add all the columnar values by associative key? Note that key sets are dynamic.  Input array:Desired result:You can use array_walk_recursive() to get a general-case solution for your problem (the one when each inner array can possibly have unique keys).Example with array_walk_recursive() for the general caseAlso, since PHP 5.5 you can use the array_column() function to achieve the result you want for the exact key, [gozhi], for example :Example with array_column() for the specified keyIf you want to get the total sum of all inner arrays with the same keys (the desired result that you've posted), you can do something like this (bearing in mind that the first inner array must have the same structure as the others) :Example with array_column() in case all inner arrays have the same keysIf you want a general-case solution using array_column() then at first you may consider to get all unique keys , and then get the sum for each key :Example with array_column() for the general caseHere is a solution similar to the two others:But this doesn’t need to check if the array keys already exist and doesn’t throw notices neither.It can also be done using array_map :Use this snippet: Another version, with some benefits below.I wanted to combine the best of Gumbo's, Graviton's, and Chris J's answer with the following goals so I could use this in my app:a) Initialize the 'sum' array keys outside of the loop (Gumbo). Should help with performance on very large arrays (not tested yet!).  Eliminates notices.b) Main logic is easy to understand without hitting the manuals. (Graviton, Chris J).c) Solve the more general problem of adding the values of any two arrays with the same keys and make it less dependent on the sub-array structure.Unlike Gumbo's solution, you could reuse this in cases where the values are not in sub arrays.  Imagine in the example below that $arr1 and $arr2 are not hard-coded, but are being returned as the result of calling a function inside a loop.It can also be done using array_walk:Not so readable like previous solutions but it works :)Here's a version where the array keys may not be the same for both arrays, but you want them all to be there in the final array.We need to check first if array key does exist.CODE:OUTPUT With Array Key Validation:OUTPUT Without Array Key Validation:This is a bad practice although it prints the output. Always check first if key does exist.For those who landed here and are searching for a solution that merges N arrays AND also sums the values of identical keys found in the N arrays, I've written this function that works recursively as well. (See: https://gist.github.com/Nickology/f700e319cbafab5eaedc)Example:Will result in:Here's the code:Here you have how I usually do this kind of operations.You can try this:and finally:this works great on my laravel projectGo through each item of the array and sum values to previous values if they exist, if not just assign the value.Output:For example, you can pluck all fields from a result like this below.I am picking out the 'balance' from an array and save to a variablethen on the next line u can sum like this:Hope it helps.

PHP best way to MD5 multi-dimensional array?

Peter John

[PHP best way to MD5 multi-dimensional array?](https://stackoverflow.com/questions/2254220/php-best-way-to-md5-multi-dimensional-array)

What is the best way to generate an MD5 (or any other hash) of a multi-dimensional array? I could easily write a loop which would traverse through each level of the array, concatenating each value into a string, and simply performing the MD5 on the string. However, this seems cumbersome at best and I wondered if there was a funky function which would take a multi-dimensional array, and hash it.

2010-02-12 18:37:37Z

What is the best way to generate an MD5 (or any other hash) of a multi-dimensional array? I could easily write a loop which would traverse through each level of the array, concatenating each value into a string, and simply performing the MD5 on the string. However, this seems cumbersome at best and I wondered if there was a funky function which would take a multi-dimensional array, and hash it.(Copy-n-paste-able function at the bottom)As mentioned prior, the following will work.However, it's worth noting that (ironically) json_encode performs noticeably faster:In fact, the speed increase is two-fold here as (1) json_encode alone performs faster than serialize, and (2) json_encode produces a smaller string and therefore less for md5 to handle.Edit: Here is evidence to support this claim:JSON_ENCODE is consistently over 250% (2.5x) faster (often over 300%) -- this is not a trivial difference. You may see the results of the test with this live script here:Now, one thing to note is array(1,2,3) will produce a different MD5 as array(3,2,1).  If this is NOT what you want. Try the following code:Edit: There's been some question as to whether reversing the order would produce the same results. So, I've done that (correctly) here:As you can see, the results are exactly the same.  Here's the (corrected) test originally created by someone related to Drupal:And for good measure, here's a function/method you can copy and paste (tested in 5.3.3-1ubuntu9.5):I'm joining a very crowded party by answering, but there is an important consideration that none of the extant answers address. The value of json_encode() and serialize() both depend upon the order of elements in the array!Here are the results of not sorting and sorting the arrays, on two arrays with identical values but added in a different order (code at bottom of post):Therefore, the two methods that I would recommend to hash an array would be:The choice of json_encode() or serialize() should be determined by testing on the type of data that you are using. By my own testing on purely textual and numerical data, if the code is not running a tight loop thousands of times then the difference is not even worth benchmarking. I personally use json_encode() for that type of data.Here is the code used to generate the sorting test above:My quick deep_ksort() implementation, fits this case but check it before using on your own projects:Answer is highly depends on data types of array values.

For big strings use:For short strings and integers use: 4 built-in PHP functions can transform array to string:

serialize(), json_encode(), var_export(), print_r().Test results for multi-dimensional array with md5-hashes (32 char) in keys and values:Test result for numeric multi-dimensional array:Associative array test source.

Numeric array test source.Aside from Brock's excellent answer (+1), any decent hashing library allows you to update the hash in increments, so you should be able to update with each string sequentially, instead having to build up one giant string.See: hash_updateWill work, but the hash will change depending on the order of the array (that might not matter though).Note that serialize and json_encode act differently when it comes to numeric arrays where the keys don't start at 0, or associative arrays.

json_encode will store such arrays as an Object, so json_decode returns an Object, where unserialize will return an array with exact the same keys.I think that this could be a good tip:Important note about serialize()I don't recommend to use it as part of hashing function because it can return different result for the following examples. Check the example below:Simple example:ProducesBut the following code:Output:So instead of second object php just create link "r:2;" to the first instance. It's definitely good and correct way to serialize data, but it can lead to the issues with your hashing function. there are several answers telling to use json_code,but json_encode don't work fine with iso-8859-1 string, as soon as there is a special char, the string is cropped.i would advice to use var_export :not as slow as serialize, not as bugged as json_encodeCurrently the most up-voted answer md5(serialize($array)); doesn't work well with objects.Consider code:Even though arrays are different (they contain different objects), they have same hash when using md5(serialize($array));. So your hash is useless!To avoid that problem, you can replace objects with result of spl_object_hash() before serializing. You also should do it recursively if your array has multiple levels. Code below also sorts arrays by keys, as dotancohen have suggested.Now you can use md5(serialize(replaceObjectsWithHashes($array))).(Note that the array in PHP is value type. So replaceObjectsWithHashes function DO NOT change original array.)I didn't see the solution so easily above so I wanted to contribute a simpler answer. For me, I was getting the same key until I used ksort (key sort):Sorted first with Ksort, then performed sha1 on a json_encode:example:Output of altered arrays and hashes:

Read each line of txt file to new array element

Dan

[Read each line of txt file to new array element](https://stackoverflow.com/questions/6159683/read-each-line-of-txt-file-to-new-array-element)

I am trying to read every line of a text file into an array and have each line in a new element.

My code so far.

2011-05-28 04:40:51Z

I am trying to read every line of a text file into an array and have each line in a new element.

My code so far.If you don't need any special processing, this should do what you're looking forThe fastest way that I've found is: where $filename is going to be the path & name of your file, eg. ../filename.txt.Depending how you've set up your text file, you'll have might have to play around with the \n bit.Just use this:FILE_IGNORE_NEW_LINES avoid to add newline at the end of each array element 

You can also use FILE_SKIP_EMPTY_LINES to Skip empty linesreference hereObviously, you'll need to create a file handle first and store it in $file.It's just easy as that:file_get_contents() - gets the whole file as string.explode("\n") - will split the string with the delimiter "\n" - what is ASCII-LF escape for a newline.But pay attention - check that the file has UNIX-Line endings. if "\n" will not work properly you have a other coding of2 newline and you can try "\r\n", "\r" or "\025"You were on the right track, but there were some problems with the code you posted. First of all, there was no closing bracket for the while loop. Secondly, $line_of_text would be overwritten with every loop iteration, which is fixed by changing the = to a .= in the loop. Third, you're exploding the literal characters '\n' and not an actual newline; in PHP, single quotes will denote literal characters, but double quotes will actually interpret escaped characters and variables.This will be accept the txt file as array. So write anything to the links.txt file (use one line for one element) after, run this page :) your array will be $fileThis has been covered here quite well, but if you REALLY need even better performance than anything listed here, you can use this approach that uses strtok.Note, this assumes your file is saved with \n as the newline character (you can update that as need be), and it also stores the words/names/lines as the array keys instead of the values, so that you can use it as a lookup table, allowing the use of isset (much, much faster), instead of in_array.

Prevent nginx 504 Gateway timeout using PHP set_time_limit()

Nyxynyx

[Prevent nginx 504 Gateway timeout using PHP set_time_limit()](https://stackoverflow.com/questions/16002268/prevent-nginx-504-gateway-timeout-using-php-set-time-limit)

I am getting 504 timeouts message from nginx when my PHP script is running longer than usual. set_time_limit(0) does not seem to prevent that! Does it not work when running php5-fpm on nginx? If so, whats the proper way of setting the time limit?Error:

2013-04-14 17:47:02Z

I am getting 504 timeouts message from nginx when my PHP script is running longer than usual. set_time_limit(0) does not seem to prevent that! Does it not work when running php5-fpm on nginx? If so, whats the proper way of setting the time limit?Error:There are several ways in which you can set the timeout for php-fpm. In /etc/php5/fpm/pool.d/www.conf I added this line:Also, in /etc/nginx/sites-available/default I added the following line to the location block of the server in question:The entire location block looks like this:Now just restart php-fpm and nginx and there should be no more timeouts for requests taking less than 180 seconds.Try this link, it has a better solution on how to fix this. So the steps are:You can't use PHP to prevent a timeout issued by nginx.To configure nginx to allow more time see the proxy_read_timeout directive. The correct answer is increasing fastcgi_read_timeout in your Nginx configuration.Simple as that! Add these variables to nginx.conf file:And then restart:There are three kinds of timeouts which can occur in such a case. It can be seen that each answer is focused on only one aspect of these possibilities. So, I thought to write it down so someone visiting here in future does not need to randomly check each answer and get success without knowing which worked.So the fixes for each issue are as follows.So use the one that you need. Maybe in some cases, you need all these configurations. 

I needed.You need to add extra nginx directive (for ngx_http_proxy_module) in nginx.conf, e.g.:Basically the nginx proxy_read_timeout directive changes the proxy timeout, the FcgidIOTimeout is for scripts that are quiet too long, and FcgidBusyTimeout is for scripts that take too long to execute.Also if you're using FastCGI application, increase these options as well:Then reload nginx and PHP5-FPM.In Plesk, you can add it in Web Server Settings under Additional nginx directives.For FastCGI check in Web Server Settings under Additional directives for HTTP.See: How to fix FastCGI timeout issues in Plesk?Since you're using php-fpm you should take advantage of fastcgi_finish_request() for processing requests you know can take longer.Using set_time_limit(0) is useless when using php-fpm or similar process manager.Bottomline is not to use set_time_limit when using php-fpm, to increase your execution timeout, check this tutorial.I solve this trouble with config APACHE !

All methods (in this topic) is incorrect for me... Then I try chanche apache config:Timeout 3600Then my script worked!

PHP - add item to beginning of associative array [duplicate]

teepusink

[PHP - add item to beginning of associative array [duplicate]](https://stackoverflow.com/questions/5783750/php-add-item-to-beginning-of-associative-array)

How can I add an item to the beginning of an associative array?  For example, say I have an array like this:When I add something to it as in $arr['key0'] = 'value0';, I get:How do I make that to beThanks,

Tee

2011-04-25 22:01:31Z

How can I add an item to the beginning of an associative array?  For example, say I have an array like this:When I add something to it as in $arr['key0'] = 'value0';, I get:How do I make that to beThanks,

TeeYou could use the union operator:or array_merge.One way is with array_merge:Depending on circumstances, you may also make use of ksort.If you don't want to merge the arrays you could just use ksort() on the array before iterating over it.

How can I check if the current date/time is past a set date/time?

dave

[How can I check if the current date/time is past a set date/time?](https://stackoverflow.com/questions/2832467/how-can-i-check-if-the-current-date-time-is-past-a-set-date-time)

I'm trying to write a script that will check if the current date/time is past the 05/15/2010 at 4PMHow can I use PHP's date() function to perform this check? 

2010-05-14 07:21:56Z

I'm trying to write a script that will check if the current date/time is past the 05/15/2010 at 4PMHow can I use PHP's date() function to perform this check? Since PHP >= 5.2.2 you can use the DateTime class as such:The string passed to the DateTime constructor is parsed according to these rules. Note that it is also possible to use time and strtotime functions. See original answer.There's also the DateTime class which implements a function for comparison operators.Check PHP's strtotime-function to convert your set date/time to a timestamp: http://php.net/manual/en/function.strtotime.phpIf strtotime can't handle your date/time format correctly ("4:00PM" will probably work but not "at 4PM"), you'll need to use string-functions, e.g. substr to parse/correct your format and retrieve your timestamp through another function, e.g. mktime.Then compare the resulting timestamp with the current date/time (if ($calulated_timestamp > time()) { /* date in the future */ }) to see whether the set date/time is in the past or the future.I suggest to read the PHP-doc on date/time-functions and get back here with some of your source-code once you get stuck.

phpunit mock method multiple calls with different arguments

Aleksei Kornushkin

[phpunit mock method multiple calls with different arguments](https://stackoverflow.com/questions/5988616/phpunit-mock-method-multiple-calls-with-different-arguments)

Is there any way to define different mock-expects for different input arguments? For example, I have database layer class called DB. This class has method called "Query ( string $query )", that method takes an SQL query string on input. Can I create mock for this class (DB) and set different return values for different Query method calls that depends on input query string?

2011-05-13 07:25:28Z

Is there any way to define different mock-expects for different input arguments? For example, I have database layer class called DB. This class has method called "Query ( string $query )", that method takes an SQL query string on input. Can I create mock for this class (DB) and set different return values for different Query method calls that depends on input query string?The PHPUnit Mocking library (by default) determines whether an expectation matches based solely on the matcher passed to expects parameter and the constraint passed to method. Because of this, two expect calls that only differ in the arguments passed to with will fail because both will match but only one will verify as having the expected behavior. See the reproduction case after the actual working example.For you problem you need to use ->at() or ->will($this->returnCallback( as outlined in another question on the subject.It's not ideal to use at() if you can avoid it because as their docs claimSince 4.1 you can use withConsecutive eg.If you want to make it return on consecutive calls:From what I've found, the best way to solve this problem is by using PHPUnit's value-map functionality.Example from PHPUnit's documentation:This test passes. As you can see:From what I can tell, this feature was introduced in PHPUnit 3.6, so it's "old" enough that it can be safely used on pretty much any development or staging environments and with any continuous integration tool.It seems Mockery (https://github.com/padraic/mockery) supports this. In my case I want to check that 2 indices are created on a database:Mockery, works:PHPUnit, this fails:Mockery also has a nicer syntax IMHO. It appears to be a tad slower than PHPUnits built-in mocking capability, but YMMV.Okay I see there is one solution provided for Mockery, so as I don't like Mockery, I am going to give you a Prophecy alternative but I would suggest you first to read about the difference between Mockery and Prophecy first.Long story short: "Prophecy uses approach called message binding - it means that behaviour of the method does not change over time, but rather is changed by the other method."Once again, Prophecy is more awesome! My trick is to leverage the messaging binding nature of Prophecy and even though it sadly looks like a typical, callback javascript hell code, starting with $self = $this; as you very rarely have to write unit tests like this I think it's a nice solution and it's definitely easy to follow, debug, as it actually describes the program execution.BTW: There is a second alternative but requires changing the code we are testing. We could wrap the troublemakers and move them to a separate class:could be wrapped as:and that's it but as I didn't want to create another class for it, I prefer the first one.

Best way to store JSON in an HTML attribute?

BadHorsie

[Best way to store JSON in an HTML attribute?](https://stackoverflow.com/questions/7322682/best-way-to-store-json-in-an-html-attribute)

I need to put a JSON object into an attribute on an HTML element.EDIT - Example solution using PHP and jQueryWriting the JSON into the HTML attribute:Retrieving the JSON using jQuery:

2011-09-06 15:52:56Z

I need to put a JSON object into an attribute on an HTML element.EDIT - Example solution using PHP and jQueryWriting the JSON into the HTML attribute:Retrieving the JSON using jQuery:Why not? Validation is really easy QA that catches lots of mistakes. Use an HTML 5 data-* attribute.I've not seen any documentation on browser limits to attribute sizes.If you do run into them, then store the data in a <script>. Define an object and map element ids to property names in that object.Just follow the normal rules for including untrusted data in attribute values. Use &amp; and &quot; (if you’re wrapping the attribute value in double quotes) or &#x27; (if you’re wrapping the attribute value in single quotes).Note, however, that that is not JSON (which requires that property names be strings and strings be delimited only with double quotes).Depending on where you put it,For the first two cases (and for old JSON parsers) you should encode U+2028 and U+2029 since those are newline characters in JavaScript even though they are allowed in strings unencoded in JSON.For correctness, you need to escape \ and JSON quote characters and it's never a bad idea to always encode NUL.If the HTML might be served without a content encoding, you should encode + to prevent UTF-7 attacks.In any case, the following escaping table will work:So the JSON string value for the text Hello, <World>! with a newline at the end would be "Hello, \u003cWorld\u003e!\r\n".Another way you can do it – is put json data inside <script> tag, but not with type="text/javascript", but with type="text/bootstrap" or type="text/json" type, to avoid javascript execution.Then, in some place of your program, you can ask for it in this way:On server side, you can do something like this (this example with php and twig):Another option is to base64 encode the JSON string and if you need to use it in your javascript decode it with the atob() function.You can use knockoutjs,knockout.jsOutputFirst name: Jayson

Last name: MonterrosoCheck this:

http://learn.knockoutjs.com/Nothing fancy here. From PHP, give the JSON string a run through htmlspecialchars to make sure no special characters can be interpreted as HTML. From Javascript, no escaping necessary; just set the attribute and you're good to go.What you can do is use  cdata around your element/s like this where mydata is a raw json string. Hope this helps you and others.Another thought that could be used is store the JSON data as a base64 string in the attribute and then using window.atob or window.btoa to restore it to usable JSON data.For simple JSON objects, the code below would work.Encode:Decode:

Which one is the best PDF-API for PHP? [closed]

coderex

[Which one is the best PDF-API for PHP? [closed]](https://stackoverflow.com/questions/1648715/which-one-is-the-best-pdf-api-for-php)

Which one of these is the best PDF-API for PHP?

2009-10-30 09:06:33Z

Which one of these is the best PDF-API for PHP?personally i'd rather go with tcpdf which is an ehnanced and mantained version of fpdf.From the mpdf site:

"mPDF is a PHP class which generates PDF files from UTF-8 encoded HTML. It is based on FPDF and HTML2FPDF, with a number of enhancements."mpdf is superior to FPDF for language handling and UTF-8 support.  For CJK support it not only supports font embedding, but font subsetting (so your CJK PDFs are not oversized).  TCPDF and FPDF have nothing on the UTF-8 and Font support of mpdf.  It even comes with some open source fonts as of version 5.0.This is just a quick review of how fPDF stands up against tcPDF in the area of performance at each libraries most basic functions.17.0366 seconds to process 2000 PDF files using fPDF ||

79.5982 seconds to process 2000 PDF files using tcPDF788 fPDF ||

1,860 tcPDFThe code used was as identical as possible and renders just a clean PDF file with no text. This is also using the latest version of each library as of June 22, 2011. I found mpdf better than tcpdf in terms of html rendering.

It can parse css styles much better and create pdf that look very similar to the original html. mpdf even supports css things like border-radius and gradient etc.I am surprised to see why mpdf is so less talked about when it comes to html to pdf.Check out the examples here http://www.mpdf1.com/mpdf/index.php?page=ExamplesI found it useful for designing invoices, receipts and simple prints etc.

However the website itself says that pdfs generated from mpdf tend to be larger in size.Try TCPDF. I find it the best so far.For detailed tutorial on using the two most popular pdf generation classes: TCPDF and FPDF.. please follow this link: PHP: Easily create PDF on the fly with TCPDF and FPDFHope it helps.Personally I prefer to use dompdf for simple PDF pages as it is very quick.  you simply feed it an HTML source and it will generate the required page.   however for more complex designs i prefer the more classic pdflib which is available as a pecl for PHP. it has greater control over designs and allows you do do more complex designs like pixel-perfect forms.http://sourceforge.net/projects/html2ps/, is the best if you need the css and 3c compatibily.if you can install software on your server, i suggest you to use http://wkhtmltopdf.org/.There is also a drupal module using wkhtmltopdf :)PHP take many resources to convert html in pdf, imho, php is not the right language to do that (if you expect a large numbers of coversion or large files to convert)The Zend Framework's Zend_Pdf is really good. It's on par with pdflib in terms of control of output and complexity and is more portable because its a pure php solution. That said, its slower and uses more memory than pdflib. 

Pecl modules are always more efficient than a php solution.DOMPdf is the easiest way to make a pdf quickly. Like Mike said, feed it html and it outputs a pdf. Under the hood, it has the option to use either r&ospdf or pdflib as the rendering engine.I personally generate XSL:FO from PHP and use Apache FOP to convert it to PDF. Not a PHP-native solution, not very efficient either, but it works well even if you need to generate PDF with very complex layouts.

PHP UML Generator [closed]

Jeffrey04

[PHP UML Generator [closed]](https://stackoverflow.com/questions/393603/php-uml-generator)

How do I generate UML diagram based on existing classes in PHP?

2008-12-26 08:00:08Z

How do I generate UML diagram based on existing classes in PHP?There's also the PHP UML tool available from pear.PHP_UML:Install it on the command  line via:$ pear install pear/php_uml(This used to be $ pear install pear/php_uml-alpha but the package has since gone stable.)Generate your xmi:$ phpuml -o project.xmiI strongly recommend BOUML which:Step by step guidethe best (Windows) software i have found to do PHP and UML is Sparx Systems Enterprise Architect. besides a pletora of features, it supports the following for PHP:not free ($199), but definitely worth the money.Have you tried Autodia yet? Last time I tried it it wasn't perfect, but it was good enough.There's also php2xmi. You have to do a bit of manual work, but it generates all the classes, so all you have to do is to drag them into a classdiagram in Umbrello.Otherwise, generating a diagram with the use of reflection and graphviz, is fairly simple. I have a snippet over here, that you can use as a starting point.Here's how I did it (directly from code to PDF drawing without manual drawing of anything):Here's an example of suitable command line for using fdp to output PDF diagram (assuming that dot file generated by argouml-graphviz XLST processing is saved as xmi-model.dot):As an alternative you could try PHP_UML or php2xmi instead of BOUML for doing the "reverse engineering" part. I haven't yet tried that.(I'm using the phrase "reverse engineering" because it seems that UML people are using those words when they mean extracting class and method information from the source code. I would personally interpret those words as extracting information from executable binary file or captured raw wire data.)If you prefer drawing the class diagram by hand (instead of using computer to do all the drawing), you can use either BOUML or ArgoUML for the drawing. Using the "reverse engineered" data via BOUML will help in that case.If you are looking to generate UML easily from your existing PHP Classes you might want to consider PHPStorm 3.0 IDE.  It does a good job of replicating existing code into UML.Have a look at the PHP Storm feature list.You can use Visual Paradigm for UML. This might not be the best paid (it's US$699) product, just as an option if anyone would like to try. It can create class diagram from PHP and vice versa, and not only PHP, there's a bunch of language you can choose such as C#, C++, Ruby, Java, VB.NET, Python, Objective C, Perl, etc. There's also a trial you can check on.In theory you can use PhpStorm to visualise your classes using UML. The generation is not really great but you can effectively refactor stuff and again, at least preview parents, implementations, constants, attributes, methods and their visibility in a nice way. SituationI want to visualise a communication between already existing components to a colleague.Process using PHPStorm https://blog.jetbrains.com/phpstorm/2017/09/uml-diagrams-in-phpstorm-2017-2/AdvantagesDisadvantagesResultAnyway, after some painful hour of work I was only able to generate unrelated boxes and had to use additional program to link relations. Really bad. But I believe once they make it work properly it will be a great feature because as the code changes, the diagrams would be automatically updated!For now, don't use PhpStorm for UML diagrams.Well to be honest, first and foremost you shouldn't generate UML model from code, but code from UML model ;).Even if you are in a rare situation, when you need to do this reverse engineering, it is generally suggested that you do it by hand or at least tidy-up the diagrams, as auto-generated UML has really poor visual (=information) value most of the time.If you just need to generate the diagrams, it's probably a good thing to ask yourself why exactly? Who is the intended audience and what is the goal? What does the auto-generated diagram have to offer, what code doesn't?Basicly I accept only one answer to that question. It just got too big and incomprehensible.Which again is a reason to start with UML in the first place, as opposed to start coding ;) It's called analysis and it's on decline, because every second guy in business thinks it's a bit too expensive and not really necessary.

How to add http:// if it doesn't exist in the URL?

Ryan

[How to add http:// if it doesn't exist in the URL?](https://stackoverflow.com/questions/2762061/how-to-add-http-if-it-doesnt-exist-in-the-url)

How can I add http:// to a URL if it doesn't already include a protocol (e.g. http://, https:// or ftp://)?Example:

2010-05-04 00:22:54Z

How can I add http:// to a URL if it doesn't already include a protocol (e.g. http://, https:// or ftp://)?Example:A modified version of @nickf code:Recognizes ftp://, ftps://, http:// and https:// in a case insensitive way.At the time of writing, none of the answers used a built-in function for this:See also: parse_url()Simply check if there is a protocol (delineated by "://") and add "http://" if there isn't.Note: This may be a simple and straightforward solution, but Jack's answer using parse_url is almost as simple and much more robust. You should probably use that one.The Best Answer for this would be something like this :Scan the string for ://, if it does not have it, prepend http:// to the string.., everything else just use the string as is.This will work unless you have rubbish input string.nickf solution modified:this code will add http:// to the URL if it’s not there.Try this. Not watertight*, but might be good enough:*: that is, prefixes like "fttps://" are treated as valid.

PHP CURL CURLOPT_SSL_VERIFYPEER ignored

Greg

[PHP CURL CURLOPT_SSL_VERIFYPEER ignored](https://stackoverflow.com/questions/15135834/php-curl-curlopt-ssl-verifypeer-ignored)

For some reason I am unable to use CURL with HTTPS. Everything was working fine untill I ran upgrade of curl libraries. Now I am experiencing this response when trying to perform CURL requests:  Problem with the SSL CA cert (path? access rights?)Following suggestions posted here on related issues I have tried to do the following:Unfortunatelly none of the above are able to solve my problem and I constantly get  Problem with the SSL CA cert (path? access rights?) message.And I don't need this verification in the first place (I am aware of security issues).Does anybody have any other suggestions?UPDATEAfter updating to the latest libraries and restart of the whole box, not just apache which I was doing it all seems to be working now again!!!

2013-02-28 12:41:50Z

For some reason I am unable to use CURL with HTTPS. Everything was working fine untill I ran upgrade of curl libraries. Now I am experiencing this response when trying to perform CURL requests:  Problem with the SSL CA cert (path? access rights?)Following suggestions posted here on related issues I have tried to do the following:Unfortunatelly none of the above are able to solve my problem and I constantly get  Problem with the SSL CA cert (path? access rights?) message.And I don't need this verification in the first place (I am aware of security issues).Does anybody have any other suggestions?UPDATEAfter updating to the latest libraries and restart of the whole box, not just apache which I was doing it all seems to be working now again!!!According to documentation: to verify host or peer certificate you need to specify alternate certificates with the CURLOPT_CAINFO option or a certificate directory can be specified with the CURLOPT_CAPATH option.Also look at CURLOPT_SSL_VERIFYHOST:We had the same problem on a CentOS7 machine. Disabling the VERIFYHOST VERIFYPEER did not solve the problem, we did not have the cURL error anymore but the response still was invalid. Doing a wget to the same link as the cURL was doing also resulted in a certificate error.-> Our solution also was to reboot the VPS, this solved it and we were able to complete the request again.For us this seemed to be a memory corruption problem. Rebooting the VPS reloaded the libary in the memory again and now it works. So if the above solution from @clover does not work try to reboot your machine.

What's better to use in PHP, $array[] = $value or array_push($array, $value)?

alex

[What's better to use in PHP, $array[] = $value or array_push($array, $value)?](https://stackoverflow.com/questions/559844/whats-better-to-use-in-php-array-value-or-array-pusharray-value)

What's better to use in PHP for appending an array member,or?Though the manual says you're better off to avoid a function call, I've also read $array[] is much slower than array_push(). What are some clarifications or benchmarks?

2009-02-18 04:28:38Z

What's better to use in PHP for appending an array member,or?Though the manual says you're better off to avoid a function call, I've also read $array[] is much slower than array_push(). What are some clarifications or benchmarks?No benchmarks, but I personally feel like $array[] is cleaner to look at, and honestly splitting hairs over milliseconds is pretty irrelevant unless you plan on appending hundreds of thousands of strings to your array.Edit: Ran this code:The first method using $array[] is almost 50% faster than the second one.This shouldn't be surprising, as the PHP manual notes this:The way it is phrased I wouldn't be surprised if array_push is more efficient when adding multiple values. EDIT: Out of curiosity, did some further testing, and even for a large amount of additions, individual $array[] calls are faster than one big array_push. Interesting.The main use of array_push() is that you can push multiple values onto the end of the array.It says in the documentation:From the php docs for array_push:Word on the street is that [] is faster because no overhead for the function call. Plus, no one really likes PHP's array functions..."Is it...haystack, needle....or is it needle haystack...ah, f*** it...[] = "One difference is that you can call array_push() with more than two parameters, i.e. you can push more than one element at a time to an array.prints 1,2,3,4A simple $myarray[] declaration will be quicker as you are just pushing an item onto the stack of items due to the lack of overhead that a function would bring.Since "array_push" is a function and it called multiple times when it is inside the loop so it will allocate a memory into the stack.

But when we are using $array[] = $value then we just assigning value to array.Second one is a function call so generally it should be slower than using core array-access features. But I think even one database query within your script will outweight 1.000.000 calls to array_push().Although the question was more about performance, people will come to this question wondering if it's good practise to use array_push or $arr[].The function might mean lesser lines for multiple values:However, array_push...I'll be sticking with $arr[].I just wan't to add : int array_push(...) return 

the new number of elements in the array (php doc). which can be useful and more compact than $myArray[] = ...; $total = count($myArray);.Also array_push(...) is meaningful when variable is used as stack. 

Enabling error display in PHP via htaccess only

Ogugua Belonwu

[Enabling error display in PHP via htaccess only](https://stackoverflow.com/questions/6127980/enabling-error-display-in-php-via-htaccess-only)

I am testing a website online.Right now, the errors are not being displayed (but I know they exist).I have access to only the .htaccess file.How do I make all errors to display using my .htaccess file?I added these lines to my .htaccess file:And the pages now display:

2011-05-25 16:50:03Z

I am testing a website online.Right now, the errors are not being displayed (but I know they exist).I have access to only the .htaccess file.How do I make all errors to display using my .htaccess file?I added these lines to my .htaccess file:And the pages now display:.htaccess:To turn the actual display of errors on.To set the types of errors you are displaying, you will need to use:Combined with the integer values from this page: http://php.net/manual/en/errorfunc.constants.phpNote if you use -1 for your integer, it will show all errors, and be future proof when they add in new types of errors.I feel like adding more details to the existing answer : Give 777 or 755 permission to the log file and then add the code at the end of .htaccess.

This will protect your log file.

These options are suited for development server. For production server you should not display any error to the end user. So change the display flags to off.For more info follow this link : Advanced PHP Error Handling via htaccessIf you want to see only fatal runtime errors:this works for me refrance 

PHP PDO returning single row

oshirowanen

[PHP PDO returning single row](https://stackoverflow.com/questions/5456626/php-pdo-returning-single-row)

UPDATE 2:So is this the most optimized it can get?UPDATE 1:I know I can add limit to the sql query, but I also want to get rid of the foreach loop, which I should not need.ORIGINAL QUESTION:I have the following script which is good IMO for returning many rows from the database because of the "foreach" section.How do I optimize this, if I know I will always only get 1 row from the database.  If I know I will only ever get 1 row from the database, I don't see why I need the foreach loop, but I don't know how to change the code.

2011-03-28 08:53:28Z

UPDATE 2:So is this the most optimized it can get?UPDATE 1:I know I can add limit to the sql query, but I also want to get rid of the foreach loop, which I should not need.ORIGINAL QUESTION:I have the following script which is good IMO for returning many rows from the database because of the "foreach" section.How do I optimize this, if I know I will always only get 1 row from the database.  If I know I will only ever get 1 row from the database, I don't see why I need the foreach loop, but I don't know how to change the code.Just fetch. only gets one row. So no foreach loop needed :Dexample (ty northkildonan):You can use fetch and LIMIT together. LIMIT has the effect that the database returns only one entry so PHP has to handle very less data. With fetch you get the first (and only) result entry from the database reponse.You can do more optimizing by setting the fetching type, see http://www.php.net/manual/de/pdostatement.fetch.php. If you access it only via column names you need to numbered array.Be aware of the ORDER clause. Use ORDER or WHERE to get the needed row. Otherwise you will get the first row in the table alle the time.Did you try:If you want just a single field, you could use fetchColumn instead of fetch - http://www.php.net/manual/en/pdostatement.fetchcolumn.phpYou could try this for a database SELECT query based on user input using PDO:how about using limit 0,1 for mysql optimisation and about your code:Thanks to Steven's suggestion to use fetchColumn, here's my recommendation to cut short one line from your code.

How to do this in Laravel, subquery where in

Marc Buurke

[How to do this in Laravel, subquery where in](https://stackoverflow.com/questions/16815551/how-to-do-this-in-laravel-subquery-where-in)

How can I make this query in Laravel:I could also do this with a join, but I need this format for performance.

2013-05-29 13:42:07Z

How can I make this query in Laravel:I could also do this with a join, but I need this format for performance.Consider this code:Have a look at the advanced wheres documentation for Fluent: http://laravel.com/docs/queries#advanced-wheresHere's an example of what you're trying to achieve:This will produce:You can use variable by using keyword "use ($category_id)"The following code worked for me:You can use Eloquent in different queries and make things easier to understand and mantain:and then we put all together:This will generate the same query that you wrote in your question.Laravel 4.2 and beyond, may use try relationship querying:-using a variableThe script is tested in Laravel 5.x and 6.x. The static closure can improve performance in some cases.generates the SQLPlease try this online tool sql2builder 

Finding the PHP File (at run time) where a Class was Defined

Alan Storm

[Finding the PHP File (at run time) where a Class was Defined](https://stackoverflow.com/questions/2420066/finding-the-php-file-at-run-time-where-a-class-was-defined)

Is there any reflection/introspection/magic in PHP that will let you find the PHP file where a particular class (or function) was defined?In other words, I have the name of a PHP class, or an instantiated object.  I want to pass this to something (function, Reflection class, etc.) that would return the file system path where the class was defined.I realize I could use (get_included_files()) to get a list of all the files that have been included so far and then parse them all manually, but that's a lot of file system access for a single attempt.  I also realize I could write some additional code in our __autoload mechanism that caches this information somewhere.  However, modifying the existing __autoload is off limits in the situation I have in mind.Hearing about extensions that can do this would be interesting, but I'd ultimately like something that can run on a "stock" install.

2010-03-10 19:55:01Z

Is there any reflection/introspection/magic in PHP that will let you find the PHP file where a particular class (or function) was defined?In other words, I have the name of a PHP class, or an instantiated object.  I want to pass this to something (function, Reflection class, etc.) that would return the file system path where the class was defined.I realize I could use (get_included_files()) to get a list of all the files that have been included so far and then parse them all manually, but that's a lot of file system access for a single attempt.  I also realize I could write some additional code in our __autoload mechanism that caches this information somewhere.  However, modifying the existing __autoload is off limits in the situation I have in mind.Hearing about extensions that can do this would be interesting, but I'd ultimately like something that can run on a "stock" install.Try ReflectionClassExample:This will return false when the filename cannot be found, e.g. on native classes.For ReflectionClass in a namespaced file, add a prefix "\" to make it global as following:Or else, it will generate an error said ReflectionClass in a namespace not defined.

I didn't have rights to make comment for above answer, so I write this as a supplement answer.if you had an includes folder, you could run a shell script command to "grep" for "class $className" by doing: $filename = ``grep -r "class $className" $includesFolder/*\ and it would return which file it was in. Other than that, i don't think there is any magic function for PHP to do it for ya.

Assign same value to multiple variables at once?

user983248

[Assign same value to multiple variables at once?](https://stackoverflow.com/questions/11651594/assign-same-value-to-multiple-variables-at-once)

How can I assign the same value for multiple variables in PHP at once ?I have something like:In my case, I can't rename all variables to have the same name (that would make things more easy), so is there any way to assign the same value to all variables in a much more compact way?

2012-07-25 14:06:09Z

How can I assign the same value for multiple variables in PHP at once ?I have something like:In my case, I can't rename all variables to have the same name (that would make things more easy), so is there any way to assign the same value to all variables in a much more compact way?

curl_exec() always returns false

Adithya

[curl_exec() always returns false](https://stackoverflow.com/questions/8227909/curl-exec-always-returns-false)

I have written this simple piece of code :In my case $website_content comes as false.

Can anyone suggest/advice something what could be going wrong?

2011-11-22 13:51:04Z

I have written this simple piece of code :In my case $website_content comes as false.

Can anyone suggest/advice something what could be going wrong?Error checking and handling is the programmer's friend. Check the return values of the initializing and executing cURL functions. curl_error() and curl_errno() will contain further information in case of failure:* The curl_init() manual states:I've observed the function to return FALSE when you're using its $url parameter and the domain could not be resolved. If the parameter is unused, the function might never return FALSE. Always check it anyways, though, since the manual doesn't clearly state what "errors" actually are.In my case I need to set VERIFYHOST and VERIFYPEER to false, like this:before the call to curl_exec($ch).Because i am working between two development environments with self-assigned certificates.

With valid certificates there is no need to set VERIFYHOST and VERIFYPEER to false because the curl_exec($ch) method will work and return the response you expect.This happened to me yesterday and in my case was because I was following a PDF manual to develop some module to communicate with an API and while copying the link directly from the manual, for some odd reason, the hyphen from the copied link was in a different encoding and hence the curl_exec() was always returning false because it was unable to communicate with the server.  It took me a couple hours to finally understand the diference in the characters bellow:Every time I tried to access the link directly from a browser it converted to something likehttps://www.xn--eexample-0m3d.com/api.It may seem to you that they are equal but if you check the encoding of the hyphens here you'll see that the first hyphen is a unicode characters U+2010 and the other is a U+002D.Hope this helps someone.

How to find out where a function is defined?

SaltLake

[How to find out where a function is defined?](https://stackoverflow.com/questions/2222142/how-to-find-out-where-a-function-is-defined)

How can I find out in which file and line a given function was defined?

2010-02-08 14:21:04Z

How can I find out in which file and line a given function was defined?You could also do this in PHP itself:Either use a IDE that allows doing so (I would recomend Eclipse PDT), or you can allways grep it if on Linux, or using wingrep. In Linux it would be something like:from within the root folder of the project.If you use an IDE like Netbeans, you can CTRL+Click the function use and it will take you to where it is defined, assuming the file is within the project folder you defined.There's no code or function to do this though.I assume that by "described" you mean "defined". For this, you ideally need a decent IDE that can do it.Heres a basic function that will scan your entire project files for a specific string and tell you which file it is in and which char position it starts at using only basic php.

Hope this helps someone...another way to check where does the function defined, try to redefine the function, PHP error system will simply returns an error told you where the function previously definedI like Tom's solution, so I thought I could share a bit more tricks with ReflectionFunction (it should work on every PHP 5):Please note that it won't show you the location for internal functions (such as _), but it still can print the API for it as below.You'll need an IDE that supports "Open Function Declaration" functionality.  A good for for php is Eclipse PDT.To look for the function definition, highlight the function name, hold CTRL + Click on the name. 

Convert SVG image to PNG with PHP

Michael Berkompas

[Convert SVG image to PNG with PHP](https://stackoverflow.com/questions/4809194/convert-svg-image-to-png-with-php)

