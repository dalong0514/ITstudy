[Best place to insert the Google Analytics code [duplicate]](https://stackoverflow.com/questions/6824095/best-place-to-insert-the-google-analytics-code)

Where’s the best place to insert the Google Analytics code in WordPress, header or footer? I prefer footer, because I wanted my site to load faster by reducing the number of scripts in the header, but can it work even if the script is in the footer?

2011-07-26 00:47:12Z

Where’s the best place to insert the Google Analytics code in WordPress, header or footer? I prefer footer, because I wanted my site to load faster by reducing the number of scripts in the header, but can it work even if the script is in the footer?Google used to recommend putting it just before the </body> tag, because the original method they provided for loading ga.js was blocking. The newer async syntax, though, can safely be put in the head with minimal blockage, so the current recommendation is just before the </head> tag. <head> will add a little latency; in the footer will reduce the number of pageviews recorded at some small margin. It's a tradeoff. ga.js is heavily cached and present on a large percentage of sites across the web, so its often served from the cache, reducing latency to almost nil. As a matter of personal preference, I like to include it in the <head>, but its really a matter of preference.As google says: If you want your scripts to load after page has been rendered, you can use:Yes, it is recommended to put the GA code in the footer anyway, as the page shouldnt count as a page visit until its read all the markup.

Clear the cache in JavaScript

Kevin Hakanson

[Clear the cache in JavaScript](https://stackoverflow.com/questions/1011605/clear-the-cache-in-javascript)

How do I clear a browsers cache with JavaScript?We deployed the latest JavaScript code but we are unable to get the latest JavaScript code.Editorial Note: This question is semi-duplicated in the following places, and the answer in the first of the following questions is probably the best.  This accepted answer is no longer the ideal solution.How to force browser to reload cached CSS/JS files?How can I force clients to refresh JavaScript files? Dynamically reload local Javascript source / json data 

2009-06-18 09:02:00Z

How do I clear a browsers cache with JavaScript?We deployed the latest JavaScript code but we are unable to get the latest JavaScript code.Editorial Note: This question is semi-duplicated in the following places, and the answer in the first of the following questions is probably the best.  This accepted answer is no longer the ideal solution.How to force browser to reload cached CSS/JS files?How can I force clients to refresh JavaScript files? Dynamically reload local Javascript source / json data You can call window.location.reload(true) to reload the current page.  It will ignore any cached items and retrieve new copies of the page, css, images, JavaScript, etc from the server.  This doesn't clear the whole cache, but has the effect of clearing the cache for the page you are on.However, your best strategy is to version the path or filename as mentioned in various other answers.  In addition, see Revving Filenames: don’t use querystring for reasons not to use ?v=n as your versioning scheme.You can't clear the cache with javascript.

A common way is to append the revision number or last updated timestamp to the file, like this:ormyscript.js?updated=1234567890Try changing the JavaScript file's src? From this:To this:This method should force your browser to load a new copy of the JS file.Other than caching every hour, or every week, you may cache according to file data.Example (in PHP):or even use file modification time:You can also force the code to be reloaded every hour, like this, in PHP :orput this at the end of your template :try using this To this:Here's a snippet of what I'm using for my latest project.From the controller:From the view:Our publishing process generates a file with the revision number of the current build.  This works by URL encoding that file and using that as a cache buster.  As a fail-over, if that file doesn't exist, the year and week number are used so that caching still works, and it will be refreshed at least once a week.Also, this provides cache busting for every page load while in the development environment so that developers don't have to worry with clearing the cache for any resources (javascript, css, ajax calls, etc).or you can just read js file by server with file_get_contets and then put in echo in the header the js contentsIf you are using php can do:I had some troubles with the code suggested by yboussard.  The inner j loop didn't work.  Here is the modified code that I use with success.Maybe "clearing cache" is not as easy as it should be. Instead of clearing cache on my browsers, I realized that "touching" the file will actually change the date of the source file cached on the server (Tested on Edge, Chrome and Firefox) and most browsers will automatically download the most current fresh copy of whats on your server (code, graphics any multimedia too). I suggest you just copy the most current scripts on the server and "do the touch thing" solution before your program runs, so it will change the date of all your problem files to a most current date and time, then it downloads a fresh copy to your browser:...the rest of your program...It took me some time to resolve this issue (as many browsers act differently to different commands, but they all check time of files and compare to your downloaded copy in your browser, if different date and time, will do the refresh), If you can't go the supposed right way, there is always another usable and better solution to it. Best Regards and happy camping. Please do not give incorrect information.

Cache api is a diferent type of cache from http cache HTTP cache is fired when the server sends the correct headers, you can't access with javasvipt.Cache api in the other hand is fired when you want, it is usefull when working with service worker so you can intersect request and answer it from this type of cache 

see:ilustration 1   ilustration 2 courseYou could use these techiques to have always a fresh content on your users:I would recomend the third one seeI tend to version my framework then apply the version number to script and style pathsclose and open the browser after executing the code in console.Cache.delete() can be used for new chrome, firefox and opera.Cause browser cache same link, you should add a random number end of the url.

new Date().getTime() generate a different number.Just add new Date().getTime() end of link as like

callOutput: https://stackoverflow.com/questions.php?1571737901173You can also disable browser caching with meta HTML tags just put html tags in the head section to avoid the web page to be cached while you are coding/testing and when you are done you can remove the meta tags.(in the head section)Refresh your page after pasting this in the head and should refresh the new javascript code too.This link will give you other options if you need them

http://cristian.sulea.net/blog/disable-browser-caching-with-meta-html-tags/or you can just create a button like soit refreshes and avoid caching but it will be there on your page till you finish testing, then you can take it off. Fist option is best I thing.

OpenLayers vs Google Maps? [closed]

Pascal MARTIN

[OpenLayers vs Google Maps? [closed]](https://stackoverflow.com/questions/1237187/openlayers-vs-google-maps)

I have used Google Maps a couple of times, but what wondering about OpenLayers.

Before starting any kind of coding, here are a couple of questions that come to my mind,I have not tried it yet, those are just out of the blue questions... 

2009-08-06 06:01:43Z

I have used Google Maps a couple of times, but what wondering about OpenLayers.

Before starting any kind of coding, here are a couple of questions that come to my mind,I have not tried it yet, those are just out of the blue questions... These are a really great questions! I'm a professional OpenLayers developer and fan, so I'll address your questions from that perspective.Why would I use OpenLayers instead of Google Maps?I would not worry at all about the long-term viability of the project. It is the premier open source client-side mapping library.Are there any common pitfalls / problems I may encounter?JavaScript Framework CompatibilityAre there maps available for many places?Is there any kind of API to display roads?Do you know any good tutorial to OpenLayers?I hope this is useful. And I'm around Stack Overflow if you have any questions!It's not necessarily a question of OpenLayers OR Google Maps. You can after all use Google Maps for your map background in OpenLayers. Some more specific answers:Why OpenLayers? PitfallsPerformanceJavaScript frameworksAvailable mapsI haven't seen much of a presence from OpenLayers users on SO but they're out there. The OpenLayers mailing lists are pretty active (I'm on Users and Dev and see anywhere from 50-100 emails a day discussing various things. You can search the lists from those links too.). I can't answer all your questions but one thing I'll put out there is that OpenLayers and google maps aren't mutually exclusive. OpenLayers is a javascript library and you can use it to interact with google maps. Check out this example: OpenLayers using google maps. And here's the main OpenLayers examples page.One point that hasn't been fully made here is that using OpenLayers avoids various restrictions Google places on the terms of service for its map APIs, including:See this FAQ and the Terms of Service for more details.All that said, as a long-time Google Maps developer who recently started using OpenLayers, I feel that Google Maps has better documentation, a larger user community, and a clearer and more stable API than OpenLayers. So you have to make a trade-off somewhere.It really depends on what you want to use the map for. To simply plot points on a map, Google Maps will be fine. The map layers for Google Maps are also quite detailed. OpenLayers on the other hand offers far more functionality and is very extensible.OpenLayers have lots of examples to get you started. As for maps, OpenLayers is only an API so you need to supply it will map layers. The Google Maps API will be limited to the map layers supplied by google.  With OpenLayer you can display pretty much any publicly available map service (WMS, WFS, TMS, WMS-C). A very good example is openstreetmap.org - (global streets map collected by the community). OSM can be added to openlayers as a TMS layer. Check out this example for instructions.Some clients may refuse, or have strong reservations, about using Google Maps. They may have valid concerns that Google may introduce advertising or change the API without notice. 

However Google Maps does have the benefit of integrating with other Google services (placemarks, adding photos, geocoding services). 

As its the web you can always combine many different mapping services and APIs. I agree with all answers, but there is one very important point that nobody mentions.

OpenLayers and Google Maps have different targets.OpenLayer is an excellent framework to display geodata, but Google Maps is a pool of services that include a framework to display geodata among other services.So, Google Maps expose a lot services and features that OpenLayes do not have.

Some examples of Google Maps features and services are region localization, sensor detection (for device with GPS) and user localization, geocoding and reverse geocoding, street view, etc.I have used both APIs. I make a software for corporations and this software requires mapping but not all clients have a GoogleMaps license, so I need to support both types of maps.I have made a common API for abstracting the differences between them and let me tell you, some stuff is easier to do in one than the other. Like limiting the bounds of where you can pan the map to, it is a lot easier to do in OpenLayers, but heatmaps are easier to use on GoogleMaps (it is officially supported by google, unlike the available OpenLayers plugins).Usually in the end you should go with OpenLayers because of the reduced headache you might get from licensing and bandwith usage from googlemaps. Both handle basic mapping (ie, displaying markers on top of a map) very well. Unless you can find a specific feature you need from one that is not present on the other you should go for OpenLayers.

See this for more information about googlemaps billing and when you can use it for free.Also GoogleMaps has its basic geolocation type as 'LatLng' and Openlayers use 'LonLat' which drives me freaking nuts because I keep mistaking the order of the parameters in function calls.In addition to those who mentioned speed problems, I would like to add that IE's VML renderer can get really slow with a vector layer with many features. One user mentioned about 200. That's about exactly what I can add before IE slows down considerable to the point of freezing. If you add features that are text labels, you can add half less, probably because internally each text label consists of two VML elements.In Google you may create a custom GOverlay whose content is a "div", which gets rendered without problems in IE.A couple of things I would add, from two perspectives: client usage and data derving.Client usage:Data serving:OL has a large fanbase and is perhaps the most used Opensource geothing used in the world.You dont see that many threads and posts about it in this cyberplace because people here tend to discuss other kind of techs, like JSF and Mobile (non geo), not because OL is like struts.However Ol has some drawbacks, mainly that it's so low level that you have to write lots of code to do common ops. That can work in the good way too, because as a developer a: you have all the code upfront and b: tweaking and customizing is very easy.There are more sophisticated free geotools, but all they do is call openlayers and abstract some of the more boring chores. So use it confidently. It's mature, robust and it's not going to die in the foreseable future. However if you want to speed up your developing process you should try the other tools that mount in top of it.have a nice day

JavaScript: How to join / combine two arrays to concatenate into one array? [duplicate]

Diesal11

[JavaScript: How to join / combine two arrays to concatenate into one array? [duplicate]](https://stackoverflow.com/questions/3975170/javascript-how-to-join-combine-two-arrays-to-concatenate-into-one-array)

I'm trying to combine 2 arrays in javascript into one.This is a quick example, i want to be able to combine them so that when the second line is read the 4th element in the array would return "d"How would i do this?

2010-10-20 06:12:55Z

I'm trying to combine 2 arrays in javascript into one.This is a quick example, i want to be able to combine them so that when the second line is read the 4th element in the array would return "d"How would i do this?

Opposite of push(); [duplicate]

Alex

[Opposite of push(); [duplicate]](https://stackoverflow.com/questions/25517633/opposite-of-push)

I need help on this problem - 'What is the opposite of the JavaScript push(); method?'Like say I had a array - I want to push(); the word 'keep' - How do I delete the string 'remove' from the array?

2014-08-27 01:35:58Z

I need help on this problem - 'What is the opposite of the JavaScript push(); method?'Like say I had a array - I want to push(); the word 'keep' - How do I delete the string 'remove' from the array?Well, you've kind of asked two questions. The opposite of push() (as the question is titled) is pop().pop() will remove the last element from exampleArray and return that element ("hi") but it will not delete the string "myName" from the array because "myName" is not the last element. What you need is shift() or splice():For more array methods, see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Mutator_methodspush() adds at end; pop() deletes from end.unshift() adds to front; shift() deletes from front.splice() can do whatever it wants, wherever it wants.

window.close and self.close do not close the window in Chrome

GµårÐïåñ

[window.close and self.close do not close the window in Chrome](https://stackoverflow.com/questions/19761241/window-close-and-self-close-do-not-close-the-window-in-chrome)

The issue is that when I invoke window.close() or self.close() it doesn't close the window. Now there seems to be a belief that in Chrome you can't close by script any window that is not script created. That is patently false but regardless it is supposed to still do it, even if it requires to pop up an alert to confirm. These are not happening.So does anyone have real, functional and proven method of closing a window using something like javascript:window.close() or javascript:self.close() that actually does what is expected and something that happens just fine in every browser that is NOT Chrome based? Any suggestions would be greatly appreciated and I am looking for Javascript specific solution, nothing JQuery or third party implementation. Update: While much of what has been suggested has serious limitations and usability issues, the latest suggestion (specific to TamperMonkey) using // @grant        window.close in the script header will often do the trick even on those tabs that normally can't handle the close method. While not entirely ideal and doesn't generalized to every case, it is a good solution in my case.

2013-11-04 03:33:02Z

The issue is that when I invoke window.close() or self.close() it doesn't close the window. Now there seems to be a belief that in Chrome you can't close by script any window that is not script created. That is patently false but regardless it is supposed to still do it, even if it requires to pop up an alert to confirm. These are not happening.So does anyone have real, functional and proven method of closing a window using something like javascript:window.close() or javascript:self.close() that actually does what is expected and something that happens just fine in every browser that is NOT Chrome based? Any suggestions would be greatly appreciated and I am looking for Javascript specific solution, nothing JQuery or third party implementation. Update: While much of what has been suggested has serious limitations and usability issues, the latest suggestion (specific to TamperMonkey) using // @grant        window.close in the script header will often do the trick even on those tabs that normally can't handle the close method. While not entirely ideal and doesn't generalized to every case, it is a good solution in my case.Ordinary javascript cannot close windows willy-nilly.  This is a security feature, introduced a while ago, to stop various malicious exploits and annoyances.From the latest working spec for window.close():This means, with one small exception, javascript must not be allowed to close a window that was not opened by that same javascript.Chrome allows that exception -- which it doesn't apply to userscripts -- however Firefox does not.  The Firefox implementation flat out states: If you try to use window.close from a Greasemonkey / Tampermonkey / userscript you will get:

Firefox: The error message, "Scripts may not close windows that were not opened by script."

Chrome: just silently fails.The best way to deal with this is to make a Chrome extension and/or Firefox add-on instead.  These can reliably close the current window.However, since the security risks, posed by window.close, are much less for a Greasemonkey/Tampermonkey script; Greasemonkey and Tampermonkey could reasonably provide this functionality in their API (essentially packaging the extension work for you).

Consider making a feature request.Chrome is currently was vulnerable to the "self redirection" exploit.  So code like this used to work in general:This is buggy behavior, IMO, and is now (as of roughly April 2015) mostly blocked.   It will still work from injected code only if the tab is freshly opened and has no pages in the browsing history.  So it's only useful in a very small set of circumstances.However, a variation still works on Chrome (v43 & v44) plus Tampermonkey (v3.11 or later).  Use an explicit @grant and plain window.close(). EG:Thanks to zanetu for the update.  Note that this will not work if there is only one tab open. It only closes additional tabs.

Firefox is secure against that exploit.  So, the only javascript way is to cripple the security settings, one browser at a time.You can open up about:config and set

allow_scripts_to_close_windows to true.  If your script is for personal use, go ahead and do that.  If you ask anyone else to turn that setting on, they would be smart, and justified, to decline with prejudice.  There currently is no equivalent setting for Chrome.Chrome 36.0.1985.125 WEDNESDAY, JULY 16, 2014

Release noteFrom my observation, this update fixed the issue on using window.close() to close the popup window. You will see this in the console when it fail, "Scripts may close only the windows that were opened by it.". That means The hacky workarounds (Brock Adams's answer) may not work in the latest release.So, in the previous Chrome released builds, the below code block may worked but not with this update.For this update, you have to update your code accordingly to close the popup window. One of the solution is to grab the popup window id and use method to remove it. Chrome extension windows API can be found at chrome.windows. Actually my chrome extension MarkView was facing this issue and I had to update my code to make it work for this Chrome Update. By the way, MarkView is tool to read and write Awesome Markdown Files, it provides features including Content Outline, Sortable Tables and code block syntax highlight with line number.I also created this post, any comments are welcome.In tampermonkey now you can useAnd then just simply callI am using the method posted by Brock Adams and it even works in Firefox, if it's user initiated.I am calling it from a button press so it is user initiated, and it is still working fine using Chrome 35-40, Internet Explorer 11, Safari 7-8 and ALSO Firefox 29-35. I tested using version 8.1 of Windows and Mac OS X 10.6, 10.9 & 10.10 if that is different. Self-Closing Window Code (on the page that closes itself)The complete code to be used on the user-opened window that can close itself:window_to_close.htmJavaScript:HTML:Try this test page: (Now tested in Chrome 40 and Firefox 35) http://browserstrangeness.bitbucket.io/window_close_tester.htm Window Opener Code (on a page that opens the above page)To make this work, security-imposed cross browser compatibility requires that the window that is to be closed must have already been opened by the user clicking a button within the same site domain.For example, the window that uses the method above to close itself, can be opened from a page using this code (code provided from my example page linked above):window_close_tester.htmJavaScript:HTML:Many people are still trying to find a way to close the Chrome browser using javascript. The following method only works when you use Chrome as APP launcher - kiosk for example!I have tested the following:I'm using the following extension: Close KioskI'm following the usage instructions and it seems to work just fine (make sure you clear the cache while doing the tests). The javascript I use is (attached to click event):I hope that helps somebody, as it's the only working solution I have found.Note: It seems the extension runs in background and adds a Chrome tray icon. It has the following option checked: "Let Chrome run in background" (or similar text). You may need to play with it, until it work for you. I unchecked it and now it works just fine!Despite thinking it is "patently false", what you say "seems to be a belief" is actually correct. The Mozilla documentation for window.close saysYou say that it is "supposed to still do it" but I don't think you'll find any reference which supports that, maybe you've misremembered something?I found a new way that works for me perfetlyThe below code worked for me -Tested on Chrome 43.0.2357.81This might be old, but let's answer it. I use top.close() to close a tab. window.close() or other open...close didn't work for me.In my case, the page needed to close, but may have been opened by a link and thus window.close would fail.The solution I chose is to issue the window.close, followed by a window.setTimeout that redirects to a different page.That way, if window.close succeeds, execution on that page stops, but if it fails, in a second, it will redirect to a different page.You can also try to use my code below. This will also help you to redirect your parent window:Parent:Popup:Only if you open a new window using window.open() will the new window be able to close using code as I have mentioned above. This works perfectly for me :) Note : Never use href to open the page in a new tab. Window.close() does not work with "href" . Use window.open() instead.I wanted to share my "solution" with this issue. It seems like most of us are trying to close a browser window in a standard browser session, where a user is visiting some website or another, after they've visited other websites, and before they'll visit some more.However, my situation is that I am building a web app for a device that will essentially be the only thing the device does. You boot it up, it launches Chrome and navigates to our app. It's not even connected to the internet, any servers it talks to are on our local Docker containers. The user needs a way to close the app (aka close Chrome) so they can access the terminal to perform system updates.So it boots up, launches Chrome in kiosk mode, at the correct address already. This happens to easily satisfy the second option in the spec:So simply calling window.close() from my kiosk app just works!Try something like this onclick="return self.close()"

jQuery get the location of an element relative to window

adib

[jQuery get the location of an element relative to window](https://stackoverflow.com/questions/3714628/jquery-get-the-location-of-an-element-relative-to-window)

Given an HTML DOM ID, how to get an element's position relative to the window in JavaScript/JQuery?  This is not the same as relative to the document nor offset parent since the element may be inside an iframe or some other elements.  I need to get the screen location of the element's rectangle (as in position and dimension) as it is currently being displayed.  Negative values are acceptable if the element is currently off-screen (have been scrolled off).This is for an iPad (WebKit / WebView) application.  Whenever the user taps on a special link in an UIWebView, I am supposed to open a popover view that displays further information about the link.  The popover view needs to display an arrow that points back to the part of the screen that invokes it.

2010-09-15 04:15:01Z

Given an HTML DOM ID, how to get an element's position relative to the window in JavaScript/JQuery?  This is not the same as relative to the document nor offset parent since the element may be inside an iframe or some other elements.  I need to get the screen location of the element's rectangle (as in position and dimension) as it is currently being displayed.  Negative values are acceptable if the element is currently off-screen (have been scrolled off).This is for an iPad (WebKit / WebView) application.  Whenever the user taps on a special link in an UIWebView, I am supposed to open a popover view that displays further information about the link.  The popover view needs to display an arrow that points back to the part of the screen that invokes it.Initially, Grab the .offset position of the element and calculate its relative position with respect to windowRefer :

1. offset

2. scroll

3. scrollTopYou can give it a try at this fiddleFollowing few lines of code explains how this can be solvedwhen .scroll event is performed, we calculate the relative position of the element with respect to window objectwhen scroll is performed in browser, we call the above event handler functionTry the bounding box. It's simple:you can call it like thisI focus for IE only as per my requirement but similar can be done for other browsersThis sounds more like you want a tooltip for the link selected.  There are many jQuery tooltips, try out jQuery qTip.  It has a lot of options and is easy to change the styles.Otherwise if you want to do this yourself you can use the jQuery .position().  More info about .position() is on http://api.jquery.com/position/$("#element").position(); will return the current position of an element relative to the offset parent.There is also the jQuery .offset(); which will return the position relative to the document.TL;DR.getBoundingClientRect() appears to be universal.  .offset() and .scrollTop() have been supported since jQuery 1.2. Thanks @user372551 and @prograhammer. To use DOM in an iframe see @ImranAnsari's solution.Try this to get the location of an element relative to window.See more @ Get the position of an element relative to the document with jQuery

How can I create and style a div using JavaScript?

Igor Dymov

[How can I create and style a div using JavaScript?](https://stackoverflow.com/questions/6840326/how-can-i-create-and-style-a-div-using-javascript)

How can I use JavaScript to create and style (and append to the page) a div, with content?

I know it's possible, but how?

2011-07-27 06:38:24Z

How can I use JavaScript to create and style (and append to the page) a div, with content?

I know it's possible, but how?Use parent reference instead of document.body.Depends on how you're doing it. Pure javascript:Doing the same using jquery is embarrassingly easy:Cheers!this solution uses the jquery libraryWhile other answers here work, I notice you asked for a div with content. So here's my version with extra content. JSFiddle link at the bottom.JavaScript (with comments):HTML:CSS:Note: CSS lines borrowed from Ratal TomalJSFiddle: https://jsfiddle.net/Rani_Kheir/erL7aowz/Here's one solution that I'd use:If you wanted the attribute and/or attribute values to be based on variables:Then, to append to the body:Easy as pie.You can create like thisComplete Runnable Snippet:

create div with id nameadd text to divtest codeoutputAnother thing I like to do is creating an object and then looping thru the object and setting the styles like that because it can be tedious writing every single style one by one.

assign multiple variables to the same value in Javascript

karthikr

[assign multiple variables to the same value in Javascript](https://stackoverflow.com/questions/16975350/assign-multiple-variables-to-the-same-value-in-javascript)

I have initialized several variables in the global scope in a JavaScript file:I need to set all of these variables to false, this is the code I currently have:Is there any way that I can set all of these variables to the same value in one line of code, or is the code I currently have the best way to do this

2013-06-07 02:30:09Z

I have initialized several variables in the global scope in a JavaScript file:I need to set all of these variables to false, this is the code I currently have:Is there any way that I can set all of these variables to the same value in one line of code, or is the code I currently have the best way to do thisNothing stops you from doingCheck this exampleThere are some gotchas. Assignment in Javascript is from right to left so when you write:it effectively translates to:which effectively translates to:Inadvertently, you just created 5 global variables--something I'm pretty sure you didn't want to do. Note: My above example assumes you are running your code in the browser, hence window. If you were to be in a different environment these variables would attach to whatever the global context happens to be for that environment (i.e., in Node.js, it would attach to global which is the global context for that environment).Now you could first declare all your variables and then assign them to the same value and you could avoid the problem.Long story short, both ways would work just fine, but the first way could potentially introduce some pernicious bugs in your code. Don't commit the sin of littering the global namespace with local variables if not absolutely necessary.Sidenote: As pointed out in the comments (and this is not just in the case of this question), if the copied value in question was not a primitive value but instead an object, you better know about copy by value vs copy by reference. Whenever assigning objects, the reference to the object is copied instead of the actual object. All variables will still point to the same object so any change in one variable will be reflected in the other variables and will cause you a major headache if your intention was to copy the object values and not the reference.There is another option that does not introduce global gotchas when trying to initialize multiple variables to the same value.  Whether or not it is preferable to the long way is a judgement call.  It will likely be slower and may or may not be more readable.  In your specific case, I think that the long way is probably more readable and maintainable as well as being faster.The other way utilizes Destructuring assignment.This allows you to initialize a set of var, let, or const variables to the same value on a single line all with the same expected scope.References:Put the varible in an array and Use a for Loop  to assign the same value to multiple variables.

jQuery access input hidden value

I-M-JM

[jQuery access input hidden value](https://stackoverflow.com/questions/4376664/jquery-access-input-hidden-value)

How can I access <input type="hidden"> tag's value attribute using jQuery?

2010-12-07 12:40:47Z

How can I access <input type="hidden"> tag's value attribute using jQuery?You can access hidden fields' values with val(), just like you can do on any other input element:Those all mean the same thing in this example.There's a jQuery selector for that:Will give you all hidden input fields and filter by those with a specific type="".The most efficient way is by ID. You can read more here:https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Writing_efficient_CSShttps://developers.google.com/speed/docs/best-practices/rendering?hl=it#UseEfficientCSSSelectorsTo get value, use:or:To set value, use: If you want to select an individual hidden field, you can select it through the different selectors of jQuery :If you have an asp.net HiddenField you need to:To access HiddenField Value:To set HiddenFieldValue  There is nothing special about <input type="hidden">:Watch out if you want to retrieve a boolean value from a hidden field!For example:(An input like this will be rendered by ASP MVC if you use @Html.HiddenFor(m => m.SomeBoolean).)Then the following will return a string 'False', not a JS boolean!If you want to use the boolean for some logic, use the following instead:Most universal way is to take value by name. It doesn't matter if its input or select form element type.

Integrating Dropzone.js into existing HTML form with other fields

Ben Thompson

[Integrating Dropzone.js into existing HTML form with other fields](https://stackoverflow.com/questions/17872417/integrating-dropzone-js-into-existing-html-form-with-other-fields)

I currently have a HTML form which users fill in details of an advert they wish to post. I now want to be able to add a dropzone for uploading images of the item for sale. I have found dropzone.js which seems to do most of what I need. However, when looking into the documentation, it appears that you need to specify the class of the whole form as 'dropzone' (as opposed to just the input element). This then means that my entire form becomes the dropzone. Is it possible to use the dropzone in just part of my form i.e. by only specifying the element as class dropzone, rather than the whole form?I could use separate forms, but I want the user to be able to submit it all with one button.Alternatively, is there another library that can do this?Many thanks

2013-07-26 03:26:05Z

I currently have a HTML form which users fill in details of an advert they wish to post. I now want to be able to add a dropzone for uploading images of the item for sale. I have found dropzone.js which seems to do most of what I need. However, when looking into the documentation, it appears that you need to specify the class of the whole form as 'dropzone' (as opposed to just the input element). This then means that my entire form becomes the dropzone. Is it possible to use the dropzone in just part of my form i.e. by only specifying the element as class dropzone, rather than the whole form?I could use separate forms, but I want the user to be able to submit it all with one button.Alternatively, is there another library that can do this?Many thanksHere's another way to do it: add a div in your form with a classname dropzone, and implement dropzone programmatically.HTML : JQuery:  Note : Disabling autoDiscover, otherwise Dropzone will try to attach twiceBlog Article  : Dropzone js + Asp.net: Easy way to upload Bulk images I had the exact same problem and found that Varan Sinayee's answer was the only one that actually solved the original question. That answer can be simplified though, so here's a simpler version.The steps are:Voilà ! You can now retrieve the data like you would with a normal form, in $_POST and $_FILES (in the example this would happen in upload.php)HTMLJSThe "dropzone.js" is the most common library for uploading images.

If you want to have the "dropzone.js" as just part of your form, you should do the following steps:1) for the client side:HTML :JQuery:2) for the server side:ASP.Net MVCEnyo's tutorial is excellent.I found that the sample script in the tutorial worked well for a button embedded in the dropzone (i.e., the form element). If you wish to have the button outside the form element, I was able to accomplish it using a click event:First, the HTML:Then, the script tag....Further to what sqram was saying, Dropzone has an additional undocumented option, "hiddenInputContainer".  All you have to do is set this option to the selector of the form you want the hidden file field to be appended to.  And voila!  The ".dz-hidden-input" file field that Dropzone normally adds to the body magically moves into your form.  No altering the Dropzone source code.Now while this works to move the Dropzone file field into your form, the field has no name.  So you will need to add:to dropzone.js after this line:around line 547.I have a more automated solution for this. No need to disable DropZone Discovery and the normal form submit will be able to send the file with any other form fields through standard form serialization. This mechanism stores the file contents as base64 string in the hidden input field when it gets processed. You can decode it back to binary string in PHP through the standard base64_decode() method.I don't know whether this method will get compromised with large files but it works with ~40MB files. You can modify the formData by catching the 'sending' event from your dropzone.In order to submit all files alongside with other form data in a single request you can copy Dropzone.js temporary hidden input nodes into your form. You can do this within addedfiles event handler:Obviosly this is a workaround dependent on implementation details. Related source code.This is just another example of how you can use Dropzone.js in an existing form.  dropzone.js :Then, later in the file I put This assumes you have a div with id #botofform that way when uploading you can use the uploaded files' names. Note: my upload script returned theuploadedfilename.jpeg

dubblenote you also would need to make a cleanup script that checks the upload directory for files not in use and deletes them ..if in a front end non authenticated form :)Here is my sample, is based on Django + Dropzone. View has select(required) and submit.I want to contribute an answer here as I too have faced the same issue - we want the $_FILES element available as part of the same post as another form. My answer is based on @mrtnmgs however notes the comments added to that question.Firstly: Dropzone posts its data via ajaxJust because you use the formData.append option still means that you must tackle the UX actions - i.e. this all happens behind the scenes and isn't a typical form post. Data is posted to your url parameter.Secondly: If you therefore want to mimic a form post you will need to store the posted dataThis requires server side code to store your $_POST or $_FILES in a session which is available to the user on another page load as the user will not go to the page where the posted data is received.Thirdly: You need to redirect the user to the page where this data is actionedNow you have posted your data, stored it in a session, you need to display/action it for the user in an additional page. You need to send the user to that page as well.So for my example:[Dropzone code: Uses Jquery]

node.js execute system command synchronously

disfated

[node.js execute system command synchronously](https://stackoverflow.com/questions/4443597/node-js-execute-system-command-synchronously)

I need in node.js functionthat will synchronously execute the given command line and return all stdout'ed by that command text.UPDATENow we have mgutz's solution which gives us exit code, but not stdout! Still waiting for a more precise answer.UPDATEmgutz updated his answer and the solution is here :)

Also, as dgo.a mentioned, there is stand-alone module exec-syncUPDATE 2014-07-30ShellJS lib arrived. Consider this is the best choice for now.UPDATE 2015-02-10AT LAST! NodeJS 0.12 supports execSync natively.

See official docs

2010-12-14 19:59:43Z

I need in node.js functionthat will synchronously execute the given command line and return all stdout'ed by that command text.UPDATENow we have mgutz's solution which gives us exit code, but not stdout! Still waiting for a more precise answer.UPDATEmgutz updated his answer and the solution is here :)

Also, as dgo.a mentioned, there is stand-alone module exec-syncUPDATE 2014-07-30ShellJS lib arrived. Consider this is the best choice for now.UPDATE 2015-02-10AT LAST! NodeJS 0.12 supports execSync natively.

See official docsNode.js (since version 0.12 - so for a while) supports execSync:You can now directly do this:and it'll do what you expect. (Defaults to pipe the i/o results to the parent process). Note that you can also spawnSync now.See execSync library.It's fairly easy to do with node-ffi. I wouldn't recommend for server processes, but for general development utilities it gets things done. Install the library.Example script:[EDIT Jun 2012: How to get STDOUT]Use ShellJS module.exec function without providing callback.Example:There's an excellent module for flow control in node.js called asyncblock. If wrapping the code in a function is OK for your case, the following sample may be considered:This is not possible in Node.js, both child_process.spawn and child_process.exec were built from the ground up to be async.For details see: https://github.com/ry/node/blob/master/lib/child_process.jsIf you really want to have this blocking, then put everything that needs to happen afterwards in a callback, or build your own queue to handle this in a blocking fashion, I suppose you could use Async.js for this task.Or, in case you have way too much time to spend, hack around in Node.js it self.This is the easiest way I found:Just to add that even though there are few usecases where you should use them, spawnSync / execFileSync / execSync were added to node.js in these commits: https://github.com/joyent/node/compare/d58c206862dc...e8df2676748eYou can achieve this using fibers. For example, using my Common Node library, the code would look like this:I get used to implement "synchronous" stuff at the end of the callback function. Not very nice, but it works. If you need to implement a sequence of command line executions you need to wrap exec into some named function and recursively call it.

This pattern seem to be usable for me:I had a similar problem and I ended up writing a node extension for this. You can check out the git repository. It's open source and free and all that good stuff !https://github.com/aponxi/npm-execxiUsage instructions are in the ReadMe file. Feel free to make pull requests or submit issues!EDIT: However it doesn't return the stdout yet... Just outputs them in real-time. It does now. Well, I just released it today. Maybe we can build on it. Anyway, I thought it was worth to mention it.you can do synchronous shell operations in nodejs like so:EDIT - this example is meant for windows environments, adjust for your own linux needs if necessaryI actually had a situation where I needed to run multiple commands one after another from a package.json preinstall script in a way that would work on both Windows and Linux/OSX, so I couldn't rely on a non-core module.So this is what I came up with:You can use it like this:EDIT: as pointed out, this doesn't actually return the output or allow you to use the result of the commands in a Node program.  One other idea for that is to use LiveScript backcalls.  http://livescript.net/

How can I custom-format the Autocomplete plug-in results?

dev.e.loper

[How can I custom-format the Autocomplete plug-in results?](https://stackoverflow.com/questions/2435964/how-can-i-custom-format-the-autocomplete-plug-in-results)

I’m using the jQuery UI Autocomplete plug-in. Is there a way to highlight search character sequence in drop-down results?For example, if I have「foo bar」as data and I type "foo" I’ll get「foo bar」in the drop-down, like this: 

2010-03-12 21:18:46Z

I’m using the jQuery UI Autocomplete plug-in. Is there a way to highlight search character sequence in drop-down results?For example, if I have「foo bar」as data and I type "foo" I’ll get「foo bar」in the drop-down, like this: Yes, you can if you monkey-patch autocomplete.In the autocomplete widget included in v1.8rc3 of jQuery UI, the popup of suggestions is created in the _renderMenu function of the autocomplete widget.  This function is defined like this: The _renderItem function is defined like this: So what you need to do is replace that _renderItem fn with your own creation that produces the desired effect.  This technique, redefining an internal function in a library, I have come to learn is called monkey-patching.  Here's how I did it: Call that function once in $(document).ready(...) .Now, this is a hack, because: ...but it illustrates the main technique, and it works for your basic requirements. updated working example: http://output.jsbin.com/qixaxinuheTo preserve the case of the match strings, as opposed to using the case of the typed characters, use this line: In other words, starting from the original code above, you just need to replace this.term with "$&".EDIT

The above changes every autocomplete widget on the page. If you want to change only one, see this question:

How to patch *just one* instance of Autocomplete on a page?this also works:a combination of @Jörn Zaefferer and @Cheeso's  responses.Super helpful. Thank you. +1.Here is a light version that sorts on "String must begin with the term":jQueryUI 1.9.0 changes how _renderItem works.The code below takes this change into consideration and also shows how I was doing highlight matching using Jörn Zaefferer's jQuery Autocomplete plugin. It will highlight all individual terms in the overall search term.Since moving to using Knockout and jqAuto I found this a much easier way of styling the results.Here it goes, a functional full example:Hope this helpsfor an even easier way, try this: Here's a rehash of Ted de Koning's solution. It includes :Here is a version that does not require any regular expressions and matches multiple results in the label.Take a look at the combobox demo, it includes result highlighting: http://jqueryui.com/demos/autocomplete/#comboboxThe regex in use there also deals with html results.Here is my version:Highlight matched text exampleyou can use folowing code:lib:and logic:it creates custom widget that can override _renderItem without overwriting _renderItem of original plugin prototype. in my example also used original render function to some simplify codeit's important thing if you want to use plugin in different places with different view of autocomplete and don't want to break your code.If you instead use the 3rd party plugin, it has a highlight option:

http://docs.jquery.com/Plugins/Autocomplete/autocomplete#url_or_dataoptions(see the Options tab)To support multiple values, just simply add following function:

How do I programmatically click a link with javascript?

arik

[How do I programmatically click a link with javascript?](https://stackoverflow.com/questions/902713/how-do-i-programmatically-click-a-link-with-javascript)

Is there a way to click on a link on my page using JavaScript?

2009-05-23 23:33:25Z

Is there a way to click on a link on my page using JavaScript?This function works in at least Firefox, and Internet Explorer. It runs any event handlers attached to the link and loads the linked page if the event handlers don't cancel the default action.If you only want to change the current page address, you can do that by simply doing this in Javascript :Simply like that : or at page load : The jQuery way to click a link isFor mailTo link, you have to write the following codeFor me, I managed to make it work that way. I deployed the automatic click in 5000 milliseconds and then closed the loop after 1000 milliseconds. Then there was only 1 automatic click.Many of the above methods have been deprecated. It is now recommended to use the constructor found hereThis will cause the anchor tag to be clicked, but it wont show if pop-up blockers are active so the user will need to allow pop-ups.Instead of clicking, can you forward to the URL that the click would go to using Javascript?  Maybe you could put something in the body onLoad  to go where you want.You could just redirect them to another page. Actually making it literally click a link and travel to it seems unnessacary, but I don't know the whole story.You can't make the user's mouse do anything. But you have full control over what happens when an event triggers.What you can do is do a click on body load. W3Schools has an example here.Client Side JS function to automatically click a link when...Here is an example where you check the value of a hidden form input, which holds an error passed down from the server.. your client side JS then checks the value of it and populates an error in another location that you specify..in this case a pop-up  login modal.

How can a Javascript object refer to values in itself? [duplicate]

Erin Drummond

[How can a Javascript object refer to values in itself? [duplicate]](https://stackoverflow.com/questions/2787245/how-can-a-javascript-object-refer-to-values-in-itself)

Lets say I have the following javascript:This errors with "key1 is not defined". I have tried and they never seem to be defined.How can I get key2 to refer to key1's value?

2010-05-07 08:39:14Z

Lets say I have the following javascript:This errors with "key1 is not defined". I have tried and they never seem to be defined.How can I get key2 to refer to key1's value?Maybe you can think about removing the attribute to a function. I mean something like this:This can be achieved by using constructor function instead of literalYou can't refer to a property of an object before you have initialized that object; use an external variable.Also, this is not a "JSON object"; it is a Javascript object. JSON is a method of representing an object with a string (which happens to be valid Javascript code).One alternative would be to use a getter/setter methods.For instance, if you only care about reading the calculated value:The above code, though, won't let you define another value for key2. So, the things become a bit more complicated if you would like to also redefine the value of key2. It will always be a calculated value. Most likely that's what you want.However, if you would like to be able to redefine the value of key2, then you will need a place to cache its value independently of the calculation.Somewhat like this:Another interesting alternative is to use a self-initializing object:Because the statement defining obj hasn't finished, key1 doesn't exist yet. Consider this solution:That's not a JSON object, that's a Javascript object created via object literal notation. (JSON is a textual notation for data exchange (more). If you're dealing with JavaScript source code, and not dealing with a string, you're not dealing with JSON.)There's no way within the object initializer to refer to another key of the object being initialized, because there's no way to get a reference to the object being created until the initializer is finished. (There's no keyword akin to this or something for this situation.)You can also reference the obj once you are inside the function instead of this.This is not JSON. JSON was designed to be simple; allowing arbitrary expressions is not simple.In full JavaScript, I don't think you can do this directly. You cannot refer to this until the object called obj is fully constructed. So you need a workaround, that someone with more JavaScript-fu than I will provide.

Correct way to import lodash

Bill

[Correct way to import lodash](https://stackoverflow.com/questions/35250500/correct-way-to-import-lodash)

I had a pull request feedback below, just wondering which way is the correct way to import lodash?vsThanks

2016-02-07 06:32:29Z

I had a pull request feedback below, just wondering which way is the correct way to import lodash?vsThanksimport has from 'lodash/has'; is better because lodash holds all it's functions in a single file, so rather than import the whole 'lodash' library at 100k, it's better to just import lodash's has function which is maybe 2k.If you are using webpack 4, the following code is tree shakable.The points to note;EditAs of version 1.9.0, Parcel also supports "sideEffects": false, threrefore import { has } from 'lodash-es'; is also tree shakable with Parcel.

It also supports tree shaking CommonJS modules, though it is likely tree shaking of ES Modules is more efficient than CommonJS according to my experiment.Import specific methods inside of curly bracketsPros:Cons:If you are using babel, you should check out babel-plugin-lodash, it will cherry-pick the parts of lodash you are using for you, less hassle and a smaller bundle.It has a few limitations:You can import them as or asthe second one is much optimized than the first because it only loads the needed modulesthen use like this

Format date in a specific timezone

quietmint

[Format date in a specific timezone](https://stackoverflow.com/questions/15347589/format-date-in-a-specific-timezone)

I'm using Moment.js to parse and format dates in my web app. As part of a JSON object, my backend server sends dates as a number of milliseconds from the UTC epoch (Unix offset).Parsing dates in a specific timezone is easy -- just append the RFC 822 timezone identifier to the end of the string before parsing:But how do I format a date in a specifc timezone?I want consistent results regardless of the browser's current time, but I don't want to display dates in UTC.

2013-03-11 20:05:51Z

I'm using Moment.js to parse and format dates in my web app. As part of a JSON object, my backend server sends dates as a number of milliseconds from the UTC epoch (Unix offset).Parsing dates in a specific timezone is easy -- just append the RFC 822 timezone identifier to the end of the string before parsing:But how do I format a date in a specifc timezone?I want consistent results regardless of the browser's current time, but I don't want to display dates in UTC.As pointed out in Manto's answer, .utcOffset() is the preferred method as of Moment 2.9.0. This function uses the real offset from UTC, not the reverse offset (e.g., -240 for New York during DST). Offset strings like "+0400" work the same as before:The older .zone() as a setter was deprecated in Moment.js 2.9.0. It accepted a string containing a timezone identifier (e.g., "-0400" or "-04:00" for -4 hours) or a number representing minutes behind UTC (e.g., 240 for New York during DST).To work with named timezones instead of numeric offsets, include Moment Timezone and use .tz() instead:Use moment-timezone Before being able to access a particular timezone, you will need to load it like so (or using alternative methods described here)A couple of answers already mention that moment-timezone is the way to go with named timezone. I just want to clarify something about this library that was pretty confusing to me. There is a difference between these two statements:Assuming that a timezone is not specified in the date passed in:The first code takes in the date and assumes the timezone is the one passed in.

The second one will take date, assume the timezone from the browser and then change the time and timezone according to the timezone passed in.Example:My timezone is +5 from utc. So in the first case it does not change and it sets the date and time to have utc timezone.In the second case, it assumes the date passed in is in -5, then turns it into UTC, and that's why it spits out the date "2018-07-18T00:00:00Z"NOTE: The format parameter is really important. If omitted moment might fall back to the Date class which can unpredictable behaviorsAssuming the timezone is specified in the date passed in:In this case they both behave equallyEven though now I understand why it works that way, I thought this was a pretty confusing feature and worth explaining..zone() has been deprecated, and you should use utcOffset instead:I was having the same issue with Moment.js. I've installed moment-timezone, but the issue wasn't resolved. Then, I did just what here it's exposed, set the timezone and it works like a charm: Thanks a lot!Just came acreoss this, and since I had the same issue, I'd just post the results I came up withwhen parsing, you could update the offset (ie I am parsing a data (1.1.2014) and I only want the date, 1st Jan 2014. On GMT+1 I'd get 31.12.2013. So I offset the value first.Well, came in handy for me to support across timezonesBYou can Try this ,Here you can get the date based on the Client Timezone (Browser).The regex basically gets you the offset value.Cheers!!

Detect iPad users using jQuery?

Rion Williams

[Detect iPad users using jQuery?](https://stackoverflow.com/questions/4617638/detect-ipad-users-using-jquery)

Is there a way to detect if the current user is using an iPad using jQuery/JavaScript?

2011-01-06 17:16:12Z

Is there a way to detect if the current user is using an iPad using jQuery/JavaScript?iPad DetectionYou should be able to detect an iPad user by taking a look at the userAgent property:iPhone/iPod DetectionSimilarly, the platform property to check for devices like iPhones or iPods:NotesWhile it works, you should generally avoid performing browser-specific detection as it can often be unreliable (and can be spoofed). It's preferred to use actual feature-detection in most cases, which can be done through a library like Modernizr.As pointed out in Brennen's answer, issues can arise when performing this detection within the Facebook app. Please see his answer for handling this scenario.Related ResourcesAlthough the accepted solution is correct for iPhones, it will incorrectly declare both isiPhone and isiPad to be true for users visiting your site on their iPad from the Facebook app.The conventional wisdom is that iOS devices have a user agent for Safari and a user agent for the UIWebView. This assumption is incorrect as iOS apps can and do customize their user agent. The main offender here is Facebook.Compare these user agent strings from iOS devices:Note that on the iPad, the Facebook UIWebView's user agent string includes 'iPhone'.The old way to identify iPhone / iPad in JavaScript:If you were to go with this approach for detecting iPhone and iPad, you would end up with IS_IPHONE and IS_IPAD both being true if a user comes from Facebook on an iPad. That could create some odd behavior!The correct way to identify iPhone / iPad in JavaScript:We declare IS_IPHONE to be false on iPads to cover for the bizarre Facebook UIWebView iPad user agent. This is one example of how user agent sniffing is unreliable. The more iOS apps that customize their user agent, the more issues user agent sniffing will have. If you can avoid user agent sniffing (hint: CSS Media Queries), DO IT.I use this:I use this:

How to access parent Iframe from JavaScript

José Leal

[How to access parent Iframe from JavaScript](https://stackoverflow.com/questions/935127/how-to-access-parent-iframe-from-javascript)

Well, I have an IFrame, which calls a same domain page.

My problem is that I want to access some information from this parent Iframe from this called page (from JavaScript). How can I access this Iframe?Details: There are several Iframes just like this one, that can have the same page loaded, because I am programming a Windows environment. I intend to close this Iframe, that's why I need to know which I should close from inside him. I have an array keeping references to these Iframes.EDIT: There iframes are generated dynamically

2009-06-01 14:43:07Z

Well, I have an IFrame, which calls a same domain page.

My problem is that I want to access some information from this parent Iframe from this called page (from JavaScript). How can I access this Iframe?Details: There are several Iframes just like this one, that can have the same page loaded, because I am programming a Windows environment. I intend to close this Iframe, that's why I need to know which I should close from inside him. I have an array keeping references to these Iframes.EDIT: There iframes are generated dynamicallyAlso you can set name and ID to equal valuesso you will be able to use next code inside child pageSimply call window.frameElement from your framed page.

If the page is not in a frame then frameElement will be null.The other way (getting the window element inside a frame is less trivial) but for sake of completeness:I would recommend using the postMessage API.In your iframe, call:In the page you're including the iframe you can listen for events like this:By the way, it is also possible to do calls to other windows, and not only iframes.Read more about the postMessage API on John Resigs blog hereOld question, but I just had this same issue and found a way to get the iframe. It's simply a matter of iterating through the parent window's frames[] array and testing each frame's contentWindow against the window in which your code is running. Example:Or, using jQuery:This method saves assigning an ID to each iframe, which is good in your case as they are dynamically created. I couldn't find a more direct way, since you can't get the iframe element using window.parent - it goes straight to the parent window element (skipping the iframe). So looping through them seems the only way, unless you want to use IDs.you can use parent to access the parent page.   So to access a function it would be:Once id of iframe is set, you can access iframe from inner document as shown below.Works well in IE, Chrome and FF.Maybe just use into your iframe to get the calling frame / windows. If you had multiple calling frame, you can use Try this, in your parent frame set up you IFRAMEs like this:Note that the id of each frame is passed as an anchor in the src.then in your inner html you can access the id of the frame it is loaded in via location.hash:then you can access parent.document.getElementById() to access the iframe tag from inside the iframe

How to split a string at the first `/` (slash) and surround part of it in a `<span>`?

Mustapha Aoussar

[How to split a string at the first `/` (slash) and surround part of it in a `<span>`?](https://stackoverflow.com/questions/16711504/how-to-split-a-string-at-the-first-slash-and-surround-part-of-it-in-a-sp)

I want to format this date: <div id="date">23/05/2013</div>.First I want to split the string at the first / and have the rest in the next line. Next, I’d like to surround the first part in a <span> tag, as follows:What I did:See the JSFiddle.But this does not work. Can someone help me with jQuery?

2013-05-23 10:27:21Z

I want to format this date: <div id="date">23/05/2013</div>.First I want to split the string at the first / and have the rest in the next line. Next, I’d like to surround the first part in a <span> tag, as follows:What I did:See the JSFiddle.But this does not work. Can someone help me with jQuery?Using split()Snippet :When you split this string ---> 23/05/2013 on /you'll get an array of size 3Instead of using substring with a fixed index, you'd better use replace :One advantage is that it would still work if the first / is at a different position.Another advantage of this construct is that it would be extensible to more than one elements, for example to all those implementing a class, just by changing the selector.Demonstration (note that I had to select jQuery in the menu in the left part of jsfiddle's window)You should use html():SEE DEMOtryuse thisTry thisDEMOLook a regular expression

http://regexone.com/lesson/misc_meta_charactersenjoy us ;-)Here the variable "res" is kind of array.You can also take this explicity by declaring it asNow you can access the individual words of the array.

Suppose you want to access the third element of the array you can use it by indexing array elements.Now the variable FirstElement contains the value 'How'

Origin <origin> is not allowed by Access-Control-Allow-Origin

bsr

[Origin <origin> is not allowed by Access-Control-Allow-Origin](https://stackoverflow.com/questions/18642828/origin-origin-is-not-allowed-by-access-control-allow-origin)

I read about cross domain ajax requests, and understand the underlying security issue. In my case, 2 servers are running locally, and like to enable cross domain requests during testing.I am issuing an ajax request to localhost:8080 - GAE server while my page is loaded from node server. What is the easiest, and safest ( Don't want to start chrome with disable-web-security option). If I have to change 'Content-Type', should I do it at node server? How?

2013-09-05 17:50:27Z

I read about cross domain ajax requests, and understand the underlying security issue. In my case, 2 servers are running locally, and like to enable cross domain requests during testing.I am issuing an ajax request to localhost:8080 - GAE server while my page is loaded from node server. What is the easiest, and safest ( Don't want to start chrome with disable-web-security option). If I have to change 'Content-Type', should I do it at node server? How?Since they are running on different ports, they are different JavaScript origin.  It doesn't matter that they are on the same machine/hostname.You need to enable CORS on the server (localhost:8080).  Check out this site: http://enable-cors.org/All you need to do is add an HTTP header to the server:Or, for simplicity:Thought don't use "*" if your server is trying to set cookie and you use withCredentials = trueYou can read more about withCredentials hereIf you need a quick work around in Chrome for ajax requests, this chrome plugin automatically allows you to access any site from any source by adding the proper response headerChrome Extension Allow-Control-Allow-Origin: *You have to enable CORS to solve thisset it in your response headers likeuse a CORS middleware likeand apply viaHere are two reference linksI accept @Rocket hazmat's answer as it lead me to the solution. It was indeed on the GAE server I needed to set the header. I had to set thesesetting only "Access-Control-Allow-Origin"  gave errorAlso, if auth token needs to be sent, add this tooAlso, at client, set withCredentialsthis causes 2 requests to sent to the server, one with OPTIONS. Auth cookie is not send with it, hence need to treat outside auth.In router.js just add code before calling get/post methods. It works for me without errors.I was facing a problem while calling cross origin resource using ajax from chrome.I have used node js and local http server to deploy my node js app.I was getting error response, when I access cross origin resourceI found one solution on that ,1) I have added below code to my app.js file2) In my html page called cross origin resource using $.getJSON();If you are using express, you can use cors middleware as follows:Add this to your NodeJS Server below imports:If you got 403 after that please reduce filters in WEB.XML tomcat config to the following: I finally got the answer for apache Tomcat8You have to edit the tomcat web.xml file.probabily it will be inside webapps folder, find it and edit itThis will allow Access-Control-Allow-Origin all hosts.

If you need to change it from all hosts to only your host you can edit theabove code from * to your http://your_public_IP or http://www.example.comyou can refer here Tomcat filter documentationThanksuse dataType: 'jsonp', works for me. Hi This is the way to solve CORS problem in node Just add these lines on server "api" side in Node.js(or what ever your server File),

befor that make sure to install "cors"For PHP, use this to set headers.If you're in Google Chrome, try installing this add-on:https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi/related

How does Bluebird's util.toFastProperties function make an object's properties「fast」?

Qantas 94 Heavy

[How does Bluebird's util.toFastProperties function make an object's properties「fast」?](https://stackoverflow.com/questions/24987896/how-does-bluebirds-util-tofastproperties-function-make-an-objects-properties)

In Bluebird's util.js file, it has the following function:For some reason, there's a statement after the return function, which I'm not sure why it's there.As well, it seems that it is deliberate, as the author had silenced the JSHint warning about this:What exactly does this function do? Does util.toFastProperties really make an object's properties "faster"?I've searched through Bluebird's GitHub repository for any comments in the source code or an explanation in their list of issues, but I couldn't find any.

2014-07-28 03:00:52Z

In Bluebird's util.js file, it has the following function:For some reason, there's a statement after the return function, which I'm not sure why it's there.As well, it seems that it is deliberate, as the author had silenced the JSHint warning about this:What exactly does this function do? Does util.toFastProperties really make an object's properties "faster"?I've searched through Bluebird's GitHub repository for any comments in the source code or an explanation in their list of issues, but I couldn't find any.2017 update: First, for readers coming today - here is a version that works with Node 7 (4+):Let's first discuss what it does and why that's faster and then why it works.The V8 engine uses two object representations:Here is a simple demo that demonstrates the speed difference. Here we use the delete statement to force the objects into slow dictionary mode. The engine tries to use fast mode whenever possible and generally whenever a lot of property access is performed - however sometimes it gets thrown into dictionary mode. Being in dictionary mode has a big performance penalty so generally it is desirable to put objects in fast mode.This hack is intended to force the object into fast mode from dictionary mode.In JavaScript prototypes typically store functions shared among many instances and rarely change a lot dynamically. For this reason it is very desirable to have them in fast mode to avoid the extra penalty every time a function is called. For this - v8 will gladly put objects that are the .prototype property of functions in fast mode since they will be shared by every object created by invoking that function as a constructor. This is generally a clever and desirable optimization. Let's first go through the code and figure what each line does:We don't have to find the code ourselves to assert that v8 does this optimization, we can instead read the v8 unit tests:Reading and running this test shows us that this optimization indeed works in v8. However - it would be nice to see how. If we check objects.cc we can find the following function (L9925):Now, JSObject::MigrateSlowToFast just explicitly takes the Dictionary and converts it into a fast V8 object. It's a worthwhile read and an interesting insight into v8 object internals - but it's not the subject here. I still warmly recommend that you read it here as it's a good way to learn about v8 objects.If we check out SetPrototype in objects.cc, we can see that it is called in line 12231:Which in turn is called by FuntionSetPrototype which is what we get with .prototype =.Doing __proto__ = or .setPrototypeOf would have also worked but these are ES6 functions and Bluebird runs on all browsers since Netscape 7 so that's out of the question to simplify code here.  For example, if we check .setPrototypeOf we can see:Which directly is on Object:So - we have walked the path from the code Petka wrote to the bare metal. This was nice. Remember this is all implementation detail. People like Petka are optimization freaks. Always remember that premature optimization is the root of all evil 97% of the time. Bluebird does something very basic very often so it gains a lot from these performance hacks - being as fast as callbacks isn't easy. You rarely have to do something like this in code that doesn't power a library.

How can I tell AngularJS to「refresh」

Dustin

[How can I tell AngularJS to「refresh」](https://stackoverflow.com/questions/12304728/how-can-i-tell-angularjs-to-refresh)

I have a click event that happens outside the scope of my custom directive, so instead of using the "ng-click" attribute, I am using a jQuery.click() listener and calling a function inside my scope like so:close() is a simple function that looks like this:In my view, I have an element with "ng-show" bound to isOpen like this:When debugging, I am finding that close() is being called, isOpen is being updated to false, but the AngularJS view is not updating. Is there a way I can manually tell Angular to update the view? Or is there a more "Angular" approach to solving this problem that I am not seeing?

2012-09-06 16:47:33Z

I have a click event that happens outside the scope of my custom directive, so instead of using the "ng-click" attribute, I am using a jQuery.click() listener and calling a function inside my scope like so:close() is a simple function that looks like this:In my view, I have an element with "ng-show" bound to isOpen like this:When debugging, I am finding that close() is being called, isOpen is being updated to false, but the AngularJS view is not updating. Is there a way I can manually tell Angular to update the view? Or is there a more "Angular" approach to solving this problem that I am not seeing?The solution was to call......in my jQuery event callback.TL;DR:

$apply should be called whenever you want to apply changes made outside of Angular world.Just to update @Dustin's answer, here is an explanation of what $apply exactly does and why it works. Angular allows any value to be used as a binding target. Then at the end of any JavaScript code turn, it checks to see if the value has changed. 

That step that checks to see if any binding values have changed actually has a method, $scope.$digest()1. We almost never call it directly, as we use $scope.$apply() instead (which will call $scope.$digest).Angular only monitors variables used in expressions and anything inside of a $watch living inside the scope. So if you are changing the model outside of the Angular context, you will need to call $scope.$apply() for those changes to be propagated, otherwise Angular will not know that they have been changed thus the binding will not be updated2.Use remember to inject $route to your controller. 

Why is <= slower than < using this code snippet in V8?

Leonardo Physh

[Why is <= slower than < using this code snippet in V8?](https://stackoverflow.com/questions/53643962/why-is-slower-than-using-this-code-snippet-in-v8)

I am reading the slides Breaking the Javascript Speed Limit with V8, and there is an example like the code below. I cannot figure out why <= is slower than < in this case, can anybody explain that? Any comments are appreciated.Slow:(Hint: primes is an array of length prime_count)Faster:[More Info] the speed improvement is significant, in my local environment test, the results are as follows: Slow:Faster:

2018-12-06 02:59:18Z

I am reading the slides Breaking the Javascript Speed Limit with V8, and there is an example like the code below. I cannot figure out why <= is slower than < in this case, can anybody explain that? Any comments are appreciated.Slow:(Hint: primes is an array of length prime_count)Faster:[More Info] the speed improvement is significant, in my local environment test, the results are as follows: Slow:Faster:I work on V8 at Google, and wanted to provide some additional insight on top of the existing answers and comments.For reference, here's the full code example from the slides:First and foremost, the performance difference has nothing to do with the < and <= operators directly. So please don't jump through hoops just to avoid <= in your code because you read on Stack Overflow that it's slow --- it isn't!Second, folks pointed out that the array is "holey". This was not clear from the code snippet in OP's post, but it is clear when you look at the code that initializes this.primes:This results in an array with a HOLEY elements kind in V8, even if the array ends up completely filled/packed/contiguous. In general, operations on holey arrays are slower than operations on packed arrays, but in this case the difference is negligible: it amounts to 1 additional Smi (small integer) check (to guard against holes) each time we hit this.primes[i] in the loop within isPrimeDivisible. No big deal!TL;DR The array being HOLEY is not the problem here.Others pointed out that the code reads out of bounds. It's generally recommended to avoid reading beyond the length of arrays, and in this case it would indeed have avoided the massive drop in performance. But why though? V8 can handle some of these out-of-bound scenarios with only a minor performance impact. What's so special about this particular case, then?The out-of-bounds read results in this.primes[i] being undefined on this line:And that brings us to the real issue: the % operator is now being used with non-integer operands!The code snippet can indeed be improved by changing the <= into < on this line:...not because <= is somehow a superior operator than <, but just because this avoids the out-of-bounds read in this particular case.Other answers and comments mention that the difference between the two loops is that the first one executes one more iteration than the second one. This is true, but in an array that grows to 25,000 elements, one iteration more or less would only make a miniscule difference. As a ballpark guess, if we assume the average length as it grows is 12,500, then the difference we might expect should be around 1/12,500, or only 0.008%.The performance difference here is much larger than would be explained by that one extra iteration, and the problem is explained near the end of the presentation.this.primes is a contiguous array (every element holds a value) and the elements are all numbers.A JavaScript engine may optimize such an array to be an simple array of actual numbers, instead of an array of objects which happen to contain numbers but could contain other values or no value. The first format is much faster to access: it takes less code, and the array is much smaller so it will fit better in cache. But there are some conditions that may prevent this optimized format from being used.One condition would be if some of the array elements are missing. For example:Now what is the value of a[1]? It has no value. (It isn't even correct to say it has the value undefined - an array element containing the undefined value is different from an array element that is missing entirely.)There isn't a way to represent this with numbers only, so the JavaScript engine is forced to use the less optimized format. If a[1] contained a numeric value like the other two elements, the array could potentially be optimized into an array of numbers only.Another reason for an array to be forced into the deoptimized format can be if you attempt to access an element outside the bounds of the array, as discussed in the presentation.The first loop with <= attempts to read an element past the end of the array. The algorithm still works correctly, because in the last extra iteration:So it's as if the extra iteration never happened - it has no effect on the rest of the logic. The code produces the same result as it would without the extra iteration.But to get there, it tried to read a nonexistent element past the end of the array. This forces the array out of optimization - or at least did at the time of this talk.The second loop with < reads only elements that exist within the array, so it allows an optimized array and code.The problem is described in pages 90-91 of the talk, with related discussion in the pages before and after that.I happened to attend this very Google I/O presentation and talked with the speaker (one of the V8 authors) afterward. I had been using a technique in my own code that involved reading past the end of an array as a misguided (in hindsight) attempt to optimize one particular situation. He confirmed that if you tried to even read past the end of an array, it would prevent the simple optimized format from being used.If what the V8 author said is still true, then reading past the end of the array would prevent it from being optimized and it would have to fall back to the slower format.Now it's possible that V8 has been improved in the meantime to efficiently handle this case, or that other JavaScript engines handle it differently. I don't know one way or the other on that, but this deoptimization is what the presentation was talking about.TL;DR The slower loop is due to accessing the Array 'out-of-bounds', which either forces the engine to recompile the function with less or even no optimizations OR to not compile the function with any of these optimizations to begin with (if the (JIT-)Compiler detected/suspected this condition before the first compilation 'version'), read on below why;

Example 1:

a Dense Array (being contiguous (means in no gaps between indexes) AND actually an element at each index) of 5 elements using 0-based indexing (always in ES262).

Thus we are not really talking about performance difference between < vs <= (or 'one extra iteration'), but we are talking:

'why does the correct snippet (b) run faster than erroneous snippet (a)'?The answer is 2-fold (although from a ES262 language implementer's perspective both are forms of optimization):    Item 1 is sufficiently (and correctly IMHO) explained by the accepted answer, but that only spends 2 words ('the code') on Item 2: compilation.More precisely: JIT-Compilation and even more importantly JIT-RE-Compilation !The language specification is basically just a description of a set of algorithms ('steps to perform to achieve defined end-result'). Which, as it turns out is a very beautiful way to describe a language. 

And it leaves the actual method that an engine uses to achieve specified results open to the implementers, giving ample opportunity to come up with more efficient ways to produce defined results. 

A spec conforming engine should give spec conforming results for any defined input.Now, with javascript code/libraries/usage increasing, and remembering how much resources (time/memory/etc) a 'real' compiler uses, it's clear we can't make users visiting a web-page wait that long (and require them to have that many resources available). Imagine the following simple function:Perfectly clear, right? Doesn't require ANY extra clarification, Right? The return-type is Number, right?

Well.. no, no & no... It depends on what argument you pass to named function parameter arr...See the problem ? Then consider this is just barely scraping the massive possible permutations...

We don't even know what kind of TYPE the function RETURN until we are done...Now imagine this same function-code actually being used on different types or even variations of input, both completely literally (in source code) described and dynamically in-program generated 'arrays'..Thus, if you were to compile function sum JUST ONCE, then the only way that always returns the spec-defined result for any and all types of input then, obviously, only by performing ALL spec-prescribed main AND sub steps can guarantee spec conforming results (like an unnamed pre-y2k browser). 

No optimizations (because no assumptions) and dead slow interpreted scripting language remains.JIT-Compilation (JIT as in Just In Time) is the current popular solution. So, you start to compile the function using assumptions regarding what it does, returns and accepts.

you come up with checks as simple as possible to detect if the function might start returning non-spec conformant results (like because it receives unexpected input). 

Then, toss away the previous compiled result and recompile to something more elaborate, decide what to do with the partial result you already have (is it valid to be trusted or compute again to be sure), tie in the function back into the program and try again. Ultimately falling back to stepwise script-interpretation as in spec.All of this takes time!All browsers work on their engines, for each and every sub-version you will see things improve and regress. Strings were at some point in history really immutable strings (hence array.join was faster than string concatenation), now we use ropes (or similar) which alleviate the problem. Both return spec-conforming results and that is what matters!Long story short: just because javascript's language's semantics often got our back (like with this silent bug in the OP's example) does not mean that 'stupid' mistakes increases our chances of the compiler spitting out fast machine-code. It assumes we wrote the 'usually' correct instructions: the current mantra we 'users' (of the programming language) must have is: help the compiler, describe what we want, favor common idioms (take hints from asm.js for basic understanding what browsers can try to optimize and why).Because of this, talking about performance is both important BUT ALSO a mine-field (and because of said mine-field I really want to end with pointing to (and quoting) some relevant material:Source:

"JITProf: Pinpointing JIT-unfriendly JavaScript Code"

Berkeley publication,2014, by Liang Gong, Michael Pradel, Koushik Sen.

http://software-lab.org/publications/jitprof_tr_aug3_2014.pdf     ASM.JS (also doesn't like out off bound array access):      http://asmjs.org/spec/latest/and finally https://blogs.windows.com/msedgedev/2015/05/07/bringing-asm-js-to-chakra-microsoft-edge/

were there is a small subsection about the engine's internal performance improvements when removing bounds-check (whilst just lifting the bounds-check outside the loop already had an improvement of 40%).EDIT:

note that multiple sources talk about different levels of JIT-Recompilation down to interpretation.     Theoretical example based on above information, regarding the OP's snippet:     Hence time then was:

First run (failed at end) + doing all work all over again using slower machine-code for each iteration + the recompilation etc.. clearly takes >2 times longer  in this theoretical example!EDIT 2: (disclaimer: conjecture based in facts below)

The more I think of it, the more I think that this answer might actually explain the more dominant reason for this 'penalty' on erroneous snippet a (or performance-bonus on snippet b, depending on how you think of it), precisely why I'm adament in calling it (snippet a) a programming error:It's pretty tempting to assume that this.primes is a 'dense array' pure numerical which was either We also know that the primes array's length is cached as prime_count ! (indicating it's intent and fixed size).We also know that most engines initially pass Arrays as copy-on-modify (when needed) which makes handeling them much more fast (if you don't change them). It is therefore reasonable to assume that Array primes is most likely already an optimized array internally  which doesn't get changed after creation (simple to know for the compiler if there is no code modifiying the array after creation) and therefore is already (if applicable to the engine) stored in an optimized way, pretty much as if it was a Typed Array.As I have tried to make clear with my sum function example, the argument(s) that get passed higly influence what actually needs to happen and as such how that particular code is being compiled to machine-code. Passing a String to the sum function shouldn't change the string but change how the function is JIT-Compiled! Passing an Array to sum should compile a different (perhaps even additional for this type, or 'shape' as they call it, of object that got passed) version of machine-code. As it seems slightly bonkus to convert the Typed_Array-like primes Array on-the-fly to something_else while the compiler knows this function is not even going to modify it!     Under these assumptions that leaves 2 options:     I now really wonder which of these 2 it is!To add some scientificness to it, here's a jsperfhttps://jsperf.com/ints-values-in-out-of-array-boundsIt tests the control case of an array filled with ints and looping doing modular arithmetic while staying within bounds. It has 5 test cases:It shows that the first 4 cases are really bad for performance. Looping out of bounds is a bit better than the other 3, but all 4 are roughly 98% slower than the best case.

The new Array() case is almost as good as the raw array, just a few percent slower.

Javascript reduce() on Object

Pavel S.

[Javascript reduce() on Object](https://stackoverflow.com/questions/15748656/javascript-reduce-on-object)

There is nice Array method reduce() to get one value from the Array. Example:What is the best way to achieve the same with objects? I'd like to do this:However, Object does not seem to have any reduce() method implemented.

2013-04-01 17:53:04Z

There is nice Array method reduce() to get one value from the Array. Example:What is the best way to achieve the same with objects? I'd like to do this:However, Object does not seem to have any reduce() method implemented.What you actually want in this case are the Object.values. Here is a concise ES6 implementation with that in mind:or simply:One option would be to reduce the keys():With this, you'll want to specify an initial value or the 1st round will be 'a' + 2.If you want the result as an Object ({ value: ... }), you'll have to initialize and return the object each time:ES6 implementation: Object.entries()First of all, you don't quite get what's reduce's previous value is.In you pseudo code you have return previous.value + current.value, therefore the previous value will be a number on the next call, not an object.Second, reduce is an Array method, not an Object's one, and you can't rely on the order when you're iterating the properties of an object (see: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in, this is applied to Object.keys too); so I'm not sure if applying reduce over an object makes sense.However, if the order is not important, you can have:Or you can just map the object's value:P.S. in ES6 with the fat arrow function's syntax (already in Firefox Nightly), you could shrink a bit:Extend Object.prototype.Sample of using.n'Joy it, guys!!  ;-)1:2:3:You can use a generator expression (supported in all browsers for years now, and in Node) to get the key-value pairs in a list you can reduce on:An object can be turned into an array with: Object.entries(), Object.keys(), Object.values(), and then be reduced as array. But you can also reduce an object without creating the intermediate array. I've created a little helper library odict for working with objects. It has reduce function that works very much like Array.prototype.reduce():You could also assign it to:as this method is very useful!So the answer to your question would be:If you can use an array, do use an array, the length and order of an array are half its worth./*  returned value: (Number)

6

*/This is not very difficult to implement yourself:In action:You can also add it to the Object prototype:Since it hasnt really been confirmed in an answer yet, Underscore's reduce also works for this.Note, _.reduce will return the only value (object or otherwise) if the list object only has one item, without calling iterator function.Try out this one liner arrow function

Does「untyped」also mean「dynamically typed」in the academic CS world?

Peter Cooper

[Does「untyped」also mean「dynamically typed」in the academic CS world?](https://stackoverflow.com/questions/9154388/does-untyped-also-mean-dynamically-typed-in-the-academic-cs-world)

I'm reading a slide deck that states "JavaScript is untyped." This contradicted what I thought to be true so I started digging to try and learn more.Every answer to Is JavaScript an untyped language? says that JavaScript is not untyped and offered examples of various forms of static, dynamic, strong, and weak typing that I'm familiar and happy with.. so that wasn't the way to go.So I asked Brendan Eich, the creator of JavaScript, and he said:Do academically-focused computer science folks use "untyped" as a synonym of "dynamically typed" (and is this valid?) or is there something deeper to this that I am missing? I agree with Brendan that context is important but any citations of explanations would be great as my current "go to" books are not playing ball on this topic.I want to nail this down so I can improve my understanding and because even Wikipedia doesn't refer to this alternative usage (that I can find, anyway). I don't want to mess up with either using the term or questioning the use of the term in future if I'm wrong :-)(I've also seen a top Smalltalker say Smalltalk is "untyped" too, so it's not a one-off which is what set me off on this quest! :-))

2012-02-06 00:26:22Z

I'm reading a slide deck that states "JavaScript is untyped." This contradicted what I thought to be true so I started digging to try and learn more.Every answer to Is JavaScript an untyped language? says that JavaScript is not untyped and offered examples of various forms of static, dynamic, strong, and weak typing that I'm familiar and happy with.. so that wasn't the way to go.So I asked Brendan Eich, the creator of JavaScript, and he said:Do academically-focused computer science folks use "untyped" as a synonym of "dynamically typed" (and is this valid?) or is there something deeper to this that I am missing? I agree with Brendan that context is important but any citations of explanations would be great as my current "go to" books are not playing ball on this topic.I want to nail this down so I can improve my understanding and because even Wikipedia doesn't refer to this alternative usage (that I can find, anyway). I don't want to mess up with either using the term or questioning the use of the term in future if I'm wrong :-)(I've also seen a top Smalltalker say Smalltalk is "untyped" too, so it's not a one-off which is what set me off on this quest! :-))Yes, this is standard practice in academic literature. To understand it, it helps to know that the notion of "type" was invented in the 1930s, in the context of lambda calculus (in fact, even earlier, in the context of set theory). Since then, a whole branch of computational logic has emerged that is known as "type theory". Programming language theory is based on these foundations. And in all these mathematical contexts, "type" has a particular, well-established meaning.The terminology "dynamic typing" was invented much later -- and it is a contradiction in terms in the face of the common mathematical use of the word "type".For example, here is the definition of "type system" that Benjamin Pierce uses in his standard text book Types and Programming Languages:He also remarks:Most people working in the field seem to be sharing this point of view.Note that this does not mean that "untyped" and "dynamically typed" are synonyms. Rather, that the latter is a (technically misleading) name for a particular case of the former.PS: And FWIW, I happen to be both an academic researcher in type systems, and a non-academic implementer of JavaScript, so I have to live with the schisma. :)I am an academic computer scientist specializing in programming languages, and yes, the word "untyped" is frequently (mis)-used in this way.  It would be nice to reserve the word for use with languages that don't carry dynamic type tags, such as Forth and assembly code, but these languages are rarely used and even more rarely studied, and it's a lot easier to say "untyped" than "dynamically typed".Bob Harper is fond of saying that languages like Scheme, Javascript, and so on should be considered typed languages with just a single type: value.  I lean to this view, as it makes it possible to construct a consistent worldview using just one type formalism.P.S. In pure lambda calculus, the only "values" are terms in normal form, and the only closed terms in normal form are functions.  But most scientists who use the lambda calculus add base types and constants, and then you either include a static type system for lambda or you are right back to dynamic type tags.P.P.S. To original poster: when it comes to programming languages, and especially type systems, the information on Wikipedia is of poor quality.  Don't trust it.I've looked into it, and found that the answer to your question is simply, and surprisingly, "yes": academic CS types, or at least some of them, do use "untyped" to mean "dynamically typed". For example, Programming Languages: Principles and Practices, Third Edition (by Kenneth C. Louden and Kenneth A. Lambert, published 2012) says this:[link] (note: bolding in original) and goes on to use "untyped" in just this way.I find this surprising (for much the same reasons that afrischke and Adam Mihalcin give), but there you are. :-)Edited to add: You can find more examples by plugging "untyped languages" into Google Book Search. For example:— Jacob Matthews and Amal Ahmed, 2008 [link]— Charles Consel, 1990 [link]By the way, my impression, after looking through these search results, is that if a researcher writes of an "untyped" functional language, (s)he very likely does consider it to be "untyped" in the same sense as the untyped lambda calculus that Adam Mihalcin mentions. At least, several researchers mention Scheme and the lambda calculus in the same breath.What the search doesn't say, of course, is whether there are researchers who reject this identification, and don't consider these languages to be "untyped". Well, I did find this:— someone (I can't tell who), 1998 [link]but obviously most people who reject this identification wouldn't feel a need to explicitly say so.Untyped and dynamically typed are absolutely not synonyms.  The language that is most often called "untyped" is the Lambda Calculus, which is actually a unityped language - everything is a function, so we can statically prove that the type of everything is the function.  A dynamically typed language has multiple types, but does not add a way for the compiler to statically check them, forcing the compiler to insert runtime checks on variable types.Then, JavaScript is a dynamically typed language: it is possible to write programs in JavaScript such that some variable x could be a number, or a function, or a string, or something else (and determining which one would require solving the Halting Problem or some hard mathematical problem), so you can apply x to an argument and the browser has to check at runtime that x is a function.Both statements are correct, depending on whether you are talking about values or variables. JavaScript variables are untyped, JavaScript values have types, and variables can range over any value type at runtime (i.e. 'dynamically').In JavaScript and many other languages, values and not variables carry types. All variables can range over all types of values and may be considered "dynamically typed" or "untyped" - from the perspective of type-checking a variable that has no/unknowable type and a variable that can take any type are logically and practically equivalent. When type theorists talk about languages and types, they are usually talking about this - variables carrying types - because they are interested in writing type checkers and compilers and so on, which operate on program text (i.e. variables) and not a running program in memory (i.e. values).By contrast in other languages, like C, variables carry types but values do not. In languages like Java, variables and values both carry types. In C++, some values (those with virtual functions) carry types and others do not. In some languages it is even possible for values to change types, although this is usually considered bad design.This question is all about SemanticsIf I give you this data: 12 what is it's type? You have no way of knowing for sure. Could be an integer - could be a float - could be a string. In that sense it's very much "untyped" data. If I give you an imaginary language which lets you use operators like "add", "subtract", and "concatenate" on this data and some other arbitrary piece of data the "type" is somewhat irrelevant (to my imaginary language) (example: perhaps add(12, a) yields 109 which is 12 plus the ascii value of a).Let's talk C for a second. C pretty much lets you do whatever you want with any arbitrary piece of data. If you're using a function that takes two uints - you could cast and pass anything you want - and the values will simply be interpreted as uints. In that sense C is "untyped" (if you treat it in such a way).However - and getting to Brendan's point - if I told you that "My age is 12" - then 12 has a type - at least we know it's numeric. With context everything has a type - regardless of the language.This is why I said at the beginning - your question is one of semantics. What is the meaning of "untyped"? I think Brendan hit the nail on the head when he said "no static types" - because that's all it can possibly mean. Humans naturally classify things into types. We intuitively know that there is something fundamentally different between a car and a monkey - without ever being taught to make those distinctions. Getting back to my example in the beginning - a language that "doesn't care about types" (per-se) may let you "add" an "age" and a "name" without producing a syntax error... but that doesn't mean it's a logically sound operation.Javascript may let you do all sorts of crazy things without considering them "errors". That doesn't mean what you are doing is logically sound. Thats for the developer to work out. Is a system/language which doesn't enforce type safety at compile/build/interpretation time "untyped" or "dynamically typed"? Semantics.EDITI wanted to add something here because some people seem to be getting caught up on "yeah, but Javascript does have some "types"". In my comment on someone else's answer I said: In Javascript I could have objects I've built up to be "Monkeys" and objects I've built up to be "Humans" and some functions could be designed to operate on only "Humans", others on only "Monkeys", and yet others on only "Things With Arms". Whether or not the language has ever been told there is such a category of objects as "things with arms" is as irrelevant to assembly ("untyped") as it is to Javascript ("dynamic"). It's all a matter of logical integrity - and the only error would be using something that didn't have arms with that method. So, if you consider Javascript to have some "notion of types" internally - and, hence "dynamic types" - and think this is somehow "distinctly different from an untyped system" - you should see from the above example that any "notion of types" it has internally is really irrelevant. To perform the same operation with C#, for example, I'd NEED an interface called ICreatureWithArms or something similar. Not so in Javascript - not so in C or ASM. Clearly, whether or not Javascript has any understanding of "types" at all is irrelevant. While it is true that most of the CS researchers that write about types essentially consider only languages with syntactically-derivable types as typed languages, there are lots more of us using dynamically/latently typed languages who take umbrage at that usage.I consider there to be 3 types [SIC] of languages:Untyped - only the operator determines the interpretation of the value - and it generally works on anything.  Examples: Assembler, BCPLStatically typed - expressions/variables have types associated with them, and that type determines the interpretation/validity of the operator at compile-time.  Examples: C, Java, C++, ML, HaskellDynamically typed - values have types associated with them, and that type determines the interpretation/validity of the operator at run-time.  Examples: LISP, Scheme, Smalltalk, Ruby, Python, JavascriptTo my knowledge, all dynamically-typed languages are type-safe - i.e. only valid operators can operate on values.  But the same is not true for statically-typed language.  Depending on the power of the type system used, some operators may be checked only at run-time, or not at all.  For example, most statically-typed languages do not handle integer overflow properly (adding 2 positive integers can produce a negative integer), and out-of-bound array references are either not checked at all (C, C++) or are checked only at run-time.  Further, some type systems are so weak that useful programming requires escape hatches (casts in C and family) to change the compile-time type of expressions.All of this leads to absurd claims, such as that C++ is safer than Python because it's (statically-typed), whereas the truth is that Python is intrinsically safe while you can shoot your leg off with C++.I am not a computer scientist, but I would be rather surprised if "untyped" were really used as a synonym for "dynamically typed" in the CS community (at least in scientific publications) as imho those two terms describe different concepts. A dynamically typed language has a notion of types and it enforces the type constraints at runtime (you can't for example divide an integer by a string in Lisp without getting an error) while an untyped language doesn't have any notion of types at all (e.g. assembler). Even the Wikipedia article about programming languages (http://en.m.wikipedia.org/wiki/Programming_language#Typed_versus_untyped_languages) makes this distinction.Update: Maybe the confusion comes from the fact that some texts say something to the extent that "variables are not typed" in Javascript (which is true). But that doesn't automatically mean that the language is untyped (which would be false).Agree with Brendan - context is everything. My take:I remember being confused, circa 2004, because there were arguments breaking out about whether Ruby was untyped or dynamically typed. Old school C/C++ people (of which I was one) were thinking about the compiler and saying Ruby was untyped.Remember, in C, there are no runtime types, there are just addresses and if the code that's executing decides to treat whatever's at that address as something it isn't, whoops. That's definitely untyped and very different from dynamically typed.In that world, "typing" is all about the compiler. C++ had "strong typing" because the compiler's checks were more stringent. Java and C were more "weakly typed" (there were even arguments about whether Java was strongly or weakly typed). Dynamic languages were, in that continuum, "untyped" because they had no compiler type checking.Today, for practicing programmers, we're so used to dynamic languages, we obviously think of untyped to mean no compiler nor interpreter type-checking, which would be insanely hard to debug. But there was a period there where that wasn't obvious and in the more theoretical world of CS is may not even be meaningful.In some deep sense, nothing can be untyped (or almost nothing, anyway) because you must have some intent in manipulating a value to write a meaningful algorithm. This is the world of theoretical CS, which isn't dealing with the specifics of how a compiler or interpreter is implemented for a given language. So "untyped" is (probably, I don't know) entirely meaningless in that context.

How to subtract date/time in JavaScript? [duplicate]

Ahmad Farid

[How to subtract date/time in JavaScript? [duplicate]](https://stackoverflow.com/questions/4944750/how-to-subtract-date-time-in-javascript)

I have a field at a grid containing date/time and I need to know the difference between that and the current date/time. What could be the best way of doing so?The dates are stored like "2011-02-07 15:13:06".

2011-02-09 12:20:26Z

I have a field at a grid containing date/time and I need to know the difference between that and the current date/time. What could be the best way of doing so?The dates are stored like "2011-02-07 15:13:06".This will give you the difference between two dates, in millisecondsIn your example, it'd beYou need to make sure that compareDate is a valid Date object.Something like this will probably work for youi.e. turning "2011-02-07 15:13:06" into new Date('2011/02/07 15:13:06'), which is a format the Date constructor can comprehend.You can just substract two date objects.Unless you are subtracting dates on same browser client and don't care about edge cases like day light saving time changes, you are probably better off using moment.js which offers powerful localized APIs. For example, this is what I have in my utils.js:You can use getTime() method to convert the Date to the number of milliseconds since January 1, 1970. Then you can easy do any arithmetic operations with the dates. Of course you can convert the number back to the Date with setTime(). See here an example.If you wish to get difference in wall clock time, for local timezone and with day-light saving awareness.TestDiff minutes or seconds is in same fashion.

Is it possible to send a variable number of arguments to a JavaScript function?

Fire Crow

[Is it possible to send a variable number of arguments to a JavaScript function?](https://stackoverflow.com/questions/1959040/is-it-possible-to-send-a-variable-number-of-arguments-to-a-javascript-function)

Is it possible to send a variable number of arguments to a JavaScript function, from an array? I've recently written a lot of Python and it's a wonderful pattern to be able to accept varargs and send them. e.g.Is it possible in JavaScript to send an array to be treated as the arguments array? 

2009-12-24 17:02:53Z

Is it possible to send a variable number of arguments to a JavaScript function, from an array? I've recently written a lot of Python and it's a wonderful pattern to be able to accept varargs and send them. e.g.Is it possible in JavaScript to send an array to be treated as the arguments array? Update: Since ES6, you can simply use the spread syntax when calling the function:Since ES6 also if you expect to treat your arguments as an array, you can also use the spread syntax in the parameter list, for example:And you can combine it with normal parameters, for example if you want to receive the first two arguments separately and the rest as an array:And maybe is useful to you, that you can know how many arguments a function expects:But anyway you can pass an arbitrary number of arguments...The spread syntax is shorter and "sweeter" than apply and if you don't need to set the this value in the function call, this is the way to go.Here is an apply example, which was the former way to do it:Nowadays I only recommend using apply only if you need to pass an arbitrary number of arguments from an array and set the this value. apply takes is the this value as the first arguments, which will be used on the function invocation, if we use null in non-strict code, the this keyword will refer to the Global object (window) inside func, in strict mode, when explicitly using 'use strict' or in ES modules, null will be used.Also note that the arguments object is not really an Array, you can convert it by:And in ES6:But you rarely use the arguments object directly nowadays thanks to the spread syntax.You can actually pass as many values as you want to any javascript function.  The explicitly named parameters will get the first few values, but ALL parameters will be stored in the arguments array.To pass the arguments array in "unpacked" form, you can use apply, like so (c.f. Functional Javascript):The splat and spread operators are part of ES6, the planned next version of Javascript. So far only Firefox supports them. This code works in FF16+:Note the awkard syntax for spread. The usual syntax of sprintf('The %s %s fox jumps over the %s dog.', ...arr); is not yet supported. You can find an ES6 compatibility table here.Note also the use of for...of, another ES6 addition. Using for...in for arrays is a bad idea.There are two methods as of ES2015.This object is built into functions, and it refers to, appropriately, the arguments of a function. It is not technically an array, though, so typical array operations won't work on it. The suggested method is to use Array.from or the spread operator to create an array from it.I've seen other answers mention using slice. Don't do that. It prevents optimizations (source: MDN).However, I would argue that arguments is problematic because it hides what a function accepts as input. An arguments function typically is written like this:Sometimes, the function header is written like the following to document the arguments in a C-like fashion:But that is rare.As for why it is problematic, take C, for example. C is backwards compatible with an ancient pre-ANSI dialect of the language known as K&R C. K&R C allows function prototypes to have an empty arguments list.ANSI C provides a facility for varargs (...), and void to specify an empty arguments-list.Many people inadvertently declare functions with an unspecified arguments list (int myfunction();), when they expect the function to take zero arguments. This is technically a bug because the function will accept arguments. Any number of them.A proper varargs function in C takes the form:And JavaScript actually does have something similar to this.I've already shown you the spread operator, actually.It's pretty versatile, and can also be used in a function's argument-list ("rest parameters") to specify varargs in a nicely documented fashion:Or as a lambda expression:I much prefer the spread operator. It is clean and self-documenting.The apply function takes two arguments; the object this will be binded to, and the arguments, represented with an array.It's called the splat operator. You can do it in JavaScript using apply:With ES6 you can use rest parameters for varagrs. This takes the argument list and converts it to an array.This is a sample program for calculating sum of integers for variable arguments and array on integers. Hope this helps.For those who were redirected here from Passing variable number of arguments from one function to another (which should not be marked as a duplicate of this question):If you're trying to pass a variable number of arguments from one function to another, since JavaScript 1.8.5 you can simply call apply() on the second function and pass in the arguments parameter:Note: The first argument is the this parameter to use. Passing null will call the function from the global context, i.e. as a global function instead of the method of some object.According to this document, the ECMAScript 5 specification redefined the apply() method to take any "generic array-like object", instead of strictly an Array. Thus, you can directly pass the arguments list into the second function.Tested in Chrome 28.0, Safari 6.0.5, and IE 10. Try it out with this JSFiddle.Yes you can pass variable no. of arguments to a function. You can use apply to achieve this.E.g.:Do you want your function to react to an array argument or variable arguments? If the latter, try:But if you wish to handle an array argument

Javascript date.getYear() returns 111 in 2011? [duplicate]

JK.

[Javascript date.getYear() returns 111 in 2011? [duplicate]](https://stackoverflow.com/questions/4754938/javascript-date-getyear-returns-111-in-2011)

I have this javascript for automatically setting a date filter to the first and last day of the previous month:BUT now.getYear() is returning 111 instead of the expected 2011.  Is there something obvious I've missed?

2011-01-21 02:52:09Z

I have this javascript for automatically setting a date filter to the first and last day of the previous month:BUT now.getYear() is returning 111 instead of the expected 2011.  Is there something obvious I've missed?https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/getYearIn order to comply with boneheaded precedent, getYear() returns the number of years since 1900.Instead, you should call getFullYear(), which returns the actual year.From what I've read on Mozilla's JS pages, getYear is deprecated. As pointed out many times, getFullYear() is the way to go. If you're really wanting to use getYear() add 1900 to it.

How do I clear this setInterval inside a function?

Oscar Godson

[How do I clear this setInterval inside a function?](https://stackoverflow.com/questions/2901108/how-do-i-clear-this-setinterval-inside-a-function)

Normally, I’d set the interval to a variable and then clear it like var the_int = setInterval(); clearInterval(the_int); but for my code to work I put it in an anonymous function:How do I clear this? I gave it a shot and tried var test = intervalTrigger(); clearInterval(test); to be sure, but that didn’t work.Basically, I need this to stop triggering once my Google Map is clicked, e.g.

2010-05-24 23:43:12Z

Normally, I’d set the interval to a variable and then clear it like var the_int = setInterval(); clearInterval(the_int); but for my code to work I put it in an anonymous function:How do I clear this? I gave it a shot and tried var test = intervalTrigger(); clearInterval(test); to be sure, but that didn’t work.Basically, I need this to stop triggering once my Google Map is clicked, e.g.The setInterval method returns a handle that you can use to clear the interval. If you want the function to return it, you just return the result of the method call:Then to clear the interval:Simply add a class (on any element) and check inside the interval if it's there. This is more reliable, customisable and cross-language than any other way, I believe.

JavaScript Array splice vs slice

Renat Gatin

[JavaScript Array splice vs slice](https://stackoverflow.com/questions/37601282/javascript-array-splice-vs-slice)

What is the difference between splice and slice?

2016-06-02 20:13:40Z

What is the difference between splice and slice?splice() changes the original array whereas slice() doesn't but both of them returns array object.See the examples below:This will return [3,4,5]. The original array is affected resulting in array being [1,2].This will return [3,4,5]. The original array is NOT affected with resulting in array being [1,2,3,4,5].Below is simple fiddle which confirms this:Splice and Slice both are Javascript Array functions.Splice vs SliceSplice with ExampleArgument 1: Index, Required. An integer that specifies at what position to add /remove items, Use negative values to specify the position from the end of the array.Argument 2: Optional. The number of items to be removed. If set to 0(zero), no items will be removed. And if not passed, all item(s) from provided index will be removed.Argument 3…n: Optional. The new item(s) to be added to the array.Slice with ExampleArgument 1: Required. An integer that specifies where to start the selection (The first element has an index of 0). Use negative numbers to select from the end of an array.Argument 2: Optional. An integer that specifies where to end the selection but does not include. If omitted, all elements from the start position and to the end of the array will be selected. Use negative numbers to select from the end of an array.The slice() method returns a copy of a portion of an array into a new array object.This does NOT change the participantForms array but returns a new array containing the single element found at the index position in the original array.The splice() method changes the content of an array by removing existing elements and/or adding new elements.This will remove one element from the participantForms array at the index position.These are the Javascript native functions, AngularJS has nothing to do with them.Here is a simple trick to remember the difference between slice vs spliceTrick to remember:Think of "spl" (first 3 letters of splice) as short for "specifiy length", that the second argument should be a length not an indexSyntax

array.splice(start[, deleteCount[, item1[, item2[, ...]]]])  Parameters  Returns: An array with deleted elements (empty array if none removed)  Mutate original array: Yes  More examples in MDN Splice examples  Syntax

array.slice([begin[, end]])

Parameters  Returns: An array containing the extracted elements.  Mutate original: No  More examples in MDN Slice examples  Don't take this as absolute truth as depending on each scenario one might be performant than the other.

Performance test  Splice and Slice are built-in Javascript commands -- not specifically AngularJS commands. Slice returns array elements from the "start" up until just before the "end" specifiers. Splice mutates the actual array, and starts at the "start" and keeps the number of elements specified. Google has plenty of info on this, just search.Another example:slice does not change original array it return new array but splice changes the original array.splice method second argument is different from slice method. second argument in splice represent count of elements to remove and in slice it represent end index.-1 represent last element so it start from -3 to -1.

Above are major difference between splice and slice method.The difference between Slice() and Splice() javascript build-in functions is,

Slice returns removed item but did not change the original array ;

like, but in splice() case it affects original array; like,The splice() method returns the removed items in an array. 

The slice() method returns the selected element(s) in an array, as a new array object.The splice() method changes the original array and slice() method doesn’t change the original array.JavaScript Array splice() Method By ExampleExample1 by tutsmake -Remove 2 elements from index 2Example-2 By tutsmake – Add new element from index 0 JavaScriptExample-3 by tutsmake – Add and Remove Elements in Array JavaScripthttps://www.tutsmake.com/javascript-array-splice-method-by-example/

TypeScript: Creating an empty typed container array

darethas

[TypeScript: Creating an empty typed container array](https://stackoverflow.com/questions/15826745/typescript-creating-an-empty-typed-container-array)

I am creating simple logic game called "Three of a Crime" in TypeScript.When trying to pre-allocated typed array in TypeScript, I tried to do something like this:which gave the error 

    "Check format of expression term" .also tried doing thisand this produced "cannot convert any[] to 'Criminal'what is the 'TypeScript' way to do this?

2013-04-05 05:43:23Z

I am creating simple logic game called "Three of a Crime" in TypeScript.When trying to pre-allocated typed array in TypeScript, I tried to do something like this:which gave the error 

    "Check format of expression term" .also tried doing thisand this produced "cannot convert any[] to 'Criminal'what is the 'TypeScript' way to do this?The existing answers missed an option, so here's a complete list:It's a matter of personal preference, but I find the third option the most readable. In the vast majority of cases the mentioned downsides would be negligible and readability is the most important factor.*: Fun fact; at the time of writing the performance difference was 60% in Chrome, while in Firefox there was no measurable performance difference.The issue of correctly pre-allocating a typed array in TypeScript was somewhat obscured for due to the array literal syntax, so it wasn't as intuitive as I first thought. The correct way would beThis will give you a correctly typed, empty array stored in the variable 'arr'Hope this helps others!I know this is an old question but I recently faced a similar issue which couldn't be solved by this way, as I had to return an empty array of a specific type.I hadwhere [] was Criminal[] type.Neither return: Criminal[] []; nor return []: Criminal[]; worked for me.At first glance I solved it by creating a typed variable (as you correctly reported) just before returning it, but (I don't know how JavaScript engines work) it may create overhead and it's less readable.For thoroughness I'll report this solution in my answer too:Eventually I found TypeScript type casting, which allowed me to solve the problem in a more concise and readable (and maybe efficient) way:Hope this will help future readers!For publicly access use like below:

Vue 2 - Mutating props vue-warn

Dariusz Chowański

[Vue 2 - Mutating props vue-warn](https://stackoverflow.com/questions/39868963/vue-2-mutating-props-vue-warn)

I started https://laracasts.com/series/learning-vue-step-by-step series. I stopped on the lesson Vue, Laravel, and AJAX with this error:I have this code in main.jsI know that the problem is in created() when I overwrite the list prop, but I am a newbie in Vue, so I totally don't know how to fix it. Anyone have an idea how (and please explain why) to fix it?

2016-10-05 08:29:02Z

I started https://laracasts.com/series/learning-vue-step-by-step series. I stopped on the lesson Vue, Laravel, and AJAX with this error:I have this code in main.jsI know that the problem is in created() when I overwrite the list prop, but I am a newbie in Vue, so I totally don't know how to fix it. Anyone have an idea how (and please explain why) to fix it?This has to do with the fact that mutating a prop locally is considered an anti-pattern in Vue 2What you should do now, in case you want to mutate a prop locally, is to declare a field in your data that uses the props value as its initial value and then mutate the copy: You can read more about this on Vue.js official guideNote 1: Please note that you should not use the same name for your prop and data, i.e.:Note 2: Since I feel there is some confusion regarding props and reactivity, I suggest you to have a look on this thread Vue just warns you: you change the prop in the component, but when parent component re-renders, "list" will be overwritten and you lose all your changes. So it is dangerous to do so.Use computed property instead like this:The Vue pattern is props down and events up.  It sounds simple, but is easy to forget when writing a custom component.As of Vue 2.2.0 you can use v-model (with computed properties).  I have found this combination creates a simple, clean, and consistent interface between components:A computed property permits the setter and getter to be separately defined.  This allows the Task component to be rewritten as follows:The model property defines which prop is associated with v-model, and which event will be emitted on changes.  You can then call this component from the parent as follows:The listLocal computed property provides a simple getter and setter interface within the component (think of it like being a private variable).  Within #task-template you can render listLocal and it will remain reactive (i.e., if parentList changes it will update the Task component).  You can also mutate listLocal by calling the setter (e.g., this.listLocal = newList) and it will emit the change to the parent.What's great about this pattern is that you can pass listLocal to a child component of Task (using v-model), and changes from the child component will propagate to the top level component.For example, say we have a separate EditTask component for doing some type of modification to the task data.  By using the same v-model and computed properties pattern we can pass listLocal to the component (using v-model):If EditTask emits a change it will appropriately call set() on listLocal and thereby propagate the event to the top level.  Similarly, the EditTask component could also call other child components (such as form elements) using v-model.If you're using Lodash, you can clone the prop before returning it. This pattern is helpful if you modify that prop on both the parent and child.Let's say we have prop list on component grid.In Parent ComponentIn Child ComponentProps down, events up. That's Vue's Pattern. The point is that if you try to mutate props passing from a parent. It won't work and it just gets overwritten repeatedly by the parent component. Child component can only emit an event to notify parent component to do sth. If you don't like these restrict, you can use VUEX(actually this pattern will suck in complex components structure, you should use VUEX!)You should not change the props's value in child component.

If you really need to change it you can use .sync.

Just like this<your-component :list.sync="list"></your-component>According to the VueJs 2.0, you should not mutate a prop inside the component. They are only mutated by their parents. Therefore, you should define variables in data with different names and keep them updated by watching actual props.

In case the list prop is changed by a parent, you can parse it and assign it to mutableList. Here is a complete solution.It uses mutableList to render your template, thus you keep your list prop safe in the component.do not change the props directly in components.if you need change it set a new property like this:And change the value of listClone.The answer is simple, you should break the direct prop mutation by assigning the value to some local component variables(could be data property, computed with getters, setters, or watchers).Here's a simple solution using the watcher.It's what I use to create any data input components and it works just fine. Any new data sent(v-model(ed)) from parent will be watched by the value watcher and is assigned to the input variable and once the input is received, we can catch that action and emit input to parent suggesting that data is input from the form element.I faced this issue as well. The warning gone after i use $on and $emit.

It's something like use $on and $emit recommended to sent data from child component to parent component.If you want to mutate props - use object.component:You need to add computed method like this    component.vueone-way Data Flow,

according to  https://vuejs.org/v2/guide/components.html, the component follow one-Way 

Data Flow,

All props form a one-way-down binding  between the child property and the parent one, when the parent property updates, it will flow down to the child but not the other way around, this prevents child components from accidentally mutating the parent's, which can make your app's data flow harder to understand.In addition, every time the parent component is updates all props

in  the child components will be refreshed with the latest value. This means you should not attempt to mutate a prop inside a child component. If you do .vue will warn you in the 

console.There are usually two cases where it’s tempting to mutate a prop:

The prop is used to pass in an initial value; the child component wants to use it as a local data property afterwards.

The prop is passed in as a raw value that needs to be transformed.

The proper answer to these use cases are:

Define a local data property that uses the prop’s initial value as its initial value:Define a computed property that is computed from the prop’s value:Vue.js props are not to be mutated as this is considered an Anti-Pattern in Vue.The approach you will need to take is creating a data property on your component that references the original prop property of listNow your list structure that is passed to the component is referenced and mutated via the data property of your component :-)If you wish to do more than just parse your list property then make use of the Vue component' computed property.

This allow you to make more in depth mutations to your props.The example above parses your list prop and filters it down to only active list-tems, logs it out for schnitts and giggles and returns it.note: both data & computed properties are referenced in the template the same e.g It can be easy to think that a computed property (being a method) needs to be called... it doesn'tMaybe this will meet your needs.Adding to the best answer,Setting props by an array is meant for dev/prototyping, in production make sure to set prop types(https://vuejs.org/v2/guide/components-props.html) and set a default value in case the prop has not been populated by the parent, as so.This way you atleast get an empty object in mutableList instead of a JSON.parse error if it is undefined.Vue.js considers this an anti-pattern. For example, declaring and setting some props likeSo to solve this issue you have to take in a value from the props to the data or the computed property of a Vue instance, like this:This will definitely work.In addition to the above, for others having the following issue:"If the props value is not required and thus not always returned, the passed data would return undefined (instead of empty)". Which could mess <select> default value, I solved it by checking if the value is set in beforeMount() (and set it if not) as follows:JS:Html:I want to give this answer which helps avoid using a lot of code, watchers and computed properties. In some cases this can be a good solution:Props are designed to provide one-way communication.When you have a modal show/hide button with a prop the best solution to me is to emit an event:Then add listener to modal element:(In this case the prop show is probably unnecessary because you can use an easy v-if="show" directly on the base-modal)I personally always suggest if you are in need to mutate the props, first pass them to computed property and return from there, thereafter one can mutate the props easily, even at that you can track the prop mutation , if those are being mutated from another component too or we can you watch also .Because Vue props is one way data flow, This prevents child components from accidentally mutating the parent’s state.From the official Vue document, we will find 2 ways to solve this problemsYES!, mutating attributes in vue2 is anti-pattern. BUT...

Just break the rules by using other rules, and go forward!

What you need is adding .sync modifier to your component attribute in paret scope.

<your-awesome-components :custom-attribute-as-prob.sync="value" />🤡 It's simple we kill the batman 😁

Getting a better understanding of callback functions in JavaScript

krosenvold

[Getting a better understanding of callback functions in JavaScript](https://stackoverflow.com/questions/483073/getting-a-better-understanding-of-callback-functions-in-javascript)

I understand passing in a function to another function as a callback and having it execute, but I'm not understanding the best implementation to do that. I'm looking for a very basic example, like this:In myFirstFunction, if I do return new callback(), then it works and executes the anonymous function, but that doesn't seem like the correct approach to me.

2009-01-27 11:36:48Z

I understand passing in a function to another function as a callback and having it execute, but I'm not understanding the best implementation to do that. I'm looking for a very basic example, like this:In myFirstFunction, if I do return new callback(), then it works and executes the anonymous function, but that doesn't seem like the correct approach to me.You can just sayAlternately you can use the call method if you want to adjust the value of this within the callback.Inside the function this would be whatever newValueForThis is.You should check if the callback exists, and is an executable function:A lot of libraries (jQuery, dojo, etc.) use a similar pattern for their asynchronous functions, as well as node.js for all async functions (nodejs usually passes error and data to the callback). Looking into their source code would help!There are 3 main possibilities to execute a function:The method you choose depends whether:Docs for Function.call, 

Function.applyCallbacks are about signals and "new" is about creating object instances. In this case it would be even more appropriate to execute just "callback();" than "return new callback()" because you aren't doing anything with a return value anyway.(And the arguments.length==3 test is really clunky, fwiw, better to check that callback param exists and is a function.)the proper implementation would be:this makes the callback parameter optional..You can use:The below example is little more comprehensive:Here is a basic example that explains the callback() function in JavaScript:JSFiddle

Resolving require paths with webpack

gpbl

[Resolving require paths with webpack](https://stackoverflow.com/questions/27502608/resolving-require-paths-with-webpack)

I'm still confused how to resolve module paths with webpack. Now I write:but I'd like to writeI was thinking that resolve.alias may help since I see a similar example using { xyz: "/some/dir" } as alias then I can require("xyz/file.js").But if I set my alias to { mydir: '/absolute/path/mydir' }, require('mydir/myfile.js')  won't work.I feel dumb because I've read the doc many times and I feel I'm missing something.

What is the right way to avoid writing all the relative requires with ../../ etc?

2014-12-16 10:36:42Z

I'm still confused how to resolve module paths with webpack. Now I write:but I'd like to writeI was thinking that resolve.alias may help since I see a similar example using { xyz: "/some/dir" } as alias then I can require("xyz/file.js").But if I set my alias to { mydir: '/absolute/path/mydir' }, require('mydir/myfile.js')  won't work.I feel dumb because I've read the doc many times and I feel I'm missing something.

What is the right way to avoid writing all the relative requires with ../../ etc?See wtk's answer.A more straightforward way to do this would be to use resolve.root.http://webpack.github.io/docs/configuration.html#resolve-rootIn your case:orsee also: http://webpack.github.io/docs/configuration.html#resolve-modulesdirectoriesFor future reference, webpack 2 removed everything but modules as a way to resolve paths. This means root will not work.https://gist.github.com/sokra/27b24881210b56bbaff7#resolving-optionsThe example configuration starts with:resolve.alias should work exactly the way you described, so I'm providing this as an answer to help mitigate any confusion that may result from the suggestion in the original question that it does not work.a resolve configuration like the one below will give you the desired results:require( 'mydir/myfile.js' ) will work as expected. If it does not, there must be some other issue.If you have multiple modules that you want to add to the search path, resolve.root makes sense, but if you just want to be able to reference components within your application code without relative paths, alias seems to be the most straight-forward and explicit.An important advantage of alias is that it gives you the opportunity to namespace your requires which can add clarity to your code; just like it is easy to see from other requires what module is being referenced, alias allows you to write descriptive requires that make it obvious you're requiring internal modules, e.g. require( 'my-project/component' ). resolve.root just plops you into the desired directory without giving you the opportunity to namespace it further.In case anyone else runs into this problem, I was able to get it working like this:where my directory structure is:Then from anywhere in the src directory I can call:My biggest headache was working without a namespaced path. Something like this:Before I used to set my environment to do this:I found far more convenient avoiding an implicit src path, which hides important context information.My aim is to require like this:As you see, all my app code lives within a mandatory path namespace. This makes quite clear which require call takes a library, app code or a test file.For this I make sure that my resolve paths are just node_modules and the current app folder, unless you namespace your app inside your source folder like src/my_appThis is my default with webpackIt would be even better if you set the environment var NODE_PATH to your current project file. This is a more universal solution and it will help if you want to use other tools without webpack: testing, linting...I have resolve it with Webpack 2 like this:You can add more directories to array...Got this solved using Webpack 2 : If you're using create-react-app, you can simply add a .env file containingSource: https://medium.com/@ktruong008/absolute-imports-with-create-react-app-4338fbca7e3dThis thread is old but since no one posted about require.context I'm going to mention it:You can use require.context to set the folder to look through like this:I didn't get why anybody suggested to include myDir's parent directory into modulesDirectories in webpack, that should make the trick easily:Simply use babel-plugin-module-resolver:Then create a .babelrc file under root if you don't have one already:And everything under root will be treated as absolute import:For VSCode/Eslint support, see here.

How to submit a form using PhantomJS

Vijay Boyapati

[How to submit a form using PhantomJS](https://stackoverflow.com/questions/9246438/how-to-submit-a-form-using-phantomjs)

I'm trying to use phantomJS (what an awesome tool btw!) to submit a form for a page that I have login credentials for, and then output the content of the destination page to stdout. I'm able to access the form and set its values successfully using phantom, but I'm not quite sure what the right syntax is to submit the form and output the content of the subsequent page. What I have so far is:

2012-02-12 04:23:29Z

I'm trying to use phantomJS (what an awesome tool btw!) to submit a form for a page that I have login credentials for, and then output the content of the destination page to stdout. I'm able to access the form and set its values successfully using phantom, but I'm not quite sure what the right syntax is to submit the form and output the content of the subsequent page. What I have so far is:I figured it out. Basically it's an async issue. You can't just submit and expect to render the subsequent page immediately. You have to wait until the onLoad event for the next page is triggered. My code is below:Also, CasperJS provides a nice high-level interface for navigation in PhantomJS, including clicking on links and filling out forms.CasperJSUpdated to add July 28, 2015 article comparing PhantomJS and CasperJS. (Thanks to commenter Mr. M!)Sending raw POST requests can be sometimes more convenient. Below you can see post.js original example from PhantomJSAs it was mentioned above CasperJS is the best tool to fill and send forms.

Simplest possible example of how to fill & submit form using fill() function:

javascript set a variable if undefined

pedalpete

[javascript set a variable if undefined](https://stackoverflow.com/questions/5409641/javascript-set-a-variable-if-undefined)

I know that I can test for a javascript variable and then define it if it is undefined, but is there not some way of sayingseems like a much clearer way, and I'm pretty sure I've seen this in other languages. 

2011-03-23 18:06:57Z

I know that I can test for a javascript variable and then define it if it is undefined, but is there not some way of sayingseems like a much clearer way, and I'm pretty sure I've seen this in other languages. Yes, it can do that, but strictly speaking that will assign the default value if the retrieved value is falsey, as opposed to truly undefined.  It would therefore not only match undefined but also null, false, 0, NaN, ""  (but not "0").If you want to set to default only if the variable is strictly undefined then the safest way is to write:On newer browsers it's actually safe to write:but be aware that it is possible to subvert this on older browsers where it was permitted to declare a variable named undefined that has a defined value, causing the test to fail.The 2018 ES6 answer is:If variable x is undefined, return variable y... otherwise if variable x is defined, return variable x.It seems more logical to check typeof instead of undefined? I assume you expect a number as you set the var to 0 when undefined:In this case if getVariable is not a number (string, object, whatever), setVariable is set to 0 I needed to "set a variable if undefined" in several places. I created a function using @Alnitak answer. Hopefully it helps someone.Usage:If you're a FP fan, Ramda has a neat helper function for this called defaultTo :usage:const result = defaultTo(30)(value)It's more useful when dealing with undefined boolean values:const result2 = defaultTo(false)(dashboard.someValue)var setVariable = (typeof localStorage.getItem('value') !== 'undefined' && localStorage.getItem('value')) || 0;Ran into this scenario today as well where I didn't want zero to be overwritten for several values.  We have a file with some common utility methods for scenarios like this. Here's what I added to handle the scenario and be flexible.It can then be called with the last two parameters being optional if I want to only set for undefined values or also overwrite null or 0 values.  Here's an example of a call to it that will set the ID to -1 if the ID is undefined or null, but wont overwrite a 0 value.Works even if the default value is a boolean value:It seems to me, that for current javascript implementations,is a nice way to do this (using object deconstruction).

How to detect if multiple keys are pressed at once using JavaScript?

XCS

[How to detect if multiple keys are pressed at once using JavaScript?](https://stackoverflow.com/questions/5203407/how-to-detect-if-multiple-keys-are-pressed-at-once-using-javascript)

I'm trying to develop a JavaScript game engine and I've came across this problem:The problem is that when I'm pressing right and then press space, the character jumps and then stops moving.I use the keydown function to get the key pressed. How can I check if there are multiple keys pressed at once?

2011-03-05 11:07:36Z

I'm trying to develop a JavaScript game engine and I've came across this problem:The problem is that when I'm pressing right and then press space, the character jumps and then stops moving.I use the keydown function to get the key pressed. How can I check if there are multiple keys pressed at once?Note: keyCode is now deprecated.Multiple keystroke detection is easy if you understand the conceptThe way I do it is like this:This code is very simple: Since the computer only passes one keystroke at a time, an array is created to keep track of multiple keys. The array can then be used to check for one or more keys at once.Just to explain, let's say you press A and B, each fires a keydown event that sets map[e.keyCode] to the value of e.type == keydown, which evaluates to either true or false. Now both map[65] and map[66] are set to true. When you let go of A, the keyup event fires, causing the same logic to determine the opposite result for map[65] (A), which is now false, but since map[66] (B) is still "down" (it hasn't triggered a keyup event), it remains true.The map array, through both events, looks like this:There are two things you can do now:A) A Key logger (example) can be created as a reference for later when you want to quickly figure out one or more key codes. Assuming you have defined an html element and pointed to it with the variable element.Note: You can easily grab an element by its id attribute.This creates an html element that can be easily referenced in javascript with elementYou don't even have to use document.getElementById() or $() to grab it. But for the sake of compatibility, use of jQuery's $() is more widely recommended.Just make sure the script tag comes after the body of the HTML. Optimization tip: Most big-name websites put the script tag after the body tag for optimization. This is because the script tag blocks further elements from loading until its script is finished downloading. Putting it ahead of the content allows the content to load beforehand.B (which is where your interest lies) You can check for one or more keys at a time where /*insert conditional here*/ was, take this example:Edit: That isn't the most readable snippet. Readability's important, so you could try something like this to make it easier on the eyes:Usage:Is this better?(end of edit)This example checks for CtrlShiftA, CtrlShiftB, and CtrlShiftCIt's just as simple as that :)As a general rule, it is good practice to document code, especially things like Key codes (like // CTRL+ENTER) so you can remember what they were. You should also put the key codes in the same order as the documentation (CTRL+ENTER => map[17] && map[13], NOT map[13] && map[17]). This way you won't ever get confused when you need to go back and edit the code.If checking for combos of differing amounts (like CtrlShiftAltEnter and CtrlEnter), put smaller combos after larger combos, or else the smaller combos will override the larger combos if they are similar enough. Example:When dealing with alerts or anything that takes focus from the main window, you might want to include map = [] to reset the array after the condition is done. This is because some things, like alert(), take the focus away from the main window and cause the 'keyup' event to not trigger. For example:Here's an annoying thing I found, with the solution included: Problem: Since the browser usually has default actions on key combos (like CtrlD activates the bookmark window, or CtrlShiftC activates skynote on maxthon), you might also want to add return false after map = [], so users of your site won't get frustrated when the "Duplicate File" function, being put on CtrlD, bookmarks the page instead.Without return false, the Bookmark window would pop up, to the dismay of the user.Okay, so you don't always want to exit the function at that point. That's why the event.preventDefault() function is there. What it does is set an internal flag that tells the interpreter to not allow the browser to run its default action. After that, execution of the function continues (whereas return will immediately exit the function).Understand this distinction before you decide whether to use return false or e.preventDefault()User SeanVieira pointed out in the comments that event.keyCode is deprecated. There, he gave an excellent alternative: event.key, which returns a string representation of the key being pressed, like "a" for A, or "Shift" for Shift. I went ahead and cooked up a tool for examining said strings.Handlers registered with addEventListener can be stacked, and are called in the order of registration, while setting .onevent directly is rather aggressive and overrides anything you previously had.The .onevent property seems to override everything and the behavior of ev.preventDefault() and return false; can be rather unpredictable.In either case, handlers registered via addEventlistener seem to be easier to write and reason about.There is also attachEvent("onevent", callback) from Internet Explorer's non-standard implementation, but this is beyond deprecated and doesn't even pertain to JavaScript (it pertains to an esoteric language called JScript). It would be in your best interest to avoid polyglot code as much as possible.To address confusion/complaints, I've written a "class" that does this abstraction (pastebin link):This class doesn't do everything and it won't handle every conceivable use case. I'm not a library guy. But for general interactive use it should be fine.To use this class, create an instance and point it to the element you want to associate keyboard input with:What this will do is attach a new input listener to the element with #txt (let's assume it's a textarea), and set a watchpoint for the key combo Ctrl+5. When both Ctrl and 5 are down, the callback function you passed in (in this case, a function that adds "FIVE " to the textarea) will be called. The callback is associated with the name print_5, so to remove it, you simply use:To detach input_txt from the txt element:This way, garbage collection can pick up the object (input_txt), should it be thrown away, and you won't have an old zombie event listener left over.For thoroughness, here is a quick reference to the class's API, presented in C/Java style so you know what they return and what arguments they expect.Update 2017-12-02 In response to a request to publish this to github, I have created a gist.Update 2018-07-21 I've been playing with declarative style programming for a while, and this way is now my personal favorite: fiddle, pastebinGenerally, it'll work with the cases you would realistically want (ctrl, alt, shift), but if you need to hit, say, a+w at the same time, it wouldn't be too difficult to "combine" the approaches into a multi-key-lookup.I hope this thoroughly explained answer mini-blog was helpful :)You should use the keydown event to keep track of the keys pressed, and you should use the keyup event to keep track of when the keys are released.See this example: http://jsfiddle.net/vor0nwe/mkHsU/(Update: I’m reproducing the code here, in case jsfiddle.net bails:)

The HTML:...and the Javascript (using jQuery):In that example, I’m using an array to keep track of which keys are being pressed.  In a real application, you might want to delete each element once their associated key has been released.  Note that while I've used jQuery to make things easy for myself in this example, the concept works just as well when working in 'raw' Javascript.I used this way (had to check wherever is Shift + Ctrl pressed):for who needs complete example code. Right+Left addedMake the keydown even call multiple functions, with each function checking for a specific key and responding appropriately.If one of keys pressed is Alt / Crtl / Shift you can use this method:I'd try adding a keypress Event handler upon keydown. E.g:This is just meant to illustrate a pattern; I won't go into detail here (especially not into browser specific level2+ Event registration).Post back please whether this helps or not.Not the best way, I know.This is not a universal method, but it's usefull in some cases. It's usefull for combinations like CTRL + something or Shift + something or CTRL + Shift + something, etc.Example: When you want to print a page using CTRL + P, first key pressed is always CTRL followed by P. Same with CTRL + S, CTRL + U and other combinations.

Get all Attributes from a HTML element with Javascript/jQuery

k0ni

[Get all Attributes from a HTML element with Javascript/jQuery](https://stackoverflow.com/questions/2048720/get-all-attributes-from-a-html-element-with-javascript-jquery)

I want to put all attributes in a Html element into an array:

like i have a jQuery Object, whichs html looks like this:now one way is to use the xml parser described here, but then i need to know how to get the html code of my object.the other way is to make it with jquery, but how?

the number of attributes and the names are generic.ThanksBtw: I can't access the element with document.getelementbyid or something similar.

2010-01-12 12:05:48Z

I want to put all attributes in a Html element into an array:

like i have a jQuery Object, whichs html looks like this:now one way is to use the xml parser described here, but then i need to know how to get the html code of my object.the other way is to make it with jquery, but how?

the number of attributes and the names are generic.ThanksBtw: I can't access the element with document.getelementbyid or something similar.If you just want the DOM attributes, it's probably simpler to use the attributes node list on the element itself:Note that this fills the array only with attribute names. If you need the attribute value, you can use the nodeValue property:You can use this simple plugin as $('#some_id').getAttributes();Simple:Because in IE7 elem.attributes lists all possible attributes, not only the present ones, we have to test the attribute value.

This plugin works in all major browsers:Usage:Setter and Getter!Use:The attributes property of DOM nodes is a NamedNodeMap, which is an Array-like object.An Array-like object is an object which has a length property and whose property names are enumerated, but otherwise has its own methods and does not inherit from Array.prototypeThe slice method can be used to convert Array-like objects to a new Array.Roland Bouman's answer is the best, simple Vanilla way. I noticed some attempts at jQ plugs, but they just didn't seem "full" enough to me, so I made my own. The only setback so far has been inability to access dynamically added attrs without directly calling elm.attr('dynamicAttr'). However, this will return all natural attributes of a jQuery element object.Plugin uses simple jQuery style calling:You can also add a second string param for getting just one specific attr. This isn't really needed for one element selection, as jQuery already provides $(elm).attr('name'), however, my version of a plugin allows for multiple returns. So, for instance, a call likeWill result in an array [] return of objects {}. Each object will look like:jsFiddleThis approach works well if you need to get all the attributes with name and value in objects returned in an array.Example output:If you want only an array of attribute names for that element, you can just map the results:Much more concise ways to do it:Does this help?This property returns all the attributes of an element into an array for you. Here is an example.To get the attributes of many elements and organize them, I suggest making an array of all the elements that you want to loop through and then create a sub array for all the attributes of each element looped through.This is an example of a script that will loop through the collected elements and print out two attributes. This script assumes that there will always be two attributes but you can easily fix this with further mapping.Imagine you've got an HTML element like below:One way you can get all attributes of it is to convert them into an array:And below is the string that what you'll get (from the example), which includes all attributes:Every answer here is missing the simplest solution using the getAttributeNames element method!It retrieves the names of all the element's current attributes as a regular Array, that you can then reduce to a nice object of keys/values.Try something like thisand then get all attributesfor array of attributes use having <div id="mydiv" a='1' b='2'>...</div>

can useVery simple. You just need to loop over the attributes element and push their nodeValues into an array:If want the name of the attribute you can replace 'nodeValue' for 'nodeName'.In javascript:To access the attributes names and values:

How do browsers pause/change Javascript when tab or window is not active?

Andrew Mao

[How do browsers pause/change Javascript when tab or window is not active?](https://stackoverflow.com/questions/15871942/how-do-browsers-pause-change-javascript-when-tab-or-window-is-not-active)

Background: I'm doing some user interface tests that need to detect if people are paying attention or not. But, this question is not about the page visibility API.Specifically, I would like to know how my Javascript code will be affected if the current tab is not active, or the browser window is not active, in different browsers. I've dug up the following so far:I have the following questions:

2013-04-08 05:36:30Z

Background: I'm doing some user interface tests that need to detect if people are paying attention or not. But, this question is not about the page visibility API.Specifically, I would like to know how my Javascript code will be affected if the current tab is not active, or the browser window is not active, in different browsers. I've dug up the following so far:I have the following questions:I have written a test specifically for this purpose:

Frame Rate Distribution: setInterval vs requestAnimationFrameNote: This test is quite CPU intensive. requestAnimationFrame is not supported by IE 9- and Opera 12-.The test logs the actual time it takes for a setInterval and requestAnimationFrame to run in different browsers, and gives you the results in the form of a distribution. You can change the number of milliseconds for setInterval to see how it runs under different settings. setTimeout works similarly to a setInterval with respect to delays. requestAnimationFrame generally defaults to the 60fps depending on the browser. To see what happens when you switch to a different tab or have an inactive window, simply open the page, switch to a different tab and wait for a while. It will continue to log the actual time it takes for these functions in an inactive tab.Another way to test it is to log the timestamp repeatedly with setInterval and requestAnimationFrame and view it in a detached console. You can see how frequently it is updated (or if it is ever updated) when you make the tab or window inactive.Chrome

Chrome limits the minimum interval of setInterval to around 1000ms when the tab is inactive. If the interval is higher than 1000ms, it will run at the specified interval. It does not matter if the window is out of focus, the interval is limited only when you switch to a different tab. requestAnimationFrame is paused when the tab is inactive.https://codereview.chromium.org/6546021/patch/1001/2001Firefox

Similar to Chrome, Firefox limits the minimum interval of setInterval to around 1000ms when the tab (not the window) is inactive. However, requestAnimationFrame runs exponentially slower when the tab is inactive, with each frame taking 1s, 2s, 4s, 8s and so on.https://hg.mozilla.org/releases/mozilla-release/file/0bf1cadfb004/dom/base/nsGlobalWindow.cpp#l296Internet Explorer

IE does not limit the delay in setInterval when the tab is inactive, but it pauses requestAnimationFrame in inactive tabs. It does not matter whether the window is out of focus or not.Edge

Starting from Edge 14, setInterval is capped at 1000ms in inactive tabs. requestAnimationFrame is always paused in inactive tabs.Safari

Just like Chrome, Safari caps setInterval at 1000ms when the tab is inactive. requestAnimationFrame is paused as well.Opera

Since the adoption of the Webkit engine, Opera exhibits the same behavior as Chrome. setInterval is capped at 1000ms and requestAnimationFrame is paused when the tab is inactive.Repeating intervals for inactive tabs:What I observed : on inactive tabs in Chrome, all your setTimeout (must be the same for setInterval) waiting less than 1000ms are rounded to 1000ms. I think longer timeouts are not modified.Seems to be the behavior since Chrome 11 and Firefox 5.0 : https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout#Inactive_tabsFurthermore, I don't think it behaves this way when the whole window is inactive (but it seems quite easy to investigate).A newer answer to complement these: on chrome 78.0.3904.108 I notice all of these timeouts (not just those below 1000ms) taking a bit longer than expected when I move to a different tab, and then come back. The behaviour I am seeing is more correctly described as "All timeouts on inactive tabs may be delayed by some additional amount, to a maximum of 1000ms.":

How do I replace text inside a div element?

sblundy

[How do I replace text inside a div element?](https://stackoverflow.com/questions/121817/how-do-i-replace-text-inside-a-div-element)

I need to set the text within a DIV element dynamically. What is the best, browser safe approach? I have prototypejs and scriptaculous available.Here's what the function will look like:

2008-09-23 15:39:39Z

I need to set the text within a DIV element dynamically. What is the best, browser safe approach? I have prototypejs and scriptaculous available.Here's what the function will look like:I would use Prototype's update method which supports plain text, an HTML snippet or any JavaScript object that defines a toString method.You can simply use:Updated for everyone reading this in 2013 and later:This answer has a lot of SEO, but all the answers are severely out of date and depend on libraries to do things that all current browsers do out of the box.To replace text inside a div element, use Node.textContent, which is provided in all current browsers.The advantages of doing it this way:If I were going to use a javascript library, I'd use jQuery, and do this:Note that @AnthonyWJones' comment is correct: "field_name" isn't a particularly descriptive id or variable name.One of the nifty features of Prototype is that $('field_name') does the same thing as document.getElementById('field_name'). Use it! :-)John Topley's answer using Prototype's update function is another good solution.The quick answer is to use innerHTML (or prototype's update method which pretty much the same thing).  The problem with innerHTML is you need to escape the content being assigned.  Depending on your targets you will need to do that with other code ORin IE:-in FF:-(Actually of FF have the following present in by code)Now I can just use innerText if you need widest possible browser support then this is not a complete solution but neither is using innerHTML in the raw.If you really want us to just continue where you left off, you could do:nodeValue is also a standard DOM property you can use:If you're inclined to start using a lot of JavaScript on your site, jQuery makes playing with the DOM extremely simple.http://docs.jquery.com/ManipulationMakes it as simple as:

$("#field-name").text("Some new text.");Use innerText if you can't assume structure

- Use Text#data to update existing text

Performance TestHere's an easy jQuery way:

How to convert a Title to a URL slug in jQuery?

GSto

[How to convert a Title to a URL slug in jQuery?](https://stackoverflow.com/questions/1053902/how-to-convert-a-title-to-a-url-slug-in-jquery)

I'm working on an app in CodeIgniter, and I am trying to make a field on a form dynamically generate the URL slug. What I'd like to do is remove the punctuation, convert it to lowercase, and replace the spaces with hyphens. So for example, Shane's Rib Shack would become shanes-rib-shack.Here's what I have so far. The lowercase part was easy, but the replace doesn't seem to be working at all, and I have no idea to remove the punctuation:

2009-06-28 00:11:20Z

I'm working on an app in CodeIgniter, and I am trying to make a field on a form dynamically generate the URL slug. What I'd like to do is remove the punctuation, convert it to lowercase, and replace the spaces with hyphens. So for example, Shane's Rib Shack would become shanes-rib-shack.Here's what I have so far. The lowercase part was easy, but the replace doesn't seem to be working at all, and I have no idea to remove the punctuation:I have no idea where the 'slug' term came from, but here we go:First replace will change spaces to hyphens, second replace removes anything not alphanumeric, underscore, or hyphen.If you don't want things "like - this" turning into "like---this" then you can instead use this one:That will remove hyphens (but not spaces) on the first replace, and in the second replace it will condense consecutive spaces into a single hyphen.So "like - this" comes out as "like-this".and tryoriginal by: http://dense13.com/blog/2009/05/03/converting-string-to-slug-javascript/EDIT:

extended for more language specific chars:First of all, regular expressions should not have surrounding quotes, so '/\s/g' should be /\s/gIn order to replace all non-alphanumerical characters with dashes, this should work (using your example code):That should do the trick...All you needed was a plus :)Hope this can save someone's day...Take a look at this slug function to sanitize URLs, developed by Sean Murphy at https://gist.github.com/sgmurphy/3095196I found a good and complete solution for English Some examples of it in use:Thanks to Andrew StewartI create a plugin to implement in most of languages: http://leocaseiro.com.br/jquery-plugin-string-to-slug/Default Usage:Is very easy has stringToSlug jQuery Plugin*based on https://gist.github.com/mathewbyrne/1280286now you can transform this string:into:applying to your code:Combining a variety of elements from the answers here with normalize provides good coverage. Keep the order of operations to incrementally clean the url.normlize('NFD') breaks accented characters into their components, which are basic letters plus diacritics (the accent part). replace(/[\u0300-\u036f]/g, "") purges all the diacritics, leaving the basic letters by themselves. The rest is explained with inline comments. You can use your own function for this.try it: http://jsfiddle.net/xstLr7aj/The accepted answer didn't meet my needs (it allows underscores, doesn't handle dashes at the beginning and end, etc.), and the other answers had other issues that didn't suit my use case, so here's the slugify function I came up with:This will turn ' foo!!!BAR_-_-_baz-' (note the space at the beginning) into foo-bar-baz.You may want to take a look at the speakingURL plugin   and then you just could:Yet another one. Short and keeps special characters:imaginação é mato => imaginacao-e-matoMore powerful slug generation method on pure JavaScript. It's basically support transliteration for all Cyrillic characters and many Umlauts (German, Danish, France, Turkish, Ukrainian and etc.) but can be easily extended.For people already using lodashMost of these example are really good and cover a lot of cases. But if you 'know' that you only have English text, here's my version that's super easy to read :)_.words(_.toLower(text)).join('-')Well, after reading the answers, I came up with this one.Note: if you don't care about an argument against the accepted answer and are just looking for an answer, then skip next section, you'll find my proposed answer at the endthe accepted answer has a few issues (in my opinion):1) as for the first function snippet:no regard for multiple consecutive whitespacesinput: is   it   a   good   slugreceived: ---is---it---a---good---slug---expected: is-it-a-good-slugno regard for multiple consecutive dashesinput: -----is-----it-----a-----good-----slug-----received: -----is-----it-----a-----good-----slug-----expected: is-it-a-good-slugplease note that this implementation doesn't handle outer dashes (or whitespaces for that matter) whether they are multiple consecutive ones or singular characters which (as far as I understand slugs, and their usage) is not valid2) as for the second function snippet:it takes care of the multiple consecutive whitespaces by converting them to single - but that's not enough as outer (at the start and end of the string) whitespaces are handled the same, so is  it  a  good  slug would return -is-it-a-good-slug-it also removes dashes altogether from the input which converts something like --is--it--a--good--slug--' to isitagoodslug , the snippet in the comment by @ryan-allen takes care of  that, leaving the outer dashes issue unsolved thoughnow I know that there is no standard definition for slugs, and the accepted answer may get the job (that the user who posted the question was looking for) done, but this is the most popular SO question about slugs in JS, so those issues had to be pointed out, also (regarding getting the job done!) imagine typing this abomination of a URL (www.blog.com/posts/-----how-----to-----slugify-----a-----string-----) or even just be redirected to it instead of something like (www.blog.com/posts/how-to-slugify-a-string), I know this is an extreme case but hey that's what tests are for.a better solution, in my opinion, would be as follows:now there is probably a RegExp ninja out there that can convert this into a one-liner expression, I'm not an expert in RegExp and I'm not saying that this is the best or most compact solution or the one with the best performance but hopefully it can get the job done.This helped me with the same problem !

Reserved keywords in JavaScript

titanous

[Reserved keywords in JavaScript](https://stackoverflow.com/questions/26255/reserved-keywords-in-javascript)

What JavaScript keywords (function names, variables, etc) are reserved?

2008-08-25 15:29:39Z

What JavaScript keywords (function names, variables, etc) are reserved?We should be linking to the actual sources of info, rather than just the top google hit.http://developer.mozilla.org/En/Core_JavaScript_1.5_Reference/Reserved_WordsJScript 8.0:

http://msdn.microsoft.com/en-us/library/ttyab5c8.aspxHere is my poem, which includes all of the reserved keywords in JavaScript, and is dedicated to those who remain honest in the moment, and not just try to score:To supplement benc's answer, see Standard ECMA-262. These are the official reserved words, but only a pedant ignores the implementation to respect the standard. For the reserved words of the most popular implementations, that is firefox and internet explorer, see benc's answer.The reserved words in EMCAScript-262 are the Keywords, Future Reserved Words, NullLiteral, and BooleanLiterals, where the Keywords arethe Future Reserved Word​s arethe NullLiteral isand the BooleanLiterals areI was just reading about this in JavaScript & jQuery: The Missing Manual:Here is a browser and language version agnostic way to determine if a particular string is treated as a keyword by the JavaScript engine. Credits to this answer which provides the core of the solution.None of the current answers warn that regardless of ES-Dialect, browsers tend to have their own lists of reserved keywords, methods etc on top of what ES dictates.For example, IE9 prohibits use of logical names like: addFilter, removeFilter (they, among others, are reserved methods).See http://www.jabcreations.com/blog/internet-explorer-9 for a more extensive 'currently known' list specific to IE9. I have yet find any official reference to them on msdn (or elsewhere).Here is a list from Eloquent JavaScript book:benc's answer is excellent, but for my two cents, I like the w3schools' page on this:http://www.w3schools.com/js/js_reserved.aspIn addition to listing the keywords reserved by the standard, it also has a long list of keywords you should avoid in certain contexts; for example, not using the name alert when writing code to be run in a browser. It helped me figure out why certain words were highlighting as keywords in my editor even though I knew they weren't keywords.

How to use a link to call JavaScript?

Jin Yong

[How to use a link to call JavaScript?](https://stackoverflow.com/questions/688196/how-to-use-a-link-to-call-javascript)

How to use a link to call JavaScript code?

2009-03-27 01:33:34Z

How to use a link to call JavaScript code?or Edit:The above response is really not a good solution, having learned a lot about JS since I initially posted.  See EndangeredMassa's answer below for the better approach to solving this problem.Unobtrusive JavaScript, no library dependency:EDIT, years later: NO! Don't ever do this! I was young and stupid!Edit, again: A couple people have asked why you shouldn't do this. There's a couple reasons:And, why not unobtrusive with jQuery:HTMLUnobtrusive Javascript has many many advantages, here are the steps it takes and why it's good to use.this is important becuase it will work for browsers with javascript not enabled, or if there is an error in the javascript code that doesn't work.best book on the subject is "Dom Scription" by Jeremy KeithOr, if you're using PrototypeJSI think you can use the onclick event, something like this:just use javascript:---- exemplale

jQuery trigger file input

Alec Smart

[jQuery trigger file input](https://stackoverflow.com/questions/793014/jquery-trigger-file-input)

Am trying to trigger an upload box (browse button) using jQuery.

The method I have tried now is:  But it doesn't seem to work. 

Please help. Thank you.

2009-04-27 10:38:18Z

Am trying to trigger an upload box (browse button) using jQuery.

The method I have tried now is:  But it doesn't seem to work. 

Please help. Thank you.This is due to a security restriction.I found out that the security restriction is only when the <input type="file"/> is set to display:none; or is visbilty:hidden.So i tried positioning it outside the viewport by setting position:absolute and top:-100px; and voilà it works.see http://jsfiddle.net/DSARd/1/call it a hack.Hope that works for you.this worked for me:JS:HTML:CSS:>>>Another one that works Cross-Browser:<<<The Idea is that you overlay an invisible huge "Browse" button over your custom button.

So when the user clicks your custom button, he's actually clicking on the "Browse" button of the native input field.JS Fiddle: http://jsfiddle.net/5Rh7b/HTML:CSS:JavaScript:You can use LABEL element

ex.This will trigger the input fileI have it working (=tested) in IE8+, recent FF and chrome:The key is focusing before firing the click (otherwise chrome ignores it).Note: you do NEED to have your input displayed and visible (as in, not display:none and not visibility:hidden).

I suggest (as many other have before) to absolutely position the input and throw it off screen.Check out my fiddle.http://jsfiddle.net/mohany2712/vaw8k/adardesign nailed it regarding the file input element being ignored when it is hidden.  I also noticed many people shifting element size to 0, or pushing it out of bounds with positioning and overflow adjustments.  These are all great ideas.

An alternative way that also seems to work perfectly well is to just set the opacity to 0.  Then you can always just set the position to keep it from offsetting other elements as hide does.  It just seems a little unnecessary to shift an element nearly 10K pixels in any direction.Here's a little example for those who want one:Just for the sake of curiosity, you can do something like you want by dynamically creating an upload form and input file, without adding it to the DOM tree:No need to add the uploadForm to the DOM.Correct code:That's on purpose and by design. It's a security issue.Actually, I found out a really easy method for this, which is:This way, your file input field can have the css property display on none and still win the trade :)It is too late to answer but I think this minimal setup work best. I am also looking for the same.//cssjsbinbootstrap file input buttons demoThis is a very old question, but unfortunately this issue is still relevant and requires a solution.The (suprisingly simple) solution I've come up with is to "hide" the actual file input field and wrap it with a LABEL tag (can be based on Bootstrap and HTML5, for enhancement).See here:Example code hereThis way, the real file input field is invisible and all you see is the customized "button" which is actually a modified LABEL element.

When you click on this LABEL element, the window for selecting a file comes up and the file you choose will go into the real file input field.On top of that, you can manipulate the look and behaviour as you wish (for example: get the name of the selected file from the file input file, after selected, and show it somewhere. The LABEL element doesn't do that automatically, of course. I usually just put it inside the LABEL, as its text content).Beware though! The manipulation of the look and behaviour of this is limited to whatever you can imagine and think of.    ;-)  ;-)I managed with a simple $(...).click(); with JQuery 1.6.1or else simplyi had problems with custom client side validation for <input type="file"/> while using a fake button to trigger it and  @Guillaume Bodi's solution worked for me (also with opacity: 0; on chrome) and css style for upload input Try this, it's a hack. the Position:absolute is for Chrome and trigger('change') is for IE.My problem was a little bit different on iOS 7. Turns out FastClick was causing problems. All I had to do was add class="needsclick" to my button.This is probably the best answer, keeping in mind the cross browser issues.CSS:JS:HTML:I think i understand your problem, because i have a similar.

So the tag <label> have the atribute for, you can use this atribute to link your input with type="file".

But if you don't want to activate this using this label because some rule of your layout, you can do like this.Of course you will adapt this for your own purpose and layout, but that's the more easily way i know to make it work!!Based on Guillaume Bodi's answer I did this:which means it's hidden to start with and then displayed for the trigger, then hidden again immediately.

How to set time delay in javascript

Blue Orange

[How to set time delay in javascript](https://stackoverflow.com/questions/17883692/how-to-set-time-delay-in-javascript)

I have this a piece of js in my website to switch images but need a delay when you click the image a second time. The delay should be 1000ms. So you would click the img.jpg then the img_onclick.jpg would appear. You would then click the img_onclick.jpg image there should then be a delay of 1000ms before the img.jpg is shown again. Here is the code:

2013-07-26 14:13:30Z

I have this a piece of js in my website to switch images but need a delay when you click the image a second time. The delay should be 1000ms. So you would click the img.jpg then the img_onclick.jpg would appear. You would then click the img_onclick.jpg image there should then be a delay of 1000ms before the img.jpg is shown again. Here is the code:Use setTimeout():If you want to do it without setTimeout: Refer to this question.Place your code inside of the { }500 = 0.5 seconds2200 = 2.2 secondsetc.ES-6 SolutionBelow is a sample code which uses aync/await to have an actual delay.There are many constraints and this may not be useful, but just posting here for fun..There are two (mostly used) types of timer function in javascript setTimeout and setInterval (other) Both these methods have same signature. They take a call back function and delay time as parameter.setTimeout executes only once after the delay whereas setInterval keeps on calling the callback function after every delay milisecs.both these methods returns an integer identifier that can be used to clear them before the timer expires.clearTimeout and clearInterval both these methods take an integer identifier returned from above functions setTimeout and setIntervalExample:setTimeoutIf you run the the above code you will see that it alerts before setTimeout and then after setTimeout finally it alerts I am setTimeout after 1sec (1000ms)What you can notice from the example is that the setTimeout(...) is asynchronous which means it doesn't wait for the timer to get elapsed before going to next statement i.e alert("after setTimeout");Example:setIntervalIf you run the the above code you will see that it alerts before setInterval and then after setInterval finally it alerts I am setInterval  5 times after 1sec (1000ms) because the setTimeout clear the timer after 5 seconds or else every 1 second you will get alert I am setInterval Infinitely.How browser internally does that?I will explain in brief.To understand that you have to know about event queue in javascript. There is a event queue implemented in browser. Whenever an event get triggered  in js, all of these events (like click etc.. ) are added to this queue.  When your browser has nothing to execute it takes an event from queue and executes them one by one. Now,  when you call setTimeout or setInterval your callback get registered to an timer in browser and it gets added to the event queue after the given time expires and eventually javascript takes the event from the queue and executes it. This happens so,  because javascript engine are single threaded and they can execute only one thing at a time. So,  they cannot execute other javascript and keep track of your timer. That is why these timers are registered with browser (browser are not single threaded) and it can keep track of timer and add an event in the queue after the timer expires.same happens for setInterval only in this case the event is added to the queue again and again after the specified interval until it gets cleared or browser page refreshed.     Hence, your callback may sometime take more than the specified delay time to be called specially when your other code blocks the thread and not giving it time to process what's there in the queue.And as I mentioned javascript is single thread. So,  if you block the thread for long. Like this codeYour user may get a message saying page not responding.For sync calls you can use the method below:If you need refresh, this is another posibility: Here is what I am doing to solve this issue. I agree this is because of the timing issue and needed a pause to execute the code.This new code will pause it for 1 second and meanwhile run your code. I'll give my input because it helps me understand what im doing.To make an auto scrolling slide show that has a 3 second wait I did the following:Remember that when executing setTimeout() like this; it will execute all time out functions as if they where executed at the same time assuming that in setTimeout(nextImage, delayTime);delay time is a static 3000 milliseconds.What I did to account for this was add an extra 3000 milli/s after each for loop incrementation via delayTime += timeIncrement;.  For those who care here is what my nextImage() looks like:

Execute JavaScript code stored as a string

divinci

[Execute JavaScript code stored as a string](https://stackoverflow.com/questions/939326/execute-javascript-code-stored-as-a-string)

How do I execute some JavaScript that is a string?

2009-06-02 12:54:36Z

How do I execute some JavaScript that is a string?With eval("my script here") function.You can execute it using a function. Example:The eval function will evaluate a string that is passed to it.But the use of eval can be dangerous, so use with caution.Edit: annakata has a good point -- Not only is eval dangerous, it is  slow. This is because the code to be evaluated must be parsed on the spot, so that will take some computing resources. Use eval().W3 Schools tour of eval. Site has some usable examples of eval. The Mozilla  documentation covers this in detail.You will probably get a lot of warnings about using this safely. do NOT allow users to inject ANYTHING into eval() as it is a huge security issue.You'll also want to know that eval() has a different scope.Try this:Personally I didnt test it, but seems to work.A bit like what @Hossein Hajizadeh alerady said, though in more detail:There is an alternative to eval().The function setTimeout() is designed to execute something after an interval of milliseconds, and the code to be executed just so happens to be formatted as a string.It would work like this:1 means it will wait 1 millisecond before executing the string.It might not be the most correct way to do it, but it works.Use eval as below. Eval should be used with caution, a simple search about "eval is evil" should throw some pointers.I think this is the best way.Checked this on many complex and obfuscated scripts:If you want to execute a specific command (that is string) after a

specific time 

 - cmd=your  code 

 - InterVal=delay to runFor users that are using node and that are concerned with the context implications of eval() nodejs offers vm. It creates a V8 virtual machine that can sandbox the execution of your code in a separate context. Taking things a step further is vm2 which hardens vm allowing the vm to run untrusted code.But this can be dangerous if you are taking data from users, although I suppose if they crash their own browser thats their problem.Not sure if this is cheating or not:I was answering similar question and got yet another idea how to achieve this without use of eval():In the code above you basically create Blob, containing your script, in order to create Object URL (representation of File or Blob object in browser memory). Since you have src property on <script> tag, the script will be executed the same way as if it was loaded from any other URL.eval should do it.New Function and apply() together works alsoRemember though, that eval is very powerful and quite unsafe. You better be confident that the script you are executing is safe and unmutable by users.

Textarea Auto height [duplicate]

Mohammad Mahdi Naderi

[Textarea Auto height [duplicate]](https://stackoverflow.com/questions/17772260/textarea-auto-height)

I want to make height of textarea equal to height of the text within it (And remove the scroll bar)HTMLCSSJsFiddle: http://jsfiddle.net/Tw9Rj/

2013-07-21 12:19:16Z

I want to make height of textarea equal to height of the text within it (And remove the scroll bar)HTMLCSSJsFiddle: http://jsfiddle.net/Tw9Rj/It can be achieved using JS. Here is a 'one-line' solution using elastic.js:Updated: Seems like elastic.js is not there anymore, but if you are looking for an external library, I can recommend autosize.js by Jack Moore. This is the working example:Check this similar topics too:Autosizing textarea using PrototypeTextarea to resize based on content lengthCreating a textarea with auto-resizeThis using Pure JavaScript Code.For those of us accomplishing this with Angular, I used a directiveHTML:JS:$timeout queues an event that will fire after the DOM loads, which is what's necessary to get the right scrollHeight (otherwise you'll get undefined)I used jQuery AutoSize.  When I tried using Elastic it frequently gave me bogus heights (really tall textarea's).  jQuery AutoSize has worked well and hasn't had this issue.I see that this is answered already, but I believe I have a simple jQuery solution ( jQuery is not even really needed; I just enjoy using it ):I suggest counting the line breaks in the textarea text and setting the rows attribute of the textarea accordingly.Jsfiddleor javascriptJsfiddlehtmljscss

Javascript seconds to minutes and seconds

James Moore

[Javascript seconds to minutes and seconds](https://stackoverflow.com/questions/3733227/javascript-seconds-to-minutes-and-seconds)

This is a common problem but I'm not sure how to solve it. The code below works fine.However, when I get to 1 hour or 3600 seconds it returns 0 minutes and 0 seconds. How can I avoid this so it returns all the minutes?Thanks

2010-09-17 06:51:38Z

This is a common problem but I'm not sure how to solve it. The code below works fine.However, when I get to 1 hour or 3600 seconds it returns 0 minutes and 0 seconds. How can I avoid this so it returns all the minutes?ThanksTo get the number of full minutes, divide the number of total seconds by 60 (60 seconds/minute):And to get the remaining seconds, multiply the full minutes with 60 and subtract from the total seconds:Now if you also want to get the full hours too, divide the number of total seconds by 3600 (60 minutes/hour · 60 seconds/minute) first, then calculate the remaining seconds:Then you calculate the full minutes and remaining seconds.Bonus:Use the following code to pretty-print the time (suggested by Dru)Another fancy solution:~~ is a shorthand for Math.floor, see this link for more infoTry onlineFor people dropping in hoping for a quick simple and thus short solution to format seconds into M:SS :done..

The function accepts either a Number (preferred) or a String (2 conversion 'penalties' which you can halve by prepending + in the function call's argument for s as in: fmtMSS(+strSeconds)), representing positive integer seconds s as argument.Examples:Breakdown:Note: Negative range could be added by prepending (0>s?(s=-s,'-'):'')+ to the return expression (actually, (0>s?(s=-s,'-'):0)+ would work as well).You can also use native Date object:Of course this solution works only for timeInSeconds less than 24 hours ;)Format hh:mm:ssTo add leading zeros, I would just do:Nice and shortA one liner (doesnt work with hours):Seconds to h:mm:ssAfter all this, yet another simple solution:Another but much more elegant solution for this is as follows:The Following function will help you to get Days , Hours , Minutes , secondsFor adding zeros I really don't see the need to have a full other function where you can simply use for exampleIts why we have conditional statements in the first place.(condition?if true:if false)  so if example seconds is more than 9 than just show seconds else add a string 0 before it.try this :

Converting Second to HOURS, MIN and SEC.You've done enough code to track minutes and seconds portions of time.What you could do is add the hours factor in:This would give you what you need also.I was thinking of a faster way to get this done and this is what i came up withIf we want to convert "time" to minutes and seconds, for example:I suggest another solution:I know it has been solved in many ways. I needed this function for an After Effects script, where speed or namespace pollution is not an issue. I drop it here for someone that needs something similar. I also wrote some tests and worked fine. So here's the code:Put my two cents in : So this :Will have the following output : Then you can print it like so : strftime.js (strftime github) is one of the best time formatting libraries. It's extremely light - 30KB - and effective. Using it you can convert seconds into time easily in one line of code, relying mostly on the native Date class.When creating a new Date, each optional argument is positional as follows:So if you initialize a new Date with all arguments as zero up to the seconds, you'll get:You can see that 150 seconds is 2-minutes and 30-seconds, as seen in the date created. Then using an strftime format ("%M:%S" for "MM:SS"), it will output your minutes' string.In one line, it would look like:Plus this would allow you to interchangeable support HH:MM:SS and MM:SS based on the number of seconds. For example:And of course, you can simply pass whatever format you want to strftime if you want the time string to be more or less semantic.Hope this helps.If you are using Moment.js then you can use there built in Duration object

Is there a setting on Google Analytics to suppress use of cookies for users who have not yet given consent

JW.

[Is there a setting on Google Analytics to suppress use of cookies for users who have not yet given consent](https://stackoverflow.com/questions/10668292/is-there-a-setting-on-google-analytics-to-suppress-use-of-cookies-for-users-who)

According to EU Article 5(3) of the E-Privacy Directive (a.k.a 'The Cookie Laws'), web sites that target EU users have to gain opt-in consent from users before they set a cookie.See ICO Guidance I am trying to square this with Google Analytics on my web site.I would imagine that Google Analytics (GA) can do a certain level of analytic data gathering without requiring the use of cookies.However, I cannot find any info on this (on the Google sites/settings panels) about how to relay information about the 'state of consent' back to Google during a page request. So, my only option seems to be that I should not embed Google tag code at all if the user has not explicitly given consent. Which seems a bit drastic. Letting my serverside script set a hasConsentedToCookies=FALSE flag in the JavaScript tags would allow me to instruct Google's services to run in a gracefully degraded fashion.Is there a setting on Google Analytics to suppress use of cookies 

for users that have not yet given consent?If so, where can I find info on this?

2012-05-19 19:36:19Z

According to EU Article 5(3) of the E-Privacy Directive (a.k.a 'The Cookie Laws'), web sites that target EU users have to gain opt-in consent from users before they set a cookie.See ICO Guidance I am trying to square this with Google Analytics on my web site.I would imagine that Google Analytics (GA) can do a certain level of analytic data gathering without requiring the use of cookies.However, I cannot find any info on this (on the Google sites/settings panels) about how to relay information about the 'state of consent' back to Google during a page request. So, my only option seems to be that I should not embed Google tag code at all if the user has not explicitly given consent. Which seems a bit drastic. Letting my serverside script set a hasConsentedToCookies=FALSE flag in the JavaScript tags would allow me to instruct Google's services to run in a gracefully degraded fashion.Is there a setting on Google Analytics to suppress use of cookies 

for users that have not yet given consent?If so, where can I find info on this?Google Analytics has a new set of APIs to assist with compliance with a cookie opt-out. Here's the documentation, and here's their help docs. There has been some ambiguity as to whether the EU Cookie Regulations (as implemented in member countries) require that passive web analytics tracking requires opt-in mechanisms for compliance. If you're concerned one way or another, consult an attorney. Google is empowering you to make the decision as to how you want to proceed.They'll leave implementation details to you, but, the idea is, once you've determined whether or not to track the user in Google Analytics, if the answer is to not track, you'd set the following property to true before Google Analytics runs:Where UA-XXXXXX-Y is your account ID in Google AnalyticsAs the other posters have noted, Google Analytics relies on cookies. So, you're not able to do any kind of tracking without cookies. If you've determined that someone is not to be cookied for tracking, you'll need to implement something like this:This does require a little bit of jujitsu for when you first load Google Analytics, since this property will need to be set before Google Analytics runs to prevent tracking from ever happening, which means, for an "opt in to tracking" approach, you'd probably need to implement a mechanism where, on first visit, Google Analytics is automatically disabled in the absence of an opt-in cookie (cookies that determine cookie preferences are explicitly allowed), and then, if an opt-in happens, re-runs Google Analytics. On subsequent pageviews, all would run smoothly. Could look something like (pseudo-code):With this approach, you'd allow the user to opt-out of tracking, which would mean you'd use a cookie to set the ga-disable-UA-XXXXXX-Y' property and a cookie to manage it in the future:As a quick note, the BBC (probably the most popular site in the UK) has taken an interesting approach to complying with cookies - they've displayed a banner to users telling them that cookies are set and provide a couple of links.This one explains what cookies are. This one lets them manage their cookies, but most interestingly of all they supply a link to Google Analytics to allow users to opt-out of GA in its entirety. So, in summary, the BBC have taken the view that they can tell the user what cookies are set and then provide a link to Google to allow the user to opt out of all GA cookies. For me, that's a lot less hassle than you telling GA to opt-out for an address through JS.I often never ask users to opt out for google analytics, that is because i never set cookies and i never save their ip (and other personal data).Also check out this code at Convert Google Analytics cookies to Local/Session StorageThis script will not set any cookies, but still track via google analytics. This will actually have the same effect on privacy as using cookies, because google still records the users IP-address.That is where the anonymizeIp switch comes in. This tells google to only save an anonymized version of the IP-address. An anonymized IP-address is not considered personal data, so the users privacy will be respected.AFAIK cookie law is all about privacy and does allow website to track their usage. I am not a lawyer or anything but in my opinion this script complies to the EU cookie law.Check out this plunk to see it in action: http://plnkr.co/MwH6xwGK00u3CFOTzepKYou can disable the use of cookies for Google Analytics by specifying the {'storage' : 'none'} option when creating the tracker instance.See Google's guide on the subject for more details.You can disable google analytics cookies by adding this code at the top of google analytics code (before line: var _gaq = _gaq || [];):However some features of google analytics (for example real time stats) do not work properly after this modification. More about google analytics cookies: https://developers.google.com/analytics/devguides/collection/analyticsjs/domains?hl=en#disableCookiesYou can get Google Analytics OPT IN cuztomized banner here:https://2gdpr.com/cookieconsentIt's free and works greatThere are Google Analytics and Facebook examplesCommon way to handle this so far is the method used by wolf-software's jquery plugin whereby it prevents the script from running until the user opts in. The ICO updated their guidelines last week, however, to say that it is acceptable to rely on 'implied consent' of the sort used on the BBC site. While I don't really think that's within the spirit of the law, it's what's deemed acceptable by those enforcing it. Given that most of the EU has yet to implement the directive, I'd say it's highly likely they'll follow the UK's lead. There's an interesting article about the UK updates here: http://www.redant.com/articles/eu-cookie-law-update-ico-adopts-softly-softly-approach/EDIT: There is a Google Analytics setting for this with the Asynchronous GA snippet.There isn't a Google Analytics setting for this, as you're suggesting, you would need to conditionally exclude the script for those that have not consented if you want to use the Google Analytics Javascript tracking script.There are some solutions out there already that can be helpful instead of rolling your own.

Javascript: http://cookies.dev.wolf-software.com/demo/index.htmHere is a solution that allows using Google Analytics basic features without cookies, by doing the tracking server side, this example is in PHP: http://techpad.co.uk/content.php?sid=205For a less intrusive UX solution you can set implied consent for google analytical cookies by placing a link to: cookiestatement.eu (no javascript, no popups, no ads)Sorry for being late to answer but I was looking for the same thing recently until I found out a way myself. It may not be the right way to do it but it works. (only works on site in question does not opt-out of GA completely). 

I have tested for a few days to make sure.The way I have managed to do it is using a PHP cookie. First start off with adding the analyticstracking.php include...and in analyticstracking.php add the following...Before the user has consented to cookies Google Analytics won't work and once they have, the 'consent_cookie' will be saved and will allow GA to work but if the 'google' cookie is destroyed it will stop GA from working (Obviously).Like I said it may not be the right way but I have tried and tested and it does. Hope this helps somebody.GA does not work without cookies, it needs it to 'identify s' the visitor if he/she visited your site before. So there is no setting in GA for this, GA just doesn't records the visitor if it cant create a cookie.If the user is from the EU and has not opt-in then you should exclude the google-analytics script I think.

What are passive event listeners?

Vivek Pratap Singh

[What are passive event listeners?](https://stackoverflow.com/questions/37721782/what-are-passive-event-listeners)

While working around to boost performance for progressive web apps, I came across a new feature Passive Event Listeners and I find it hard to understand the concept.What are Passive Event Listeners and what is the need to have it in our projects?

2016-06-09 09:21:04Z

While working around to boost performance for progressive web apps, I came across a new feature Passive Event Listeners and I find it hard to understand the concept.What are Passive Event Listeners and what is the need to have it in our projects?It enables developers to opt-in to better scroll performance by eliminating the need for scrolling to block on touch and wheel event listeners.Problem: All modern browsers have a threaded scrolling feature to permit scrolling to run smoothly even when expensive JavaScript is running, but this optimization is partially defeated by the need to wait for the results of any touchstart and touchmove handlers, which may prevent the scroll entirely by calling preventDefault() on the event. Solution: {passive: true}By marking a touch or wheel listener as passive, the developer is promising the handler won't call preventDefault to disable scrolling. This frees the browser up to respond to scrolling immediately without waiting for JavaScript, thus ensuring a reliably smooth scrolling experience for the user.DOM Spec  ,  Demo Video  , Explainer Doc

Why does typeof NaN return 'number'?

KooiInc

[Why does typeof NaN return 'number'?](https://stackoverflow.com/questions/2801601/why-does-typeof-nan-return-number)

Just out of curiosity. It doesn't seem very logical that typeof NaN is number. Just like NaN === NaN or NaN == NaN returning false, by the way. Is this one of the peculiarities of javascript, or would there be a reason for this?Edit: thanks for your answers. It's not an easy thing to get ones head around though. Reading answers and the wiki I understood more, but still, a sentence like just keeps my head spinning. If someone can translate this in human (as opposed to, say, mathematician) readable language, I would be gratefull.

2010-05-10 09:30:31Z

Just out of curiosity. It doesn't seem very logical that typeof NaN is number. Just like NaN === NaN or NaN == NaN returning false, by the way. Is this one of the peculiarities of javascript, or would there be a reason for this?Edit: thanks for your answers. It's not an easy thing to get ones head around though. Reading answers and the wiki I understood more, but still, a sentence like just keeps my head spinning. If someone can translate this in human (as opposed to, say, mathematician) readable language, I would be gratefull.It means Not a Number. It is not a peculiarity of javascript but common computer science principle.From http://en.wikipedia.org/wiki/NaN:All these values may not be the same. A simple test for a NaN is to test value == value is false.Well, NaN is still a numeric type, despite the fact it actually stands for Not-A-Number :-)NaN just means the specific value cannot be represented within the limitations of the numeric type (although that could be said for all numbers that have to be rounded to fit, but NaN is a special case).A specific NaN is not considered equal to another NaN because they may be different values. However, NaN is still a number type, just like 2718 or 31415.As to your updated question to explain in layman's terms:All this means is (broken down into parts):Basically, a NaN is not equal to any other number, including another NaN, and even including itself.Attempting to do comparison (less than, greater than, and so on) operations between a NaN and another number can either result in an exception being thrown (signalling) or just getting false as the result (non-signalling or quiet).Tests for equality (equal to, not equal to) are never signalling so using them will not cause an exception. If you have a regular number x, then x == x will always be true. If x is a NaN, then x == x will always be false. It's giving you a way to detect NaN easily (quietly).The ECMAScript (JavaScript) standard specifies that Numbers are IEEE 754 floats, which include NaN as a possible value.typeof NaN returns 'number' because:This behavior is in accordance with IEEE Standard for Floating-Point Arithmetic (IEEE 754):NaN is a valid floating point value (http://en.wikipedia.org/wiki/NaN)and NaN === NaN is false because they're not necessarily the same non-numberNaN != NaN because they are not necessary the SAME non-number. Thus it makes a lot of sense...

Also why floats have both +0.00 and -0.00 that are not the same. Rounding may do that they are actually not zero.As for typeof, that depends on the language. And most languages will say that NaN is a float, double or number depending on how they classify it... I know of no languages that will say this is an unknown type or null.NaN stands for Not a Number. It is a value of numeric data types (usually floating point types, but not always) that represents the result of an invalid operation such as dividing by zero.Although its names says that it's not a number, the data type used to hold it is a numeric type. So in JavaScript, asking for the datatype of NaN will return number (as alert(typeof(NaN)) clearly demonstrates).Javascript uses NaN to represent anything it encounters that can't be represented any other way by its specifications. It does not mean it is not a number. It's just the easiest way to describe the encounter. NaN means that it or an object that refers to it could not be represented in any other way by javascript. For all practical purposes, it is 'unknown'. Being 'unknown' it cannot tell you what it is nor even if it is itself. It is not even the object it is assigned to. It can only tell you what it is not, and not-ness or nothingness can only be described mathematically in a programming language. Since mathematics is about numbers, javascript represents nothingness as NaN. That doesn't mean it's not a number. It means we can't read it any other way that makes sense. That's why it can't even equal itself. Because it doesn't.A better name for NaN, describing its meaning more precisely and less confusingly, would be a numerical exception. It is really another kind of exception object disguised as having primitive type (by the language design), where at the same it is not treated as primitive in its false self-comparison. Whence the confusion. And as long as the language "will not make its mind" to choose between proper exception object and primitive numeral, the confusion will stay.The infamous non-equality of NaN to itself, both == and === is a manifestation of the confusing design forcing this exception object into being a primitive type. This breaks the fundamental principle that a primitive is uniquely determined by its value. If NaN is preferred to be seen as exception (of which there can be different kinds), then it should not be "sold" as primitive. And if it is wanted to be primitive, that principle must hold. As long as it is broken, as we have in JavaScript, and we can't really decide between the two, the confusion leading to unnecessary cognitive load for everyone involved will remain. Which, however, is really easy to fix by simply making the choice between the two: The only conceivable advantage of forcing NaN into number type is being able to throw it back into any numerical expression. Which, however, makes it brittle choice, because the result of any numerical expression containing NaN will either be NaN, or leading to unpredictable results such as NaN < 0 evaluating to false, i.e. returning boolean instead of keeping the exception.And even if "things are the way they are", nothing prevents us from making that clear distinction for ourselves, to help make our code more predictable and easierly debuggable. In practice, that means identifying those exceptions and dealing with them as exceptions. Which, unfortunately, means more code but hopefully will be mitigated by tools such as TypeScript of Flowtype.And then we have the messy quiet vs noisy aka signalling NaN distinction. Which really is about how exceptions are handled, not the exceptions themselves, and nothing different from other exceptions.Similarly, Infinity and +Infinity are elements of numeric type arising in the extension of the real line but they are not real numbers. Mathematically, they can be represented by sequences of real numbers converging to either + or -Infinity.This is simply because NaN is a property of the Number object in JS, It has nothing to do with it being a number.The best way to think of NAN is that its not a known number. Thats why NAN != NAN because each NAN value represents some unique unknown number. NANs are necessary because floating point numbers have a limited range of values. In some cases rounding occurs where the lower bits are lost which leads to what appears to be nonsense like 1.0/11*11 != 1.0. Really large values which are greater are NANs with infinity being a perfect example.Given we only have ten fingers any attempt to show values greater than 10 are impossible, which means such values must be NANs because we have lost the true value of this greater than 10 value. The same is true of floating point values, where the value exceeds the limits of what can be held in a float.Because NaN is a numeric data type.NaN is a number from a type point of view, but is not a normal number like 1, 2 or 329131. The name "Not A Number" refers to the fact that the value represented is special and is about the IEEE format spec domain, not javascript language domain.If using jQuery, I prefer isNumeric over checking the type:http://api.jquery.com/jQuery.isNumeric/Javascript has only one numeric data type, which is the standard 64-bit double-precision float. Everything is a double. NaN is a special value of double, but it's a double nonetheless.All that parseInt does is to "cast" your string into a numeric data type, so the result is always "number"; only if the original string wasn't parseable, its value will be NaN.NaN is still a numeric type, but it represents value that could not represent a valid number.We could argue that NaN is a special case object. In this case, NaN's object represents a number that makes no mathematical sense. There are some other special case objects in math like INFINITE and so on.You can still do some calculations with it, but that will yield strange behaviours.More info here: http://www.concentric.net/~ttwang/tech/javafloat.htm (java based, not javascript)You've got to love Javascript. It has some interesting little quirks.http://wtfjs.com/page/13Most of those quirks can be explained if you stop to work them out logically, or if you know a bit about number theory, but nevertheless they can still catch you out if you don't know about them.By the way, I recommend reading the rest of http://wtfjs.com/ -- there's a lot more interesting quirks than this one to be found!The value NaN is really the Number.NaN hence when you ask if it is a number it will say yes. You did the correct thing by using the isNaN() call. For information, NaN can also be returned by operations on Numbers that are not defined like divisions by zero or square root of a negative number. Imagine We are converting a string to a number:We changed the data type to number but its value is not a number!It is special value of Number type as POSITIVE_INFINITYWhy? By design

How do I target only Internet Explorer 10 for certain situations like Internet Explorer-specific CSS or Internet Explorer-specific JavaScript code?

trusktr

[How do I target only Internet Explorer 10 for certain situations like Internet Explorer-specific CSS or Internet Explorer-specific JavaScript code?](https://stackoverflow.com/questions/9900311/how-do-i-target-only-internet-explorer-10-for-certain-situations-like-internet-e)

How do I target only Internet Explorer 10 for certain situations like Internet Explorer-specific CSS or Internet Explorer-specific JavaScript code?I tried this, but it doesn't work:Internet Explorer 10 ignores the conditional comments and uses the <html lang="en" class="no-js"> instead of <html class="no-js ie10" lang="en">.

2012-03-28 02:21:32Z

How do I target only Internet Explorer 10 for certain situations like Internet Explorer-specific CSS or Internet Explorer-specific JavaScript code?I tried this, but it doesn't work:Internet Explorer 10 ignores the conditional comments and uses the <html lang="en" class="no-js"> instead of <html class="no-js ie10" lang="en">.Perhaps you can try some jQuery like this:To use this method you must include the jQuery Migrate library because this function was removed from the main jQuery library.Worked out quite fine for me. But surely no replacement for conditional comments!I wouldn't use JavaScript navigator.userAgent or $.browser (which uses navigator.userAgent) since it can be spoofed.To target Internet Explorer 9, 10 and 11 (Note: also the latest Chrome):To target Internet Explorer 10:To target Edge Browser:Sources:I found a solution on this site where someone had a valuable comment:The solution is:ItInternet Explorer 10 does not attempt to read conditional comments anymore. This means it will treat conditional comments just like any other browser would: as regular HTML comments, meant to be ignored entirely. Looking at the markup given in the question as an example, all browsers including IE10 will ignore the comment portions, highlighted gray, entirely. The HTML5 standard makes no mention of conditional comment syntax, and this is exactly why they have chosen to stop supporting it in IE10.Note, however, that conditional compilation in JScript is still supported, as shown in the comments as well as the more recent answers. It's not going away in the final release either, unlike jQuery.browser. And of course, it goes without saying that user-agent sniffing remains as fragile as ever and should never be used under any circumstances.If you really must target IE10, either use conditional compilation which may still see support in the near future, or — if you can help it — use a feature detection library such as Modernizr instead of (or in conjunction with) browser detection. Unless your use case requires noscript or accommodating IE10 on the server side, user-agent sniffing is going to be more of a headache than a viable option.Sounds pretty cumbersome, but remember that as a modern browser that's highly conformant to today's Web standards1, assuming you've written interoperable code that is highly standards-compliant, you shouldn't have to set aside special code for IE10 unless absolutely necessary, i.e. it's supposed to resemble other browsers in terms of behavior and rendering.2 And it sounds far-fetched, given IE's history, but how many times have you expected Firefox or Chrome to behave the same way only to be met with dismay?If you do have a legitimate reason to be targeting certain browsers, by all means sniff them out with the other tools given to you. I'm just saying that you're going to be much more hard-pressed to find such a reason today than what it used to be, and it's really just not something you can rely on.1 Not only IE10, but IE9, and even IE8 which handles most of the mature CSS2.1 standard far better than Chrome, simply because IE8 was so focused on standards compliance (at which time CSS2.1 was already pretty stable with only minor differences from today's recommendation) while Chrome seems to be little more than a half-polished tech demo of cutting-edge pseudo-standards.2 And I may be biased when I say this, but it sure as hell does. If your code works in other browsers but not IE, the odds that it's an issue with your own code rather than IE10 are far better compared to, say, 3 years ago, with previous versions of IE. Again, I may be biased, but let's be honest: aren't you too? Just look at your comments.A good place to start is the IE Standards Support Documentation. Here is how to target IE10 in JavaScript:Here is how to target IE10 in CSS:In case IE11 needs to be filtered or reset via CSS, see another 

question:

How to write a CSS hack for IE 11?Both solutions posted here (with slight modifications) work:orYou include either of the above lines inside of head tag of your html page before your css link. And then in css file you specify your styles having "ie10" class as a parent:And voilà! - other browsers stay intact. And you don't need jQuery. You can see the example how I implemented it here: http://kardash.net.I've written a small, vanilla JavaScript plugin called Layout Engine, which allows you to feature detect IE 10 (and every other browser), in a simple way that cannot be faked, unlike user agent sniffing.It adds the rendering engine name as a class on the html tag and returns a JavaScript object containing the vendor and version (where appropriate)Check out my blog post: http://mattstow.com/layout-engine.html and get the code on GitHub: https://github.com/stowball/Layout-EngineI use this script - it's antiquated, but effective in targeting a separate Internet Explorer 10 style sheet or JavaScript file that is included only if the browser is Internet Explorer 10, the same way you would with conditional comments. No jQuery or other plugin is required.You can use PHP to add a stylesheet for IE 10Like:If you must do this, you can check the user agent string in JavaScript:As other people have mentioned, I'd always recommend feature detection instead.If you want to target IE 10 with Vanilla JavaScript, you might want to try CSS property detection: Instead of msTouchAction you can also use one of these CSS properties, because they are currently only available in IE 10. But this might change in the future.I've put together a test page with all properties on CodePen. clipBoardData is a function that is only available in IE, so if you are seeking to target all IE versions you can useCSS for IE10+ and IE9You could use feature detection to see if browser is IE10 or greater like so:Only true if > IE9Conditionizr (see docs) will add browser CSS classes to your html element, including ie10. With JavaScript:Work for all IE.So change /Trident/g by /Trident/x.0/g where x = 4, 5, 6 or 7 (or maybe 8 for the future).I just wanted to add my version of IE detection. It's based on a snippet found at http://james.padolsey.com/javascript/detect-ie-in-js-using-conditional-comments/ and exteded to also support ie10 and ie11. It detects IE 5 to 11.All you need to do is add it somewhere and then you can always check with a simple condition. The global var isIE will be undefined if it's not an IE, or otherwise it will be the version number. So you can easily add things like if (isIE && isIE < 10) or alike.For me the following code works fine, all conditional comments are working in all IE versions:I'm on windows 8.1, not sure if it's related to ie11 update...Here is how I do custom CSS for Internet Explorer:In my JavaScript file:And then in my CSS file, y define each different style:Check out http://suhasrathod.wordpress.com/2013/04/29/ie10-css-hacks/use babel or typescript for convert this code jsThis answer got me 90% of the way there. I found the rest of my answer on the Microsoft site here.The code below is what I'm using to target all ie by adding a .ie class to <html>Use jQuery (which deprecated .browser in favor of user agents in 1.9+, see http://api.jquery.com/jQuery.browser/) to add an .ie class:If you don't mind targeting of IE10 and above and non IE browsers, you can use this conditional comment:Derived from http://www.paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neitherIf you really have to, you can make conditional comments work by adding the following line to <head>:Sourcemodern solution for css

How to check if object has any properties in JavaScript?

Ricky

[How to check if object has any properties in JavaScript?](https://stackoverflow.com/questions/2673121/how-to-check-if-object-has-any-properties-in-javascript)

Assuming I declare How can I check whether this object will contain any user-defined properties?

2010-04-20 06:44:17Z

Assuming I declare How can I check whether this object will contain any user-defined properties?You can loop over the properties of your object as follows: It is important to use the hasOwnProperty() method, to determine whether the object has the specified property as a direct property, and not inherited from the object's prototype chain.From the comments: You can put that code in a function, and make it return false as soon as it reaches the part where there is the commentPerformance TestTest Of Object.Keys vs For..In When testing for any propertiesYou can use the built in Object.keys method to get a list of keys on an object and test its length. What about making a simple function?The hasOwnProperty method call directly on the Object.prototype is only to add little more safety, imagine the following using a normal obj.hasOwnProperty(...) call:Note: (for the future)  The above method relies on the for...in statement, and this statement iterates only over enumerable properties, in the currently most widely implemented ECMAScript Standard (3rd edition) the programmer doesn't have any way to create non-enumerable properties.However this has changed now with ECMAScript 5th Edition, and we are able to create non-enumerable, non-writable or non-deletable properties, so the above method can fail, e.g.:An ECMAScript 5 solution to this problem would be:The Object.getOwnPropertyNames method returns an Array containing the names of all the own properties of an object, enumerable or not, this method is being implemented now by browser vendors, it's already on the Chrome 5 Beta and the latest WebKit Nightly Builds.Object.defineProperty is also available on those browsers and latest Firefox 3.7 Alpha releases.With jQuery you can use:As of jQuery 1.4 this method checks both properties on the object itself and properties inherited from prototypes (in that it doesn't use hasOwnProperty).With ECMAScript 5th Edition in modern browsers (IE9+, FF4+, Chrome5+, Opera12+, Safari5+) you can use the built in Object.keys method:Or plain old JavaScript:Most recent browsers (and node.js) support Object.keys() which returns an array with all the keys in your object literal so you could do the following:Browser Support: Firefox 4, Chrome 5, Internet Explorer 9, Opera 12, Safari 5https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keysIf you're using underscore.js then you can use the _.isEmpty function:If you are willing to use lodash, you can use the some method.See this small jsbin exampleIf you have to be safe and check for Object prototypes (these are added by certain libraries and not there by default):Member means Member property, member variable, whatever you want to call it >_>The above code will return EVERYTHING, including toString...

If you only want to see if the object's prototype has been extended:Note A: We check to see if the dummy object's member has the same type as our testing object's member.  If it is an extend, dummyobject's member type should be "undefined"Simple, works in every browser, and even though it's technically a loop for all keys on the object it does NOT loop through them all...either there's 0 and the loop doesn't run or there is some and it breaks after the first one (because all we're checking is if there's ANY...so why continue?)Very late answer, but this is how you could handle it with prototypes.When sure that the object is a user-defined one, the easiest way to determine if UDO is empty, would be the following code:Even though this method is (by nature) a deductive one, - it's the quickest, and fastest  possible. p.s.:

!don't use it on browser-defined objects.Late answer, but some frameworks handle objects as enumerables. Therefore, bob.js can do it like this:You can use the following:Double bang !! property lookuphasOwnProperty

This is something that I used to use:However, JavaScript decided not to protect the method’s name, so it could be tampered with. prop in myObjecttypeofHowever, it doesn't check for null.I think this is the best way.in operator result: Here is a link that goes into more detail on the in operator: Determining if an object property existsHow about this?ES6 functionExamples:

Should all jquery events be bound to $(document)?

Buck

[Should all jquery events be bound to $(document)?](https://stackoverflow.com/questions/12824549/should-all-jquery-events-be-bound-to-document)

When I first learned jQuery, I normally attached events like this:After learning more about selector speed and event delegation, I read in several places that "jQuery event delegation will make your code faster." So I started to write code like this:This was also the recommended way to replicate the behavior of the deprecated .live() event. Which is important to me since a lot of my sites dynamically add/remove widgets all the time. The above doesn't behave exactly like .live() though, since only  elements added to the already existing container '.my-widget' will get the behavior. If I dynamically add another block of html after that code has ran, those  elements will not get the events bound to them. Like this:I now attach all events like this:Which seems to meet all my goals. (Yes it's slower in IE for some reason, no idea why?)

It's fast because only a single event is tied to a singular element and the secondary selector is only evaluated when the event occurs (please correct me if this is wrong here). The namespace is awesome since it makes it easier to toggle the event listener. 

So I'm starting to think that jQuery events should always be bound to $(document).

Is there any reason why you would not want to do this?

Could this be considered a best practice? If not, why?If you've read this whole thing, thank you. I appreciate any/all feedback/insights. Assumptions:Readings/Examples:

2012-10-10 16:57:44Z

When I first learned jQuery, I normally attached events like this:After learning more about selector speed and event delegation, I read in several places that "jQuery event delegation will make your code faster." So I started to write code like this:This was also the recommended way to replicate the behavior of the deprecated .live() event. Which is important to me since a lot of my sites dynamically add/remove widgets all the time. The above doesn't behave exactly like .live() though, since only  elements added to the already existing container '.my-widget' will get the behavior. If I dynamically add another block of html after that code has ran, those  elements will not get the events bound to them. Like this:I now attach all events like this:Which seems to meet all my goals. (Yes it's slower in IE for some reason, no idea why?)

It's fast because only a single event is tied to a singular element and the secondary selector is only evaluated when the event occurs (please correct me if this is wrong here). The namespace is awesome since it makes it easier to toggle the event listener. 

So I'm starting to think that jQuery events should always be bound to $(document).

Is there any reason why you would not want to do this?

Could this be considered a best practice? If not, why?If you've read this whole thing, thank you. I appreciate any/all feedback/insights. Assumptions:Readings/Examples:No - you should NOT bind all delegated event handlers to the document object.  That is probably the worst performing scenario you could create.First off, event delegation does not always make your code faster.  In some cases, it's is advantageous and in some cases not.  You should use event delegation when you actually need event delegation and when you benefit from it.  Otherwise, you should bind event handlers directly to the objects where the event happens as this will generally be more efficient.  Second off, you should NOT bind all delegated events at the document level.  This is exactly why .live() was deprecated because this is very inefficient when you have lots of events bound this way.  For delegated event handling it is MUCH more efficient to bind them to the closest parent that is not dynamic.Third off, not all events work or all problems can be solved with delegation.  For example, if you want to intercept key events on an input control and block invalid keys from being entered into the input control, you cannot do that with delegated event handling because by the time the event bubbles up to the delegated handler, it has already been processed by the input control and it's too late to influence that behavior.Here are times when event delegation is required or advantageous:To understand this a little more, one needs to understand how jQuery delegated event handlers work.  When you call something like this:It installs a generic jQuery event handler on the #myParent object.  When a click event bubbles up to this delegated event handler, jQuery has to go through the list of delegated event handlers attached to this object and see if the originating element for the event matches any of the selectors in the delegated event handlers.  Because selectors can be fairly involved, this means that jQuery has to parse each selector and then compare it to the characteristics of the original event target to see if it matches each selector.  This is not a cheap operation.  It's no big deal if there is only one of them, but if you put all your selectors on the document object and there were hundreds of selectors to compare to every single bubbled event, this can seriously start to hobble event handling performance.For this reason, you want to set up your delegated event handlers so a delegated event handler is as close to the target object as practical.  This means that fewer events will bubble through each delegated event handler, thus improving the performance.  Putting all delegated events on the document object is the worst possible performance because all bubbled events have to go through all delegated event handlers and get evaluated against all possible delegated event selectors.  This is exactly why .live() is deprecated because this is what .live() did and it proved to be very inefficient.So, to achieve optimized performance:Event delegation is a technique to write your handlers before the element actually exist in DOM. This method has its own disadvantages and should be used only if you have such requirements.When should you use event delegation?Why you should not use event delegation?PS: Even for dynamic contents you don't have to use event delegation method if you are bind the handler after the contents get inserted into DOM. (If the dynamic content be added not frequently removed/re-added)Apparently, event delegation is actually recommended now. at least for vanilla js.https://gomakethings.com/why-event-delegation-is-a-better-way-to-listen-for-events-in-vanilla-js/"Web performance #

It feels like listening to every click in the document would be bad for performance, but it’s actually more performant than having a bunch of event listeners on individual items."

How to use __doPostBack()

Michael Kerute

[How to use __doPostBack()](https://stackoverflow.com/questions/3591634/how-to-use-dopostback)

I'm trying to create an asyncrhonous postback in ASP.NET using __doPostBack(), but I have no idea how to do it.  I want to use vanilla JavaScript.Something simple like a button click can cause the __doPostBack() event to fire.  I'm just trying to learn how the mechanism works.

2010-08-28 17:04:54Z

I'm trying to create an asyncrhonous postback in ASP.NET using __doPostBack(), but I have no idea how to do it.  I want to use vanilla JavaScript.Something simple like a button click can cause the __doPostBack() event to fire.  I'm just trying to learn how the mechanism works.You can try this in your web form with a button called btnSave for example:And in your code behind add something like this to read the value and operate upon it:Give that a try and let us know if that worked for you.This is also a good way to get server-side controls to postback inside FancyBox and/or jQuery Dialog.

For example, in FancyBox-div:JavaScript:Server-side Page_Load:Here's a brief tutorial on how __doPostBack() works.To be honest, I don't use it much; at least directly. Many server controls, (e.g., Button, LinkButton, ImageButton, parts of the GridView, etc.) use __doPostBack as their post back mechanism.I'd just like to add something to this post for asp:button. I've tried clientId and it doesn't seem to work for me:However, getting the UniqueId seems to post back to the server, like below:This might help someone else in future, hence posting this.Old question, but I'd like to add something: when calling doPostBack() you can use the server handler method for the action.For an example:Will fire, on server:I didn't find a better way to get the argument, so I'm still using Request["__EVENTARGUMENT"].Like others have said, you need to provide the UniqueID of the control to the __doPostback() method. On the server, the submitted form values are identified by the name attribute of the fields in the page. The reason why UniqueID works is because UniqueID and name are in fact the same thing when the server control is rendered in HTML.Here's an article that describes what is the UniqueID: This is how I do it

Can I get chrome-devtools to actually search all JS sources?

David McMullin

[Can I get chrome-devtools to actually search all JS sources?](https://stackoverflow.com/questions/15944633/can-i-get-chrome-devtools-to-actually-search-all-js-sources)

I'm having trouble with searching through JS files in chrome dev-tools, in the past the search activated by Ctrl+Shift+F always found what I wanted, but recently (I'm not sure exactly which update triggered this) I'm finding the search does not catchI've also found the callstack messed up when inline scripts were involved, but when I try to google for these issues, I just get the dev-tools doc pages, has anyone else noticed these issues? Was I just imagining this worked before?

2013-04-11 09:00:07Z

I'm having trouble with searching through JS files in chrome dev-tools, in the past the search activated by Ctrl+Shift+F always found what I wanted, but recently (I'm not sure exactly which update triggered this) I'm finding the search does not catchI've also found the callstack messed up when inline scripts were involved, but when I try to google for these issues, I just get the dev-tools doc pages, has anyone else noticed these issues? Was I just imagining this worked before?Yeah, if you want to search within content sources which are scripts used by extensions and the internal browser API, you enable it in the Settings of DevTools and then from any panel in DevTools you can type Ctrl + Shift + F or (on Mac) Options + Command + F (⌥⌘F) to search across all sources, snippets, and files.Even more helpful to what you may be needing is to set up a Workspace in Settings cog which you can map to a local directory of files which will be available in the Sources file browser sidebar which will also be searchable with the above shortcut.It seems the answer is always easier to find after you've taken the time to phrase the question properly...I found an option under General -> Sources called "Search in content scripts". I'm not sure how/when I disabled this but enabling it and restarting chrome has fixed all of my problems.Click on the triple dot icon on the right of DevTool dock, and choose Search.Or just hit: Control-Shift-F while using DevTools (Control-Shift-I).Activate 'Search in content scripts' option in DevTools General Settings. It will allow content scripts to be searchable.Then in DevTools panel you can search the source files at the bottom of the panel.For example:If you don't have the Search tab in bottom of DevTools panel, click on the triple dot icon to open it.I was facing same issue CTRL+SHIFT+F wasn't working anymore.In case it still doesn't work, check if this extension is installed in your chrome :form filler: https://chrome.google.com/webstore/detail/form-filler/bnjjngeaknajbdcgpfkgnonkmififhfo?hl=enCTRL+SHIFT+F was still not working for me but then I discovered that chrome extension "Form Filler" was overriding the "search all" in console commandTo change this : go to url --> chrome://extensions/then go to the bottom right : Keyboard shortcuts and you can change + CTRL+SHIFT+F command for form fillerthen the command CTRL+SHIFT+F in chrome search console worked againIn the latest version CTRL+SHIFT+F doesn't work anymore even after enabling "Search in anonymous and content scripts".Steps

1) You need to click on the three edits either at the top right or the bottom left of the dev tools. 

2) You will see an option of search which is what you want.3) Also the search tab is present at the bottom.So it might not be visible so you might have to drag the tab up.

 

Best cross-browser method to capture CTRL+S with JQuery?

ceejayoz

[Best cross-browser method to capture CTRL+S with JQuery?](https://stackoverflow.com/questions/93695/best-cross-browser-method-to-capture-ctrls-with-jquery)

My users would like to be able to hit Ctrl+S to save a form.  Is there a good cross-browser way of capturing the Ctrl+S key combination and submit my form?App is built on Drupal, so jQuery is available.

2008-09-18 15:40:23Z

My users would like to be able to hit Ctrl+S to save a form.  Is there a good cross-browser way of capturing the Ctrl+S key combination and submit my form?App is built on Drupal, so jQuery is available.Key codes can differ between browsers, so you may need to check for more than just 115.This works for me (using jquery) to overload Ctrl+S, Ctrl+F and Ctrl+G:You could use a shortcut library to handle the browser specific stuff.This jQuery solution works for me in Chrome and Firefox, for both Ctrl+S and Cmd+S.This one worked for me on Chrome... 

for some reason event.which returns a capital S (83) for me, not sure why (regardless of the caps lock state) so I used fromCharCode and toLowerCase just to be on the safe sideIf anyone knows why I get 83 and not 115, I will be happy to hear, also if anyone tests this on other browsers I'll be happy to hear if it works or notI combined a few options to support FireFox, IE and Chrome.  I've also updated it to better support macI would like Web applications to not override my default shortcut keys, honestly.  Ctrl+S already does something in browsers.  Having that change abruptly depending on the site I'm viewing is disruptive and frustrating, not to mention often buggy. I've had sites hijack Ctrl+Tab because it looked the same as Ctrl+I, both ruining my work on the site and preventing me from switching tabs as usual.If you want shortcut keys, use the accesskey attribute.  Please don't break existing browser functionality.@Eevee: As the browser becomes the home for richer and richer functionality and starts to replace desktop apps, it's just not going to be an option to forgo the use of keyboard shortcuts. Gmail's rich and intuitive set of keyboard commands was instrumental in my willingness to abandon Outlook. The keyboard shortcuts in Todoist, Google Reader, and Google Calendar all make my life much, much easier on a daily basis. Developers should definitely be careful not to override keystrokes that already have a meaning in the browser. For example, the WMD textbox I'm typing into inexplicably interprets Ctrl+Del as "Blockquote" rather than "delete word forward". I'm curious if there's a standard list somewhere of "browser-safe" shortcuts that site developers can use and that browsers will commit to staying away from in future versions.This is an up-to-date version of @AlanBellows's answer, replacing which with key. It also works even with Chrome's capital key glitch (where if you press Ctrl+S it sends capital S instead of s). Works in all modern browsers.I like this little plugin. It needs a bit more cross browser friendliness though.This should work (adapted from https://stackoverflow.com/a/8285722/388902).example:usagelink for download: http://www.openjs.com/scripts/events/keyboard_shortcuts/#To Alan Bellows answer: !(e.altKey) added for users who use AltGr when typing (e.g Poland). Without this pressing AltGr+S will give same result as Ctrl+SThis Plugin Made by me may be helpful.PluginYou can use this plugin you have to supply the key Codes and function to be run like thisIn the code i have displayed how to perform for Ctrl+S. You will get Detailed Documentation On the link. Plugin is in JavaScript Code section Of my Pen on Codepen.This was my solution, which is much easier to read than other suggestions here, can easily include other key combinations, and has been tested on IE, Chrome, and Firefox:I solved my problem on IE, using an alert("With a message") to prevent default Behavior:

Convert MySql DateTime stamp into JavaScript's Date format

dzm

[Convert MySql DateTime stamp into JavaScript's Date format](https://stackoverflow.com/questions/3075577/convert-mysql-datetime-stamp-into-javascripts-date-format)

Does anyone know how I can take a MySQL datetime data type value, such as YYYY-MM-DD HH:MM:SS and either parse it or convert it to work in JavaScript's Date() function, for example:- Date('YYYY, MM, DD, HH, MM, SS);Thank you!

2010-06-19 13:06:27Z

Does anyone know how I can take a MySQL datetime data type value, such as YYYY-MM-DD HH:MM:SS and either parse it or convert it to work in JavaScript's Date() function, for example:- Date('YYYY, MM, DD, HH, MM, SS);Thank you!Some of the answers given here are either overcomplicated or just will not work (at least, not in all browsers).  If you take a step back, you can see that the MySQL timestamp has each component of time in the same order as the arguments required by the Date() constructor.All that's needed is a very simple split on the string:Fair warning: this assumes that your MySQL server is outputting UTC dates (which is the default, and recommended if there is no timezone component of the string).To add to the excellent Andy E answer a function of common usage could be:In this way given a MySQL date/time in the form "YYYY-MM-DD HH:MM:SS" or even the short form (only date) "YYYY-MM-DD" you can do:I think I may have found a simpler way, that nobody mentioned.A MySQL DATETIME column can be converted to a unix timestamp through:We can make a new JavaScript Date object by using the constructor that requires milliseconds since the epoch. The unix_timestamp function returns seconds since the epoch, so we need to multiply by 1000:The resulting value can be used directly to instantiate a correct Javascript Date object:Hope this helps.One liner for modern browsers (IE10+):And just for fun, here's a one-liner that will work across older browsers (now fixed):Recent versions of JavaScript will read an ISO8601 formatted date, so all you have to do is change the space to a 'T', doing something like one of the following:There is a simpler way, sql timestamp string: The closest format to timestamp for Date() to receive is the following, so replace blank space for "T":Then, create the date object:result would be the date object:To add even further to Marco's solution.  I prototyped directly to the String object.This way you can go directly to:From Andy's Answer, 

For AngularJS - FilterFirst you can give JavaScript's Date object (class) the new method 'fromYMD()' for converting MySQL's YMD date format into JavaScript format by splitting YMD format into components and using these date components:Now you can define your own object (funcion in JavaScript world):and now you can simply create date from MySQL date format;You can use unix timestamp to direct:SELECT UNIX_TIMESTAMP(date) AS epoch_time FROM table;Then get the epoch_time into JavaScript, and it's a simple matter of:var myDate = new Date(epoch_time * 1000);The multiplying by 1000 is because JavaScript takes milliseconds, and UNIX_TIMESTAMP gives seconds.A quick search in google provided this:Source:http://snippets.dzone.com/posts/show/4132Why not do this:

throw Error('msg') vs throw new Error('msg')

Ilia Choly

[throw Error('msg') vs throw new Error('msg')](https://stackoverflow.com/questions/13294658/throw-errormsg-vs-throw-new-errormsg)

What's the difference? Looking at them in the chrome console, they look identical. Same properties on the object and the same __proto__ chain. Almost seems like Error acts like a factory.Which one is correct and why?

2012-11-08 17:42:04Z

What's the difference? Looking at them in the chrome console, they look identical. Same properties on the object and the same __proto__ chain. Almost seems like Error acts like a factory.Which one is correct and why?Both are fine; this is explicitly stated in the specification:Error does act like a factory, like some other native constructors: Array, Object, etc. all check something like if (!(this instanceof Array)) { return new Array(arguments); }. (But note that String(x) and new String(x) are very different, and likewise for Number and Boolean.)That said, in case of an error, it's not even required to throw an Error object... throw 'Bad things happened'; will work, tooYou can even throw an object literal for debugging:

[Vue warn]: Cannot find element

dopatraman

[[Vue warn]: Cannot find element](https://stackoverflow.com/questions/29484431/vue-warn-cannot-find-element)

I'm using Vuejs. This is my markup:This is my code:When I load the page I get this warning:What am I doing wrong?

2015-04-07 05:30:48Z

I'm using Vuejs. This is my markup:This is my code:When I load the page I get this warning:What am I doing wrong?I think the problem is your script is executed before the target dom element is loaded in the dom... one reason could be that you have placed your script in the head of the page or in a script tag that is placed before the div element #main. So when the script is executed it won't be able to find the target element thus the error.One solution is to place your script in the load event handler likeAnother syntaxI've solved the problem by add attribute 'defer' to the 'script' element.I get the same error. the solution is to put your script code before the end of body, not in the head section.The simple thing is to put the script below the document, just before your closing </body> tag:app.js file: 

How to remove undefined and null values from an object using lodash?

JLavoie

[How to remove undefined and null values from an object using lodash?](https://stackoverflow.com/questions/30812765/how-to-remove-undefined-and-null-values-from-an-object-using-lodash)

I have a Javascript object like:How to remove all the undefined properties? False attributes should stay.

2015-06-12 21:58:25Z

I have a Javascript object like:How to remove all the undefined properties? False attributes should stay.If you want to remove all falsey values then the most compact way is:For Lodash 4.x and later:For legacy Lodash 3.x:You can simply chain _.omit() with _.isUndefined and _.isNull compositions, and get the result with lazy evaluation.DemoUpdate March 14, 2016:As mentioned by dylants in the comment section, you should use the _.omitBy() function since it uses a predicate instead of a property. You should use this for lodash version 4.0.0 and above.DEMOUpdate June 1, 2016:As commented by Max Truxa, lodash already provided an alternative _.isNil.if you are using lodash, you can use _.compact(array) to remove all falsely values from an array.https://lodash.com/docs/4.17.4#compactThe correct answer is:That results in:The alternative given here by other people:Will remove also false values which is not desired here.Just:  The above doesn't take in account null values, as they are missing from the original example and mentioned only in the subject, but I leave it as it is elegant and might have its uses.Here is the complete example, less concise, but more complete.To complete the other answers, in lodash 4 to ignore only undefined and null (And not properties like false) you can use a predicate in _.pickBy: _.pickBy(obj, v !== null && v !== undefined)Example below :

According to lodash docs: Also you can filter out all nullsI encountered a similar problem with removing undefined from an object (deeply), and found that if you are OK to convert your plain old object and use JSON, a quick and dirty helper function would look like this:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description"...If undefined, a function, or a symbol is encountered during conversion it is either omitted (when it is found in an object) or censored to null (when it is found in an array)."with pure JavaScript: (although Object.entries is ES7, Object.assign is ES6; but equivalent ES5 uses Object.keys only should be also doable); also notice v != null checks for both null and undefined;Edit: this below is the version with ES5 Object.keys only: but generally with ES7 in Node v8 is pretty much enjoyable ;-)Update in October 2017: with Node v8 (since v8.3 or so) now it has object spreading construct:or within one reduce only:Update: someone want recursive? isn't that hard either, just need an additional check of isObject, and recursively call itself:my conclusion: if pure Javascript can do, I would avoid any third party library dependencies:For deep nested object you can use my snippet for lodash > 4Since some of you might have arrived at the question looking to specifically removing only undefined, you can use:If you need to recursively remove undefined properties, the rundef package also has a recursive option.See the documentation for more details.Here's the lodash approach I'd take:The pairs() function turns the input object into an array of key/value arrays. You do this so that it's easier to use reject() to eliminate undefined and null values. After, you're left with pairs that weren't rejected, and these are input for zipObject(), which reconstructs your object for you.Taking in account that undefined == null we can write as follows:JSBin examplepickBy uses identity by default:With lodash (or underscore) You may doOtherwise, with vanilla JavaScript, you can doNot to use a falsey test, because not only "undefined" or "null" will be rejected, also is other falsey value like "false", "0", empty string, {}. Thus, just to make it simple and understandable, I opted to use explicit comparison as coded above.To omit all falsey values but keep the boolean primitives this solution helps.Shortest way (lodash v4):I would use underscore and take care of empty strings too:jsbin.For deep nested object and arrays. and exclude empty values from string and NaNresult:I like using _.pickBy, because you have full control over what you are removing:Source: https://www.codegrepper.com/?search_term=lodash+remove+undefined+values+from+objectFor those of you getting here looking to remove from an array of objects and using lodash you can do something like this:Note: You don't have to destruct if you don't want to. 

How to remove and clear all localStorage data [duplicate]

itsme

[How to remove and clear all localStorage data [duplicate]](https://stackoverflow.com/questions/10710674/how-to-remove-and-clear-all-localstorage-data)

I need to clear all data i set into localStorage. By this, I mean completely reset localStorage to null when users remove their accounts.How can i do that with a simple function?I tried this: But it doesn't work as expected.

2012-05-22 21:48:26Z

I need to clear all data i set into localStorage. By this, I mean completely reset localStorage to null when users remove their accounts.How can i do that with a simple function?I tried this: But it doesn't work as expected.localStorage.clear(); should work.If you want to remove/clean all the values from local storage than use And if you want to remove the specific item from local storage than use the following codeIt only worked for me in Firefox when accessing it from the window object.Example...Using .one ensures this is done only once and not repeatedly. It is okay to put several document.ready event listeners (if you need other events to execute multiple times) as long as you do not overdo it, for the sake of readability..one is especially useful when you want local storage to be cleared only once the first time a web page is opened or when a mobile application is installed the first time.Something like this should do:Be careful about using this, though, as the user may have other data stored in localStorage and would probably be pretty ticked if you deleted that. I'd recommend either a) not storing the user's data in localStorage or b) storing the user's account stuff in a single variable,  and then clearing that instead of deleting all the keys in localStorage.Edit: As Lyn pointed out, you'll be good with localStorage.clear(). My previous points still stand, however.

Parse string to date with moment.js

reachify

[Parse string to date with moment.js](https://stackoverflow.com/questions/22184747/parse-string-to-date-with-moment-js)

I want to parse the following string with moment.js 2014-02-27T10:00:00 and output

day month year (14 march 2014)

I have been reading the docs but without success

http://momentjs.com/docs/#/parsing/now/

2014-03-04 22:42:46Z

I want to parse the following string with moment.js 2014-02-27T10:00:00 and output

day month year (14 march 2014)

I have been reading the docs but without success

http://momentjs.com/docs/#/parsing/now/You need to use the .format() function. MM - Month numberMMM - Month wordFIDDLEI always seem to find myself landing here only to realize that the title and question are not quite aligned.If you want a moment date from a string:From moment documentation:If you instead want a javascript Date object from a string:No need for moment.js to parse the input since its format is the standard one :http://es5.github.io/#x15.9.1.15moment was perfect for what I needed. NOTE it ignores the hours and minutes and just does it's thing if you let it. This was perfect for me as my API call brings back the date and time but I only care about the date.Maybe try the Intl polyfill for IE8 or the olyfill service ? or https://github.com/andyearnshaw/Intl.js/let startDate = "2019-01-16T20:00:00.000";

 let endDate = "2019-02-11T20:00:00.000";

 let sDate = new Date(startDate);

 let eDate = new Date(endDate);startDate = moment(sDate);

 endDate = moment(eDate);

jQuery/Javascript function to clear all the fields of a form [duplicate]

DiegoP.

[jQuery/Javascript function to clear all the fields of a form [duplicate]](https://stackoverflow.com/questions/6653556/jquery-javascript-function-to-clear-all-the-fields-of-a-form)

I am looking for a jQuery function that will clear all the fields of a form after having submitted the form.I do not have any HTML code to show, I need something generic.Can you help?Thanks!

2011-07-11 16:47:31Z

I am looking for a jQuery function that will clear all the fields of a form after having submitted the form.I do not have any HTML code to show, I need something generic.Can you help?Thanks!Note: this answer is relevant to resetting form fields, not clearing fields - see update.You can use JavaScript's native reset() method to reset the entire form to its default state.Example provided by Ryan: Note: This may not reset certain fields, such as type="hidden".As noted by IlyaDoroshin the same thing can be accomplished using jQuery's trigger():If you need to do more than reset the form to its default state, you should review the answers to Resetting a multi-stage form with jQuery.To reset form (but not clear the form) just trigger reset event: To clear a form see other answers.Something similar to $("#formId").reset() will not clear form items that have had their defaults set to something other than "". One way this can happen is a previous form submission: once a form has been submitted reset() would "reset" form values to those previously submitted which will likely not be "".One option to clear all forms on the page, is to call a function such as the following, executing it simply as clearForms():If you want to reset a specific form, then modify the function as follows, and call it as clearForm($("#formId")):When I originally came to this page I needed a solution that takes into account form defaults being changed and is still able to clear all input items.Note that this will not clear placeholder text.Set the val to ""You could also try something like this:More info here and hereYou can simply use the reset button type.Edit: Remember that, the reset button, reset the form for the original values, so, if the field has some value set on the field <input type="text" value="Name" /> after press reset the field will reset the value inserted by user and come back with the word "name" in this example.Reference: http://api.jquery.com/reset-selector/I use following solution:1) Setup Jquery Validation Plugin2) Then:the trigger idea was smart, however I wanted to do it the jQuery way, so here is a small function which will allow you to keep chaining.Then just call it something like thisorand of course you can still use it in the chainWould something like work?JQuery Clear Form on closeHTMLJavaScriptSimple and short function to clear all fields 

Catch browser's「zoom」event in JavaScript

user123093

[Catch browser's「zoom」event in JavaScript](https://stackoverflow.com/questions/995914/catch-browsers-zoom-event-in-javascript)

Is it possible to detect, using JavaScript, when the user changes the zoom in a page?

I simply want to catch a "zoom" event and respond to it (similar to window.onresize event).Thanks.

2009-06-15 12:46:52Z

Is it possible to detect, using JavaScript, when the user changes the zoom in a page?

I simply want to catch a "zoom" event and respond to it (similar to window.onresize event).Thanks.There's no way to actively detect if there's a zoom. I found a good entry here on how you can attempt to implement it.You could also do it using the tools of the above post. The problem is you're more or less making educated guesses on whether or not the page has zoomed. This will work better in some browsers than other. There's no way to tell if the page is zoomed if they load your page while zoomed. I'm using this piece of JavaScript to react to Zoom "events".

It polls the window width.

(As somewhat suggested on this page (which Ian Elliott linked to): http://novemberborn.net/javascript/page-zoom-ff3 [archive])Tested with Chrome, Firefox 3.6 and Opera, not IE.Regards, MagnusGood news everyone some people! Newer browsers will trigger a window resize event when the zoom is changed.This works for me:It's only needed on IE8.   All the other browsers naturally generate a resize event.Lets define px_ratio as below:px ratio = ratio of physical pixel to css px.if any one zoom The Page, the viewport pxes (px is different from pixel ) reduces and should be fit to The screen so the ratio (physical pixel / CSS_px ) must get bigger.but in window Resizing, screen size reduces as well as pxes. so the ratio will maintain.butresizing: trigger windows.resize event --> doesn’t change px_ratioThe key point is difference between CSS PX and Physical Pixel.https://gist.github.com/abilogos/66aba96bb0fb27ab3ed4a13245817d1e There is a nifty plugin built from yonran that can do the detection. Here is his previously answered question on StackOverflow. It works for most of the browsers. Application is as simple as this:DemoI'd like to suggest an improvement to previous solution with tracking changes to window width. Instead of keeping your own array of event listeners you can use existing javascript event system and trigger your own event upon width change, and bind event handlers to it.Throttle/debounce can help with reducing the rate of calls of your handler.You can also get the text resize events, and the zoom factor by injecting a div containing at least a non-breakable space (possibly, hidden), and regularly checking its height. If the height changes, the text size has changed, (and you know how much - this also fires, incidentally, if the window gets zoomed in full-page mode, and you still will get the correct zoom factor, with the same height / height ratio).On iOS 10 it is possible to add an event listener to the touchmove event and to detect, if the page is zoomed with the current event.Although this is a 9 yr old question, the problem persists! I have been detecting resize while excluding zoom in a project, so I edited my code to make it work to detect both resize and zoom exclusive from one another. It works most of the time, so if most is good enough for your project, then this should be helpful! It detects zooming 100% of the time in what I've tested so far. The only issue is that if the user gets crazy (ie. spastically resizing the window) or the window lags it may fire as a zoom instead of a window resize.It works by detecting a change in window.outerWidth or window.outerHeight as window resizing while detecting a change in window.innerWidth or window.innerHeight independent from window resizing as a zoom.Note: My solution is like KajMagnus's, but this has worked better for me.Here is a clean solution:The resize event works on modern browsers by attaching the event on window, and then reading values of thebody, or other element with for example (.getBoundingClientRect()). An other alternative: the ResizeObserver API Depending your layout, you can watch for resizing on a particular element.This works well on «responsive» layouts, because the container box get resized when zooming.Be careful to not overload javascript tasks from user gestures events. Use requestAnimationFrame whenever you needs redraws.I'am replying to a 3 year old link but I guess here's a more acceptable answer,Create .css file as,EG:-The above code makes the size of the font '10px' when the screen is zoomed to approximately 125%. You can check for different zoom level by changing the value of '1000px'.

How to avoid long nesting of asynchronous functions in Node.js

Kay Pale

[How to avoid long nesting of asynchronous functions in Node.js](https://stackoverflow.com/questions/4234619/how-to-avoid-long-nesting-of-asynchronous-functions-in-node-js)

I want to make a page that displays some data from a DB, so I have created some functions that get that data from my DB. I'm just a newbie in Node.js, so as far as I understand, if I want to use all of them in a single page (HTTP response) I'd have to nest them all:If there are many functions like that, then the nesting becomes a problem.Is there a way to avoid this? I guess it has to do with how you combine multiple asynchronous functions, which seems to be something fundamental.

2010-11-20 19:43:45Z

I want to make a page that displays some data from a DB, so I have created some functions that get that data from my DB. I'm just a newbie in Node.js, so as far as I understand, if I want to use all of them in a single page (HTTP response) I'd have to nest them all:If there are many functions like that, then the nesting becomes a problem.Is there a way to avoid this? I guess it has to do with how you combine multiple asynchronous functions, which seems to be something fundamental.Interesting observation. Note that in JavaScript you can normally replace inline anonymous callback functions with named function variables.The following:Could be rewritten to look something like this:However unless you plan to reuse to callback logic in other places, it is often much easier to read inline anonymous functions, as in your example. It will also spare you from having to find a name for all the callbacks.In addition note that as @pst noted in a comment below, if you are accessing closure variables within the inner functions, the above would not be a straightforward translation. In such cases, using inline anonymous functions is even more preferable. Kay, simply use one of these modules.It will turn this:Into this:For the most part, I'd agree with Daniel Vassallo. If you can break up a complicated and deeply nested function into separate named functions, then that is usually a good idea. For the times when it makes sense to do it inside a single function, you can use one of the many node.js async libraries available. People have come up with lots of different ways to tackle this, so take a look at the node.js modules page and see what you think.I've written a module for this myself, called async.js. Using this, the above example could be updated to:One nice thing about this approach is that you can quickly change your code to fetch the data in parallel by changing the 'series' function to 'parallel'. What's more, async.js will

also work inside the browser, so you can use the same methods as you would in node.js should you encounter any tricky async code.Hope that's useful!You could use this trick with an array rather than nested functions or a module.Far easier on the eyes.You can extend the idiom for parallel processes or even parallel chains of processes:I like async.js a lot for this purpose.The issue is solved by waterfall command:ExampleAs for the req,res variables, they will be shared within the same scope as function(req,res){} which enclosed the whole async.waterfall call.Not only so, async is very clean. What I means is that I change a lot of cases like this:To first:Then to this:Then to this:It also allows many premade functions prepared for async to be called from util.js very fast. Just chain up what you want to do, make sure o,cb is universally handled. This speeds up the whole coding process a lot.What you need is a bit of syntactic sugar. Chek this out:Pretty neat, isn't it? You may notice that html became an array. That's partly because strings are immutable, so you better off with buffering your output in an array, than discarding larger and larger strings. The other reason is because of another nice syntax with bind.Queue in the example is really just an example and along with partial can be implemented as followsAm in love Async.js ever since I found it. It has a async.series function you can use to avoid long nesting.Documentation:-Run an array of functions in series, each one running once the previous function has completed. [...]tasks - An array of functions to run, each function is passed a callback it must call on completion.

callback(err, [results]) - An optional callback to run once all the functions have completed. This function gets an array of all the arguments passed to the callbacks used in the array.Here's how we can apply it to your example code:-The most simple syntactical sugar i have seen is node-promise.npm install node-promise || git clone https://github.com/kriszyp/node-promiseUsing this you can chain async methods as:The return value of each is available as argument in the next.What you have done there is take an asynch pattern and apply it to 3 functions called in sequence, each one waiting for the previous one to complete before starting - i.e. you have made them synchronous. The point about asynch programming is that you can have several functions all running at once and not have to wait for each to complete.if getSomeDate() doesn't provide anything to getSomeOtherDate(), which doesn't provide anything to getMoreData() then why don't you call them asynchronously as js allows or if they are interdependent (and not asynchronous) write them as a single function?You don't need to use nesting to control the flow - for instance, get each function to finish by calling a common function that determines when all 3 have completed and then sends the response.Suppose you could do this:You only need to implement chain() so that it partially applies each function to the next one, and immediately invokes only the first function:callback hell can be easily avoided in pure javascript with closure.  the solution below assumes all callbacks follow the function(error, data) signature.I've recently created simpler abstraction called wait.for to call async functions in sync mode (based on Fibers). It's at an early stage but works. It is at:https://github.com/luciotato/waitforUsing wait.for, you can call any standard nodejs async function, as if it were a sync function.using wait.for your code could be:...or if you want to be less verbose (and also add error catching)In all the cases, getSomeDate, getSomeOtherDate and getMoreData 

should be standard async functions with the last parameter a function callback(err,data)as in:To solve this problem I wrote nodent (https://npmjs.org/package/nodent‎) which invisibly pre-processes your JS. Your example code would become (async, really - read the docs).Clearly, there are many other solutions, but pre-processing has the advantage of having little or no run-time overhead and thanks to source-map support it's easy to debug too.I had the same problem. I've seen the major libs to node run async functions, and they presents so non-natural chaining (you need to use three or more methods confs etc) to build your code.I spent some weeks developing a solution to be simple and easing to read. Please, give a try to EnqJS. All opinions will be appreciated.Instead of:with EnqJS:Observe that the code appears to be bigger than before. But it isn't nested as before.

To appear more natural, the chains are called imediately:And to say that it returned, inside  the function we call:I do it in a pretty primitive but effective way. E.g. I need to get a model with its parents and children and let's say I need to do separate queries for them:Use Fibers https://github.com/laverdet/node-fibers it makes asynchronous code looks like synchronous (without blocking)I personally use this little wrapper http://alexeypetrushin.github.com/synchronize

Sample of code from my project (every method is actually asynchronous, working with async file IO) I even afraid of imagine what a mess it would be with callback or async-control-flow helper libraries.Task.js offers you this:Instead of this:After the others responded, you stated that your problem were local variables.  It seems an easy way to do this is to write one outer function to contain those local variables, then use a bunch of named inner functions and access them by name.  This way, you'll only ever nest two deep, regardless of how many functions you need to chain together.Here is my newbie's attempt at using the mysql Node.js module with nesting:The following is a rewrite using named inner functions.  The outer function with_connection can be used as a holder for local variables, too.  (Here, I've got the parameters sql, bindings, cb that act in a similar way, but you can just define some additional local variables in with_connection.)I had been thinking that perhaps it would be possible to make an object with instance variables, and to use these instance variables as a replacement for the local variables.  But now I find that the above approach using nested functions and local variables is simpler and easier to understand.  It takes some time to unlearn OO, it seems :-)So here is my previous version with an object and instance variables.It turns out that bind can be used to some advantage.  It allows me to get rid of the somewhat ugly anonymous functions I've created that didn't do anything much, except to forward themselves to a method call.  I couldn't pass the method directly because it would have been involved with the wrong value of this.  But with bind, I can specify the value of this that I want.Of course, none of this is proper JS with Node.js coding -- I just spent a couple of hours on it.  But maybe with a little polishing this technique can help?async.js works well for this. I came across this very useful article which explains the need and use of async.js with examples:   http://www.sebastianseilund.com/nodejs-async-in-practiceIf you don't want to use "step" or "seq", please try "line" which is a simple function to reduce nested async callback.https://github.com/kevin0571/node-lineC#-like asyncawait is another way of doing thishttps://github.com/yortus/asyncawaitUsing wire your code would look like this:for your know consider Jazz.js

https://github.com/Javanile/Jazz.js/wiki/Script-showcase

Transforming a Javascript iterator into an array

Stefano

[Transforming a Javascript iterator into an array](https://stackoverflow.com/questions/28718641/transforming-a-javascript-iterator-into-an-array)

I'm trying to use the new Map object from Javascript EC6, since it's already supported in the latest Firefox and Chrome versions.But I'm finding it very limited in "functional" programming, because it lacks classic map, filter etc. methods that would work nicely with a [key, value] pair. It has a forEach but that does NOT returns the callback result.If I could transform its map.entries() from a MapIterator into a simple Array I could then use the standard .map, .filter with no additional hacks.Is there a "good" way to transform a Javascript Iterator into an Array?

In python it's as easy as doing list(iterator)... but Array(m.entries()) return an array with the Iterator as its first element!!!EDITI forgot to specify I'm looking for an answer which works wherever Map works, which means at least Chrome and Firefox (Array.from does not work in Chrome).PS.I know there's the fantastic wu.js but its dependency on traceur puts me off...

2015-02-25 12:06:16Z

I'm trying to use the new Map object from Javascript EC6, since it's already supported in the latest Firefox and Chrome versions.But I'm finding it very limited in "functional" programming, because it lacks classic map, filter etc. methods that would work nicely with a [key, value] pair. It has a forEach but that does NOT returns the callback result.If I could transform its map.entries() from a MapIterator into a simple Array I could then use the standard .map, .filter with no additional hacks.Is there a "good" way to transform a Javascript Iterator into an Array?

In python it's as easy as doing list(iterator)... but Array(m.entries()) return an array with the Iterator as its first element!!!EDITI forgot to specify I'm looking for an answer which works wherever Map works, which means at least Chrome and Firefox (Array.from does not work in Chrome).PS.I know there's the fantastic wu.js but its dependency on traceur puts me off...You are looking for the new Array.from function which converts arbitrary iterables to array instances:It is now supported in Edge, FF, Chrome and Node 4+.Of course, it might be worth to define map, filter and similar methods directly on the iterator interface, so that you can avoid allocating the array. You also might want to use a generator function instead of higher-order functions:[...map.entries()] or Array.from(map.entries())It's super-easy.Anyway - iterators lack reduce, filter, and similar methods. You have to write them on your own, as it's more perfomant than converting Map to array and back. But don't to do jumps Map -> Array -> Map -> Array -> Map -> Array, because it will kill performance.There's no need to transform a Map into an Array. You could simply create map and filter functions for Map objects:For example, you could append a bang (i.e. ! character) to the value of each entry of a map whose key is a primitive.You could also add map and filter methods on Map.prototype to make it read better. Although it is generally not advised to modify native prototypes yet I believe that an exception may be made in the case of map and filter for Map.prototype:Edit: In Bergi's answer, he created generic map and filter generator functions for all iterable objects. The advantage of using them is that since they are generator functions, they don't allocate intermediate iterable objects.For example, my map and filter functions defined above create new Map objects. Hence calling object.filter(primitive).map(appendBang) creates two new Map objects:Creating intermediate iterable objects is expensive. Bergi's generator functions solve this problem. They do not allocate intermediate objects but allow one iterator to feed its values lazily to the next. This kind of optimization is known as fusion or deforestation in functional programming languages and it can significantly improve program performance.The only problem I have with Bergi's generator functions is that they are not specific to Map objects. Instead, they are generalized for all iterable objects. Hence instead of calling the callback functions with (value, key) pairs (as I would expect when mapping over a Map), it calls the callback functions with (value, index) pairs. Otherwise, it's an excellent solution and I would definitely recommend using it over the solutions that I provided.So these are the specific generator functions that I would use for mapping over and filtering Map objects:They can be used as follows:If you want a more fluent interface then you could do something like this:Hope that helps.Now Array.from seems to be universally available, and, furthermore, it accepts a second argument mapFn, which prevents it from creating an intermediate array. This basically looks like this:You could use a library like https://www.npmjs.com/package/itiriri that implements array-like methods for iterables:You can get the array of arrays (key and value): And then, you can easly get values from inside, like for example the keys with the map iterator. 

How to get just numeric part of CSS property with jQuery?

Tim Sheiner

[How to get just numeric part of CSS property with jQuery?](https://stackoverflow.com/questions/1100503/how-to-get-just-numeric-part-of-css-property-with-jquery)

I need to do a numeric calculation based on CSS properties. However, when I use this to get info:it returns the value '10px'. Is there a trick to just getting the number part of the value no matter whether it is px or % or em or whatever?

2009-07-08 20:59:11Z

I need to do a numeric calculation based on CSS properties. However, when I use this to get info:it returns the value '10px'. Is there a trick to just getting the number part of the value no matter whether it is px or % or em or whatever?This will clean up all non-digits, non-dots, and not-minus-sign from the string:UPDATED for negative valuesparseInt will automatically ignore the units.For example:With the replace method, your css value is a string, and not a number.This method is more clean, simple, and returns a number :Even if marginBottom defined in em, the value inside of parseFloat above will be in px, as it's a calculated CSS property.I use a simple jQuery plugin to return the numeric value of any single CSS property.It applies parseFloat to the value returned by jQuery's default css method.Plugin Definition: Usage:Let us assume you have a margin-bottom property set to 20px / 20% / 20em. To get the value as a number there are two options:Option 1:The parseInt() function parses a string and returns an integer. Don't change the 10 found in the above function (known as a "radix") unless you know what you are doing.Example Output will be: 20 (if margin-bottom set in px) for % and em it will output the relative number based on current Parent Element / Font size.Option 2 (I personally prefer this option)Example Output will be: 20 (if margin-bottom set in px) for % and em it will output the relative number based on current Parent Element / Font size.The parseFloat() function parses a string and returns a floating point number.The parseFloat() function determines if the first character in the specified string is a number. If it is, it parses the string until it reaches the end of the number, and returns the number as a number, not as a string.The advantage of Option 2 is that if you get decimal numbers returned (e.g. 20.32322px) you will get the number returned with the values behind the decimal point. Useful if you need specific numbers returned, for example if your margin-bottom is set in em or %parseint will truncate any decimal values (e.g. 1.5em gives 1).Try a replace function with regex 

e.g.Id go for:The simplest way to get the element width without units is :Source : https://api.jquery.com/width/#width2You can implement this very simple jQuery plugin:Plugin Definition:It is resistant to NaN values that may occur in old IE version (will return 0 instead)Usage:Enjoy! :)For improving accepted answer use this:If it's just for "px" you can also use:Should remove units while preserving decimals.usewhich return an array.

first index returns margin bottom's value(example 20 for 20px)

and second index returns margin bottom's unit(example px for 20px)

node.js: read a text file into an array. (Each line an item in the array.)

chacko

[node.js: read a text file into an array. (Each line an item in the array.)](https://stackoverflow.com/questions/6831918/node-js-read-a-text-file-into-an-array-each-line-an-item-in-the-array)

I would like to read a very, very large file into a JavaScript array in node.js.So, if the file is like this:I would have the array: The function would look like this:Therefore the idea of loading it all as a string and then splitting it is not acceptable.

2011-07-26 14:48:17Z

I would like to read a very, very large file into a JavaScript array in node.js.So, if the file is like this:I would have the array: The function would look like this:Therefore the idea of loading it all as a string and then splitting it is not acceptable.If you can fit the final data into an array then wouldn't you also be able to fit it in a string and split it, as has been suggested?

In any case if you would like to process the file one line at a time you can also try something like this:EDIT: (in response to comment by phopkins) I think (at least in newer versions) substring does not copy data but creates a special SlicedString object (from a quick glance at the v8 source code). In any case here is a modification that avoids the mentioned substring (tested on a file several megabytes worth of "All work and no play makes Jack a dull boy"):Using the Node.js readline module.use readline (documentation). here's an example reading a css file, parsing for icons and writing them to jsonfile.lines with JFile package  Don't forget before :With a BufferedReader, but the function should be asynchronous:i just want to add @finbarr great answer, a little fix in the asynchronous example:Asynchronous:@MadPhysicist, done() is what releases the async. call.This is a variation on the answer above by @mtomis.It creates a stream of lines. It emits 'data' and 'end' events, allowing you to handle the end of the stream.Use it as a wrapper:I had the same problem, and I have solved it with the module line-by-linehttps://www.npmjs.com/package/line-by-lineAt least for me works like a charm, both in synchronous and asynchronous mode.Also, the problem with lines terminating not terminating \n can be solved with the option: Synchronous processing of lines:Using Node.js v8 or later has a new feature that converts normal function into an async function.util.promisifyIt's an awesome feature. Here's the example of parsing 10000 numbers from the txt file into an array, counting inversions using merge sort on the numbers.To read a big file into array you can read line by line or chunk by chunk.line by line refer to my answer herechunk by chunk refer to this article

How can I remove an element from a list, with lodash?

Samantha J T Star

[How can I remove an element from a list, with lodash?](https://stackoverflow.com/questions/21281286/how-can-i-remove-an-element-from-a-list-with-lodash)

I have an object that looks like this:I have lodash installed in my application for other things. Is there an efficient way to use lodash to delete the entry: {"subTopicId":2, "number":32} from the obj object?Or is there a javascript way to do this?

2014-01-22 11:11:42Z

I have an object that looks like this:I have lodash installed in my application for other things. Is there an efficient way to use lodash to delete the entry: {"subTopicId":2, "number":32} from the obj object?Or is there a javascript way to do this?As lyyons pointed out in the comments, more idiomatic and lodashy way to do this would be to use _.remove, like thisApart from that, you can pass a predicate function whose result will be used to determine if the current element has to be removed or not.Alternatively, you can create a new array by filtering the old one with _.filter and assign it to the same object, like thisOrJust use vanilla JS. You can use splice to remove the element:Demoyou can do it with _pull. check the referenceYou can now use _.reject which allows you to filter based on what you need to get rid of, instead of what you need to keep.unlike _.pull or _.remove that only work on arrays, ._reject is working on any  CollectionThere are four ways to do this as I knowThe first:The second one is :In this way the array will be mutated.The third one is :The last one is:I am learning lodashAnswer to make a record, so that I can find it later.In Addition to @thefourtheye answer, using predicate  instead of traditional anonymous functions:ORlodash and typescriptHere is the simple lodash function with array and deleting it with the index number.

How to replace DOM element in place using Javascript?

omg

[How to replace DOM element in place using Javascript?](https://stackoverflow.com/questions/843680/how-to-replace-dom-element-in-place-using-javascript)

I am looking to replace an element in the DOM. 

For example, there is an <a> element that I want to replace with a <span> instead.How would I go and do that?

2009-05-09 17:14:12Z

I am looking to replace an element in the DOM. 

For example, there is an <a> element that I want to replace with a <span> instead.How would I go and do that?by using replaceChild():a is the replaced A element.Generic form:Way better/cleaner than the previous method.For your use case:Mozilla DocsSupported Browsers - 90% Apr 2019This question is very old, but I found myself studying for a Microsoft Certification, and in the study book it was suggested to use: I looked it up and it seems to only be supported in IE. Doh..I thought I'd just add it here as a funny side note ;)I had a similar issue and found this thread. Replace didn't work for me, and going by the parent was difficult for my situation. Inner Html replaced the children, which wasn't what I wanted either. Using outerHTML got the job done. Hope this helps someone else! Example for replacing LI elementsGiven the already proposed options the easiest solution without finding a parent:

process.env.NODE_ENV is undefined

basheps

[process.env.NODE_ENV is undefined](https://stackoverflow.com/questions/11104028/process-env-node-env-is-undefined)

I'm trying to follow a tutorial on NodeJs. I don't think I missed anything but whenever I call  the process.env.NODE_ENV the only value I get back is undefined. According to my research the default value should be 'development'. How is this value dynamically set and where is it set initially?

2012-06-19 15:13:18Z

I'm trying to follow a tutorial on NodeJs. I don't think I missed anything but whenever I call  the process.env.NODE_ENV the only value I get back is undefined. According to my research the default value should be 'development'. How is this value dynamically set and where is it set initially?process.env is a reference to your environment, so you have to set the variable there.To set an environment variable in Windows:on OS X or Linux:tipsin package.json:  in app.js:so, this may better:orFor people using *nix (Linux, OS X, etc.), there's no reason to do it via a second export command, you can chain it as part of the invoking command:Easier, no?  :)We ran into this problem when working with node on Windows.Rather than requiring anyone who attempts to run the app to set these variables, we provided a fallback within the application. In a production environment, we would define it per the usual methods (SET/export). You can use the cross-env npm package. It will take care of trimming the environment variable, and will also make sure it works across different platforms.In the project root, run:Then in your package.json, under scripts, add:Then in your terminal, at the project root, start your app by running:The environment variable will then be available in your app as process.env.NODE_ENV, so you could do something like:in package.json we have to config like below (works in Linux and  Mac OS)the important thing is "export NODE_ENV=production" after your build commands below is an example:In macOS for those who are using the express version 4.x.x and using the DOTENV plugin, need to use like this: In UBUNTU use:$ export NODE_ENV=testYou can also set it by code, for example: process.env.NODE_ENV = 'test';

Two sets of parentheses after function call

L105

[Two sets of parentheses after function call](https://stackoverflow.com/questions/18234491/two-sets-of-parentheses-after-function-call)

I was looking how filters works in Angularjs and I saw that we need to send 2 sets of parentheses. What does it means and how do we handle it with JavaScript? 

2013-08-14 14:28:34Z

I was looking how filters works in Angularjs and I saw that we need to send 2 sets of parentheses. What does it means and how do we handle it with JavaScript? It means that the first function ($filter) returns another function and then that returned  function is called immediately. For Example:$filter('number') returns a function that accepts two arguments, the first being required (a number) and the second one being optional (the fraction size).It's possible to immediately call the returned function:Alternatively, you may keep the returned function for future use:It is the same as this:The $filter() function returns a pointer to another function.

Calling a JavaScript function named in a variable [duplicate]

Matt W

[Calling a JavaScript function named in a variable [duplicate]](https://stackoverflow.com/questions/1723287/calling-a-javascript-function-named-in-a-variable)

I have a JavaScript variable which contains the name of a JavaScript function. This function exists on the page by having been loaded in and placed using $.ajax, etc.Can anyone tell me how I would call the javascript function named in the variable, please?The name of the function is in a variable because the URL used to load the page fragment (which gets inserted into the current page) contains the name of the function to call.I am open to other suggestions on how to implement this solution.

2009-11-12 15:59:10Z

I have a JavaScript variable which contains the name of a JavaScript function. This function exists on the page by having been loaded in and placed using $.ajax, etc.Can anyone tell me how I would call the javascript function named in the variable, please?The name of the function is in a variable because the URL used to load the page fragment (which gets inserted into the current page) contains the name of the function to call.I am open to other suggestions on how to implement this solution.I'd avoid eval.To solve this problem, you should know these things about JavaScript.Your problem is a result of considering the dot manner of reference rather than the square bracket manner.So, why not something like,That's assuming your function lives in the global space. If you've namespaced, then:Avoid eval, and avoid passing a string in to setTimeout and setInterval. I write a lot of JS, and I NEVER need eval. "Needing" eval comes from not knowing the language deeply enough. You need to learn about scoping, context, and syntax. If you're ever stuck with an eval, just ask--you'll learn quickly.If it´s in the global scope it´s better to use:than eval(). Because eval() is evaaaaaal.Exactly like Nosredna said 40 seconds before me that is >.<Definitely avoid using eval to do something like this, or you will open yourself to XSS (Cross-Site Scripting) vulnerabilities.For example, if you were to use the eval solutions proposed here, a nefarious user could send a link to their victim that looked like this:http://yoursite.com/foo.html?func=function(){alert('Im%20In%20Teh%20Codez');}And their javascript, not yours, would get executed.  This code could do something far worse than just pop up an alert of course; it could steal cookies, send requests to your application, etc.So, make sure you never eval untrusted code that comes in from user input (and anything on the query string id considered user input).  You could take user input as a key that will point to your function, but make sure that you don't execute anything if the string given doesn't match a key in your object.  For example:This will fail if the funcToRun variable doesn't point to anything in the myFuncs object, but it won't execute any code.This is kinda ugly, but its the first thing that popped in my head.  This also should allow you to pass in arguments:If you don't need to pass in arguments this might be simpler.Standard dry-code warning applies.

Casting a number to a string in TypeScript

Ma Jerez

[Casting a number to a string in TypeScript](https://stackoverflow.com/questions/32554624/casting-a-number-to-a-string-in-typescript)

Which is the the best way (if there is one) to cast from number to string in Typescript?In this case the compiler throws the error:Because location.hash is a string.So which method is better?

2015-09-13 21:15:48Z

Which is the the best way (if there is one) to cast from number to string in Typescript?In this case the compiler throws the error:Because location.hash is a string.So which method is better?"Casting" is different than conversion. In this case, window.location.hash will auto-convert a number to a string. But to avoid a TypeScript compile error, you can do the string conversion yourself:These conversions are ideal if you don't want an error to be thrown when page_number is null or undefined. Whereas page_number.toString() and page_number.toLocaleString() will throw when page_number is null or undefined.When you only need to cast, not convert, this is how to cast to a string in TypeScript:The <string> or as string cast annotations tell the TypeScript compiler to treat page_number as a string at compile time; it doesn't convert at run time.  However, the compiler will complain that you can't assign a number to a string. You would have to first cast to <any>, then to <string>:So it's easier to just convert, which handles the type at run time and compile time:(Thanks to @RuslanPolutsygan for catching the string-number casting issue.)Just utilize toString or toLocaleString I'd say. So:These throw an error if page_number is null or undefined. If you don't want that you can choose the fix appropriate for your situation:One can also use the following syntax in typescript. Note the backtick " ` "window.location.hash is a string, so do this:Use the "+" symbol to cast a string to a number.

Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' } js-bson: Failed to load c++ bson extension, using pure JS version

navra

[Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' } js-bson: Failed to load c++ bson extension, using pure JS version](https://stackoverflow.com/questions/28651028/cannot-find-module-build-release-bson-code-module-not-found-js-bson)

I am getting the below error:Here are my version details:I have tried these things before I posted the issue here.Nothing works. Please suggest

2015-02-21 20:37:00Z

I am getting the below error:Here are my version details:I have tried these things before I posted the issue here.Nothing works. Please suggestFind in npm module mongodb:Change path to js version in catch block:To:Or copy file in:From:I had this issue today (Feb 19th, 2016) and I solved it just by installing the latest version of Mongoose. Try putting this in your package.json:Hope that helps. Solved it for me!The problem is when you install mongoose via npm it assumes you have python installed on your windows and tries to build required libraries. Since you do not have python it skips building phase with a warning. But when you start your application, required modules are not there so you get this error. In order to do things right first install python (version 2.7) on your computer from: https://www.python.org/downloads/ or if u have installed chockolatey just type choco install python2.Then make sure your python variable is set. You can set it on command prompt like:(Of course you should change the path according to your location of python)

Then install node-gyp:Now you can reinstall mongoose or whatever module causing the problem:You will see some yellow lines instead of red ones this time but the error will be gone.I resolved this issue by installing mogoose version 3.8.23This worked for me. Search in your workspace for the text:You will probably find it inside the mongose and monk modules.Then replace each:with:that's all!Try npm install mongoose@3.8.23 and also replace 

bson = require('../build/Release/bson'); tobson = require('../browser_build/bson'); in node_modules/bson/ext/index.js This worked for me:Go to the file (in your project):node_modules/mongoose/node_modules/mongodb/node_modules/bson/ext/index.jsand change:bson = require('../build/Release/bson');to:bson = require('bson');Reference: https://github.com/mongodb/js-bson/issues/118Install the latest version of mongodb.Make sure your package.json is using the latest version of mongodb, 

then remove node_modules/mongodb and do npm install again. 

If you didn't use mongodb as a direct dependency, try to find which package is using mongdb. I used:So I updated ./sails-mongo/package.json to:Then remove node_modules/mongodb and do npm install again. Seems fine now.I don't like the current suggested way of usingSince looking at ../browser_build/bson.js, a 4k+ lines file, which seem also a "non-native" implementation.  So although it won't spit out any  complains, it is still "using pure JS version", which means slower performance.  Looking at https://github.com/mongodb/js-bson/issues/145 and  https://github.com/mongodb/js-bson/issues/165, it seems like the issue was caused by:So I tried to remove the whole node_modules and still got the same error. And looking at package.json of node_modules/mongodb, its version is still 1.4.26, not latest 2.1.7.Apparently my mongodb comes as a dependency of another package I installed: sails-mongo.  Modifying the package.json of sails-mongo and redoing npm install finally solve the issue.Deploying Keystone JS CMS I had same error and I think most elegant solution is this:Install npm-check-updates:Within your keystone site directory, where package.json is placed, check dependencies:Then update all packages:And finally if you chose jade for templates, maybe you will need install jade module explicitly:The marked answer is completely wrong. All that does is hide the console log statement and does nothing whatsoever do address the actually issue. You can also close your eyes and it will achieve the same result.The issue is caused by node-gyp and only that. Its purpose is to compile native extensions for certain modules such as bson.If it fails to do so then the code will fallback to the JS version and kindly tell you so through the informative message:I assume the question is really about how to compile the native C++ extension rather that just not seeing the message so let's address that.In order for node-gyp to work your node-gyp must be up to date with your node and C++ compiler (that will differ based on your OS). Just as important your module must also be up to date.First uninstall and reinstall node-gypNow you will need to fully uninstall and reinstall any node module in your app (that includes modules installed by requirements as well) that have bson. That should take care of the error. You can search for 'Release/bson' and find the culprits.And then uninstall and reinstall these modules.Easier is to just redo the entire node_modules folder:If you still experience issues then either 1) your module is out of date - check issue tracker in their repo or 2) you have a potential conflict - sometimes we may have a local node-gyp for example. You can run node-gyp by itself and verify versions.While creating setup for www.spotdekho.com in new windows10 machine, I was unable to run command "nodemon web.js"  due same error Got it fixed by below steps :This will resolve the issue. PS : I am using mongoose version 4.8.8 .Thanks :) , hope it helps someone .In my case, the bits that come with mongoose (npm install mongoose) have a working version of the mongodb package in its node_modules folder.The following steps saved me the work of troubleshooting the issue:When I was getting errors like this, I was upgrading from node v0.10 to node v4.x.x . What I had to do was install a newer version of gcc (I think I had gcc v4.4.x or something). I updated to gcc 4.7.2 and things worked after that. I also had the same problem with bson.trying a newer mongoose versionsolved the issue.Massimo.Run this command to uninstall mongoose npm uninstall --save mongoose - thereafter reinstall it but this time npm automatically installs the latest version of mongoose run npm install --save mongoose This worked for me. Unfortunately, All the above answers are only half right.. Took a long time to figure this out..Mongoose bson install via npm throws warning and causes the error...This works like magic!!If you are using windows 8.1, you might want to make sure that you are installing your npm modules with the correct visual studio compiler.I have Visual Studio 2012 installed, this command works for me.

(after deleting node_modules dir)npm install --msvs_version=2012For some reason, node-gyp is trying to use the incorrect version of Visual Studio compiler.  I also noticed that the "npm install" command was printing out a warnings about not node-gyp dependencies when installing the mongodb and mongoose modules.After using the correct msvs_version, the npm install warnings went away as well as the console warning when running my nodejs app.You might also want to make sure that you have the correct Python 2.7.X version installed and not Python 3.0.X.You will also need to make sure that python is in your env path.The only thing which helps me on Windows 7 (x64): https://stackoverflow.com/a/29714359/2670121Reinstall node and python with x32 versions.

I spent many time with this error (Failed to load c++ bson extension) and finally, when I installed module node-gyp (for build native addons) and even installed windows SDK with visual studio - nodejs didn't recognize assembled module bson.node as module. After reinstall the problem is gone.Again, What means this error?Actually, it's even not error. You still can use mongoose. But in this case, instead of fast native realization of bson module, you got js-realization, which slower. I saw many tips like: "edit path deep inside node_modules..." - which totaly useless because it's not solve the problem but just turned off the error messages.Try this npm install bson and npm updateYou should never change files in NODE_MODULES library folder.Those files are result of npm install command.Basicaly, I think for Windows users - right way is use VM. It's what I'm doing when I work from home.All you need:for CentOS: yum install gcc gcc-c++ make openssl-develfor Debian/Ubuntu: apt-get install build-essentialand then npm install or, if you have already done it - npm updateThe best solution for me was to upgrade from node-mongodb 1.x to 2.x.I realize this thread is 1 year + old, but it helped me, albeit with a different module.I installed mongoose-post-findv0.0.2 and this issue started. To fix it, I used the suggestions and navigated to \node_modules\mongoose-post-find\node_modules\bson\ext and opened the index.js file.The file starts off with a try catch block trying to require the correct bson versionthis is the corrected version. What was happening is it tried to load bson from ../build/Release/bson, couldn't find it and fell into the catch. There is tried to load bson again from ../build/Release/bson and of course failed. So I changes the path in the catch to look in ../browser_build/bson. This resolved the error.I post this for completeness.I had the same issue after upgrade version of ubuntu to 16.04. I solved in this way, hope it helps.In our case, the reason that the c++ version bson was not found was because we were behind a corporate proxy and something in the BSON build process needs to reach out to fetch files.  When we looked in node_modules/bson/builderror.log, we saw an error like this:

gyp WARN install got an error, rolling back install

gyp ERR! configure error

gyp ERR! stack Error: connect ECONNREFUSED

gyp ERR! stack     at errnoException (net.js:904:11)

gyp ERR! stack     at Object.afterConnect [as oncomplete] (net.js:895:19)

Which suggested that the proxy might be the issue.  Setting the http_proxy and https_proxy environment variables solved it.Sorry for reawakening comments on this, but I wanted to post this for anyone else that hits this in the future since this thread was very helpful in solving our issue.  Tried npm install mongoose --msvs_version=2012, if you have multiple Visual installed, it worked for meFirst copy bson.js code from browser_build folder second create new file bson.js and paste codethird save the new file near to in index.js.I'm working with OS Windows 8.1 and I had the same problem. The source of the problem was the version of Python. I found the origin problem review the file ...\node_modules\mongodb\node_modules\mongodb-core\node_modules\kerberos\builderror.log.I installed the correct version of Python (2.7.9 for 64 bits) and it resolved my problem.Note: The installed version of python must be equal or greater than 2.7.5 and less than 3.0.0I've tried bson = require('../browser_build/bson'); but end up running into another error Finally I fixed this issue simply by npm update, this will fix the bson module in mongoose.So, i have the same problem and it happens then the specified mongoDB URL doesn't exist. So, to fix this you need to go "..\server\config\environment" folder and edit in "development.js" file the link to mongoDB.Example:So, change this "uri: 'mongodb://localhost/test2-dev'" to some real path to your mongoDB database.I will be glad if my post will help somebody...find in npm module mongodb ..node_modules\mongodb\node_modules\bson\ext\index.jsand change path to js version in catch blockto    bson = require('../browser_build/bson');

How do I upload a file with the JS fetch API?

deitch

[How do I upload a file with the JS fetch API?](https://stackoverflow.com/questions/36067767/how-do-i-upload-a-file-with-the-js-fetch-api)

I am still trying to wrap my head around it.I can have the user select the file (or even multiple) with the file input:And I can catch the submit event using <fill in your event handler here>. But once I do, how do I send the file using fetch?

2016-03-17 17:31:55Z

I am still trying to wrap my head around it.I can have the user select the file (or even multiple) with the file input:And I can catch the submit event using <fill in your event handler here>. But once I do, how do I send the file using fetch?This is a basic example with comments. The upload function is what you are looking for:I've done it like this:An important note for sending Files with Fetch API One needs to omit  content-type header for the Fetch request. Then the browser will automatically add the Content type header including the Form Boundary which looks like Form boundary is the delimiter for the form dataIf you want multiple files, you can use thisTo submit a single file, you can simply use the File object from the input's .files array directly as the value of body: in your fetch() initializer:This works because File inherits from Blob, and Blob is one of the permissible BodyInit types defined in the Fetch Standard.Jumping off from Alex Montoya's approach for multiple file input elementsThe problem for me was that I was using a response.blob() to populate the form data. Apparently you can't do that at least with react native so I ended up using Fetch seems to recognize that format and send the file where the uri is pointing. Here is my code: html: 

get closest number out of array

noob

[get closest number out of array](https://stackoverflow.com/questions/8584902/get-closest-number-out-of-array)

I have a number from minus 1000 to plus 1000 and I have an array with numbers in it. Like this:I want that the number I've got changes to the nearest number of the array.For example I get 80 as number I want it to get 82.

