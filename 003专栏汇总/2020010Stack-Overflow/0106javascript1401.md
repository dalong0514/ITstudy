Detect Android phone via Javascript / jQuery

Xavier

[Detect Android phone via Javascript / jQuery](https://stackoverflow.com/questions/6031412/detect-android-phone-via-javascript-jquery)

How would i detect that the device in use is an Android for a mobile website?I need to apply certain css attributes to the Android platform.Thanks

2011-05-17 13:23:44Z

How would i detect that the device in use is an Android for a mobile website?I need to apply certain css attributes to the Android platform.ThanksTake a look at that : http://davidwalsh.name/detect-androidJavaScript:PHP:Edit : As pointed out in some comments, this will work in 99% of the cases, but some edge cases are not covered. If you need a much more advanced and bulletproofed solution in JS, you should use platform.js : https://github.com/bestiejs/platform.jsHow about this one-liner?The i modifier is used to perform case-insensitive matching.Technique taken from Cordova AdMob test project: https://github.com/floatinghotpot/cordova-admob-pro/wiki/00.-How-To-Use-with-PhoneGap-BuildI think Michal's answer is the best, but we can take it a step further and dynamically load an Android CSS as per the original question:js version, catches iPad too:

Advanced JavaScript: Why is this function wrapped in parentheses? [duplicate]

nerdess

[Advanced JavaScript: Why is this function wrapped in parentheses? [duplicate]](https://stackoverflow.com/questions/9053842/advanced-javascript-why-is-this-function-wrapped-in-parentheses)

I came across this bit of JavaScript code, but I have no idea what to make out of it. Why do I get "1" when I run this code? What is this strange little appendix of (1) and why is the function wrapped in parentheses?

2012-01-29 14:17:52Z

I came across this bit of JavaScript code, but I have no idea what to make out of it. Why do I get "1" when I run this code? What is this strange little appendix of (1) and why is the function wrapped in parentheses?There are a few things going on here. First is the immediately invoked function expression (IIFE) pattern:This provides a way to execute some JavaScript code in its own scope. It's usually used so that any variables created within the function won't affect the global scope. You could use this instead:But this requires giving a name to the function, which is not always necessary. Using a named function also means at some future point the function could be called again which might not be desirable. By using an anonymous function in this manner you ensure it's only executed once.This syntax is invalid:Because you have to wrap the function in parentheses in order to make it parse as an expression. More information is here: http://benalman.com/news/2010/11/immediately-invoked-function-expression/So to recap quickly on the IIFE pattern:Allows 'some code' to be executed immediately, as if it was just written inline, but also within its own scope so as not to affect the global namespace (and thus potentially interfere with or be interfered with by, other scripts).You can pass arguments to your function just as you would a normal function, for example,So we're passing the value '1' as the first argument to the function, which receives it as a locally scoped variable, named x.Secondly, you have the guts of the function code itself:The delete operator will remove properties from objects. It doesn't delete variables. So;Results in this being logged:Whereas,will log the value 4, because foo is a variable not a property and so it can't be deleted.Many people assume that delete can delete variables, because of the way autoglobals work. If you assign to a variable without declaring it first, it will not actually become a variable, but a property on the global object:This time the delete works, because you're not deleting a variable, but a property on the global object. In effect, the previous snippet is equivalent to this:And now you can see how it's analogous to the foo object example and not the foo variable example.It means you created an anonymous function, and call it with parameter 1.It is just the same as:The reason that you still get 1 returned is that the delete keyword is for removing properties of objects. The rest is as others have commented, anything wrapped in brackets executes as a function, and the second set of brackets are the arguments passed to that block. Here's the MDN reference for delete, and the MDN reference for closures, which discusses also anonymous functions. People normally call these "Immediately Invoked Function Expressions" or "Self Executing Functions".The point of doing this is that variables declared inside that function do not leak to the outside.

How to launch html using Chrome at「--allow-file-access-from-files」mode?

AmyWuGo

[How to launch html using Chrome at「--allow-file-access-from-files」mode?](https://stackoverflow.com/questions/18586921/how-to-launch-html-using-chrome-at-allow-file-access-from-files-mode)

I have the same situation with HEREAnd to solve this problem I have to launch html file using Chrome at "--allow-file-access-from-files" mode.

I tried next steps many times, but it doesn't work.

2013-09-03 07:53:48Z

I have the same situation with HEREAnd to solve this problem I have to launch html file using Chrome at "--allow-file-access-from-files" mode.

I tried next steps many times, but it doesn't work.Search for the path of your Chrome executable and then, on your cmd, try :SourceEDIT :

As I see on your question, don't forget that Windows is a little bit similar to Unix, so when you type "chrome ...", cmd will search for Chrome in the PATH, but in general the Chrome folder isn't on the PATH. Also, you don't specify an extension for your executable... So if you move to Chrome's folder, this command will probably work too :That flag is dangerous!! Leaves your file system open for access. Documents originating from anywhere, local or web, should not, by default, have any access to local file:/// resources.Much better solution is to run a little http server locally.--- For Windows ---The easiest is to install http-server globally using node's package manager:npm install -g http-serverThen simply run http-server in any of your project directories:Eg. d:\my_project> http-serverOr as prusswan suggested, you can also install Python under windows, and follow the instructions below. --- For Linux ---Since Python is usually available in most linux distributions, just run python -m SimpleHTTPServer in your project directory, and you can load your page on http://localhost:8000In Python 3 the SimpleHTTPServer module has been merged into http.server, so the new command is python3 -m http.server.Easy, and no security risk of accidentally leaving your browser open vulnerable.You may want to try Web Server for Chrome, which serves web pages from a local folder using HTTP. It's simple to use and would avoid the flag, which, as someone mentioned above, might make your file system vulnerable.As of this writing, in OS X, it will usually look like thisIf you are a freak like me, and put your apps in ~/Applications, then it will be If neither of those are working, then type chrome://version in your Chrome address bar, and it will tell you what "command line" invocation you should be using. Just add --allow-file-access-from-files to that.Don't do this! You're opening your machine to attacks. Instead run a local server. It's as easy as opening a shell/terminal/commandline and typingThen pointing your browser toIf you find it's too slow consider this solutionIf you are using a mac you can use the following terminal command: Quit (force quit) all instances of chrome. Otherwise the below command will not work.Executing this command in terminal will open Chrome regardless of where it is installed.On windows:On linux:save above lines as .bat file

Which library should I use for server-side image manipulation on Node.JS? [closed]

Andrew Андрей Листочкин

[Which library should I use for server-side image manipulation on Node.JS? [closed]](https://stackoverflow.com/questions/10692075/which-library-should-i-use-for-server-side-image-manipulation-on-node-js)

I found a quite large list of available libraries on Node.JS wiki but I'm not sure which of those are more mature and provide better performance. Basically I want to do the following:Big plus if the node package works on both Linux and Windows.

2012-05-21 20:23:37Z

I found a quite large list of available libraries on Node.JS wiki but I'm not sure which of those are more mature and provide better performance. Basically I want to do the following:Big plus if the node package works on both Linux and Windows.Answering my own questionI spent two days digging through Node.js graphics libraries.node-canvasgm node-imagemagickNode-VipsI also looked at other libraries from the list but most of them are either very immature or do not suit my use case. I would really like to try migrating to either Node-Canvas or Node-Vips when Node-Waf gets ported to Windows but until then I'll stick to node-imagemagick.I'd strongly advise you to check gm with GraphicsMagick.

Stable, feature rich, clean API, great docs, and fast.And it works both on Windows and Linux / MacOS / BSD / ...Her is the link to canvas implementation based on GDI+ 

How to stop a JavaScript for loop?

frequent

[How to stop a JavaScript for loop?](https://stackoverflow.com/questions/9830650/how-to-stop-a-javascript-for-loop)

I'm using this JavaScript to iterate through an array and find a matching array element:The array contains these "sizes": ["34", "36", "38"...]. remData.size is the "size" I'm looking for (e.g. "36").I need to return the index i if the size I'm searching for is in the index. Otherwise I need to return -1. Is there a better way to do this?

2012-03-22 21:15:24Z

I'm using this JavaScript to iterate through an array and find a matching array element:The array contains these "sizes": ["34", "36", "38"...]. remData.size is the "size" I'm looking for (e.g. "36").I need to return the index i if the size I'm searching for is in the index. Otherwise I need to return -1. Is there a better way to do this?To stop a for loop early in JavaScript, you use break:If you're in an ES2015 (aka ES6) environment, for this specific use case, you can use Array#findIndex (to find the entry's index) or Array#find (to find the entry itself), both of which can be shimmed/polyfilled:Array#find:Array#findIndex stops the first time the callback returns a truthy value, returning the index for that call to the callback; it returns -1 if the callback never returns a truthy value. Array#find also stops when it finds what you're looking for, but it returns the entry, not its index (or undefined if the callback never returns a truthy value).If you're using an ES5-compatible environment (or an ES5 shim), you can use the new some function on arrays, which calls a callback until the callback returns a truthy value:If you're using jQuery, you can use jQuery.each to loop through an array; that would look like this:The logic is incorrect. It would always return the result of last element in the array.Use for of loop instead which is part of ES2015 release. Unlike forEach, we can use return, break and continue. See https://hacks.mozilla.org/2015/04/es6-in-depth-iterators-and-the-for-of-loop/I know this is a bit old, but instead of looping through the array with a for loop, it would be much easier to use the method <array>.indexOf(<element>[, fromIndex])It loops through an array, finding and returning the first index of a value. If the value is not contained in the array, it returns -1.<array> is the array to look through, <element> is the value you are looking for, and [fromIndex] is the index to start from (defaults to 0).I hope this helps reduce the size of your code!

How do I pass the value (not the reference) of a JS variable to a function? [duplicate]

ryan

[How do I pass the value (not the reference) of a JS variable to a function? [duplicate]](https://stackoverflow.com/questions/2568966/how-do-i-pass-the-value-not-the-reference-of-a-js-variable-to-a-function)

Here is a simplified version of something I'm trying to run:but I'm finding that every listener uses the value of results.length (the value when the for loop terminates). How can I add listeners such that each uses the value of i at the time I add it, rather than the reference to i? 

2010-04-02 20:20:23Z

Here is a simplified version of something I'm trying to run:but I'm finding that every listener uses the value of results.length (the value when the for loop terminates). How can I add listeners such that each uses the value of i at the time I add it, rather than the reference to i? In modern browsers, you can use the let or const keywords to create a block-scoped variable:In older browsers, you need to create a separate scope that saves the variable in its current state by passing it as a function parameter: By creating an anonymous function and calling it with the variable as the first argument, you're passing-by-value to the function and creating a closure.As well as the closures, you can use function.bind:passes the value of i in as an argument to the function when called. (null is for binding this, which you don't need in this case.)function.bind was introduced by the Prototype framework and has been standardised in ECMAScript Fifth Edition. Until browsers all support it natively, you can add your own function.bind support using closures:closures:EDIT, 2013:

These are now commonly referred to as an IIFEYou're winding up with a closure. Here's an article on closures and how to work with them. Check out Example 5 on the page; that's the scenario you're dealing with.EDIT: Four years later, that link is dead. The root of the issue above is that the for loop forms closures (specifically on marker = results[i]). As marker is passed into addEventListener, you see the side effect of the closure: the shared "environment" is updated with each iteration of the loop, before it's finally "saved" via the closure after the final iteration. MDN explains this very well.I think we can define a temporary variable to store the value of i.I haven't tested it though.

How do I add a simple onClick event handler to a canvas element?

Jer

[How do I add a simple onClick event handler to a canvas element?](https://stackoverflow.com/questions/9880279/how-do-i-add-a-simple-onclick-event-handler-to-a-canvas-element)

I'm an experienced Java programmer but am looking at some JavaScript/HTML5 stuff for the first time in about a decade.  I'm completely stumped on what should be the simplest thing ever.As an example I just wanted to draw something and add an event handler to it.  I'm sure I'm doing something stupid, but I've searched all over and nothing that is suggested (e.g. the answer to this question:  Add onclick property to input with JavaScript) works.  I'm using Firefox 10.0.1.  My code follows.  You'll see several commented lines and at the end of each is a description of what (or what doesn't) happen.What's the correct syntax here?  I'm going crazy!

2012-03-26 21:41:39Z

I'm an experienced Java programmer but am looking at some JavaScript/HTML5 stuff for the first time in about a decade.  I'm completely stumped on what should be the simplest thing ever.As an example I just wanted to draw something and add an event handler to it.  I'm sure I'm doing something stupid, but I've searched all over and nothing that is suggested (e.g. the answer to this question:  Add onclick property to input with JavaScript) works.  I'm using Firefox 10.0.1.  My code follows.  You'll see several commented lines and at the end of each is a description of what (or what doesn't) happen.What's the correct syntax here?  I'm going crazy!When you draw to a canvas element, you are simply drawing a bitmap in immediate mode.The elements (shapes, lines, images) that are drawn have no representation besides the pixels they use and their colour.Therefore, to get a click event on a canvas element (shape), you need to capture click events on the canvas HTML element and use some math to determine which element was clicked, provided you are storing the elements' width/height and x/y offset.To add a click event to your canvas element, use...To determine what element was clicked...jsFiddle.This code attaches a click event to the canvas element, and then pushes one shape (called an element in my code) to an elements array. You could add as many as you wish here.The purpose of creating an array of objects is so we can query their properties later. After all the elements have been pushed onto the array, we loop through and render each one based on their properties.When the click event is triggered, the code loops through the elements and determines if the click was over any of the elements in the elements array. If so, it fires an alert(), which could easily be modified to do something such as remove the array item, in which case you'd need a separate render function to update the canvas.For completeness, why your attempts didn't work...This is assigning the return value of alert() to the onClick property of elem. It is immediately invoking the alert().In JavaScript, the ' and " are semantically identical, the lexer probably uses ['"] for quotes.You are assigning a string to the onClick property of elem.JavaScript is case sensitive. The onclick property is the archaic method of attaching event handlers. It only allows one event to be attached with the property and the event can be lost when serialising the HTML.Again, ' === ".I recommand the following article : Hit Region Detection For HTML5 Canvas And How To Listen To Click Events On Canvas Shapes which goes through various situations.However, it does not cover the addHitRegion API, which must be the best way (using math functions and/or comparisons is quite error prone). This approach is detailed on developer.mozillaProbably very late to the answer but I just read this while preparing for my 70-480 exam, and found this to work - Notice the event as onclick instead of onClick.JS Bin example.As an alternative to alex's answer: You could use a SVG drawing instead of a Canvas drawing. There you can add events directly to the drawn DOM objects. see for example:Making an svg image object clickable with onclick, avoiding absolute positioningYou can also put DOM elements, like div on top of the canvas that would represent your canvas elements and be positioned the same way. Now you can attach event listeners to these divs and run the necessary actions.Alex Answer is pretty neat but when using context rotate it can be hard to trace x,y coordinates, so I have made a Demo showing how to keep track of that.Basically I am using this function & giving it the angle & the amount of distance traveled in that angel before drawing object.As another cheap alternative on somewhat static canvas, using an overlaying img element with a usemap definition is quick and dirty.  Works especially well on polygon based canvas elements like a pie chart.

Cache busting via params

Brad Herman

[Cache busting via params](https://stackoverflow.com/questions/9692665/cache-busting-via-params)

We want to cache bust on production deploys, but not waste a bunch of time off the bat figuring out a system for doing so.  My thought was to apply a param to the end of css and js files with the current version number:Two questions:  Will this effectively break the cache?  Will the param cause the browser to then never cache the response from that url since the param indicates that this is dynamic content?

2012-03-13 21:45:00Z

We want to cache bust on production deploys, but not waste a bunch of time off the bat figuring out a system for doing so.  My thought was to apply a param to the end of css and js files with the current version number:Two questions:  Will this effectively break the cache?  Will the param cause the browser to then never cache the response from that url since the param indicates that this is dynamic content?The param ?v=1.123 indicates a query string, and the browser will therefore think it is a new path from, say, ?v=1.0. Thus causing it to load from file, not from cache. As you want. And, the browser will assume that the source will stay the same next time you call ?v=1.123 and should cache it with that string. So it will remain cached, however your server is set up, until you move to ?v=1.124 or so on.Yes. Even Stack Overflow use this method, although I remember that they (with their millions of visitors per day and zillions of different client and proxy versions and configurations) have had some freak edge cases where even this was not enough to break the cache. But the general assumption is that this will work, and is a suitable method to break caching on clients.No. The parameter will not change the caching policy; the caching headers sent by the server still apply, and if it doesn't send any, the browser's defaults. It is safer to put the version number in the actual filename.  This allows multiple versions to exist at once so you can roll out a new version and if any cached HTML pages still exist that are requesting the older version, they will get the version that works with their HTML.Note, in one of the largest versioned deployments anywhere on the internet, jQuery uses version numbers in the actual filename and it safely allows multiple versions to co-exist without any special server-side logic (each version is just a different file).This busts the cache once when you deploy new pages and new linked files (which is what you want) and from then on those versions can be effectively cached (which you also want).As others have said, cache busting with a query param is usually considered a Bad Idea (tm), and has been for a long time. It's better to reflect the version in the file name. Html5 Boilerplate recommends against using the query string, among others.That said, of the recommendations I have seen which cited a source, all seem to take their wisdom from a 2008 article by Steve Souders. His conclusions are based on the behaviour of proxies at the time, and they may or may not be relevant these days. Still, in the absence of more current information, changing the file name is the safe option.It will bust the cache once, after the client has downloaded the resource every other response will be served from client cache unless:In general this should be fine, but it's possible for this to not work if there is an intermediate cache (a proxy) that is configured to ignore the request parameters.For example, if you are serving static content through Akamai CDN, it can be configured to ignore request parameters to prevent cache busting using this method.It very much depends on quite how robust you want your caching to be. For example, the squid proxy server (and possibly others) defaults to not caching URLs served with a querystring - at least, it did when that article was written. If you don't mind certain use cases causing unnecessary cache misses, then go ahead with query params. But it's very easy to set up a filename-based cache-busting scheme which avoids this problem.Found a comparison of the 2 techniques (query string vs file name) here: Version as a querystring has two problems. Another similar approach is to use htaccess mod_rewrite to ignore part of the path when serving the files. Your never-cached index page references the latest path to the files. From a development perspective it's as easy as using params for the version number, but it's as robust as the filename approach.Use the ignored part of the path for the version number, and the server just ignores it and serves the uncached file.  1.2.3/css/styles.css serves the same file as css/styles.css since the first directory is stripped and ignored by the htaccess fileNote that this approach means you need to disable caching of your index page - Using <meta> tags to turn off caching in all browsers?You could take the same approach on any server platform that allows url rewriting(rewrite condition adapted from mod_rewrite - rewrite directory to query string except /#!/)... and if you need cache busting for your index page / site entry point, you could always use JavaSript to refresh it. Hope this should help you to inject external JS fileSource - Cachebuster code in JavaScript

How to pass variable from jade template file to a script file?

Michael Eilers Smith

[How to pass variable from jade template file to a script file?](https://stackoverflow.com/questions/8698534/how-to-pass-variable-from-jade-template-file-to-a-script-file)

I'm having trouble with a variable (config) declared in a jade template file (index.jade) that isn't passed to a javascript file, which then makes my javascript crash. Here is the file (views/index.jade):Here is a part of my app.js (server side):And here is a part of my javascript file that crashes (public/javascripts/app.js):I'm running the site on development mode (NODE_ENV=development) on localhost (my own machine). I'm using node-inspector for debugging, which told me that the config variable is undefined in public/javascripts/app.js.Any ideas?? Thanks!!

2012-01-02 07:46:28Z

I'm having trouble with a variable (config) declared in a jade template file (index.jade) that isn't passed to a javascript file, which then makes my javascript crash. Here is the file (views/index.jade):Here is a part of my app.js (server side):And here is a part of my javascript file that crashes (public/javascripts/app.js):I'm running the site on development mode (NODE_ENV=development) on localhost (my own machine). I'm using node-inspector for debugging, which told me that the config variable is undefined in public/javascripts/app.js.Any ideas?? Thanks!!It's a little late but...This is working fine in my script. In Express, I am doing this:I guess the latest jade is different?Merc.edit: added "." after script to prevent Jade warning.!{} is for unescaped code interpolation, which is more suitable for objectsThe idea is to prevent the attacker to:https://github.com/pugjs/pug/blob/355d3dae/examples/dynamicscript.pug#{} is for escaped string interpolation, which is suitable only if you're working with strings.

It does not work with objectsIn my case, I was attempting to pass an object into a template via an express route (akin to OPs setup). Then I wanted to pass that object into a function I was calling via a script tag in a pug template. Though lagginreflex's answer got me close, I ended up with the following:This ensured the object was passed in as expected, rather than needing to deserialise in the function. Also, the other answers seemed to work fine with primitives, but when arrays etc. were passed along with the object they were parsed as string values.If you're like me and you use this method of passing variables a lot, here's a write-less-code solution.In your node.js route, pass the variables in an object called window, like this:Then in your pug/jade layout file (just before the block content), you get them out like this:As my layout.pug file gets loaded with each pug file, I don't need to 'import' my variables over and over. This way all variables/objects passed to window 'magically' end up in the real window object of your browser where you can use them in Reactjs, Angular, ... or vanilla javascript.Here's how I addressed this (using a MEAN derivative) My variables: First I had to make sure that the necessary config variables were being passed. MEAN uses the node nconf package, and by default is set up to limit which variables get passed from the environment. I had to remedy that:config/config.js:original:after modifications:Now I can set my variables like this:Note: I reset the "heirarchy indicator" to "__" (double underscore) because its default was ":", which makes variables more difficult to set from bash. See another post on this thread.Now the jade part:

Next the values need to be rendered, so that javascript can pick them up on the client side. A straightforward way to write these values to the index file. Because this is a one-page app (angular), this page is always loaded first. I think ideally this should be a javascript include file (just to keep things clean), but this is good for a demo.app/controllers/index.js:app/views/index.jade:In my rendered html, this gives me a nice little script:From this point it's easy for angular to utilize the code.See this question: JADE + EXPRESS: Iterating over object in inline JS code (client-side)?I'm having the same problem. Jade does not pass local variables in (or do any templating at all) to javascript scripts, it simply passes the entire block in as literal text. If you use the local variables 'address' and 'port' in your Jade file above the script tag they should show up.Possible solutions are listed in the question I linked to above, but you can either:

  - pass every line in as unescaped text (!= at the beginning of every line), and simply put "-" before every line of javascript that uses a local variable, or:

  - Pass variables in through a dom element and access through JQuery (ugly)Is there no better way? It seems the creators of Jade do not want multiline javascript support, as shown by this thread in GitHub: https://github.com/visionmedia/jade/pull/405

Operator precedence with Javascript Ternary operator

Baijs

[Operator precedence with Javascript Ternary operator](https://stackoverflow.com/questions/1788917/operator-precedence-with-javascript-ternary-operator)

I cant seem to wrap my head around the first part of this code ( += ) in combination with the ternary operator.The way i think this code works is as following: But that isn't correct because that gives a error in my console.So my question is how should i interpet this code correctly?

2009-11-24 09:27:01Z

I cant seem to wrap my head around the first part of this code ( += ) in combination with the ternary operator.The way i think this code works is as following: But that isn't correct because that gives a error in my console.So my question is how should i interpet this code correctly?You want the operator to work for h.className, better be specific about it.

Of course, no harm should come from  h.className += ' error', but that's another matter.Also, note that + has precedence over the ternary operator: JavaScript Operator Precedence Think of it this way:The way the statement gets executed is basically as follows:The important thing to realise with the ternary operator in this and other languages is that whatever code is in <expression> should produce a boolean result when evaluated: either true or false.In the case of your example replace "assigned to" in my explanation with "added to", or similar for whichever shorthand arithmetic you are using, if any.The += does what you want, but in the ternary statement at the right hand of it, it checks if h.className is falsey, which it would be if it was undefined. If it's truthy (i.e. if a class name is already specified), then error is added with a space (i.e. adding a new class), otherwise it's added without the space.The code could be rewritten as you suggest, but you need to specify that h.className is to be used for truthiness-comparison, rather than for using its actual value, in the ternary operator, so make sure you don't bother with the concatenation of values at the same time as doing your ternary operation:The right hand side of the = operator is evaluated left to right.  So, is equivalent to To be equivalent to you have to separate the ternary statement in parenthesisshould be equivalent of:I know this is a very old question, but I am not 100% happy with any of the answers as they all seem incomplete. So here we go again from first principals:Summarising the code: "I wish to add an error class name to a string, optionally with a leading space if there are already class names in the string."As Kobi pointed out, 5 years ago, having a leading space in class names will not cause any problems with any known browsers, so the shortest correct solution would actually be:That should have been the actual answer to the actual problem.Be that as it may, the questions asked were...The conditional/ternary operator works like an if statement, that assigns the result of its true or false paths to a variable.So that code worked because it is evaluated simply as:The question states "that gives a[n] error in my console", which may mislead you into thinking the code does not function. In fact the following code does run, without error, but it simply returns ' error' if the string was not empty and 'error' if the string was empty and so did not meet the requirements.That code always results in a string that contains only ' error' or 'error' because it evaluates to this pseudo code:The reason for this is that the addition operator (+ to the common folk) has higher "precedence" (6) than the conditional/ternary operator (15). I know the numbers appear backwardsPrecedence simply means that each type of operator in a language is evaluated in a particular predefined order (and not just left-to-right).Now we know why it fails, you need to know how to make it work.Some other answers talk about changing the precedence, but you can't. Precedence is hard-wired into the language. That is just a fixed set of rules... However, you can change the order of evaluation...The tool in our toolbox that can change the order of evaluation is the grouping operator (aka brackets). It does this by ensuring the expressions in the brackets are evaluated before operations outside the brackets. That's all they do, but that's enough. Brackets work simply because they (grouping operators) have higher precedence than all other operators ("there is now a level 0").By simply adding brackets you change the order of evaluation to ensure the conditional test is performed first, before the simple string concatenation:I will now leave this answer to rust unseen among the others :)I would like to pick explanation of wayne :Lets consider both the cases:explanationwhereas

 case2: h.className + h.className => considered as expression for ternary operator as ternary operator is given higher precedence. so, always the result of the ternary expression is just assignedYou need to define the precedence by using brackets You need to define the order of evaluation to be considered with the help of brackets for case 2 to work as case 1 

Stop/Close webcam which is opened by navigator.getUserMedia

Shih-En Chou

[Stop/Close webcam which is opened by navigator.getUserMedia](https://stackoverflow.com/questions/11642926/stop-close-webcam-which-is-opened-by-navigator-getusermedia)

I opened a webcam by using the following JavaScript code: navigator.getUserMedia Is there any JavaScript code to stop or close the webcam? Thanks everyone.

2012-07-25 04:51:11Z

I opened a webcam by using the following JavaScript code: navigator.getUserMedia Is there any JavaScript code to stop or close the webcam? Thanks everyone.EDITSince this answer has been originally posted the browser API has changed.

.stop() is no longer available on the stream that gets passed to the callback.

The developer will have to access the tracks that make up the stream (audio or video) and stop each of them individually.More info here: https://developers.google.com/web/updates/2015/07/mediastream-deprecations?hl=en#stop-ended-and-activeExample (from the link above):Browser support may differ.Original answernavigator.getUserMedia provides you with a stream in the success callback, you can call .stop() on that stream to stop the recording (at least in Chrome, seems FF doesn't like it)You can call "stop" over MediaStream object which is going to be obsolete; new proposal is to release media tracks by calling "stop" over each media track:Updated at Nov 03, 2015 ---- 10:34:24 AMDon't use stream.stop(), it's deprecatedMediaStream DeprecationsUse stream.getTracks().forEach(track => track.stop())Starting Webcam Video with different browsersFor Opera 12For Firefox Nightly 18.0For Chrome 22Stopping Webcam Video with different browsersFor Opera 12For Firefox Nightly 18.0For Chrome 22With this the Webcam light go down everytime...FF, Chrome and Opera has started exposing getUserMedia via navigator.mediaDevices as standard now (Might change :)online demo You can end the stream directly using the stream object returned in the success handler to getUserMedia. e.g. video.src="" or null would just remove the source from video tag. It wont release the hardware.Try bellow method If the .stop() is deprecated then I don't think we should re-add it like @MuazKhan dose. It's a reason as to why things get deprecated and should not be used anymore. Just create a helper function instead... Here is a more es6 version Since you need the tracks to close the streaming, and you need the stream boject to get to the tracks, the code I have used with the help of the Muaz Khan's answer above is as follows:Of course this will close all the active video tracks. If you have multiple, you should select accordingly. Suppose we have streaming in video tag and id is video  - <video id="video"></video> then we should have following code -// assign null to srcObject of video

    videoEl.srcObject = null;You need to stop all tracks (from webcam, microphone):Using .stop() on the stream works on chrome when connected via http. It does not work when using ssl (https).Please check this: https://jsfiddle.net/wazb1jks/3/Stop RecordingThe following code worked for me:Start Web CameraStop Web Camera or Video playback in generalStop Web Camera function works even with video streams:Have a reference of stream form successHandle 

Node.js - use of module.exports as a constructor

Naresh

[Node.js - use of module.exports as a constructor](https://stackoverflow.com/questions/20534702/node-js-use-of-module-exports-as-a-constructor)

According to the Node.js manual:The example given is:and used like this:My question: why does the example not use square as an object? Is the following valid and does it make the example more "object oriented"?

2013-12-12 03:53:13Z

According to the Node.js manual:The example given is:and used like this:My question: why does the example not use square as an object? Is the following valid and does it make the example more "object oriented"?CommonJS modules allow two ways to define exported properties. In either case you are returning an Object/Function. Because functions are first class citizens in JavaScript they to can act just like Objects (technically they are Objects). That said your question about using the new keywords has a simple answer: Yes. I'll illustrate...You can either use the exports variable provided to attach properties to it. Once required in another module those assign properties become available. Or you can assign an object to the module.exports property. In either case what is returned by require() is a reference to the value of module.exports.A pseudo-code example of how a module is defined:In the example above module.exports and exports are the same object. The cool part is that you don't see any of that in your CommonJS modules as the whole system takes care of that for you all you need to know is there is a module object with an exports property and an exports variable that points to the same thing the module.exports does.Since you can attach a function directly to module.exports you can essentially return a function and like any function it could be managed as a constructor (That's in italics since the only difference between a function and a constructor in JavaScript is how you intend to use it. Technically there is no difference.)So the following is perfectly good code and I personally encourage it:Same thing goes for non-constructor like functions:In my opinion, some of the node.js examples are quite contrived.You might expect to see something more like this in the real worldUsageFor the ES6 peopleUsing it in ES6When using a class, you must use the new keyword to instatiate it. Everything else stays the same.This question doesn't really have anything to do with how require() works.  Basically, whatever you set module.exports to in your module will be returned from the require() call for it.This would be equivalent to:There is no need for the new keyword when calling square.  You aren't returning the function instance itself from square, you are returning a new object at the end.  Therefore, you can simply call this function directly.For more intricate arguments around new, check this out:  Is JavaScript's "new" keyword considered harmful?The example code is:in main using the following may worksAt the end, Node is about Javascript. JS has several way to accomplished something, is the same thing to get an "constructor", the important thing is to return a function. This way actually you are creating a new function, as we created using JS on Web Browser environment for example.  Personally i prefer the prototype approach, as Sukima suggested on this post: Node.js - use of module.exports as a constructor

How to prevent caching of my Javascript file? [duplicate]

Bdfy

[How to prevent caching of my Javascript file? [duplicate]](https://stackoverflow.com/questions/7413234/how-to-prevent-caching-of-my-javascript-file)

I have a simple html:In test.js I changed a Javascript function, but my browser is caching this file. How to disable cache for script src? 

2011-09-14 08:15:56Z

I have a simple html:In test.js I changed a Javascript function, but my browser is caching this file. How to disable cache for script src? Add a random query string to the srcYou could either do this manually by incrementing the querystring each time you make a change:Or if you are using a server side language, you could automatically generate this:ASP.NET:More info on cache-busting can be found here:https://curtistimson.co.uk/post/front-end-dev/what-is-cache-busting/EDIT: Or you could use the file modification time so that it's cached on the client.Configure your webserver to send caching control HTTP headers for the script.Fake headers in the HTML documents:You can append a queryString to your src and change it only when you will release an updated version:In this way the browser will use the cached version until a new version will be specified (v=2, v=3...)You can add a random (or datetime string) as query string to the url that points to your script. Like so: Every time you refresh the page you need to make sure the value of 'q' is changed.

What is the difference between RegExp’s exec() function and String’s match() function?

Justin Warkentin

[What is the difference between RegExp’s exec() function and String’s match() function?](https://stackoverflow.com/questions/9214754/what-is-the-difference-between-regexp-s-exec-function-and-string-s-match-fun)

If I run this:I get this:But if I run this:Then I get the expected result of this:What's the difference?

2012-02-09 16:28:14Z

If I run this:I get this:But if I run this:Then I get the expected result of this:What's the difference?exec with a global regular expression is meant to be used in a loop, as it will still retrieve all matched subexpressions. So:String.match does this for you and discards the captured groups.One picture is better, you know...See the difference?/regex/.exec() returns only the first match found, while "string".match() returns all of them if you use the g flag in the regex.See here: exec, match.If your regex is global, and you are capturing, then you must use exec. Match won't return all your captures. Match works great for when just matching(not capturing). You run it once and it gives an array of all the matches.    (though if the regex is not global, then match will show the match followed by captures)Exec is what you use when you are capturing, and each time it is executed it gives the match, followed by the captures.  (match will behave in a manner of giving the full match followed by captures, only when the regex is not global).Another use with Exec, is getting the index or position, of a match.  When you have a variable for your regex, you can use .lastIndex and get the position of the matching. A regex object has .lastIndex, and the regex object is what you do .exec on.   Dot match is done on a string and you won't be able to then do regex object dot lastIndex A string, has the match function, which is passed a regex.  And a regex, has the exec function, and is passed a stringexec you run multiple times. match you run onceIt's good to use match when not capturing and when capturing you can use exec which is more powerful as it is good for getting captures, but if you did use match when capturing, see that it shows captures when the regex is not global, but doesn't show captures when the regex is global.  Another thing is that if you use exec, note that's called on the regex, then if you used a variable for the regex, you have more powerYou don't get the matches when you don't use the variable for the regex, so use the variable for the regex, when using execAnd with exec, you can get the "index" of the match So if you want indexes or capturing, then use exec (bear in mind that as you can see, with the "index", the "index" it gives is really an nth occurrence, it's counting from 1. So you could derive the proper index by subtracting 1. And as you can see it gives 0 - lastIndex of 0 - for not found).And if you want to stretch match, you can use it when you are capturing, but not when the regex is global, and when you do it for that, then the contents of the array aren't all the matches, but are the full match followed by the captures.The .match() function str.match(regexp) will do the following:Examples of .match() using the g flag:And .match() without the g flag is equivalent to .exec():The .exec() function regexp.exec(str) will do the following:Example of .exec() (stored regexp + using the g flag = it changes with each call):Examples of .exec() when it is not changing with each call:Sometimes regex.exec() will take much more time then string.match().It is worth to mention that if the outcome of string.match() and regex.exec() are the same (ex: when not using \g flag),

regex.exec() will take somewhere between x2 to x30 then string.match():Therefore in such cases, using the approach of "new RegExp().exec()" should be used only when you need a global regex (i.e. to execute more than once).

JavaScript REST client Library [closed]

Amir Arad

[JavaScript REST client Library [closed]](https://stackoverflow.com/questions/921942/javascript-rest-client-library)

Is there a JavaScript library which allow me to perform all the REST operation like (GET, POST, PUT and DELETE over HTTP or HTTPS)?

2009-05-28 16:45:57Z

Is there a JavaScript library which allow me to perform all the REST operation like (GET, POST, PUT and DELETE over HTTP or HTTPS)?You don't really need a specific client, it's fairly simple with most libraries. For example in jQuery you can just call the generic $.ajax function with the type of request you want to make:You can replace PUT with GET/POST/DELETE or whatever.While you may wish to use a library, such as the excellent jQuery, you don't have to: all modern browsers support HTTP very well in their JavaScript implementations via the XMLHttpRequest API, which, despite its name, is not limited to XML representations.Here's an example of making a synchronous HTTP PUT request in JavaScript:This example is synchronous because that makes it a little easier, but it's quite easy to make asynchronous requests using this API as well.There are thousands of pages and articles on the web about learning XmlHttpRequest — they usually use the term AJAX – unfortunately I can't recommend a specific one. You may find this reference handy though.You can use this jQuery plugin I just made :)

https://github.com/jpillora/jquery.rest/Supports basic CRUD operations, nested resources, basic authIf you find bugs or want new features, post them in the repositories 'Issues' page pleasejQuery has JSON-REST plugin with REST style of URI parameter templates. According to its description example of using is the followin: $.Read("/{b}/{a}", { a:'foo', b:'bar', c:3 }) becomes a GET to "/bar/foo?c=3".For reference I want to add about ExtJS, as explained in Manual: RESTful Web Services. In short, use method to specify GET, POST, PUT, DELETE. Example:If the Accept header is necessary, it can be set as a default for all requests:You can also use mvc frameworks like Backbone.js that will provide a javascript model of the data. Changes to the model will be translated into REST calls.You can try restful.js, a framework-agnostic RESTful client, using a syntax similar to the popular Restangular.Dojo does, e.g. via JsonRestStore, see http://www.sitepen.com/blog/2008/06/13/restful-json-dojo-data/ .You can use http://adodson.com/hello.js/ which has 

Home does not contain an export named Home

Shadid

[Home does not contain an export named Home](https://stackoverflow.com/questions/44172727/home-does-not-contain-an-export-named-home)

I was working with create-react-app and came across this issue where I get Home does not contain an export named Home.Here's how I set up my App.js file:Now in my layouts folder I have the Home.js file. which is setup like following. As you can see I am exporting the Home component but I get an error in my console saying this.What is going on?

2017-05-25 05:12:51Z

I was working with create-react-app and came across this issue where I get Home does not contain an export named Home.Here's how I set up my App.js file:Now in my layouts folder I have the Home.js file. which is setup like following. As you can see I am exporting the Home component but I get an error in my console saying this.What is going on?The error is telling you that you are importing incorrectly. The code you have now:Is incorrect because you're exporting as the default export, not as a named export. Check this line:You're exporting as default, not as a name. Thus, import Home like this:Notice there are no curly brackets. Further reading on import and export.Userather thanRemove {} from HomeThis is a case where you mixed up default exports and named exports.When dealing with the named exports, if you try to import them you should use curly braces as below,In your case the Home was exported as a default one. This is the one that will get imported from the module, when you don’t specify a certain name of a certain piece of code. When you import, and omit the curly braces, it will look for the default export in the module you’re importing from. So your import should be,Some references to look :I just ran into this error message (after upgrading to nextjs 9 some transpiled imports started giving this error). I managed to fix them using syntax like this:You can use two ways to resolve this problem, first way that i think it as best way is replace importing segment of your code with bellow one:or export your component without default which is called named export like this We also can use using export keyword before class keyword. For default Default export class Both case don't need to write after class.

How can I count text lines inside an DOM element? Can I?

buti-oxa

[How can I count text lines inside an DOM element? Can I?](https://stackoverflow.com/questions/783899/how-can-i-count-text-lines-inside-an-dom-element-can-i)

I'm wondering if there's a way to count lines inside a div for example. Say we have a div like so:Depending on many factors, the div can have one, or two, or even four lines of text. Is there any way for the script to know?In other words, are automatic breaks represented in DOM at all?

2009-04-23 22:58:27Z

I'm wondering if there's a way to count lines inside a div for example. Say we have a div like so:Depending on many factors, the div can have one, or two, or even four lines of text. Is there any way for the script to know?In other words, are automatic breaks represented in DOM at all?If the div's size is dependent on the content (which I assume to be the case from your description) then you can retrieve the div's height using:And divide by the font line height:Or to get the line height if it hasn't been explicitly set:You will also need to take padding and inter-line spacing into account.EDITFully self-contained test, explicitly setting line-height:One solution is to enclose every word in a span tag using script. Then if the Y dimension of a given span tag is less than that of it's immediate predecessor then a line break has occurred. Check out the function getClientRects() which can be used to count the number of lines in an element. Here is an example of how to use it.It returns a javascript DOM object. The amount of lines can be known by doing this:It can return the height of each line, and more. See the full array of things it can do by adding this to your script, then looking in your console log.Though a few things to note is it only works if the containing element is inline, however you can surround the containing inline element with a block element to control the width like so:Though I don't recommend hard coding the style like that. It's just for example purposes.I wasnt satisfied with the answers here and on other questions. The highest rated answer doesn't take padding or border into account, and therefore obviously ignores box-sizing as well. My answer combines some techniques here and and on other threads to get a solution that works to my satisfaction. It isnt perfect: When no numerical value was able to be retrieved for the line-height (e.g. normal or inherit), it just uses the font-size multiplied by 1.2. Perhaps someone else can suggest a reliable way to detect the pixel value in those cases.Other than that, it has been able to correctly handle most of the styles and cases I have thrown at it.jsFiddle for playing around and testing. Also inline below.Clone the container object and write 2 letters and calculate the height. This return the real height with all style applied, line height, etc. Now, calculate the height object / the size of a letter. In Jquery, the height excelude the padding, margin and border, it is great to calculate the real height of each line:If you use a rare font with different height of each letter, this does not works. But works with all normal fonts, like Arial, mono, comics, Verdana, etc. Test with your font.Example:Result: 6 LinesWorks in all browser without rare functions out of standards.Check: https://jsfiddle.net/gzceamtr/I am convinced that it is impossible now. It was, though.IE7’s implementation of getClientRects did exactly what I want. Open this page in IE8, try refreshing it varying window width, and see how number of lines in the first element changes accordingly. Here’s the key lines of the javascript from that page:Unfortunately for me, Firefox always returns one client rectangle per element, and IE8 does the same now. (Martin Honnen’s page works today because IE renders it in IE compat view; press F12 in IE8 to play with different modes.)This is sad. It looks like once again Firefox’s literal but worthless implementation of the spec won over Microsoft’s useful one. Or do I miss a situation where new getClientRects may help a developer?For those who use jQuery http://jsfiddle.net/EppA2/3/based on GuyPaddock's answer from above, this seems to work for methe trick here is to increase the line-height so much that it will "swallow" any browser / OS differences in the way that they render fontsChecked it with various stylings and different font sizes / families

only thing that it doesn't take into account (since in my case it didnt matter), is the padding - which can easily be added to the solution.No, not reliably. There are simply too many unknown variablesThe list goes on. Someday I hope there will be such a method of reliably accomplishing this with JavaScript, but until that day comes, your out of luck.I hate these kinds of answers and I hope someone can prove me wrong.You should be able to split('\n').length and get the line breaks.update: this works on FF/Chrome but not IE.getClientRects return the client rects like this and if you want to get the lines, use the follow function like thisTry this solution:You can see it in action here:

   https://jsfiddle.net/u0r6avnt/Try resizing the panels on the page (to make the right side of the page wider or shorter) and then run it again to see that it can reliably tell how many lines there are.This problem is harder than it looks, but most of the difficulty comes from two sources:My approach minimizes #2 by taking control of the line-height directly and factoring in the box sizing method, leading to a more deterministic result.In certain cases, like a link spanning over multiple rows in non justified text, you can get the row count and every coordinate of each line, when you use this:https://developer.mozilla.org/en-US/docs/Web/API/Element/getClientRectsThis works because each line would be different even so slightly. As long as they are, they are drawn as a different "rectangle" by the renderer.I found a way to calc the line number when I develop a html editor.

The primary method is that:so let's see the test result:The green rectangle is the largest rectangle in each rowThe red rectangle is the selection boundaryThe blue rectangle is the boundary from start to selection after expanding, we see it may larger than red rectangle, so we have to check each rectangle's bottom to limit it must smaller than red rectangle's bottom.Following @BobBrunius 2010 suggestion I created this with jQuery. No doubt it could be improved but it may help some.You can compare element height and element height with line-height: 0

What's the difference between compiled and interpreted language?

SIr Codealot

[What's the difference between compiled and interpreted language?](https://stackoverflow.com/questions/2657268/whats-the-difference-between-compiled-and-interpreted-language)

After reading some material on this subject I'm still not sure what the difference between a compiled language and an interpreted language is. I was told this is one of the differences between Java and JavaScript. Would someone please help me in understanding it?

2010-04-17 04:44:03Z

After reading some material on this subject I'm still not sure what the difference between a compiled language and an interpreted language is. I was told this is one of the differences between Java and JavaScript. Would someone please help me in understanding it?The difference is not in the language; it is in the implementation.Having got that out of my system, here's an answer:One thing that complicates the issue is that it is possible to translate (compile) bytecode into native machine instructions.  Thus, a successful intepreted implementation might eventually acquire a compiler.  If the compiler runs dynamically, behind the scenes, it is often called a just-in-time compiler or JIT compiler.  JITs have been developed for Java, JavaScript, Lua, and I daresay  many other languages.  At that point you can have a hybrid implementation in which some code is interpreted and some code is compiled.Java and JavaScript are a fairly bad example to demonstrate this difference, because both are interpreted languages. Java (interpreted) and C (or C++) (compiled) might have been a better example.Basically, compiled code can be executed directly by the computer's CPU. That is, the executable code is specified in the CPU's "native" language (assembly language).The code of interpreted languages however must be translated at run-time from any format to CPU machine instructions. This translation is done by an interpreter.Another way of putting it is that interpreted languages are code is translated to machine instructions step-by-step while the program is being executed, while compiled languages have code has been translated before program execution.Here is the Basic Difference between Compiler vs Interpreter Language.Compiler LanguageInterpreter Language:A compiler, in general, reads higher level language computer code and converts it to either p-code or native machine code. An interpreter runs directly from p-code or an interpreted code such as Basic or Lisp. Typically, compiled code runs much faster, is more compact, and has already found all of the syntax errors and many of the illegal reference errors. Interpreted code only finds such errors after the application attempts to interpret the affected code. Interpreted code is often good for simple applications that will only be used once or at most a couple times, or maybe even for prototyping. Compiled code is better for serious applications. A compiler first takes in the entire program, checks for errors, compiles it and then executes it. Whereas, an interpreter does this line by line, so it takes one line, checks it for errors, and then executes it. If you need more information, just Google for "difference between compiler and interpreter".It is a very murky distinction, and in fact generally not a property of a language itself, but rather of the program you are using to execute code in that language.However, most languages are used primarily in one form or the other, and yes, Java is essentially always compiled, while javascript is essentially always interpreted.To compile source code is to run a program on it that generates a binary, executable file that, when run, has the behavior defined by the source. For instance, javac compiles human-readbale .java files into machine-readable .class files.To interpret source code is run a program on it that produces the defined behavior right away, without generating an intermediary file. For instance, when your web browser loads stackoverflow.com, it interprets a bunch of javascript (which you can look at by viewing the page source) and produces lots of the nice effects these pages have - for instance, upvoting, or the little notifier bars across the top.Interpreted language is executed at the run time according to the instructions like in shell scripting and compiled language is one which is compiled (changed into Assembly language, which CPU can understand ) and then executed like in c++.

Dogfooding our own rate-limited API

Jason Waldrip

[Dogfooding our own rate-limited API](https://stackoverflow.com/questions/34939229/dogfooding-our-own-rate-limited-api)

Overview:My company has developed a rate-limited API. Our goal is twofold:Clarification: Why rate-limit at all?We rate limit our API, because we sell it as an addition to our product. Anonymous access to our API has a very low threshold for API calls per hour, whereas our paid customers are permitted upwards of 1000 calls per hour or more.The Problem:Our rate-limited API is great for the developer eco-system, but in order for us to dogfood it we can't allow it to be restricted to the same rate-limiting. The front end of our API is all JavaScript, making direct Ajax calls to the API. So the question is:Explored Solutions (and why they didn't work)The Question:I am looking to the brilliant minds on Stack Overflow to present alternate solutions. How would you solve this problem?

2016-01-22 04:49:55Z

Overview:My company has developed a rate-limited API. Our goal is twofold:Clarification: Why rate-limit at all?We rate limit our API, because we sell it as an addition to our product. Anonymous access to our API has a very low threshold for API calls per hour, whereas our paid customers are permitted upwards of 1000 calls per hour or more.The Problem:Our rate-limited API is great for the developer eco-system, but in order for us to dogfood it we can't allow it to be restricted to the same rate-limiting. The front end of our API is all JavaScript, making direct Ajax calls to the API. So the question is:Explored Solutions (and why they didn't work)The Question:I am looking to the brilliant minds on Stack Overflow to present alternate solutions. How would you solve this problem?Since your own JavaScript client is accessing the API directly, anyone's going to be able to look at what it's doing and mimic it, including use the same API key. You can try to make it more difficult, like by obfuscating your code or putting various hurdles in the way, but you and the person you're trying to restrain have fundamentally the same access. Instead of trying to create a difference in privileges, you'll need to construct a system where it's totally OK that the unofficial client uses all the access in its scope, but the system is arranged in such a way that official use across all clients is greater.This is often done with per-user access tokens, as opposed to one token for the entire application. Each token's limit should be plenty for typical use of your API, but restrictive for someone trying to abuse it. For example, 100 calls per minute might be more than enough to support typical browsing, but if I want to scrape you, I can't do it effectively on that budget.There will always be an arms race - I can get around the limit by creating lots of bot user accounts. That, though, is a pretty solved problem if you just add a captcha to your signup flow, at a tiny bit of expense to the real human. When you get into these scenarios, everything's just a tradeoff between convenience and restriction. You'll never find something totally bulletproof, so focus on making it good enough and wait until someone exploits you to learn where the holes were.If this is causing you a problem, it will cause your putative ecosystem of developers a problem (e.g. when they try to develop an alternative UI). If you are really eating your own dog food, make the API (and the rate limiting) work for your application. Here are some suggestions:Did this not answer your question? Well, if you really need to do what you are asking, rate-limit at the authentication stage and apply a different rate limit based on the group your user fits into. If you are using one set of credentials (used by your devs and QA team), you get a higher rate limit. But you can immediately see why this will inevitably lead you to your ecosystem seeing issues that your dev and QA team do not see.Buy your product. Become a paid customer of yourself."Anonymous access to our API has a very low threshold for API calls per hour, whereas our paid customers are permitted upwards of 1000 calls per hour or more."This also helps test the system from a customer's perspective.Unfortunately, there is no perfect solution to this. The general approach is typically to provide a spoofable way for clients to identify themselves (e.g. an identifier, version, and API key -- for example), for clients to register information about themselves that can be used to limit access (e.g. the client is a server in a given IP address range, so only allow callers in that range; e.g. the client is JavaScript, but delivered only to a specific category of browser, so only allow access to HTTP requests that specify certain user agent strings; etc.), and then to use machine learning/pattern recognition to detect anomalous usage that is likely a spoofed client and then to reject traffic from these spoofed clients (or confirm with clients that these usages are indeed not coming from the legitimate client, replace their spoofable credentials, and then disallow further traffic using the older spoofed credentials). You can make it slightly more difficult to spoof by using multiple layers of key. For example, you give out a longer-lived credential that lives on a server (and that can only be used in a limited set of IP address ranges) to make an API call that records information about the client (e.g. the user agent) and returns a shorter-lived client-side key that is syndicated in JavaScript for use on the client for client-side API requests. This, too, is imperfect (a spoofer could issue the same server call to get the credential), but it will be more difficult if the returned API key is included in obfuscated (and frequently changing) JavaScript or HTML (which would make it difficult to reliably extract from the response). That also provides a way to more easily detect spoofing; the client-side key is now tied to a particular client (e.g. specific user agent, perhaps even a specific cookie jar) that makes reuse in another client easy to detect and the expiration also limits the duration in which the spoofed key may be reused.Assuming the app in question must be publicly open, you don’t have much choice:Pick another way to demonstrate the power of your API. For example, write such an app and share its source, but don’t actually run that code. Make sure it’s well-documented though, so that anyone can deploy it and see it working (subject to throttling).The app you run would need to be refactored to avoid client-side API requests and be more server-rendered. You can still dogfood your API, but not in an obvious way—make secure requests to throttle-free API from the server side.Adjust rate limitation to allow for your app to work and invest into performance optimization to handle the load.And yeah, have the core API throttle-free in the first place, and keep it inside a private network. Throttle in a separate publicly accessible layer.Can you stand up a separate instance of the UI and throttle-free API, and then restrict access to IP addresses coming from your organisation?E.g., deploy the whole thing behind your corporate firewall, and attach the application to the same database as the public-facing instance if you need to share data between instances.You could try to generate a unique session ID, bound to a certain IP address/user and limited time to live. When a user downloads your application frontend JavaScript code inject the generated session ID into the JavaScript source code. The session ID will be attached to every request to your API and the rate-limit is lifted.The ID cannot be simply copied for spoofing, because it is only valid for a single IP address, user and limited amount of time. So an adversary would have to call your page and filter out the key from your JavaScript source or from intercepting the Ajax request every time a new user wants to use it.Another Option:Set up a proxy for your own application and use obfuscation. The Ajax requests to the proxy use different names from the real API-calls and the proxy translates them back. So your application would not call getDocument on your real API, but it will call getFELSUFDSKJE on your proxy. The proxy will translate this call back to getDocument and forward it to actual rate-limited API.Your actual API will not rate-limit requests by the proxy.And so that other people don't use your proxy for their own application you change the obfuscation scheme daily. The obfuscated call-names can be generated automatically in you JavaScript source code and configured in the proxy.A client wishing to use this, would also need to keep up with your changing obfuscation to use your proxy. And you can still use referrer-headers and similar for logging, so you can find people using your proxy. Or catch them when changing the obfuscation scheme.Setup multiple accounts, and pick one of them at random at every request, or change which one you use every hour or so. This way you can distribute the load over n accounts, giving you up to n times higher limits. Be careful about accidentally shutting yourself down if you are trying to find other users doing this, if it's not allowed for customers. 

unique object identifier in javascript

Stefano Borini

[unique object identifier in javascript](https://stackoverflow.com/questions/1997661/unique-object-identifier-in-javascript)

I need to do some experiment and I need to know some kind of unique identifier for objects in javascript, so I can see if they are the same. I don't want to use equality operators, I need something like the id() function in python. Does something like this exist ?

2010-01-04 05:34:50Z

I need to do some experiment and I need to know some kind of unique identifier for objects in javascript, so I can see if they are the same. I don't want to use equality operators, I need something like the id() function in python. Does something like this exist ?Update My original answer below was written 6 years ago in a style befitting the times and my understanding.  In response to some conversation in the comments, a more modern approach to this is as follows:If you have archaic browser requirements, check here for browser compatibility for Object.defineProperty.The original answer is kept below (instead of just in the change history) because I think the comparison is valuable. You can give the following a spin.  This also gives you the option to explicitly set an object's ID in its constructor or elsewhere.Take care to make sure that whatever member you use to internally store the unique ID doesn't collide with another automatically created member name.So far as my observation goes, any answer posted here can have unexpected side effects.In ES2015-compatible enviroment, you can avoid any side effects by using WeakMap.Latest browsers provide a cleaner method for extending Object.prototype. This code will make the property hidden from property enumeration (for p in o)For the browsers that implement defineProperty, you can implement uniqueId property like this:For details, see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/definePropertyActually, you don't need to modify the object prototype and add a function there. The following should work well for your purpose.For browsers implementing the Object.defineProperty() method, the code below generates and returns a function that you can bind to any object you own.This approach has the advantage of not extending Object.prototype.The code works by checking if the given object has a __objectID__ property, and by defining it as a hidden (non-enumerable) read-only property if not.So it is safe against any attempt to change or redefine the read-only obj.__objectID__ property after it has been defined, and consistently throws a nice error instead of silently fail.Finally, in the quite extreme case where some other code would already have defined __objectID__ on a given object, this value would simply be returned.Typescript version of @justin answer, ES6 compatible, using Symbols to prevent any key collision and added into the global Object.id for convenience. Just copy paste the code below, or put it into an ObjecId.ts file you will import.Example of usage:jQuery code uses it's own data() method as such id.At the backstage method data creates a very special field in object called "jQuery" + now() put there next id of a stream of unique ids likeI'd suggest you use the same method as John Resig obviously knows all there is about JavaScript and his method is based on all that knowledge.I've used code like this, which will cause Objects to stringify with unique strings:the __proto__ bits are to keep the __id__ getter from showing up in the object.  this has been only tested in firefox. Notwithstanding the advice not to modify Object.prototype, this can still be really useful for testing, within a limited scope. The author of the accepted answer changed it, but is still setting Object.id, which doesn't make sense to me. Here's a snippet that does the job:I faced the same problem and here's the solution I implemented with ES6For the purpose of comparing two objects, the simplest way to do this would be to add a unique property to one of the objects at the time you need to compare the objects, check if the property exists in the other and then remove it again. This saves overriding prototypes.

Object.watch() for all browsers?

SeanW

[Object.watch() for all browsers?](https://stackoverflow.com/questions/1029241/object-watch-for-all-browsers)

Please note that Object.Watch and Object.Observe are both deprecated now (as of Jun 2018).I was looking for an easy way to monitor an object or variable for changes, and I found Object.watch(), that's supported in Mozilla browsers, but not IE. So I started searching around to see if anyone had written some sort of equivalent. About the only thing I've found has been a jQuery plugin, but I'm not sure if that's the best way to go. I certainly use jQuery in most of my projects, so I'm not worried about the jQuery aspect...Anyway, the question: Can someone show me a working example of that jQuery plugin? I'm having problems making it work... Or, does anyone know of any better alternatives that would work cross browser?Update after answers:Thanks everyone for the responses! I tried out the code posted here:

http://webreflection.blogspot.com/2009/01/internet-explorer-object-watch.htmlBut I couldn't seem to make it work with IE. The code below works fine in Firefox, but does nothing in IE. In Firefox, each time watcher.status is changed, the document.write() in watcher.watch() is called and you can see the output on the page. In IE, that doesn't happen, but I can see that watcher.status is updating the value, because the last document.write() call shows the correct value (in both IE and FF). But, if the callback function isn't called, then that's kind of pointless... :)Am I missing something?

2009-06-22 20:29:55Z

Please note that Object.Watch and Object.Observe are both deprecated now (as of Jun 2018).I was looking for an easy way to monitor an object or variable for changes, and I found Object.watch(), that's supported in Mozilla browsers, but not IE. So I started searching around to see if anyone had written some sort of equivalent. About the only thing I've found has been a jQuery plugin, but I'm not sure if that's the best way to go. I certainly use jQuery in most of my projects, so I'm not worried about the jQuery aspect...Anyway, the question: Can someone show me a working example of that jQuery plugin? I'm having problems making it work... Or, does anyone know of any better alternatives that would work cross browser?Update after answers:Thanks everyone for the responses! I tried out the code posted here:

http://webreflection.blogspot.com/2009/01/internet-explorer-object-watch.htmlBut I couldn't seem to make it work with IE. The code below works fine in Firefox, but does nothing in IE. In Firefox, each time watcher.status is changed, the document.write() in watcher.watch() is called and you can see the output on the page. In IE, that doesn't happen, but I can see that watcher.status is updating the value, because the last document.write() call shows the correct value (in both IE and FF). But, if the callback function isn't called, then that's kind of pointless... :)Am I missing something?(Sorry for the cross-posting, but this answer I gave to a similar question works fine here)I have created a small object.watch shim for this a while ago. It works in IE8, Safari, Chrome, Firefox, Opera, etc.That plugin simply uses a timer/interval to repeatedly check for changes on an object. Maybe good enough but personally I would like more immediacy as an observer.Here's an attempt at bringing watch/unwatch to IE: http://webreflection.blogspot.com/2009/01/internet-explorer-object-watch.html.It does change the syntax from the Firefox way of adding observers. Instead of :You do:Not as sweet, but as an observer you are notified immediately.Current AnswerUse the new Proxy object, which can watch changes to it's target.Old answer from 2015You could have used Object.observe() from ES7. Here's a polyfill. But Object.observe() is now cancelled. Sorry people!The answers to this question are a bit outdated. Object.watch and Object.observe are both deprecated and should not be used.Today, you can now use the Proxy object to monitor (and intercept) changes made to an object. Here's a basic example:If you need to observe changes made to a nested object, then you need to use a specialized library. I published Observable Slim and it works like this:Note that in Chrome 36 and higher you can use Object.observe as well. This is actually a part of a future ECMAScript standard, and not a browser-specific feature like Mozilla's Object.watch. Object.observe only works on object properties, but is a lot more performant than Object.watch (which is meant for debugging purposes, not production use).you can use Object.defineProperty.watch the property bar in fooI have used Watch.js in one of my projects. And it is working fine.One of the main advantage of using this library is :The example is given belowThis is as simple as this!I also think that right now the best solution is to use Watch.JS, find a nice tutorial here: Listen/Watch for object or array changes in Javascript (Property changed event on Javascript objects)

nodeJs callbacks simple example

Bhushan Goel

[nodeJs callbacks simple example](https://stackoverflow.com/questions/19739755/nodejs-callbacks-simple-example)

can any one give me a a simple example of nodeJs callbacks, I have already searched for the same on many websites but not able to understand it properly, Please give me a simple example.I want to do something like that...

2013-11-02 07:10:46Z

can any one give me a a simple example of nodeJs callbacks, I have already searched for the same on many websites but not able to understand it properly, Please give me a simple example.I want to do something like that...Now open node or browser console and paste the above definitions.Finally use it with this next line:With Respect to the Node-Style Error ConventionsCosta asked what this would look like if we were to honor the node error callback conventions.In this convention, the callback should expect to receive at least one argument, the first argument, as an error. Optionally we will have one or more additional arguments, depending on the context. In this case, the context is our above example.Here I rewrite our example in this convention.If we want to simulate an error case, we can define usingItNow like thisThe final usage is exactly the same as in above: The only difference in behavior would be contingent on which version of usingItNow you've defined: the one that feeds a "truthy value" (an Error object) to the callback for the first argument, or the one that feeds it null for the error argument.A callback function is simply a function you pass into another function so that function can call it at a later time. This is commonly seen in asynchronous APIs; the API call returns immediately because it is asynchronous, so you pass a function into it that the API can call when it's done performing its asynchronous task.The simplest example I can think of in JavaScript is the setTimeout() function. It's a global function that accepts two arguments. The first argument is the callback function and the second argument is a delay in milliseconds. The function is designed to wait the appropriate amount of time, then invoke your callback function.You may have seen the above code before but just didn't realize the function you were passing in was called a callback function. We could rewrite the code above to make it more obvious.Callbacks are used all over the place in Node because Node is built from the ground up to be asynchronous in everything that it does. Even when talking to the file system. That's why a ton of the internal Node APIs accept callback functions as arguments rather than returning data you can assign to a variable. Instead it will invoke your callback function, passing the data you wanted as an argument. For example, you could use Node's fs library to read a file. The fs module exposes two unique API functions: readFile and readFileSync.The readFile function is asynchronous while readFileSync is obviously not. You can see that they intend you to use the async calls whenever possible since they called them readFile and readFileSync instead of readFile and readFileAsync. Here is an example of using both functions.Synchronous:The code above blocks thread execution until all the contents of test.txt are read into memory and stored in the variable data. In node this is typically considered bad practice. There are times though when it's useful, such as when writing a quick little script to do something simple but tedious and you don't care much about saving every nanosecond of time that you can.Asynchronous (with callback):First we create a callback function that accepts two arguments err and data. One problem with asynchronous functions is that it becomes more difficult to trap errors so a lot of callback-style APIs pass errors as the first argument to the callback function. It is best practice to check if err has a value before you do anything else. If so, stop execution of the callback and log the error.Synchronous calls have an advantage when there are thrown exceptions because you can simply catch them with a try/catch block.In asynchronous functions it doesn't work that way. The API call returns immediately so there is nothing to catch with the try/catch. Proper asynchronous APIs that use callbacks will always catch their own errors and then pass those errors into the callback where you can handle it as you see fit.In addition to callbacks though, there is another popular style of API that is commonly used called the promise. If you'd like to read about them then you can read the entire blog post I wrote based on this answer here.Here is an example of copying text file with fs.readFile and fs.writeFile:And that's an example of using copyFile function:Common node.js pattern suggests that the first argument of the callback function is an error. You should use this pattern because all control flow modules rely on it:Try this example as simple as you can read, just copy save newfile.js do node newfile to run the application.we are creating a simple function as'fs' is a node module which helps you to read file.

Callback function will make sure that your file named 'input.txt' is completely read before it gets executed.

fs.stat() function is to get file information like file size, date created and date modified.A callback is a function passed as an parameter to a Higher Order Function (wikipedia). A simple implementation of a callback would be:To call the function, simple pass another function as argument to the function defined.

Make anchor link go some pixels above where it's linked to

damon

[Make anchor link go some pixels above where it's linked to](https://stackoverflow.com/questions/17534661/make-anchor-link-go-some-pixels-above-where-its-linked-to)

I'm not sure the best way to ask/search for this question:When you click on an anchor link, it brings you to that section of the page with the linked-to area now at the VERY TOP of the page. I would like the anchor link to send me to that part of the page, but I would like some space at the top. As in, I don't want it to send me to the linked-to part with it at the VERY TOP, I would like 100 or so pixels of space there.Does this make sense? Is this possible? Edited to show code - it's just an anchor tag:

2013-07-08 19:42:57Z

I'm not sure the best way to ask/search for this question:When you click on an anchor link, it brings you to that section of the page with the linked-to area now at the VERY TOP of the page. I would like the anchor link to send me to that part of the page, but I would like some space at the top. As in, I don't want it to send me to the linked-to part with it at the VERY TOP, I would like 100 or so pixels of space there.Does this make sense? Is this possible? Edited to show code - it's just an anchor tag:This will allow the browser to do the work of jumping to the anchor for us and then we will use that position to offset from.EDIT 1:As was pointed out by @erb, this only works if you are on the page while the hash is changed. Entering the page with a #something already in the URL does not work with the above code. Here is another version to handle that:NOTE:

To use jQuery, you could just replace window.addEventListener with $(window).on in the examples. Thanks @Neon.EDIT 2:As pointed out by a few, the above will fail if you click on the same anchor link two or more times in a row because there is no hashchange event to force the offset.This solution is very slightly modified version of the suggestion from @Mave and uses jQuery selectors for simplicityJSFiddle for this example is hereWorking only with css you can add a padding to the anchored element (as in a solution above)

To avoid unnecessary whitespace you can add a negative margin of the same height:I am not sure if this is the best solution in any case, but it works fine for me. Even better solution:Just position the <a> tag with absolute positioning inside of a relatively positioned object.Works when entering the page or through a hash change within page.Best SolutionThis will work without jQuery and on page load.To link to an element, and then 'position' that element an arbitrary distance from the top of the page, using pure CSS, you'd have to use padding-top, that way the element is still positioned at the top of the window, but it appears, visibly, to be positioned some distance from the top of the view-port, for example:CSS:JS Fiddle demo.To use a plain JavaScript approach:JS Fiddle demo.If you use explicit anchor names such as,then in css you can simply setThis will work as long as your HREF anchor tags don't also specify a NAME attributeThis should work:Just change the .top-49 to what fits with your anchor link.Eric's answer is great, but you really don't need that timeout. If you're using jQuery, you can just wait for the page to load. So I'd suggest changing the code to:This also gets us rid of that arbitrary factor.try this code, it has already a smooth animation when clicked the link.The easiest solution:CSSHTMLA variant of Thomas' solution: CSS element>element selectors can be handy here:CSSHTMLA click on the link will move the scroll position to 100px above wherever the element with a class of paddedAnchor is positioned.Supported in non-IE browsers, and in IE from version 9. For support on IE 7 and 8, a <!DOCTYPE> must be declared.I just found an easy solution for myself.

Had an margin-top of 15pxHTMLCSSI know this is a bit late, but I found something very important to put in your code if you are using Bootstrap's Scrollspy. (http://getbootstrap.com/javascript/#scrollspy)This was driving me nuts for hours.The offset for scroll spy MUST match the window.scrollY or else you'll run the risk of:Based on @Eric Olson solution just modify a little to include the anchor element that I want to go specificallyI just have the same problem. I have a nav posited pixed and i want the angkor to start under the nav. The solution of window.addEventListener... not work for me because i set my page to be scroll-behavior:smooth so it set the offset instead scroll to the angkor. the setTimeout() work if the time is anough for scroll to the end but it still not looking good. so my solution was to add a posited absolute div in the angkor, with height:[the height of the nav] and bottom:100%. in this case this div ended in the top of the angkor element, and start at the position where you what the angkor to scroll to. now all what i do is set the angkor link to this absolute div and the wor done :)i was facing the similar issue and i resolved by using following code Using only css and having no problems with covered and unclickable content before (the point of this is the pointer-events:none):CSSHTMLPut this in style :and use this class in separate div tag before the links, example:or use this php code for echo link tag:

Create Directory When Writing To File In Node.js

Hirvesh

[Create Directory When Writing To File In Node.js](https://stackoverflow.com/questions/13542667/create-directory-when-writing-to-file-in-node-js)

I've been tinkering with Node.js and found a little problem.  I've got a script which resides in a directory called data.  I want the script to write some data to a file in a subdirectory within the data subdirectory.  However I am getting the following error:The code is as follows:Can anybody help me in finding out how to make Node.js create the directory structure if it does not exits for writing to a file?

2012-11-24 15:34:01Z

I've been tinkering with Node.js and found a little problem.  I've got a script which resides in a directory called data.  I want the script to write some data to a file in a subdirectory within the data subdirectory.  However I am getting the following error:The code is as follows:Can anybody help me in finding out how to make Node.js create the directory structure if it does not exits for writing to a file?fs.mkdir now accepts a { recursive: true } option like so:or with a promise:You can solve this with a package like mkdirp or fs-extra. If you don't want to install a package, please see Tiago Peres França's answer below.If you don't want to use any additional package, you can call the following function before creating your file:With node-fs-extra you can do it easily. Then use the outputFile method. Its documentation says:You can use it in three ways:If you use promises, and I hope so, this is the code: If you want a sync version, just use this code:For a complete reference, check the outputFile documentation and all node-fs-extra supported methods.Shameless plug alert!You will have to check for each directory in the path structure you want and create it manually if it doesn't exist. All the tools to do so are already there in Node's fs module, but you can do all of that simply with my mkpath module: https://github.com/jrajav/mkpathSince I cannot comment yet, I'm posting an enhanced answer based on @tiago-peres-frança fantastic solution (thanks!). His code does not make directory in a case where only the last directory is missing in the path, e.g. the input is "C:/test/abc" and "C:/test" already exists. Here is a snippet that works:My advise is: try not to rely on dependencies when you can easily do it with few lines of codesHere's what you're trying to achieve in 14 lines of code:I just published this module because I needed this functionality.https://www.npmjs.org/package/filendirIt works like a wrapper around Node.js fs methods. So you can use it exactly the same way you would with fs.writeFile and fs.writeFileSync (both async and synchronous writes)

Difference between a Postback and a Callback

Biswanath

[Difference between a Postback and a Callback](https://stackoverflow.com/questions/365100/difference-between-a-postback-and-a-callback)

I keep on hearing this words 'callback' and 'postback' tossed around.

What is the difference between two ? Is postback very specific to the ASP.NET pages ?

2008-12-13 11:02:24Z

I keep on hearing this words 'callback' and 'postback' tossed around.

What is the difference between two ? Is postback very specific to the ASP.NET pages ?A Postback occurs when the data (the whole page) on the page is posted from the client to the server..ie the data is posted-back to the server, and thus the page is refreshed (redrawn)...think of it as 'sending the server the whole page (asp.net) full of data'.On the other hand, a callback is also a special kind of postback, but it is just a quick round-trip to the server to get a small set of data (normally), and thus the page is not refreshed, unlike with the postback...think of it as 'calling the server, and receiving some data back'.With Asp.Net, the ViewState is not refreshed when a callback is invoked, unlike with a postback.The reason that the whole page is posted with ASP.Net is because ASP.Net encloses the whole page in a <form> with a post method, and so when a submit button is clicked in the page, the form is sent to the server with all of the fields that are in the form... basically the whole page itself.If you are using FireBug (for Firefox), you can actually see callbacks being invoked to the server in the Console.  That way, you will see what specific data is being sent to the server (Request) and also the data the server sent you back (Response).The below image illustrates the Page Life Cycles of both a postback and a callback in a ASP.NET based Website:

(source: esri.com)  A postback occurs when a request is sent from the client to the server for the same page as the one the user is currently viewing. When a postback occurs, the entire page is refreshed and you can see the typical progression on the progress bar at the bottom of the browser.A callback, generally used with AJAX, occurs when a request is sent from the client to the server for which the page is not refreshed, only a part of it is updated without any flickering occuring on the browserI agree with Dreas' answer, but I'd like to add a couple of points.  Postback is a term that gets introduced very recently by ASP .NET programming as Dreas explained, whereas callback is more generic and has been used way before web development exists.  In fact I first heard about callback back in the days when I started programming in C (maybe the term existed before that, I don't know) and it simply means a pointer to function and this pointer to a function (name this A) gets passed to another function (name this B) which will later invoke A.  Callback is also recently used by Yahoo UI Connection Manager and other Ajax frameworks but I believe the term had its first use back in the old C days.A lot of this discussion is ASP.NET gobbledygook language....The answer is YES. Postback is a "term" specific to Microsoft's ASP.NET

But remember, vendors like Microsoft wrap their OWN versions of these processes around their own implementations of them, confusing us all as to what REALLY HAPPENS in the Http/Html world.Their version of POSTBACK is basically a traditional HTTP POST request sent back to the originating server. But in ASP.NET they do it by sticking a gigantic FORM HTML element tag (with POST method attribute) around the whole web page rather than traditional form controls in one tiny part of a web page. They do do this because they are using the HTTP specification to maintain "state" of their page and its controls, and to make sure the whole page, even the traditional non-form field markup, comes back intact.Unfortunately, this sends a HUGE amount of unnessary data over the wire such that their VIEWSTATE and its sister POSTBACK in the page has come to be viewed by many as a waste of bandwidth and a sloppy way of implementing web page state. I can show you that most modern browsers and website, if designed using cacheable CSS and consistent HTML markup, will return page state quite naturally using the browsers native HTML cache. ie Full POSTBACK is often unnecessary.CALLBACK is just JavaScript. Its just ECMASCRIPT circus tricks ASP.NET stores in what they call their AJAX API in gigantic JavaScript libraries your browser downloads from the server, and which ASP.NET developers unknowingly pack into their web pages to trigger changes in a web page without full POSTBACK. The ASP.NET API for AJAX just creates all this massive Javascript that's on the client-side and which gets triggered in the browser when the user changes something, rolls over something, or clicks something in the browser triggering traditional JavaScript browser DOM events, which then ships a giant load of JSON or other data back to the server to process. That then gets returned and accepted by the Javascipted libraries and objects in memory in the browser, and changes parts of the users web page and markup.Its said some 5-10% of users and browsers have Javascript disabled so all this JSON and AJAX would crash and burn for those people. ie CALLBACK would not work.That's what goes on behind the scenes. Much of it is overkill, if you ask me. And thats why Web Control models in ASP.NET have been criticized in the past.If you abandoned ASP.NET for a second, you could write a simple FORM field yourself in an HTML web page with a single textbox and button and press it and watch it post to the server, exactly like an ASP.NET page would do but faster and simpler. That's what real POSTBACK is. The browser naturally sends the server the necessary POST HTTP Header to do so, but caches the HTML in the rest of the page, so it renders lightning fast on its own.For CALLBACK you could just add a simple Javascript/ECMAScript code to that same HTML page where, when the user rolls over some text or button, clicks, or changes a form field, the web page doesn't POST, but behind the scenes you have Javascript send something up to the server. How you handle that via your own JavaScript, JSON, or libraries is another deal. But its not magic. For people with no Javascipt or Javascript disabled you should design pages with no CALLBACK and just cache any changes that return when form field controls or hyperlinks are clicked. Its one reason to reconsider callback routines though most modern user-agents now are setup for ECMAScripted website routines.That's what confuses people......these vendor implementations of very basic HTTP requests and Javascripted tricks get layered into language thats not clear. It then causes people to build monstrous web applications that do all this unnecessary stuff that very simple coding would solve.I still use and recommend ASP.NET. It's come a long way and a great system. But it would help if more people understood the basics of what they do before using them as these frameworks can be customized and simplified quite a bit to improve them if you see whats really going on under the hood.A postback occurs when a request is sent to a server no need give details about security for each request.When u make a request for the other page callback is used by the serverA postback is also a round trip basically when a postback is executed at that time it calls the special method which is known as round trip..Postback is on the server side where as round trip is on the client sid.

Adding onClick event dynamically using jQuery

Claudio Delgado

[Adding onClick event dynamically using jQuery](https://stackoverflow.com/questions/12284168/adding-onclick-event-dynamically-using-jquery)

Due to a plugin being used, I can't add the "onClick" attribute to the HTML form inputs like usual.

A plugin is handling the forms part in my site and it doesn't give an option to do this automatically.Basically I have this input:I want to add an onClick to it with jQuery onload for it to be like this:How do I go about doing this?I know this might not be standard practice but seems like the easiest option to do in my situation.I'm a newbie to jQuery so any help is very much appreciated.

2012-09-05 14:50:23Z

Due to a plugin being used, I can't add the "onClick" attribute to the HTML form inputs like usual.

A plugin is handling the forms part in my site and it doesn't give an option to do this automatically.Basically I have this input:I want to add an onClick to it with jQuery onload for it to be like this:How do I go about doing this?I know this might not be standard practice but seems like the easiest option to do in my situation.I'm a newbie to jQuery so any help is very much appreciated.You can use the click event and call your function or move your logic into the handler:You can use the click event and set your function as the handler:.click()http://api.jquery.com/click/You can use the on event bound to "click" and call your function or move your logic into the handler:You can use the on event bound to "click" and set your function as the handler:.on()http://api.jquery.com/on/try this approach if you know your object client name ( it is not important that it is Button or TextBox )try this ones if you want add onClick event to a server object with JQueryTry below approach,or in case jQuery is not an absolute necessaity then try below,However the above method has few drawbacks as it set onclick as a property rather than being registered as handler... Read more on this post https://stackoverflow.com/a/6348597/297641Or you can use an arrow function to define it:For better browser support:

How do I verify jQuery AJAX events with Jasmine?

mnacos

[How do I verify jQuery AJAX events with Jasmine?](https://stackoverflow.com/questions/4662641/how-do-i-verify-jquery-ajax-events-with-jasmine)

I am trying to use Jasmine to write some BDD specs for basic jQuery AJAX requests. I am currently using Jasmine in standalone mode (i.e. through SpecRunner.html). I have configured SpecRunner to load jquery and other .js files. Any ideas why the following doesn't work? has_returned does not become true, even thought the "yuppi!" alert shows up fine.How do I test that the callback has been called? Any pointers to blogs/material related to testing async jQuery with Jasmine will be greatly appreciated.

2011-01-11 21:04:56Z

I am trying to use Jasmine to write some BDD specs for basic jQuery AJAX requests. I am currently using Jasmine in standalone mode (i.e. through SpecRunner.html). I have configured SpecRunner to load jquery and other .js files. Any ideas why the following doesn't work? has_returned does not become true, even thought the "yuppi!" alert shows up fine.How do I test that the callback has been called? Any pointers to blogs/material related to testing async jQuery with Jasmine will be greatly appreciated.I guess there are two types of tests you can do:Jasmine can help you do both kinds of tests.Here is a sample of how you can fake the AJAX request, and then write a unit test to verify that the faked AJAX request was going to the correct URL:For Jasmine 2.0 use instead:as noted in this answerHere is a similar unit test that verifies your callback was executed, upon an AJAX request completing successfully:For Jasmine 2.0 use instead:as noted in this answerFinally, you have hinted elsewhere that you might want to write integration tests that make real AJAX requests - for integration purposes. This can be done using Jasmine's asyncronous features: waits(), waitsFor() and runs():Look at the jasmine-ajax project: http://github.com/pivotal/jasmine-ajax.It's a drop-in helper that (for either jQuery or Prototype.js) stubs at the XHR layer so that requests never go out. You can then expect all you want about the request.Then it lets you provide fixture responses for all your cases and then write tests for each response that you want: success, failure, unauthorized, etc.It takes Ajax calls out of the realm of asynchronous tests and provides you a lot of flexibility for testing how your actual response handlers should work.here is a simple example test suite

for an app js like thisa sample test suite, which will call callback based on url regexpWhen I specify ajax code with Jasmine, I solve the problem by spying on whatever depended-on function initiates the remote call (like, say, $.get or $ajax). Then I retrieve the callbacks set on it and test them discretely.Here's an example I gisted recently:https://gist.github.com/946704Try jqueryspy.com

It provides an elegant jquery like syntax to describe your tests and allows callbacks to test after the ajax has complete. Its great for integration testing and you can configure maximum ajax wait times in seconds or milleseconds.I feel like I need to provide a more up-to-date answer since Jasmine is now at version 2.4 and a few functions have changed from the version 2.0.So, to verify that a callback function has been called within your AJAX request, you need to create a spy, add a callFake function to it then use the spy as your callback function. Here's how it goes:I've done the trick for the success function as well as the error function to make sure that Jasmine will run the specs as soon as possible even if your AJAX returns an error.If you don't specify an error function and your AJAX returns an error, you will have to wait 5 seconds (default timeout interval) until Jasmine throws an error Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.. You can also specify your own timeout like this:

How to parse an RSS feed using JavaScript?

Thiru

[How to parse an RSS feed using JavaScript?](https://stackoverflow.com/questions/10943544/how-to-parse-an-rss-feed-using-javascript)

I need to parse an RSS feed (XML version 2.0) and display the parsed details in an HTML page.

2012-06-08 05:34:16Z

I need to parse an RSS feed (XML version 2.0) and display the parsed details in an HTML page.(Don't really recommend that one, see the other options.)But that means you're relient on them being online and reachable.Once you've successfully extracted the information you need from the feed, you could create DocumentFragments (with document.createDocumentFragment() containing the elements (created with document.createElement()) you'll want to inject to display your data.Select the container element that you want on the page and append your document fragments to it, and simply use innerHTML to replace its content entirely.Something like:or:Using this question's feed, which as of this writing gives:Invoking:Prints out:Invoking:Prints out:Another deprecated (thanks to @daylight) option, and the easiest for me (this is what I'm using for SpokenToday.info):The Google Feed API without using JQuery and with only 2 steps:For anyone else reading this (in 2019 onwards) unfortunately most JS RSS reading implementations don't now work. Firstly Google API has shut down so this is no longer an option and because of the CORS security policy you generally cannot now request RSS feeds cross-domains. Using the example on https://www.raymondcamden.com/2015/12/08/parsing-rss-feeds-in-javascript-options (2015) I get the following:Access to XMLHttpRequest at 'https://feeds.feedburner.com/raymondcamdensblog?format=xml' from origin 'MYSITE' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.This is correct and is a security precaution by the end website but does now mean that the answers above are unlikely to work.My workaround will probably be to parse the RSS feed through PHP and allow the javascript to access my PHP rather than trying to access the end-destination feed itself.If you want to use a plain javascript API, there is a good example at https://github.com/hongkiat/js-rss-reader/ The complete description at https://www.hongkiat.com/blog/rss-reader-in-javascript/It uses fetch method as a global method that asynchronously fetches a resource. Below is a snap of code:If you are looking for a simple and free alternative to Google Feed API for your rss widget then rss2json.com could be a suitable solution for that.You may try to see how it works on a sample code from the api documentation below:

You can use jquery-rss or Vanilla RSS, which comes with nice templating and is super easy to use:See http://jsfiddle.net/sdepold/ozq2dn9e/1/ for a working example.Trying to find a good solution for this now, I happened upon the FeedEk jQuery RSS/ATOM Feed Plugin that does a great job of parsing and displaying RSS and Atom feeds via the jQuery Feed API. For a basic XML-based RSS feed, I've found it works like a charm and needs no server-side scripts or other CORS workarounds for it to run even locally.

How to substring in jquery

Gorge

[How to substring in jquery](https://stackoverflow.com/questions/4126762/how-to-substring-in-jquery)

How can I use jquery on the client side to substring "nameGorge" and remove "name" so it outputs just "Gorge"?

2010-11-08 18:25:06Z

How can I use jquery on the client side to substring "nameGorge" and remove "name" so it outputs just "Gorge"?No jQuery needed! Just use the substring method:Or if the text you want to remove isn't static:Using .split(). (Second version uses .slice() and .join() on the Array.)Using .replace().Using .slice() on a String. Standard javascript will do that using the following syntax:string.substring(from, to)Read more here: http://www.w3schools.com/jsref/jsref_substring.aspThat's just plain JavaScript: see substring and substr.You don't need jquery in order to do that.Yes you can, although it relies on Javascript's inherent functionality and not the jQuery library.http://www.w3schools.com/jsref/jsref_substr.asp

The substr function will allow you to extract certain parts of the string.Now, if you're looking for a specific string or character to use to find what part of the string to extract, you can make use of the indexOf function as well.

http://www.w3schools.com/jsref/jsref_IndexOf.aspThe question is somewhat vague though; even just link text with 'name' will achieve the desired result. What's the criteria for getting your substring, exactly?How about the following?

Show loading image while $.ajax is performed

Upvote

[Show loading image while $.ajax is performed](https://stackoverflow.com/questions/4684722/show-loading-image-while-ajax-is-performed)

I am just wondering how to show an image that indicates that the async request is running. I use the following code to perform a async request:Any ideas?

2011-01-13 20:09:57Z

I am just wondering how to show an image that indicates that the async request is running. I use the following code to perform a async request:Any ideas?You can, of course, show it before making the request, and hide it after it completes:I usually prefer the more general solution of binding it to the global ajaxStart and ajaxStop events, that way it shows up for all ajax events:Use the ajax object's beforeSend and complete functions. It's better to show the gif from inside beforeSend so that all the behavior is encapsulated in a single object. Be careful about hiding the gif using the success function. If the request fails, you'll probably still want to hide the gif. To do this use the Complete function. It would look like this:HTML Code :CSS Code:JQUERY Code:The "image" people generally show during an ajax call is an animated gif. Since there is no way to determine the percent complete of the ajax request, the animated gifs used are indeterminate spinners. This is just an image repeating over and over like a ball of circles of varying sizes. A good site to create your own custom indeterminate spinner is http://ajaxload.info/I think this might be better if you have tons of $.ajax callsNOTE:If you use CSS. The element you want to shown while ajax is fetching data from your back-end code must be like this.I've always liked the BlockUI plugin: http://jquery.malsup.com/block/It allows you to block certain elements of a page, or the entire page while an ajax request is running.Before your call either insert the loading image in a div/span somewhere and then on the success function remove that image. Alternatively you can set up a css class like loading that might look like thisAnd then assign this class to a span/div and clear it in the success functionsomething like this:You can add ajax start and complete event, this is work for when you click on button event

querySelector, wildcard element match?

Erik Andersson

[querySelector, wildcard element match?](https://stackoverflow.com/questions/8714090/queryselector-wildcard-element-match)

Is there a way to do a wildcard element name match using querySelector or querySelectorAll? I see support for wildcards in attribute queries but not for the elements themselves.The XML document I'm trying to parse is basically a flat list of properties and I need to find elements that have certain strings in their names.I realize the XML document is probably in need of a restructuring if I need this but that's just not going to happen.Any solution except going back to using the apparently deprecated XPath (IE9 dropped it) is acceptable.

2012-01-03 14:54:34Z

Is there a way to do a wildcard element name match using querySelector or querySelectorAll? I see support for wildcards in attribute queries but not for the elements themselves.The XML document I'm trying to parse is basically a flat list of properties and I need to find elements that have certain strings in their names.I realize the XML document is probably in need of a restructuring if I need this but that's just not going to happen.Any solution except going back to using the apparently deprecated XPath (IE9 dropped it) is acceptable.[id^='someId'] will match all ids starting with someId.[id$='someId'] will match all ids ending with someId.[id*='someId'] will match all ids containing someId.If you're looking for the name attribute just substitute id with name. If you're talking about the tag name of the element I don't believe there is a way using querySelectorI was messing/musing on one-liners involving querySelector() & ended up here, & have a possible answer to the OP question using tag names & querySelector(), with credits to @JaredMcAteer for answering MY question, aka have RegEx-like matches with querySelector() in vanilla JavascriptHoping the following will be useful & fit the OP's needs or everyone else's:Then, we can, for example, get the src stuff, etc ...Set the tagName as an explicit attribute:I needed this myself, for an XML Document, with Nested Tags ending in _Sequence. See JaredMcAteer answer for more details.I didn't say it would be pretty :) 

PS: I would recommend to use tag_name over tagName, so you do not run into interferences when reading 'computer generated', implicit DOM attributes. I just wrote this short script; seems to work.There is a way by saying what is is not.  Just make the not something it never will be. A good css selector reference: 

https://www.w3schools.com/cssref/css_selectors.asp which shows the :not selector as follows:Here is an example: a div followed by something (anything but a z tag)

Gulp Error: Cannot find module 'jshint/src/cli'

lateralaus

[Gulp Error: Cannot find module 'jshint/src/cli'](https://stackoverflow.com/questions/33984558/gulp-error-cannot-find-module-jshint-src-cli)

So I've got a fresh install of El Capitan and I'm giving these task runners another go.I'm following sitepoint's An introduction to Gulp.js, but I'm stuck on step four, when I try to run gulp jshint I get "Error: Cannot find module 'jshint/src/cli'" I've no idea what's causing this, which is why I'm asking here. Below are a couple of screen grabs to help with the issue. As always, I'm eternally grateful for any advice.

2015-11-29 15:38:11Z

So I've got a fresh install of El Capitan and I'm giving these task runners another go.I'm following sitepoint's An introduction to Gulp.js, but I'm stuck on step four, when I try to run gulp jshint I get "Error: Cannot find module 'jshint/src/cli'" I've no idea what's causing this, which is why I'm asking here. Below are a couple of screen grabs to help with the issue. As always, I'm eternally grateful for any advice.You need to install jshint as well, that will sort out the issue.It turns out I need to use npm install --save-dev jshint gulp-jshint instead of npm install gulp-jshint --save-dev as the tutorial stated. Discussion around this was found at https://github.com/spalger/gulp-jshint/issues/131 with massive thanks to @user3042437 for suppling the link.If you still get the error after you put in the correct syntax above,

(npm install --save-dev jshint gulp-jshint), which works.Before you run the install again, go into your package.json file and remove the lines for jshint and gulp-jshint before you run the install, make sure you edit you package.json to remove the lines that call jshint and gulp-jshint, otherwise, the error will persist.Sometimes the order of the phrasing does matter. I found out that this 

npm install --save-dev jshint gulp-jshint does not work but this npm install jshint gulp-jshint --save worksHere you target jshint, which you probably didn't install. (You do this in gulp.task('jshint', function() {.)Try this:This matches the way you required it. There is a temporary solution for bypassing this error. Even this temporary solution will also work properly, if in case you don't want to use jshint.js file in you application anywhere.

Underscore: sortBy() based on multiple attributes

Christian R

[Underscore: sortBy() based on multiple attributes](https://stackoverflow.com/questions/16426774/underscore-sortby-based-on-multiple-attributes)

I am trying to sort an array with objects based on multiple attributes. I.e if the first attribute is the same between two objects a second attribute should be used to comapare the two objects. For example, consider the following array:Sorting these by the roomNumber attribute i would use the following code:This works fine, but how do i proceed so that 'John' and 'Lisa' will be sorted properly?

2013-05-07 19:13:14Z

I am trying to sort an array with objects based on multiple attributes. I.e if the first attribute is the same between two objects a second attribute should be used to comapare the two objects. For example, consider the following array:Sorting these by the roomNumber attribute i would use the following code:This works fine, but how do i proceed so that 'John' and 'Lisa' will be sorted properly?sortBy says that it is a stable sort algorithm so you should be able to sort by your second property first, then sort again by your first property, like this:When the second sortBy finds that John and Lisa have the same room number it will keep them in the order it found them, which the first sortBy set to "Lisa, John".Here's a hacky trick I sometimes use in these cases: combine the properties in such a way that the result will be sortable:However, as I said, that's pretty hacky. To do this properly you'd probably want to actually use the core JavaScript sort method:Of course, this will sort your array in place. If you want a sorted copy (like _.sortBy would give you), clone the array first:Out of boredom, I just wrote a general solution (to sort by any arbitrary number of keys) for this as well: have a look.I know I'm late to the party, but I wanted to add this for those in need of a clean-er and quick-er solution that those already suggested.  You can chain sortBy calls in order of least important property to most important property.  In the code below I create a new array of patients sorted by Name within RoomNumber from the original array called patients. btw your initializer for patients is a bit weird, isn't it? 

why don't you initialize this variable as this -as a true array of objects-you can do it using _.flatten() and not as an array of arrays of single object, maybe it's typo issue):I sorted the list differently and add Kiko into Lisa's bed; just for fun and see what changes would be done...inspect sorted and you'll see thisso my answer is : use an array in your callback function

this is quite similar to Dan Tao's answer, I just forget the join (maybe because I removed the array of arrays of unique item :))

Using your data structure, then it would be :and a testload would be interesting...None of these answers are ideal as a general purpose method for using multiple fields in a sort. All of the approaches above are inefficient as they either require sorting the array multiple times (which, on a large enough list could slow things down a lot) or they generate huge amounts of garbage objects that the VM will need to cleanup (and ultimately slowing the program down). Here's a solution that is fast, efficient, easily allows reverse sorting, and can be used with underscore or lodash, or directly with Array.sortThe most important part is the compositeComparator method, which takes an array of comparator functions and returns a new composite comparator function.You'll also need a comparator function for comparing the fields you wish to sort on. The naturalSort function will create a comparator given a particular field. Writing a comparator for reverse sorting is trivial too.(All the code so far is reusable and could be kept in utility module, for example)Next, you need to create the composite comparator. For our example, it would look like this:This will sort by room number, followed by name. Adding additional sort criteria is trivial and does not affect the performance of the sort.Returns the followingThe reason I prefer this method is that it allows fast sorting on an arbitrary number of fields, does not generate a lot of garbage or perform string concatenation inside the sort and can easily be used so that some columns are reverse sorted while order columns use natural sort.Simple Example from http://janetriley.net/2014/12/sort-on-multiple-keys-with-underscores-sortby.html (courtesy of @MikeDevenney)CodeWith Your DataPerhaps underscore.js or just Javascript engines are different now than when these answers were written, but I was able to solve this by just returning an array of the sort keys.In action, please see this fiddle: https://jsfiddle.net/mikeular/xenu3u91/Just return an array of properties you want to sort with:ES6 SyntaxES5 SyntaxThis does not have any side effects of converting a number to a string.You could concatenate the properties you want to sort by in the iterator:or something equivalent.NOTE: Since you are converting the numeric attribute roomNumber to a string, you would have to  do something if you had room numbers > 10.  Otherwise 11 will come before 2.  You can pad with leading zeroes to solve the problem, i.e. 01 instead of 1.I think you'd better use _.orderBy instead of sortBy:If you happen to be using Angular, you can use its number filter in the html file rather than adding any JS or CSS handlers. For example:In that example, if val = 1234567, it will be displayed as Example and further guidance at:

https://docs.angularjs.org/api/ng/filter/number 

How do I pass multiple attributes into an Angular.js attribute directive?

Undistraction

[How do I pass multiple attributes into an Angular.js attribute directive?](https://stackoverflow.com/questions/16546771/how-do-i-pass-multiple-attributes-into-an-angular-js-attribute-directive)

I have an attribute directive restricted as follows:I need to pass in two attributes; a number and a function/callback, accessing them within the directive using the attrs object.If the directive was an element directive, restricted with "E" I could to this:However, for reasons I won't go into I need the directive to be an attribute directive.How do I pass multiple attributes into an attribute directive?

2013-05-14 15:08:07Z

I have an attribute directive restricted as follows:I need to pass in two attributes; a number and a function/callback, accessing them within the directive using the attrs object.If the directive was an element directive, restricted with "E" I could to this:However, for reasons I won't go into I need the directive to be an attribute directive.How do I pass multiple attributes into an attribute directive?The directive can access any attribute that is defined on the same element, even if the directive itself is not the element.Template:Directive:fiddleIf the value of attribute example-number will be hard-coded, I suggest using $eval once, and storing the value.  Variable num will have the correct type (a number).You do it exactly the same way as you would with an element directive. You will have them in the attrs object, my sample has them two-way binding via the isolate scope but that's not required. If you're using an isolated scope you can access the attributes with scope.$eval(attrs.sample) or simply scope.sample, but they may not be defined at linking depending on your situation.used as:You could pass an object as attribute and read it into the directive like this:This worked for me and I think is more HTML5 compliant.  You should change your html to use 'data-' prefixAnd within the directive read the variable's value:If you "require" 'exampleDirective' from another directive + your logic is in 'exampleDirective's' controller (let's say 'exampleCtrl'):  

jQuery: $().click(fn) vs. $().bind('click',fn);

Alan Storm

[jQuery: $().click(fn) vs. $().bind('click',fn);](https://stackoverflow.com/questions/518762/jquery-clickfn-vs-bindclick-fn)

When using jQuery to hookup an event handler, is there any difference between using the click methodversus using the bind methodOther than bind's optional data parameter.

2009-02-06 01:24:14Z

When using jQuery to hookup an event handler, is there any difference between using the click methodversus using the bind methodOther than bind's optional data parameter.For what it's worth, from the jQuery source:So no, there's no difference - calls+1 for Matthew's answer, but I thought I should mention that you can also bind more than one event handler in one go using bindwhich is the much cleaner equivalent to:There is one difference in that you can bind custom events using the second form that you have.  Otherwise, they seem to be synonymous.  See: jQuery Event DocsThere is the [data] parameter of bind which will occur only at bind-time, once.You can also specify custom events as the first parameter of bind.I find the .click() is way more logical, but I guess it's how you think of things.Seems to be about as dead simple as you get.If you have Google Chrome, their developer tools have an event listener tool, select the element you want to spy its' event.You'll find that trying the both ways lead to the same result, so they are equivalent.I prefer .bind() because of its interface consistency with .live(). Not only does it make the code more readable, but it makes it easier to change a line of code to use one method instead of the other. 

Javascript calculate the day of the year (1 - 366)

Alex Turpin

[Javascript calculate the day of the year (1 - 366)](https://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366)

How do I use javascript to calculate the day of the year, from 1 - 366?  For example: 

2011-12-23 19:25:55Z

How do I use javascript to calculate the day of the year, from 1 - 366?  For example: Following OP's edit:Edit: The code above will fail when now is a date in between march 26th and October 29th andnow's time is before 1AM (eg 00:59:59). This is due to the code not taking daylight savings time into account. You should compensate for this: This works across Daylight Savings Time changes in all countries (the "noon" one above doesn't work in Australia):I find it very interesting that no one considered using UTC since it is not subject to DST. Therefore, I propose the following:You can test it with the following:Which outputs for the leap year 2016 (verified using http://www.epochconverter.com/days/2016):Luckily this question doesn't specify if the number of the current day is required, leaving room for this answer.

Also some answers (also on other questions) had leap-year problems or used the Date-object. Although javascript's Date object covers approximately 285616 years (100,000,000 days) on either side of January 1 1970, I was fed up with all kinds of unexpected date inconsistencies across different browsers (most notably year 0 to 99). I was also curious how to calculate it.So I wrote a simple and above all, small algorithm to calculate the correct (Proleptic Gregorian / Astronomical / ISO 8601:2004 (clause 4.3.2.1), so year 0 exists and is a leap year and negative years are supported) day of the year based on year, month and day.

Note that in AD/BC notation, year 0 AD/BC does not exist: instead year 1 BC is the leap-year! IF you need to account for BC notation then simply subtract one year of the (otherwise positive) year-value first!!I modified (for javascript) the short-circuit bitmask-modulo leapYear algorithm and came up with a magic number to do a bit-wise lookup of offsets (that excludes jan and feb, thus needing 10 * 3 bits (30 bits is less than 31 bits, so we can safely save another character on the bitshift instead of >>>)).Note that neither month or day may be 0. That means that if you need this equation just for the current day (feeding it using .getMonth()) you just need to remove the -- from --m.Note this assumes a valid date (although error-checking is just some characters more).Here is the version with correct range-validation.     Again, one line, but I split it into 3 lines for readability (and following explanation).     The last line is identical to the function above, however the (identical) leapYear algorithm is moved to a previous short-circuit section (before the day-number calculation), because it is also needed to know how much days a month has in a given (leap) year.     The middle line calculates the correct offset number (for max number of days) for a given month in a given (leap)year using another magic number: since 31-28=3 and 3 is just 2 bits, then 12*2=24 bits, we can store all 12 months. Since addition can be faster then subtraction, we add the offset (instead of subtract it from 31). To avoid a leap-year decision-branch for February, we modify that magic lookup-number on the fly.That leaves us with the (pretty obvious) first line: it checks that month and date are within valid bounds and ensures us with a false return value on range error (note that this function also should not be able to return 0, because 1 jan 0000 is still day 1.), providing easy error-checking: if(r=dayNo(/*y, m, d*/)){}.

If used this way (where month and day may not be 0), then one can change --m>=0 && m<12 to m>0 && --m<12 (saving another char).

The reason I typed the snippet in it's current form is that for 0-based month values, one just needs to remove the -- from --m.Extra:

Note, don't use this day's per month algorithm if you need just max day's per month. In that case there is a more efficient algorithm (because we only need leepYear when the month is February) I posted as answer this question: What is the best way to determine the number of days in a month with javascript?.If you don't want to re-invent the wheel, you can use the excellent date-fns (node.js) library:Well, if I understand you correctly, you want 366 on a leap year, 365 otherwise, right? A year is a leap year if it's evenly divisible by 4 but not by 100 unless it's also divisible by 400:In that case, I don't think there's a built-in method; you'll need to do this:(Yes, I actually did that without copying or pasting. If there's an easy way I'll be mad)This is a simple way to find the current day in the year, and it should account for leap years without a problem:Javascript:Math.round((new Date().setHours(23) - new Date(new Date().getYear()+1900, 0, 1, 0, 0, 0))/1000/60/60/24);Javascript in Google Apps Script:Math.round((new Date().setHours(23) - new Date(new Date().getYear(), 0, 1, 0, 0, 0))/1000/60/60/24);The primary action of this code is to find the number of milliseconds that have elapsed in the current year and then convert this number into days. The number of milliseconds that have elapsed in the current year can be found by subtracting the number of milliseconds of the first second of the first day of the current year, which is obtained with new Date(new Date().getYear()+1900, 0, 1, 0, 0, 0) (Javascript) or new Date(new Date().getYear(), 0, 1, 0, 0, 0) (Google Apps Script), from the milliseconds of the 23rd hour of the current day, which was found with new Date().setHours(23). The purpose of setting the current date to the 23rd hour is to ensure that the day of year is rounded correctly by Math.round().Once you have the number of milliseconds of the current year, then you can convert this time into days by dividing by 1000 to convert milliseconds to seconds, then dividing by 60 to convert seconds to minutes, then dividing by 60 to convert minutes to hours, and finally dividing by 24 to convert hours to days.Note: This post was edited to account for differences between JavaScript and JavaScript implemented in Google Apps Script. Also, more context was added for the answer.This method takes into account timezone issue and daylight saving time(took from here)See also this fiddleI think this is more straightforward: Math.round((new Date().setHours(23) - new Date(new Date().getFullYear(), 0, 1, 0, 0, 0))/1000/86400);further optimizes the answer.Moreover, by changing setHours(23) or the last-but-two zero later on to another value may provide day-of-year related to another timezone.

For example, to retrieve from Europe a resource located in America.this is my solutionI've made one that's readable and will do the trick very quickly, as well as handle JS Date objects with disparate time zones.I've included quite a few test cases for time zones, DST, leap seconds and Leap years.P.S. ECMA-262 ignores leap seconds, unlike UTC. If you were to convert this to a language that uses real UTC, you could just add 1 to oneDay.I would like to provide a solution that does calculations adding the days for each previous month:This way you don't have to manage the details of leap years and daylight saving.A alternative using UTC timestamps. Also as others noted the day indicating 1st a month is 1 rather than 0. The month starts at 0 however. You can pass parameter as date number in setDate function:This might be useful to those who need the day of the year as a string and have jQuery UI available. You can use jQuery UI Datepicker:Underneath it works the same way as some of the answers already mentioned ((date_ms - first_date_of_year_ms) / ms_per_day):For those among us who want a fast alternative solution.The size of the months of the year and the way that Leap Years work fits perfectly into keeping our time on track with the sun. Heck, it works so perfectly that all we ever do is just adjust mere seconds here and there. Our current system of leap years has been in effect since February 24th, 1582, and will likely stay in effect for the foreseeable future.DST, however, is very subject to change. It may be that 20 years from now, some country may offset time by a whole day or some other extreme for DST. A whole DST day will almost certainly never happen, but DST is still nevertheless very up-in-the-air and indecisive. Thus, the above solution is future proof in addition to being very very fast.The above code snippet runs very fast. My computer can process 65536 dates in ~52ms on Chrome.It always get's me worried when mixing maths with date functions (it's so easy to miss some leap year other detail). Say you have:I would suggest using the following, days will be saved in day:Can't see any reason why this wouldn't work just fine (and I wouldn't be so worried about the few iterations since this will not be used so intensively)./*USE THIS SCRIPT */

How to add external JS scripts to VueJS Components

Gijo Varghese

[How to add external JS scripts to VueJS Components](https://stackoverflow.com/questions/45047126/how-to-add-external-js-scripts-to-vuejs-components)

I've to use two external scripts for the payment gateways. Right now both are put in the index.html file. However, I don't want to load these files at the beginning itself. The payment gateway is needed only in when user open a specific component (using router-view). Is there anyway to achieve this?

2017-07-12 02:02:01Z

I've to use two external scripts for the payment gateways. Right now both are put in the index.html file. However, I don't want to load these files at the beginning itself. The payment gateway is needed only in when user open a specific component (using router-view). Is there anyway to achieve this?A simple and effective way to solve this, it's by adding your external script into the vue mounted() of your component. I will illustrate you with the Google Recaptcha script:Source: https://medium.com/@lassiuosukainen/how-to-include-a-script-tag-on-a-vue-component-fe10940af9e8using webpack and vue loader you can do something like thisit waits for the external script to load before creating the component, so globar vars etc are available in the componentI have downloaded some HTML template that comes with custom js files and jquery. I had to attach those js to my app. and continue with Vue. Found this plugin, it's a clean way to add external scripts both via CDN and from static files

https://www.npmjs.com/package/vue-plugin-load-scriptAre you using one of the Webpack starter templates for vue (https://github.com/vuejs-templates/webpack)? It already comes set up with vue-loader (https://github.com/vuejs/vue-loader). If you're not using a starter template, you have to set up webpack and vue-loader.You can then import your scripts to the relevant (single file) components. Before that, you have toexport from your scripts what you want to import to your components. ES6 import:

- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import

- http://exploringjs.com/es6/ch_modules.html~Edit~

You can import from these wrappers:

- https://github.com/matfish2/vue-stripe

- https://github.com/khoanguyen96/vue-paypal-checkout  You can use the vue-head package to add scripts, and other tags to the head of your vue component.Its as simple as:Check out this link for more examples.You can load the script you need with a promise based solution:Please note that this.$root is a little hacky and you should use a vuex or eventHub solution for the global events instead.You would make the above into a component and use it wherever needed, it will only load the script when used.You can use vue-loader and code your components in their own files (Single file components).  This will allow you to include scripts and css on a component basis.The top answer of create  tag in mounted is good, but it has some problems: If you change your link multiple times, it will repeat create tag over and over.So I created a script to resolve this, and you can delete the tag if you want.It's very simple, but can save your time to create it by yourself.And you can use it like this:If you are trying to embed external js scripts to the vue.js component template, follow below:And Vue showed me this error:Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as , as they will not be parsed.<script type="application/javascript" defer src="..."></script>You may notice the defer attribute. If you want to learn more watch this video by KyleTo keep clean components you can use mixins.On your component import external mixin file.This can be simply done like this. 

Replace a value if null or undefined in JavaScript

Valentin Vasilyev

[Replace a value if null or undefined in JavaScript](https://stackoverflow.com/questions/1011317/replace-a-value-if-null-or-undefined-in-javascript)

I have a requirement to apply the ?? C# operator to JavaScript and I don't know how.

Consider this in C#:Now I have this set up in JavaScript:How do I do it correctly?Thanks.EDIT: I spotted half of the problem: I can't use the 'indexer' notation to objects (my_object[0]). Is there a way to bypass it? (I don't know the names of the filters properties beforehand and don't want to iterate over them).

2009-06-18 07:44:45Z

I have a requirement to apply the ?? C# operator to JavaScript and I don't know how.

Consider this in C#:Now I have this set up in JavaScript:How do I do it correctly?Thanks.EDIT: I spotted half of the problem: I can't use the 'indexer' notation to objects (my_object[0]). Is there a way to bypass it? (I don't know the names of the filters properties beforehand and don't want to iterate over them).Here’s the JavaScript equivalent:Note that the logical operator || does not return a boolean value but the first value that can be converted to true.Additionally use an array of objects instead of one single object:That can be accessed by index.No; an object literal, as the name implies, is an object, and not an array, so you cannot simply retrieve a property based on an index, since there is no specific order of their properties. The only way to retrieve their values is by using the specific name:Or by iterating over them using the for ... in loop:

Determine if ajax call failed due to insecure response or connection refused

taxicala

[Determine if ajax call failed due to insecure response or connection refused](https://stackoverflow.com/questions/31058764/determine-if-ajax-call-failed-due-to-insecure-response-or-connection-refused)

I've been doing a lot of research and could not find a way to handle this. I'm trying to perform a jQuery ajax call from an https server to a locahost https server running jetty with a custom self signed certificate. My problem is that I cannot determine whether the response is a connection refused or a insecure response (due to the lack of the certificate acceptance). Is there a way to determine the difference between both scenarios? The responseText, and statusCode are always the same in both cases, even though in the chrome console I can see a difference:responseText is always "" and statusCode is always "0" for both cases.My question is, how can I determine if a jQuery ajax call failed due to ERR_INSECURE_RESPONSE or due to ERR_CONNECTION_REFUSED?Once the certificate is accepted everything works fine, but I want to know whether the localhost server is shut down, or its up and running but the certificate has not yet been accepted.Even performing manually the request I get the same result:

2015-06-25 19:07:18Z

I've been doing a lot of research and could not find a way to handle this. I'm trying to perform a jQuery ajax call from an https server to a locahost https server running jetty with a custom self signed certificate. My problem is that I cannot determine whether the response is a connection refused or a insecure response (due to the lack of the certificate acceptance). Is there a way to determine the difference between both scenarios? The responseText, and statusCode are always the same in both cases, even though in the chrome console I can see a difference:responseText is always "" and statusCode is always "0" for both cases.My question is, how can I determine if a jQuery ajax call failed due to ERR_INSECURE_RESPONSE or due to ERR_CONNECTION_REFUSED?Once the certificate is accepted everything works fine, but I want to know whether the localhost server is shut down, or its up and running but the certificate has not yet been accepted.Even performing manually the request I get the same result:

There is no way to differentiate it from newest Web Browsers.

W3C Specification:As you can read, network errors does not include HTTP response that include errors, that is why you will get always 0 as status code, and "" as error.SourceNote: The following examples were made using Google Chrome Version 43.0.2357.130 and  against an environment that I've created to emulate OP one. Code to the set it up is at the bottom of the answer.I though that an approach To work around this would be make a secondary request over HTTP instead of HTTPS as This answer but I've remembered that is not possible due that newer versions of browsers block mixed content.That means that the Web Browser will not allow a request over HTTP if you are using HTTPS and vice versa.This has been like this since few years ago but older Web Browser versions like Mozilla Firefox below it versions 23 allow it.Evidence about it:Making a HTTP request from HTTPS usign Web Broser consolewill result in the following error: Same error will appear in the browser console if you try to do this in other ways as adding an Iframe. Using Socket connection was also Posted as an answer, I was pretty sure that the result will be the same / similar but I've give it a try.Trying to Open a socket connection from the Web Broswer using HTTPS to a non Secure socket endpoint will end in mixed content errors.Then I've tried to connect to a wss endpoint too see If I could read some information about network connection errors:Executing snippet above with Server turned off results in: Executing snippet above with Server turned OnBut again, the error that the "onerror function" output to the console have not any tip to differentiate one error of the other.Using a proxy as this answer suggest could work but only if the "target" server has public access.This was not the case here, so trying to implement a proxy in this scenario will lead Us to the same problem. Code to create Node.js HTTPS server:I've created two Nodejs HTTPS servers, that use self signed certificates:targetServer.js: applicationServer.js:To make it work you need to have Nodejs Installed, Need to generate separated certificates for each server and store it in the folders certs and certs2 accordingly.To Run it just execute node applicationServer.js and node targetServer.js in a terminal (ubuntu example).As of now: There is no way to differentiate this event between browers. As the browsers do not provide an event for developers to access. (July 2015)This answer merely seeks to provide ideas for a potential, albiet hacky and incomplete, solution.Disclaimer: this answer is incomplete as it doesn't completely solve OP's issues (due to cross-origin policies). However  the idea itself does has some merit that is further expanded upon by: @artur grzesiak here, using a proxy and ajax. After quite a bit of research myself, there doesn't seem to be any form of error checking for the difference between connection refused and an insecure response, at least as far as javascript providing a response for the difference between the two.The general consensus of my research being that SSL certificates are handled by the browser, so until a self-signed certificate is accepted by the user, the browser locks down all requests, including those for a status code. The browser could (if coded to) send back it's own status code for an insecure response, but that doesn't really help anything, and even then, you'd have issues with browser compatibility (chrome/firefox/IE having different standards... once again)Since your original question was for checking the status of your server between being up versus having an unaccepted certificate, could you not make a standard HTTP request like so?Granted this does require an extra request to verify server connectivity, but it should get the job done by process of elimination. Still feels hacky though, and I'm not a big fan of the doubled request.@Schultzie's answer is pretty close, but clearly http - in general - will not work from https in the browser environment.What you can do though is to use an intermediate server (proxy) to make the request on your behalf. The proxy should allow either to forward http request from https origin or to load content from self-signed origins. Having your own server with proper certificate is probably an overkill in your case -- as you could use this setting instead of the machine with self-signed certificate -- but there is a plenty of anonymous open proxy services out there.So two approaches that come to my mind are:If you are only interested in your local environment you can try to run chrome with --disable-web-security flag.Another suggestion: did you try to load an image programatically to find out if more info is present there?Check out jQuery.ajaxError()

Taken reference from : jQuery AJAX Error Handling (HTTP Status Codes)

It catches global Ajax errors which you can handle in any number of ways over HTTP or HTTPS:Unfortunately the present-day browser XHR API does not provide an explicit indication for when the browser refuses to connect due to an "insecure response", and also when it does not trust the website's HTTP/SSL certificate.But there are ways around this problem.One solution I came up with to determine when the browser does not trust the HTTP/SSL certificate, is to first detect if an XHR error has occurred (using the jQuery error() callback for instance), then check if the XHR call is to an 'https://' URL, and then check if the XHR readyState is 0, which means that the XHR connection has not even been opened (which is what happens when the browser does not like the certificate).Here's the code where I do this:

https://github.com/maratbn/RainbowPayPress/blob/e9e9472a36ced747a0f9e5ca9fa7d96959aeaf8a/rainbowpaypress/js/le_requirejs/public/model_info__transaction_details.js#L88I don't think there's currently a way to detect these error messages, but a hack that you can do is to use a server like nginx in front of your application server, so that if the application server is down you'll get a bad gateway error from nginx with 502 status code which you can detect in JS. Otherwise, if the certificate is invalid you'll still get the same generic error with statusCode = 0.

How to disable paste protection in Mozilla Firefox Developer Console?

Ms01

[How to disable paste protection in Mozilla Firefox Developer Console?](https://stackoverflow.com/questions/26596858/how-to-disable-paste-protection-in-mozilla-firefox-developer-console)

I have noticed that in recent versions of Mozilla Firefox there is a super, super annoying bug that disables pastes into the developer console. This has to be the single worst idea ever.However, I have tried to allow it by typing in the text that it wants me to but I can still not paste in stuff and I think I'm soon going to be so annoyed that I have to switch browser since I use the developer console every day. I really like Mozilla and Firefox and do not want to switch for such a silly thing.So how to turn off this crappy "feature" for good? I really hope there is a setting but I can't find one. If not I guess I'll have to open a bug ticket for it.My firefox version is: 32.0.3If any Firefox developer sees this, please stop implementing features that makes developers go mad. No non-developer is in that developer console anyway and if they get tricked into pasting something there it is not your fault.

2014-10-27 21:07:42Z

I have noticed that in recent versions of Mozilla Firefox there is a super, super annoying bug that disables pastes into the developer console. This has to be the single worst idea ever.However, I have tried to allow it by typing in the text that it wants me to but I can still not paste in stuff and I think I'm soon going to be so annoyed that I have to switch browser since I use the developer console every day. I really like Mozilla and Firefox and do not want to switch for such a silly thing.So how to turn off this crappy "feature" for good? I really hope there is a setting but I can't find one. If not I guess I'll have to open a bug ticket for it.My firefox version is: 32.0.3If any Firefox developer sees this, please stop implementing features that makes developers go mad. No non-developer is in that developer console anyway and if they get tricked into pasting something there it is not your fault.https://bugzilla.mozilla.org/show_bug.cgi?id=994134#c82This settings can be changed on page about:config.The Same solution is provided by Mozilla when we try to paste.Hope this will help you.I'm running E2E Tests with Protractor on Firefox on OS X. Each time I run my tests I have a「fresh」browser instance and get totally annoyed when I open the dev tools and try pasting something. BetterTouchTool to the Rescue!

How to get the raw value an <input type=「number」> field?

Ian Boyd

[How to get the raw value an <input type=「number」> field?](https://stackoverflow.com/questions/18852244/how-to-get-the-raw-value-an-input-type-number-field)

How can i get the "real" value of an <input type="number"> field?I have an input box, and i'm using newer HTML5 input type number:This is mostly supported in Chrome 29:What i now need is the ability to read the "raw" value the user has entered in the input box. If the user has entered a number:then edQuantity.value = 4, and all is well.But if the user enters invalid text, i want to color the input-box red:Unfortunately, for a type="number" input box, if the value in the text-box is not a number then value returns an empty string:(in Chrome 29 at least)How can i get the "raw" value of an <input type="number"> control?i tried looking through Chrome's list of other properties of the input box:i didn't see anything that resembles the actual input.Nor could i find a way to tell if the box "is empty", or not. Maybe i could have inferred:Note: You can ignore everything after the horizontal rule; it's just filler to justify the question. Also: don't confuse the example with the question. People might want the answer to this question for reasons other than coloring the box red (One example: converting the text "four" into the latin "4" symbol during the onBlur event)How can i get the "raw" value of an <input type="number"> control?

2013-09-17 14:10:53Z

How can i get the "real" value of an <input type="number"> field?I have an input box, and i'm using newer HTML5 input type number:This is mostly supported in Chrome 29:What i now need is the ability to read the "raw" value the user has entered in the input box. If the user has entered a number:then edQuantity.value = 4, and all is well.But if the user enters invalid text, i want to color the input-box red:Unfortunately, for a type="number" input box, if the value in the text-box is not a number then value returns an empty string:(in Chrome 29 at least)How can i get the "raw" value of an <input type="number"> control?i tried looking through Chrome's list of other properties of the input box:i didn't see anything that resembles the actual input.Nor could i find a way to tell if the box "is empty", or not. Maybe i could have inferred:Note: You can ignore everything after the horizontal rule; it's just filler to justify the question. Also: don't confuse the example with the question. People might want the answer to this question for reasons other than coloring the box red (One example: converting the text "four" into the latin "4" symbol during the onBlur event)How can i get the "raw" value of an <input type="number"> control?According to the WHATWG, you shouldn't be able to get the value unless it's valid numeric input. The input number field's sanitization algorithm says the browser is supposed to set the value to an empty string if the input isn't a valid floating point number.By specifying the type (<input type="number">) you're asking the browser to do some work for you. If, on the other hand, you'd like to be able to capture the non-numeric input and do something with it, you'd have to rely on the old tried and true text input field and parse the content  yourself.The W3 also has the same specs and adds:It doesn't answer the question, but the useful workaround is to checkThe ValidityState of an object gives clues about what the user entered. Consider a type="number" input with a min and max setWe always want to use .validity.valid. Other properties only give bonus information:You'll have to ensure that the the browser supports HTML5 validation before using it:Spudly has a useful answer that he deleted:Track all pressed keys based on their key codesI suppose one could listen to the keyup events and keep an array of all characters entered, based on their keycodes. But it's a pretty tedious task and probably prone to bugs.http://unixpapa.com/js/key.htmlSelect the input and get the selection as a stringAll credit to: int32_t

Why is there a `null` value in JavaScript?

Christoph

[Why is there a `null` value in JavaScript?](https://stackoverflow.com/questions/461966/why-is-there-a-null-value-in-javascript)

In JavaScript, there are two values which basically say 'I don't exist' - undefined and null.A property to which a programmer has not assigned anything will be undefined, but in order for a property to become null, null must be explicitly assigned to it.I once thought that there was a need for null because undefined is a primitive value and null an object. It's not, even if typeof null will yield 'object': Actually, both are primitive values - which means neither undefined nor null can be returned from a constructor function, as both will be converted to an empty object (one has to throw an error to proclaim failure in constructors).They also both evaluate to false in boolean contexts. The only real difference I can think of is that one evaluates to NaN, the other to 0 in numeric contexts.So why is there both undefined and null if this just confuses programmers who are incorrectly checking for null when trying to find out whether a property has been set or not?What I'd like to know is if anyone has a reasonable example where it's necessary to use null which couldn't be expressed using undefined instead.So the general consensus seems to be that undefined means 'there is no such property' while null means 'the property does exist, but holds no value'.I could live with that if JavaScript implementations would actually enforce this behavior - but undefined is a perfectly valid primitive value, so it can easily be assigned to existing properties to break this contract. Therefore, if you want to make sure if a property exists, you have to use the in operator or hasOwnProperty() anyway. So once again: what's the practical use for separate values for undefined and null?I actually use undefined when I want to unset the values of properties no longer in use but which I don't want to delete. Should I use null instead?

2009-01-20 16:12:46Z

In JavaScript, there are two values which basically say 'I don't exist' - undefined and null.A property to which a programmer has not assigned anything will be undefined, but in order for a property to become null, null must be explicitly assigned to it.I once thought that there was a need for null because undefined is a primitive value and null an object. It's not, even if typeof null will yield 'object': Actually, both are primitive values - which means neither undefined nor null can be returned from a constructor function, as both will be converted to an empty object (one has to throw an error to proclaim failure in constructors).They also both evaluate to false in boolean contexts. The only real difference I can think of is that one evaluates to NaN, the other to 0 in numeric contexts.So why is there both undefined and null if this just confuses programmers who are incorrectly checking for null when trying to find out whether a property has been set or not?What I'd like to know is if anyone has a reasonable example where it's necessary to use null which couldn't be expressed using undefined instead.So the general consensus seems to be that undefined means 'there is no such property' while null means 'the property does exist, but holds no value'.I could live with that if JavaScript implementations would actually enforce this behavior - but undefined is a perfectly valid primitive value, so it can easily be assigned to existing properties to break this contract. Therefore, if you want to make sure if a property exists, you have to use the in operator or hasOwnProperty() anyway. So once again: what's the practical use for separate values for undefined and null?I actually use undefined when I want to unset the values of properties no longer in use but which I don't want to delete. Should I use null instead?The question isn't really "why is there a null value in JS" - there is a null value of some sort in most languages and it is generally considered very useful.The question is, "why is there an undefined value in JS". Major places where it is used:'null' would certainly have worked just as well for (1) and (2)*. (3) should really throw an exception straight away, and the fact that it doesn't, instead returning this weird 'undefined' that will fail later, is a big source of debugging difficulty.*: you could also argue that (2) should throw an exception, but then you'd have to provide a better, more explicit mechanism for default/variable arguments.However JavaScript didn't originally have exceptions, or any way to ask an object if it had a member under a certain name - the only way was (and sometimes still is) to access the member and see what you get. Given that 'null' already had a purpose and you might well want to set a member to it, a different out-of-band value was required. So we have 'undefined', it's problematic as you point out, and it's another great JavaScript 'feature' we'll never be able to get rid of.Yes. Keep 'undefined' as a special value for signalling when other languages might throw an exception instead.'null' is generally better, except on some IE DOM interfaces where setting something to 'null' can give you an error. Often in this case setting to the empty string tends to work.Best described here, but in summary:undefined is the lack of a type and value, and null is the lack of a value.Furthermore, if you're doing simple '==' comparisons, you're right, they come out the same.  But try ===, which compares both type and value, and you'll notice the difference.I don't think there's any reason to have both null and undefined, because the only reason many people have suggested ("undefined means there's no such variable/property") is not valid, at least in JavaScript. undefined can't tell you whether the variable/property exists or not.As you can see, checking foo === undefined does not tell you whether foo exists, and setting obj.bar = undefined does not actually delete bar.It may be the JavaScript author's original intent that undefined should represent "nonexistence". However, the implementation didn't turn out that way.It is entirely possible to need both. For instance if you query WMI it is entirely possible to have a class return properties that have a null value. They are defined, they just happen to hold null at the time.I think that your conclusion that JavaScript defines undefined as "there is no such property" and null as "the property has no value" is perfectly correct. And in a language as dynamic as JavaScript it is a very important distinction. The use of duck typing means that we need to be able to differentiate between a property not existing and not having a value. It is our primary means of deriving type information. in a statically typed language there is a definite distinction between a field being null and a field not existing. In JavaScript this is no different. However it is checked at runtime, and can be modified up until that time.I'm going to have to agree that the implementation is strange as a lot of time the distinction is blurred. However I think that in JavaScript the distinction is important. And being able to assign undefined is essential.I remember reading a blog post a while ago about an online RPG written in JavaScript. It used examples where objects were created as copies of existing instances rather than prototypes (classes, functions, whatever), and were then altered. This really made me understand how powerful that undefined could be when modifying existing objects, but I cannot remember who wrote it.Semantically they mean different things.  The type null has exactly one value in its domain, null and a property may be assigned this specific value. Undefined represents a distinct lack of any value having been assigned.As a Java programmer, I see a huge difference between undefined and null. Coding JavaScript, not so much, because JavaScript is not strongly typed, and the differences between undefined and null are blurred by the automatic conversions that are frequently performed by run-time. BTW, I take frequent advantage of those conversions; they make my JS code more compact and readable.To answer your question, undefined means that a value was never set. Practically speaking, this generally points to a bug. If yourObject.property is undefined, that means you didn't set the property for some reason, or I'm looking for something that doesn't exist at all. This is a real issue when working on a project with more than one coder.null means that "no value" was explicitly set. Practically speaking, you are telling me something about the property, perhaps that it isn't used in this context, or that a value has yet to be determined.In Java, attempts to access a field that is undefined will always result in an exception. In fact, the compiler can be made to warn you about this in your code.Try this example:I think that there is a very real use for 2 different types here.What it comes down to is javascripts dynamic nature. Things may be undefined so that they can be added at a later point. This is arguably why javascript is so powerful and extensible.it's an important language feature if you wrap your program around the evented paradigm of javascript.this is very useful if you are dealing with a set of data that needs a value to represent 'nothing' to indicate some action different from using 'nothing' to indicate the default action.in the above code the null keyword and the undefined server very clear and different purposes. the lookup that is not found in the filter_func_pt object which returns undefined means to add the property to the return object as is, whereas a null value indicates that the value should be withheld, and not added, and the presence of any true value in this case represents a function used to transform the value before adding it to the ret object.as are all other Types of Live Script.Why would you want to say incorrect things?!"null" is "empty Object" just like "0" is an "empty Number". 

0, is nothing -yet it exists as a Type of a Number thing.

null is of course also empty but "it is" and it's a well defined thing of an Object Type.It common to speak of these thing as of "types", when they are not. In fact they are "categories". But that's over now. So will stick to it to say that "null" is a Type of Object without a Kind. 

And "null" says "I very much exist[!], but I don't have content of my kind".Whereas undefined lacks both the Type and the Kind where undefined happens to also be its Type definition. An undefined type of a type becomes its distinctive typology.

A sort of a [does "nothing" exist and how do you define "nothing"?] question.You've managed to once again say an incorrect thing. Of course not, the "undefined" is not an Object, its a plain Token which we humans understand; but contrary to that null is - and it's telling you that: its Type is correct, but the Kind you are looking for is not contained within it, or at least -not at this time. Come visit us later when we put\assign some object in\to it.That makes the whole point of their core distinction, as mentioned: undefined is a plain token and since it is made up of the same 'genetic' material as its distant relatives: strings, the [ +undefined ] operation will duck-convert it to NaN, similarly null will of course morph itself into a correct kind  0 \Number instead, and as opposed to undefined that will morph into a string (!which is not empty!) and that's exactly why it yields NaN instead. Where: +undefined >> +"undefined" >> NaN. Since numeric context expects explicit value.While the Boolean context expects reference - finds nothing to convert and yields 'false'.Let's cut through now... I will try to give you only two empirical examples and hope to suffice//means -the property exists; its expected value is of Type: Object, and that oElement supports the "onclick" event!//means - the property exists; its expected value is of Type: String, which means that oElement supports the "innerText" property.on both cases -if you receive "undefined" it means that the property doesn't exist; is not supported or has a wrong (ua vendor) implementation.Stay frost and have fun.after reading amazing discussion regarding undefined vs null, little search on google took me to Mozilla Documentations

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null

it is mentioned -

null is often retrieved in a place where an object can be expected but no object is relevant. Isn't is similar to Null object pattern

https://en.wikipedia.org/wiki/Null_object_patternSo i guess this make sense to have Null data type.Documentation also mentioned as 

typeof null          // "object" (not "null" for legacy reasons)Not sure what legacy reasons are

Extending Angular Directive

Kyle

[Extending Angular Directive](https://stackoverflow.com/questions/17005122/extending-angular-directive)

I'd like to make a minor modification to a 3rd party directive (specifically Angular UI Bootstrap).  I simply want to add to the scope of the pane directive:But I also want to keep Angular-Bootstrap up to date with Bower.  As soon as I run bower update, I'll overwrite my changes.So how do I go about extending this directive separately from this bower component?

2013-06-09 00:00:06Z

I'd like to make a minor modification to a 3rd party directive (specifically Angular UI Bootstrap).  I simply want to add to the scope of the pane directive:But I also want to keep Angular-Bootstrap up to date with Bower.  As soon as I run bower update, I'll overwrite my changes.So how do I go about extending this directive separately from this bower component?Probably the simplest way to solve this is to create a directive on your app with the same name as the third party directive.  Both directives will run and you can specify their run order using the priority property (higher priority runs first).The two directives will share scope and you can access and modify the scope of the third party directive via your directive's link method.Option 2: You can also access a third party directive's scope by simply putting your own arbitrarily named directive on the same element with it (assuming neither directive uses isolate scope). All non-isolate scope directives on an element will share scope.Further Reading: https://github.com/angular/angular.js/wiki/Dev-Guide%3A-Understanding-DirectivesNote: My previous answer was for modifying a third party service, not a directive.TL;DR - gimme tha demo!     Big Demo Button      Use $provide's decorator() to, well, decorate the third party's directive.In our case, we can extend the directive's scope like so:First, we request to decorate the pane directive by passing its name, concatenated with Directive as the first argument, then we retrieve it from the callback parameter (which is an array of directives matching that name).Once we got it, we can obtain its scope object and extend it as needed. Notice that all of this has to be done in the config block.While this is not the direct answer to your question you might want to know that the latest version (in master) of http://angular-ui.github.io/bootstrap/ added support for disabling tabs. This feature was added through:

https://github.com/angular-ui/bootstrap/commit/2b78dd16abd7e09846fa484331b5c35ece6619a2Another solution where you create a new directive that extends it without modifying the original directiveThe solution is similar to the decorator solution:Create a new directive and inject as dependency the directive you wish to extendThis way you can use the original directive and the extended version in the same appHere is another solution for a different scenario of extending bindings to a directive that has the bindToController property.Note: this is not an alternative to other solutions that were offered here. It solves only a specific case (not covered in other answers) where the original directive was set-up with bindToController.

How to clear/remove observable bindings in Knockout.js?

awj

[How to clear/remove observable bindings in Knockout.js?](https://stackoverflow.com/questions/10048485/how-to-clear-remove-observable-bindings-in-knockout-js)

I'm building functionality onto a webpage which the user can perform multiple times. Through the user's action, an object/model is created and applied to HTML using ko.applyBindings().The data-bound HTML is created through jQuery templates.So far so good.When I repeat this step by creating a second object/model and call ko.applyBindings() I encounter two problems:To get around this problem, after the first pass I call jQuery's .empty() to remove the templated HTML which contains all the data-bind attributes, so that it's no longer in the DOM. When the user starts the process for the second pass the data-bound HTML is re-added to the DOM.But like I said, when the HTML is re-added to the DOM and re-bound to the new object/model, it still includes data from the the first object/model, and I still get the JS error which doesn't occur during the first pass.The conclusion appears to be that Knockout is holding on to these bound properties, even though the markup is removed from the DOM.So what I'm looking for is a means of removing these bound properties from Knockout; telling knockout that there is no longer an observable model. Is there a way to do this?EDITThe basic process is that the user uploads a file; the server then responds with a JSON object, the data-bound HTML is added to the DOM, then the JSON object model is bound to this HTML usingOnce the user has made some selections on the model, the same object is posted back to the server, the data-bound HTML is removed from then DOM, and I then have the following JSWhen the user wishes to do this once more, all these steps are repeated.I'm afraid the code is too 'involved' to do a jsFiddle demo.

2012-04-06 19:46:42Z

I'm building functionality onto a webpage which the user can perform multiple times. Through the user's action, an object/model is created and applied to HTML using ko.applyBindings().The data-bound HTML is created through jQuery templates.So far so good.When I repeat this step by creating a second object/model and call ko.applyBindings() I encounter two problems:To get around this problem, after the first pass I call jQuery's .empty() to remove the templated HTML which contains all the data-bind attributes, so that it's no longer in the DOM. When the user starts the process for the second pass the data-bound HTML is re-added to the DOM.But like I said, when the HTML is re-added to the DOM and re-bound to the new object/model, it still includes data from the the first object/model, and I still get the JS error which doesn't occur during the first pass.The conclusion appears to be that Knockout is holding on to these bound properties, even though the markup is removed from the DOM.So what I'm looking for is a means of removing these bound properties from Knockout; telling knockout that there is no longer an observable model. Is there a way to do this?EDITThe basic process is that the user uploads a file; the server then responds with a JSON object, the data-bound HTML is added to the DOM, then the JSON object model is bound to this HTML usingOnce the user has made some selections on the model, the same object is posted back to the server, the data-bound HTML is removed from then DOM, and I then have the following JSWhen the user wishes to do this once more, all these steps are repeated.I'm afraid the code is too 'involved' to do a jsFiddle demo.Have you tried calling knockout's clean node method on your DOM element to dispose of the in memory bound objects?Then applying the knockout bindings again on just that element with your new view models would update your view binding.For a project I'm working on, I wrote a simple ko.unapplyBindings function that accepts a jQuery node and the remove boolean.  It first unbinds all jQuery events as ko.cleanNode method doesn't take care of that. I've tested for memory leaks, and it appears to work just fine.You could try using the with binding that knockout offers:

http://knockoutjs.com/documentation/with-binding.html

The idea is to use apply bindings once, and whenever your data changes, just update your model.Lets say you have a top level view model storeViewModel, your cart represented by cartViewModel,

and a list of items in that cart - say cartItemsViewModel.You would bind the top level model - the storeViewModel to the whole page. Then, you could separate the parts of your page that are responsible for cart or cart items.Lets assume that the cartItemsViewModel has the following structure:The cartItemsViewModel can be empty at the beginning.The steps would look like this:If you would like to clear the cart items:

    storeViewModel.cartItemsViewModel(null);Knockout will take care of html - i.e. it will appear when model is not empty and the contents of div (the one with the "with binding") will disappear.I have to call ko.applyBinding each time search button click, and filtered data is return from server, and in this case following work for me without using ko.cleanNode.I experienced, if we replace foreach with template then it should work fine in case of collections/observableArray.You may find this scenario useful.Instead of using KO's internal functions and dealing with JQuery's blanket event handler removal, a much better idea is using with or template bindings. When you do this, ko re-creates that part of DOM and so it automatically gets cleaned. This is also recommended way, see here: https://stackoverflow.com/a/15069509/207661.I think it might be better to keep the binding the entire time, and simply update the data associated with it. I ran into this issue, and found that just calling using the .resetAll() method on the array in which I was keeping my data was the most effective way to do this. Basically you can start with some global var which contains data to be rendered via the ViewModel:It took me a while to realize I couldn't just make myLiveData a normal array -- the ko.oberservableArray part was important. Then you can go ahead and do whatever you want to myLiveData. For instance, make a $.getJSON call:Once you've done this, you can go ahead and apply bindings using your ViewModel as usual:Then in the HTML just use myData as you normally would. This way, you can just muck with myLiveData from whichever function. For instance, if you want to update every few seconds, just wrap that $.getJSON line in a function and call setInterval on it. You'll never need to remove the binding as long as you remember to keep the myLiveData.removeAll(); line in. Unless your data is really huge, user's won't even be able to notice the time in between resetting the array and then adding the most-current data back in. I had a memory leak problem recently and ko.cleanNode(element); wouldn't do it for me -ko.removeNode(element); did. Javascript + Knockout.js memory leak - How to make sure object is being destroyed?Have you thought about this:I came up with this because in Knockout, i found this codeSo to me its not really an issue that its already bound, its that the error was not caught and dealt with...I have found that if the view model contains many div bindings the best way to clear the ko.applyBindings(new someModelView); is to use: ko.cleanNode($("body")[0]); This allows you to call a new ko.applyBindings(new someModelView2); dynamically without the worry of the previous view model still being binded. 

How can I validate google reCAPTCHA v2 using javascript/jQuery?

Mahatma Aladdin

[How can I validate google reCAPTCHA v2 using javascript/jQuery?](https://stackoverflow.com/questions/27902539/how-can-i-validate-google-recaptcha-v2-using-javascript-jquery)

I have a simple contact form in aspx.

I want to validate the reCaptcha (client-side) before submitting the form.

Please help.Sample code:I want to validate the captcha on cmdSubmit click.Please help.

2015-01-12 12:56:52Z

I have a simple contact form in aspx.

I want to validate the reCaptcha (client-side) before submitting the form.

Please help.Sample code:I want to validate the captcha on cmdSubmit click.Please help.This Client side verification of reCaptcha - the following worked for me :if reCaptcha is not validated on client side grecaptcha.getResponse(); returns null, else is returns a value other than null.Javascript Code: Use this to validate google captcha with simple javascript.This code at the html body:This code put at head section on call get_action(this) method form button:Simplified Paul's answer:Source:HTML:JS:If you render the Recaptcha on a callbackusing an empty DIV as a placeholderthen you can specify an optional function call on a successful CAPTCHA responseThe recaptcha response will then be sent to the 'correctCaptcha' function.All of this was from the Google API notes :Google Recaptcha v2 API NotesI'm a bit unsure why you would want to do this.  Normally you would send the g-recaptcha-response field along with your Private key to safely validate server-side.  Unless you wanted to disable the submit button until the recaptcha was sucessful or such - in which case the above should work.Hope this helps.PaulI used HarveyEV's solution but misread it and did it with jQuery validate instead of Bootstrap validator.you can render your recaptcha using following codeThen you can validate your recaptcha by using "IsRecapchaValid()" method as follows.I thought all of them were great but I had troubles actually getting them to work with javascript and c#. Here is what I did. Hope it helps someone else.Source LinkYou can simply check on client side using 

grecaptcha.getResponse() methodI used Palek's solution inside a Bootstrap validator and it works. I'd have added a comment to his but I don'y have the rep;). Simplified version:

    

    Captcha validation is required.It will work as expected.The Google reCAPTCHA version 2 ASP.Net allows validating the Captcha response on the client side using its Callback functions. In this example, the Google new reCAPTCHA will be validated using ASP.Net RequiredField Validator.

Case insensitive regex in JavaScript

Amit

[Case insensitive regex in JavaScript](https://stackoverflow.com/questions/3939715/case-insensitive-regex-in-javascript)

I want to extract a query string from my URL using JavaScript, and I want to do a case insensitive comparison for the query string name. Here is what I am doing:But the above code does a case sensitive search. I tried /<regex>/i but it did not help. Any idea how can that be achieved?

2010-10-15 05:30:11Z

I want to extract a query string from my URL using JavaScript, and I want to do a case insensitive comparison for the query string name. Here is what I am doing:But the above code does a case sensitive search. I tried /<regex>/i but it did not help. Any idea how can that be achieved?You can add 'i' modifier that means "ignore case"modifiers are given as the second parameter:Simple one liner. 

In the example below it replaces every vowel with an X.

What is the difference between async.waterfall and async.series

Bruce Dou

[What is the difference between async.waterfall and async.series](https://stackoverflow.com/questions/9258603/what-is-the-difference-between-async-waterfall-and-async-series)

The nodejs async module: https://github.com/caolan/async provides 2 similar methods, async.waterfall and async.series.What is the difference between them?

2012-02-13 10:03:36Z

The nodejs async module: https://github.com/caolan/async provides 2 similar methods, async.waterfall and async.series.What is the difference between them?It appears that async.waterfall allows each function to pass its results on to the next function, while async.series passes all results to the final callback. At a higher level, async.waterfall would be for a data pipeline ("given 2, multiply it by 3, add 2, and divide by 17"), while async.series would be for discrete tasks that must be performed in order, but are otherwise separate.Both functions pass the return value, of every function to the next, then when done will call the main callback, passing its error, if an error happens.The difference is that async.series(), once the series have finished, will pass all the results to the main callback. async.waterfall() will pass to the main callback only the result of the last function called.async.waterfall() is dealing with an action that relies on the previous outcome.async.series() is dealing with an action that wants to see all the result  at the endI consider async.waterfall to be harmful, because it's hard to refactor once written and also error-prone since if you supply more arguments, other functions much change the signature. I highly recommend async.autoInject as a great alternative, to async.waterfall.

https://caolan.github.io/async/autoInject.js.htmlIf you do choose to use async.waterfall, I recommend storing everything in one object, so your functions don't have to change length/signatures, like so:warning: this is a bad patterndon't do it the above way. This is a much better pattern to use:that way you won't pull your hair out trying to make sure the function arguments have the right length. The first function only accepts one arg - callback. All the remaining ones should accept two arguments - a value and callback. Stick to the pattern and you will remain sane!

Adding a new array element to a JSON object

Charles Wyke-Smith

[Adding a new array element to a JSON object](https://stackoverflow.com/questions/18884840/adding-a-new-array-element-to-a-json-object)

I have a JSON format object I read from a JSON file that I have in a variable called teamJSON, that looks like this:I want to add a new item to the array, such as  to end up with before writing back to the file. What is a good way to add to the new element? I got close but all the double quotes were escaped. I have looked for a good answer on SO but none quite cover this case. Any help is appreciated.

2013-09-19 01:17:49Z

I have a JSON format object I read from a JSON file that I have in a variable called teamJSON, that looks like this:I want to add a new item to the array, such as  to end up with before writing back to the file. What is a good way to add to the new element? I got close but all the double quotes were escaped. I have looked for a good answer on SO but none quite cover this case. Any help is appreciated.JSON is just a notation; to make the change you want parse it so you can apply the changes to a native JavaScript Object, then stringify back to JSONIf you want to add at last position then use this:If you want to add at first position then use the following code:Anyone who wants to add at a certain position of an array try this:Above code block adds an element after the second element.First we need to parse the JSON object and then we can add an item.Finally we JSON.stringify the obj back to JSONFor example here is a element like button for adding item to basket and appropriate attributes for saving in localStorage.     After adding JSON object to Array result is (in LocalStorage): [{"id":"99","nameEn":"Product Name1","price":"767","image":"1462012597217.jpeg"},{"id":"93","nameEn":"Product Name2","price":"76","image":"1461449637106.jpeg"},{"id":"94","nameEn":"Product Name3","price":"87","image":"1461449679506.jpeg"}]after this action you can easily send data to server as List in JavaFull code example is hereHow do I store a simple cart using localStorage?In my case, my JSON object didn't have any existing Array in it, so I had to create array element first and then had to push the element.

Ajax, back button and DOM updates

lubos hasko

[Ajax, back button and DOM updates](https://stackoverflow.com/questions/1195440/ajax-back-button-and-dom-updates)

If javascript modifies DOM in page A, user navigates to page B and then hits back button to get back to the page A. All modifications to DOM of page A are lost and user is presented with version that was originally retrieved from the server.It works that way on stackoverflow, reddit and many other popular websites. (try to add test comment to this question, then navigate to different page and hit back button to come back - your comment will be "gone")This makes sense, yet some websites (apple.com, basecamphq.com etc) are somehow forcing browser to serve user the latest state of the page. (go to http://www.apple.com/ca/search/?q=ipod, click on say Downloads link at the top and then click back button - all DOM updates will be preserved)where is the inconsistency coming from?

2009-07-28 17:05:49Z

If javascript modifies DOM in page A, user navigates to page B and then hits back button to get back to the page A. All modifications to DOM of page A are lost and user is presented with version that was originally retrieved from the server.It works that way on stackoverflow, reddit and many other popular websites. (try to add test comment to this question, then navigate to different page and hit back button to come back - your comment will be "gone")This makes sense, yet some websites (apple.com, basecamphq.com etc) are somehow forcing browser to serve user the latest state of the page. (go to http://www.apple.com/ca/search/?q=ipod, click on say Downloads link at the top and then click back button - all DOM updates will be preserved)where is the inconsistency coming from?One answer: Among other things, unload events cause the back/forward cache to be invalidated.Some browsers store the current state of the entire web page in the so-called "bfcache" or "page cache".  This allows them to re-render the page very quickly when navigating via the back and forward buttons, and preserves the state of the DOM and all JavaScript variables.  However, when a page contains onunload events, those events could potentially put the page into a non-functional state, and so the page is not stored in the bfcache and must be reloaded (but may be loaded from the standard cache) and re-rendered from scratch, including running all onload handlers.  When returning to a page via the bfcache, the DOM is kept in its previous state, without needing to fire onload handlers (because the page is already loaded).Note that the behavior of the bfcache is different from the standard browser cache with regards to Cache-Control and other HTTP headers.  In many cases, browsers will cache a page in the bfcache even if it would not otherwise store it in the standard cache.jQuery automatically attaches an unload event to the window, so unfortunately using jQuery will disqualify your page from being stored in the bfcache for DOM preservation and quick back/forward. [Update: this has been fixed in jQuery 1.4 so that it only applies to IE]I've been trying to get Chrome to behave like Safari does, and the only way I've found that works is to set Cache-control: no-store in the headers. This forces the browser to re-fetch the page from the server when the user presses the back button. Not ideal, but better than being shown an out-of-date page.Facebook remembers page state by modifying the hash identifier in the URL for ajax requests.  These changes are recorded in browser history, so when the user clicks the back button, the hash changes to what it was before.  So then it is implied that you will need some Javascript to monitor the has identifier and react when it is changed by the browser.  Andreas Blixt has a hash monitoring script available.This has nothing to do with the hash (#) symbol.If you would check apple's HTTP headers, it's simply caching the page.Using the URL hash/fragment identifier is a pretty common way to hook/remember state in a web application that relies on Ajax and DOM updates.Check out the Really Simple History project for some ideas.  It's possible to monitor the URL for changes to the hash, and rsh does this, taking into account browser differences.For anybody running in problems with Rails and this -- your issue isn't bfcache (I thought it was) -- it's the turbolinks gem. Here is how to remove it.Hopefully this'll save you some time and banging your head against the wall.What you are looking for is for some type of URL hash management. The # in the url is for client side only.  When you change the state of the back with JS, then you update the data in the # of the url.Also you add some type of polling that monitors if the hash has changed, and loads the state of the page based off the new data in the hash. Take a look at this:http://ajaxpatterns.org/Unique_URLs

ReactJS server-side rendering vs client-side rendering

Simcha

[ReactJS server-side rendering vs client-side rendering](https://stackoverflow.com/questions/27290354/reactjs-server-side-rendering-vs-client-side-rendering)

I just have began to study ReactJS and found that it gives you 2 ways to render pages: server-side and client-side. But, I can't understand how to use it together. Is it 2 separate ways to build the application, or can they be used together? If we can use it together, how to do it - do we need to duplicate the same elements on the server side and client side? Or, can we just build the static parts of our application on the server, and the dynamic parts on the client side, without any connection to the server side that was already pre-rendered?

2014-12-04 09:25:38Z

I just have began to study ReactJS and found that it gives you 2 ways to render pages: server-side and client-side. But, I can't understand how to use it together. Is it 2 separate ways to build the application, or can they be used together? If we can use it together, how to do it - do we need to duplicate the same elements on the server side and client side? Or, can we just build the static parts of our application on the server, and the dynamic parts on the client side, without any connection to the server side that was already pre-rendered?For a given website / web-application, you can use react either client-side, server-side or both.Over here, you are completely running ReactJS on the browser. This is the simplest setup and includes most examples (including the ones on http://reactjs.org). The initial HTML rendered by the server is a placeholder and the entire UI is rendered in the browser once all your scripts load.Think of ReactJS as a server-side templating engine here (like jade, handlebars, etc...). The HTML rendered by the server contains the UI as it should be and you do not wait for any scripts to load. Your page can be indexed by a search engine (if one does not execute any javascript).Since the UI is rendered on the server, none of your event handlers would work and there's no interactivity (you have a static page).Here, the initial render is on the server. Hence, the HTML received by the browser has the UI as it should be. Once the scripts are loaded, the virtual DOM is re-rendered once again to set up your components' event handlers.Over here, you need to make sure that you re-render the exact same virtual DOM (root ReactJS component) with the same props that you used to render on the server. Otherwise, ReactJS will complain that the server-side and client-side virtual DOMs don't match.Since ReactJS diffs the virtual DOMs between re-renders, the real DOM is not mutated. Only the event handlers are bound to the real DOM elements.Image source: Walmart Labs Engineering BlogNB: SSR (Server Side Rendering), CSR (Client Side Rendering).The main difference being that with SSR, the servers response to the clients browser, includes the HTML of the page to be rendered.

It is also important to note that although, with SSR, the page renders quicker. The page will not be ready for user interaction until JS files have been downloaded and the browser has executed React.One downside is that the SSR TTFB (Time to First Byte) can be slightly longer. Understandably so, because the server takes some time creating the HTML document, which in turn increases the servers response size.I was actually wondering the same researching quite a bit and while the answer you are looking for was given in the comments but I feel it should be more prominent hence I'm writing this post (which I will update once I can come up with a better way as I find the solution architecturally at least questionable).You would need to write your components with both ways in mind thus basically putting if switches everywhere to determine whether you are on the client or the server and then do either as DB query (or whatever appropriate on the server) or a REST call (on the client). Then you would have to write endpoints which generate your data and expose it to the client and there you go.Again, happy to learn about a cleaner solution.They can be used together.It's better to have the same layout being rendered to avoid reflow and repaint operations, less flicker / blinks, your page will be smoother. However, it's not a limitation. You could very well cache the SSR html (something Electrode does to cut down response time) / send a static html which gets overwritten by the CSR (client side render).If you're just starting with SSR, I would recommend start simple, SSR can get very complex very quickly. To build html on the server means losing access to objects like window, document (you have these on the client), losing ability to incorporate async operations (out of the box), and generally lots of code edits to get your code SSR compatible (since you'll have to use webpack to pack your bundle.js). Things like CSS imports, require vs import suddenly start biting you (this is not the case in default React app without webpack).The general pattern of SSR looks like this. An Express server serving requests:My suggestion to folks starting out with SSR would be to serve out static html. You can get the static html by running the CSR SPA app:Don't forget, the only reasons to use SSR should be:Hack : https://medium.com/@gagan_goku/react-and-server-side-rendering-ssr-444d8c48abfc

When to use ko.utils.unwrapObservable?

arb

[When to use ko.utils.unwrapObservable?](https://stackoverflow.com/questions/9624401/when-to-use-ko-utils-unwrapobservable)

I've written a few custom bindings using KnockoutJS. I'm still unsure when to use ko.utils.unwrapObservable(item) Looking at the code, that call basically checks to see if item is an observable. If it is, return the value(), if it's not, just return the value. Looking at the section on Knockout about creating custom bindings, they have the following syntax:In this case, they invoke the observable via () but then also call ko.utils.unwrapObservable. I'm just trying to get a handle on when to use one vs. the other or if I should just always follow the above pattern and use both.

2012-03-08 20:26:28Z

I've written a few custom bindings using KnockoutJS. I'm still unsure when to use ko.utils.unwrapObservable(item) Looking at the code, that call basically checks to see if item is an observable. If it is, return the value(), if it's not, just return the value. Looking at the section on Knockout about creating custom bindings, they have the following syntax:In this case, they invoke the observable via () but then also call ko.utils.unwrapObservable. I'm just trying to get a handle on when to use one vs. the other or if I should just always follow the above pattern and use both.You should use ko.utils.unwrapObservable in cases where you don't know if you have been given an observable or not.  This would commonly be in a custom binding where an observable or non-observable could be bound against it.In the code that you have above, the call to valueAccessor() is not actually unwrapping an observable.  It is just retrieving the value that was passed to the binding in the correct context (it gets wrapped in a function to protect it).  The return value of valueAccessor() may be an observable or not.  It is whatever was passed to the binding.The earlier answer is correct, but often I pass in functions to custom bindings (a function that checks permissions, or determines what to do based on something else, etc). What I really needed was to unwrap any function, even if it's not an observable.The following recursively unwraps EVERYTHING:Here is an example of a simple custom binding I wrote:This way bindingValue always contains a value. I don't need to worry about if I passed in a function, an observable, a value, or a even a function inside an observable. This will properly unwrap everything until it gets at the object I want.Hope that helps someone.

What's the difference between JavaScript and JScript?

Brian G

[What's the difference between JavaScript and JScript?](https://stackoverflow.com/questions/135203/whats-the-difference-between-javascript-and-jscript)

I have always wondered WHaT tHE HecK?!? is the difference between JScript and JavaScript.

2008-09-25 18:52:02Z

I have always wondered WHaT tHE HecK?!? is the difference between JScript and JavaScript.Just different names for what is really ECMAScript. John Resig has a good explanation.Here's the full version breakdown:As far as I can tell, two things:From Wikipedia: http://en.wikipedia.org/wiki/JscriptMicrosoft uses the name JScript for its implementation to avoid trademark issues (JavaScript is a trademark of Oracle Corporation).Javascript, the language, came first, from Netscape.Microsoft reverse engineered Javascript and called it JScript to avoid trademark issues with Sun. (Netscape and Sun were partnered up at the time, so this was less of an issue)The languages are identical, both are dialects of ECMA script, the after-the-fact standard.Although the languages are identical, since JScript runs in Internet Explorer, it has access to different objects exposed by the browser (such as ActiveXObject) JScript is Microsoft's implementation of the ECMAScript specification. JavaScript is the Mozilla implementation of the specification.JScript is the Microsoft implementation of JavascriptAccording to this article:Long time ago, all browser providers were making JavaScript engines for their browsers and only they and god knew what was happening inside this. One beautiful day, ECMA international came and said: let's make engines based on common standard, let's make something general to make life more easy and fun, and they made that standard.

Since all browser providers make their JavaScript engines based on ECMAScript core (standard).For example, Google Chrome uses V8 engine and this is open source. You can download it and see how C++ program translates a command 'print' of JavaScript to machine code.Internet Explorer uses JScript (Chakra) engine for their browser and others do so and they all uses common core.Wikipedia has this to say about the differences.In general JScript is an ActiveX scripting language that is probably interpreted as JavaScript by non-IE browsers.There are some code differences to be aware of.A negative first parameter to subtr is not supported, e.g. in Javascript: "string".substr(-1) returns "g", whereas in JScript: "string".substr(-1) returns "string"It's possible to do "string"[0] to get "s" in Javascript, but JScript doesn't support such a construct. (Actually, only modern browsers appear to support the "string"[0] construct.Jscript is a .NET language similar to C#, with the same capabilities and access to all the .NET functions. JavaScript is run on the ASP Classic server. Use Classic ASP to run the same JavaScript that you have on the Client (excluding HTML5 capabilities). I only have one set of code this way for most of my code.I run .ASPX JScript when I require Image and Binary File functions, (among many others) that are not in Classic ASP. This code is unique for the server, but extremely powerful.JScript is Microsoft's equivalent of JavaScript. 

Java is an Oracle product and used to be a Sun product.Oracle bought Sun.JavaScript + Microsoft = JScript

Javascript/jQuery detect if input is focused [duplicate]

southpaw93

[Javascript/jQuery detect if input is focused [duplicate]](https://stackoverflow.com/questions/17614844/javascript-jquery-detect-if-input-is-focused)

How do I detect when .click event triggers if textarea is already focused?I have this jquery:

2013-07-12 12:23:30Z

How do I detect when .click event triggers if textarea is already focused?I have this jquery:With pure javascript:or with jquery's :focus pseudo selector.If you can use JQuery, then using the JQuery :focus selector will do the needfulUsing jQuery's .is( ":focus" )Did you try:Take a look at Using jQuery to test if an input has focus it features some more examples

How can I debug my JavaScript code? [closed]

Canavar

[How can I debug my JavaScript code? [closed]](https://stackoverflow.com/questions/988363/how-can-i-debug-my-javascript-code)

When I find that I have a problematic code snippet, how should I go about debugging it?

2009-06-12 18:49:40Z

When I find that I have a problematic code snippet, how should I go about debugging it?Firebug is one of the most popular tools for this purpose.All modern browsers come with some form of a built-in JavaScript debugging application. The details of these will be covered on the relevant technologies web pages. My personal preference for debugging JavaScript is Firebug in Firefox. I'm not saying Firebug is better than any other; it depends on your personal preference and you should probably test your site in all browsers anyway (my personal first choice is always Firebug).I'll cover some of the high-level solutions below, using Firebug as an example:Firefox comes with with its own inbuilt JavaScript debugging tool, but I would recommend you install the Firebug add on. This provides several additional features based on the basic version that are handy. I'm going to only talk about Firebug here.Once Firebug is installed you can access it like below:Firstly if you right click on any element you can Inspect Element with Firebug:Clicking this will open up the Firebug pane at the bottom of the browser:Firebug provides several features but the one we're interested in is the script tab. Clicking the script tab opens this window:Obviously, to debug you need to click reload:You can now add breakpoints by clicking the line to the left of the piece of JavaScript code you want to add the breakpoint to:When your breakpoint is hit, it will look like below:You can also add watch variables and generally do everything that you would expect in a modern debugging tool.For more information on the various options offered in Firebug, check out the Firebug FAQ.Chrome also has its own in built JavaScript debugging option, which works in a very similar way, right click, inspect element, etc.. Have a look at Chrome Developer Tools. I generally find the stack traces in Chrome better than Firebug.If you're developing in .NET and using Visual Studio using the web development environment you can debug JavaScript code directly by placing breakpoints, etc. Your JavaScript code looks exactly the same as if you were debugging your C# or VB.NET code.If you don't have this, Internet Explorer also provides all of the tools shown above. Annoyingly, instead of having the right click inspect element features of Chrome or Firefox, you access the developer tools by pressing F12. This question covers most of the points.There is a debugger keyword in JavaScript to debug the JavaScript code. Put debugger; snippet in your JavaScript code. It will automatically start debugging the JavaScript code at that point.For example:Suppose this is your test.js fileI use old good printf approach (an ancient technique which will work well in any time).Look to magic %o:%o dump clickable and deep-browsable, pretty-printed content of JS object. %s was shown just for a record.And this:gives you Java-like stack trace to point of new Error() invocation (including path to file and line number!!).Both %o and new Error().stack available in Chrome and Firefox.With such powerful tools you make assumption whats going wrong in your JS, put debug output (don't forget wrap in if statement to reduce amount of data) and verify your assumption. Fix issue or make new assumption or put more debug output to bit problem.Also for stack traces use:as say ConsoleHappy hacking!Start with Firebug and IE Debugger.Be careful with debuggers in JavaScript though. Every once in a while they will affect the environment just enough to cause some of the errors you are trying to debug.Examples:For Internet Explorer, it's generally a gradual slowdown and is some kind of memory leak type deal. After a half hour or so I need to restart. It seems to be fairly regular.For Firebug, it's probably been more than a year so it may have been an older version. As a result, I don't remember the specifics, but basically the code was not running correctly and after trying to debug it for a while I disabled Firebug and the code worked fine.Although alert(msg); works in those "I just want to find out whats going on" scenarios...  every developer has encountered that case where you end up in a (very large or endless) loop that you can't break out of.I'd recommend that during development if you want a very in-your-face debug option, use a debug option that lets you break out.  (PS Opera, Safari? and Chrome? all have this available in their native dialogs)With the above you can get your self into a large loop of popup debugging, where pressing Enter/Ok lets you jump through each message, but pressing Escape/Cancel lets you break out nicely.I use WebKit's developer menu/console (Safari 4). It is almost identical to Firebug.console.log() is the new black -- far better than alert().My first step is always to validate the HTML and to check syntax with JSLint. If you have clean markup and valid JavaScript code then it is time for Firebug or another debugger.Visual Studio 2008 has some very good JavaScript debugging tools. You can drop a breakpoint in your client side JavaScript code and step through it using the exact same tools as you would the server side code. There is no need to attach to a process or do anything tricky to enable it.I use a few tools: Fiddler, Firebug, and Visual Studio. I hear Internet Explorer 8 has a good built-in debugger.I used to use Firebug, until Internet Explorer 8 came out. I'm not a huge fan of Internet Explorer, but after spending some time with the built-in developer tools, which includes a really nice debugger, it seems pointless to use anything else. I have to tip my hat to Microsoft they did a fantastic job on this tool. You might also check out YUI Logger. All you have to do to use it is include a couple of tags in your HTML. It is a helpful addition to Firebug, which is more or less a must.I found the new version of Internet Explorer 8 (press F12) is very good to debug JavaScript code.Of course, Firebug is good if you use Firefox.Besides using Visual Studio's JavaScript debugger, I wrote my own simple panel that I include to a page. It's simply like the Immediate window of Visual Studio. I can change my variables' values, call my functions, and see variables' values. It simply evaluates the code written in the text field.I'm using Venkman, a JavaScript debugger for XUL applications.In addition to Firebug and browser-native developer extensions JetBrains WebStorm IDE comes with remote debug support for Firefox and Chrome (Extension required) built in.Also supports:Options to test this for free are the 30 trial or using an Early Access Version.If you are using Visual Studio, just put debugger; above the code you want to debug. During execution the control will pause at that place, and you can debug step by step from there on.As with most answers, it really depends: What are you trying to achieve with your debugging? Basic development, fixing performance issues? For basic development, all the previous answers are more than adequate.For performance testing specifically, I recommend Firebug. Being able to profile which methods are the most expensive in terms of time has been invaluable for a number of projects I have worked on. As client-side libraries become more and more robust, and more responsibility is placed client-side in general, this type of debugging and profiling will only become more useful.Firebug Console API:

http://getfirebug.com/console.htmlBy pressing F12 web developers can quickly debug JavaScript code without leaving the browser. It is built into every installation of Windows.In Internet Explorer 11, F12 tools provides debugging tools such as breakpoints, watch and local variable viewing, and a console 

for messages and immediate code execution.

Changing cursor to waiting in javascript/jquery

ahmet

[Changing cursor to waiting in javascript/jquery](https://stackoverflow.com/questions/9681080/changing-cursor-to-waiting-in-javascript-jquery)

How would i get my cursor to change to this loading icon when a function is called and how would i change it back to a normal cursor in javascript/jquery

2012-03-13 09:09:28Z

How would i get my cursor to change to this loading icon when a function is called and how would i change it back to a normal cursor in javascript/jqueryIn your jQuery use:and then back to normal againA colleague suggested an approach that I find preferable to the chosen solution here.  First, in CSS, add this rule:Then, to turn on the progress cursor, say:and to turn off the progress cursor, say:The advantage of this approach is that when you turn off the progress cursor, whatever other cursors may have been defined in your CSS will be restored.

If the CSS rule is not powerful enough in precedence to overrule other CSS rules, you can add an id to the body and to the rule, or use !important.Please don't use jQuery for this in 2018! There is no reason to include an entire external library just to perform this one action which can be achieved with one line:Change cursor to spinner: document.body.style.cursor = 'wait';Revert cursor to normal: document.body.style.cursor = 'default';The following is my preferred way, and will change the cursor everytime a page is about to change i.e. beforeunloadUsing jquery and css :HTML: <div id="element">Click and wait</div>​CSS:    .wait {cursor:wait}​Demo hereOverride all single elementThis will create a loading cursor till your ajax call succeeds.jQuery:

$("body").css("cursor", "progress");back again

$("body").css("cursor", "default");Pure:

document.body.style.cursor = 'progress';back again

document.body.style.cursor = 'default';You don't need JavaScript for this. You can change the cursor to anything you want using CSS :See here for browser support as there are some subtle differences depending on browserHere is something else interesting you can do.  Define a function to call just before each ajax call.  Also assign a function to call after each ajax call is complete.  The first function will set the wait cursor and the second will clear it.  They look like the following:If it saves too fast, try this:Setting the cursor for 'body' will change the cursor for the background of the page but not for controls on it. For example, buttons will still have the regular cursor when hovering over them. The following is what I am using:To set the 'wait' cursor, create a style element and insert in the head:Then to restore the cursor, delete the style element:I found that the only way to get the cursor to effectively reset its style back to what it had prior to being changed to the wait style was to set the original style in a style sheet or in style tags at the start of the page, set the class of the object in question to the name of the style.  Then after your wait period, you set the cursor style back to an empty string, NOT "default" and it reverts back to its original value as set in your style tags or style sheet.  Setting it to "default" after the wait period only changes the cursor style for every element to the style called "default" which is a pointer. It doesn't change it back to its former value.There are two conditions to make this work.  First you must set the style in a style sheet or in the header of the page with style tags, NOT as an inline style and second is to reset its style by setting the wait style back to an empty string.

AngularJS Directive Restrict A vs E

Darren Wainwright

[AngularJS Directive Restrict A vs E](https://stackoverflow.com/questions/23220976/angularjs-directive-restrict-a-vs-e)

I'm working in a small team, building in AngularJS and trying to maintain some basic standards & best practices; especially given we're relatively new with Angular.My question is with regards to Directives. More accurately, the restrict options.Some of us are using restrict: 'E' thus having <my-directive></my-directive> in the html.Others are using restrict: 'A' and having <div my-directive></div> in the html.Then, of course, you can use restrict: 'EA' and use either of the above. At the moment it's no big deal, though when this project is as big as it's going to get I would like anybody looking at it to easily understand what's going on.Are there pros/cons to either the attribute or element way of doing things? Are there any pitfalls we should know, if choosing say element over attribute?

2014-04-22 13:24:57Z

I'm working in a small team, building in AngularJS and trying to maintain some basic standards & best practices; especially given we're relatively new with Angular.My question is with regards to Directives. More accurately, the restrict options.Some of us are using restrict: 'E' thus having <my-directive></my-directive> in the html.Others are using restrict: 'A' and having <div my-directive></div> in the html.Then, of course, you can use restrict: 'EA' and use either of the above. At the moment it's no big deal, though when this project is as big as it's going to get I would like anybody looking at it to easily understand what's going on.Are there pros/cons to either the attribute or element way of doing things? Are there any pitfalls we should know, if choosing say element over attribute?According to the documentation:Edit following comment on pitfalls for a complete answer:Assuming you're building an app that should run on Internet Explorer <= 8, whom support has been dropped by AngularJS team from AngularJS 1.3, you have to follow the following instructions in order to make it working: https://docs.angularjs.org/guide/ierestrict is for defining the directive type, and it can be A (Attribute), C (Class), E (Element), and M (coMment) , let's assume that the name of the directive is Doc :The restrict option is typically set to:Here is the documentation link.Element is not supported in IE8 out of the box you have to do some work to make IE8 accept custom tags.One advantage of using an attribute over an element is that you can apply multiple directives to the same DOM node.  This is particularly handy for things like form controls where you can highlight, disable, or add labels etc. with additional attributes without having to wrap the element in a bunch of tags.One of the pitfalls as I know is IE problem with custom elements. As quoted from the docs:Pitfall:<div data-my-directive="ValueOfTheFirstParameter"></div>Instead of this:<my-directive my-param="ValueOfTheFirstParameter"></my-directive>We dont use custom html elements, because if this 2 facts. Every directive by third party framework can be written in two ways: <my-directive></my-directive>or <div data-my-directive></div>does the same.2 problems with elements:Use Attributes.

How to change the playing speed of videos in HTML5?

Young

[How to change the playing speed of videos in HTML5?](https://stackoverflow.com/questions/3027707/how-to-change-the-playing-speed-of-videos-in-html5)

How to change the video play speed in HTML5? I've checked video tag's attributes in w3school but couldn't approach that.Any help would be appreciated!

2010-06-12 06:11:58Z

How to change the video play speed in HTML5? I've checked video tag's attributes in w3school but couldn't approach that.Any help would be appreciated!According to this site, this is supported in the playbackRate and defaultPlaybackRate attributes, accessible via the DOM. Example:The above works on Chrome 43+, Firefox 20+, IE 9+, Edge 12+.Just typein JS console of your modern browser.You can use this code:you can put any number here just don't go to far so you don't overun your computer.

Asynchronous Process inside a javascript for loop [duplicate]

Ben Pearce

[Asynchronous Process inside a javascript for loop [duplicate]](https://stackoverflow.com/questions/11488014/asynchronous-process-inside-a-javascript-for-loop)

I am running an event loop of the following form:I am trying to display a series of alerts showing the numbers 0 through 10. The problem is that by the time the callback function is triggered, the loop has already gone through a few iterations and it displays a higher value of i. Any recommendations on how to fix this?

2012-07-14 22:56:56Z

I am running an event loop of the following form:I am trying to display a series of alerts showing the numbers 0 through 10. The problem is that by the time the callback function is triggered, the loop has already gone through a few iterations and it displays a higher value of i. Any recommendations on how to fix this?The for loop runs immediately to completion while all your asynchronous operations are started.  When they complete some time in the future and call their callbacks, the value of your loop index variable i will be at its last value for all the callbacks.  This is because the for loop does not wait for an asynchronous operation to complete before continuing on to the next iteration of the loop and because the async callbacks are called some time in the future.  Thus, the loop completes its iterations and THEN the callbacks get called when those async operations finish.  As such, the loop index is "done" and sitting at its final value for all the callbacks.To work around this, you have to uniquely save the loop index separately for each callback.  In Javascript, the way to do that is to capture it in a function closure.  That can either be done be creating an inline function closure specifically for this purpose (first example shown below) or you can create an external function that you pass the index to and let it maintain the index uniquely for you (second example shown below).As of 2016, if you have a fully up-to-spec ES6 implementation of Javascript, you can also use let to define the for loop variable and it will be uniquely defined for each iteration of the for loop (third implementation below).  But, note this is a late implementation feature in ES6 implementations so you have to make sure your execution environment supports that option.Use .forEach() to iterate since it creates its own function closureCreate Your Own Function Closure Using an IIFECreate or Modify External Function and Pass it the VariableIf you can modify the asynchronousProcess() function, then you could just pass the value in there and have the asynchronousProcess() function the cntr back to the callback like this:Use ES6 letIf you have a Javascript execution environment that fully supports ES6, you can use let in your for loop like this:let declared in a for loop declaration like this will create a unique value of i for each invocation of the loop (which is what you want).Serializing with promises and async/awaitIf your async function returns a promise, and you want to serialize your async operations to run one after another instead of in parallel and you're running in a modern environment that supports async and await, then you have more options.This will make sure that only one call to asynchronousProcess() is in flight at a time and the for loop won't even advance until each one is done.  This is different than the previous schemes that all ran your asynchronous operations in parallel so it depends entirely upon which design you want.  Note: await works with a promise so your function has to return a promise that is resolved/rejected when the asynchronous operation is complete.  Also, note that in order to use await, the containing function must be declared async.Run asynchronous operations in parallel and use Promise.all() to collect results in orderasync await is here

(ES7), so you can do this kind of things very easily now.Remember, this works only if asycronouseProcess is returning a PromiseIf asycronouseProcess is not in your control then you can make it return a Promise by yourself like thisThen replace this line await asycronouseProcess(); by await asyncProcess();Understanding Promises before even looking into async await is must

(Also read about support for async await)Several. You can use bind:Or, if your browser supports let (it will be in the next ECMAScript version, however Firefox already supports it since a while) you could have:Or, you could do the job of bind manually (in case the browser doesn't support it, but I would say you can implement a shim in that case, it should be in the link above):I usually prefer let when I can use it (e.g. for Firefox add-on); otherwise bind or a custom currying function (that doesn't need a context object).Here is a sample functional approach to what is expected here.ES2017: You can wrap the async code inside a function(say XHRPost) returning a promise( Async code inside the promise).Then call the function(XHRPost) inside the for loop but with the magical Await keyword. :)JavaScript code runs on a single thread, so you cannot principally block to wait for the first loop iteration to complete before beginning the next without seriously impacting page usability.The solution depends on what you really need.  If the example is close to exactly what you need, @Simon's suggestion to pass i to your async process is a good one.

How to indicate param is optional using inline JSDoc?

studgeek

[How to indicate param is optional using inline JSDoc?](https://stackoverflow.com/questions/5873927/how-to-indicate-param-is-optional-using-inline-jsdoc)

According to the JSDoc wiki for @param you can indicate a @param is optional using  and you can indicate a param inline usingAnd I can combine them like the following, which works ok.But I would like to know if there is a way to do it all inline if possible.

2011-05-03 18:23:09Z

According to the JSDoc wiki for @param you can indicate a @param is optional using  and you can indicate a param inline usingAnd I can combine them like the following, which works ok.But I would like to know if there is a way to do it all inline if possible.From official documentation:After some digging up I found these are ok as wellJust slightly more visually appealing than function test(/**String=*/arg) {}I found a way to do this using Google Closure Compiler type expressions. You put an equals sign after the type like so:

function test(/**String=*/arg) {}In case you are using inline type comments on function arguments and are wondering how to mark a function argument as optional in that notation, I found that just assigning default values to the optional arguments worked. If you want the default to be undefined you have to set it explicitly as well though, otherwise the argument won't be marked as optional (even if it preceded by already optional arguments):If you hover over demo in your IDE you should see both optional1 and optional2 showing up as optional now. In VSCode that is indicated by ? after the argument name (TypeScript notation). If you remove = undefined from optional2 you will see only optional1 being optional which is of course nonsense so the default value here must be explicit like I alluded to in the above paragraph.

Get current url in Angular [duplicate]

ndgeek

[Get current url in Angular [duplicate]](https://stackoverflow.com/questions/45184969/get-current-url-in-angular)

How can I get the current url in Angular 4? I've searched the web for it a lot, but am unable to find solution.app.module.tsapp.component.htmlapp.component.tsother.component.tstest.component.tsRight now I am getting console issue after clicking on other link

2017-07-19 08:26:55Z

How can I get the current url in Angular 4? I've searched the web for it a lot, but am unable to find solution.app.module.tsapp.component.htmlapp.component.tsother.component.tstest.component.tsRight now I am getting console issue after clicking on other linkWith pure JavaScript:console.log(window.location.href)Using Angular:this.router.urlThe plunkr is here: https://plnkr.co/edit/0x3pCOKwFjAGRxC4hZMy?p=previewYou can make use of location service available in @angular/common and via this below code you can get the location or current URLhere is the reference link from where I have copied thing to get location for my project.

https://github.com/elliotforbes/angular-2-admin/blob/master/src/app/common/top-nav/top-nav.component.tsother.component.tsSo final correct solution is :

Comet and jQuery [closed]

willurd

[Comet and jQuery [closed]](https://stackoverflow.com/questions/136012/comet-and-jquery)

I've done some research into server push with javascript and have found the general consensus to be that what I'm looking for lies in the "Comet" design pattern. Are there any good implementations of this pattern built on top of jQuery? If not, are there any good implementations of this pattern at all? And regardless of the answer to those questions, is there any documentation on this pattern from an implementation stand-point?

2008-09-25 20:53:48Z

I've done some research into server push with javascript and have found the general consensus to be that what I'm looking for lies in the "Comet" design pattern. Are there any good implementations of this pattern built on top of jQuery? If not, are there any good implementations of this pattern at all? And regardless of the answer to those questions, is there any documentation on this pattern from an implementation stand-point?I wrote the plugin mentioned by Till. The plugin is an implementation of the Bayeux protocol and currently supports long-polling (local server via AJAX) and callback-polling (remote server via XSS). There is a Bayeux implementation for Python called cometd-twisted that I have heard my plugin works with, but I have not verified this. I have tested and verified it works with cometd-jetty and erlycomet which has a jQuery Comet example included. There is more info on my blog and the current code with a basic chat example can be found on its google code page. Hope this info is helpful and feel free to contact me if need any further help with the plugin.Someone built a client for Comet using jQuery. I don't know if it's any good though. I've read about Comet and heard about all the good it can do, but I have never gotten around to using it. Just had no time and no use case on any of my current projects.I totally forgot to add a link as for implementing comet.There is Comet Daily and they have a comparison online. The comparison emphasizes on maturity of the different implementation. It's pretty interesting and should get you started.Hope that helps!Check out the Ape Project for a complete client and server side solution that implements the comet pattern.A description of the pattern: http://ajaxpatterns.org/HTTP_StreamingComet is a great solution, and there are all kinds of implementations. Which one depends on your needs.We've implemented a solution for IIS/ASP.NET, WebSync. It includes the javascript client, which plays nicely with jQuery. Technically, since it's the Bayeux protocol, any Bayeux client should work just dandy. The same protocol can also be found in the dojo library.For more detail, you can see the spec for the Bayeux protocol.I have a very simple example here that can get you started with comet. It covers compiling Nginx with the NHPM module and includes code for simple publisher/subscriber roles in jQuery, PHP, and Bash.http://blog.jamieisaacs.com/2010/08/27/comet-with-nginx-and-jquery/A working example (simple chat) can be found here:

http://cheetah.jamieisaacs.com/Look at socket.io.  Trust me.  This is exactly what the doctor ordered.http://socket.ioStream data with Node.jsIf you're using JQuery, I'd recommend jquery-stream. I'm currently using jquery-stream on a project and so far its been reliable, well-documented and has an active Google code project.http://code.google.com/p/jquery-stream/

jQuery UI - Close Dialog When Clicked Outside

Sonny

[jQuery UI - Close Dialog When Clicked Outside](https://stackoverflow.com/questions/2554779/jquery-ui-close-dialog-when-clicked-outside)

I have a jQuery UI Dialog that gets displayed when specific elements are clicked.  I would like to close the dialog if a click occurs anywhere other than on those triggering elements or the dialog itself.Here's the code for opening the dialog:If I uncomment the last part, the dialog never opens. I assume it's because the same click that opens the dialog is closing it again.Final Working Code

Note: This is using the jQuery outside events plugin

2010-03-31 16:43:45Z

I have a jQuery UI Dialog that gets displayed when specific elements are clicked.  I would like to close the dialog if a click occurs anywhere other than on those triggering elements or the dialog itself.Here's the code for opening the dialog:If I uncomment the last part, the dialog never opens. I assume it's because the same click that opens the dialog is closing it again.Final Working Code

Note: This is using the jQuery outside events pluginCheck out the jQuery Outside Events pluginLets you do:Sorry to drag this up after so long but I used the below. Any disadvantages? See the open function...Forget using another plugin:Here are 3 methods to close a jquery UI dialog when clicking outside popin:If the dialog is modal/has background overlay: http://jsfiddle.net/jasonday/6FGqN/If dialog is non-modal Method 1: method 1: http://jsfiddle.net/jasonday/xpkFf/Non-Modal dialog Method 2: http://jsfiddle.net/jasonday/eccKr/Just add this global script, which closes all the modal dialogs just clicking outsite them.Fiddle showing the above code in action. I had to do two parts. First the outside click-handler:This calls dialog('close') on the generic ui-dialog-content class, and so will close all dialogs if the click didn't originate in one. It will work with modal dialogs too, since the overlay is not part of the .ui-dialog box.The problem is:To fix this, I had to add stopPropagation to those click handlers:This question is a bit old, but in case someone wants to close a dialog that is NOT modal when user clicks somewhere, you can use this that I took from the  JQuery UI Multiselect plugin. The main advantage is that the click is not "lost" (if user wants to click on a link or a button, the action is done). You can do this without using any additional plug-inHere $dialog is the dialog.

What we are basically doing is to get the last overlay widget whenever this dialog is opened and binding a click handler to that overlay to close $dialog as anytime the overlay is clicked.no need for the outside events plugin... just add an event handler to the .ui-widget-overlay div:just make sure that whatever selector you used for the jQuery ui dialog, is also called to close it.. i.e. #ui-dialog-selector-goes-hereThis doesn't use jQuery UI, but does use jQuery, and may be useful for those who aren't using jQuery UI for whatever reason. Do it like so:So, once I've shown a dialog, I add a click handler that only looks for the first click on anything. Now, it would be nicer if I could get it to ignore clicks on anything on #dialog and its contents, but when I tried switching $('*') with $(':not("#dialog,#dialog *")'), it still detected #dialog clicks.Anyway, I was using this purely for a photo lightbox, so it worked okay for that purpose.The given example(s) use one dialog with id '#dialog', i needed a solution that close any dialog:Thanks to my colleague Youri Arkesteijn for the suggestion of using prototype.This is the only method that worked for me for my NON-MODAL dialogAll credit goes to Axle  

Click outside non-modal dialog to closeFor those you are interested I've created a generic plugin that enables to close a dialog when clicking outside of it whether it a modal or non-modal dialog. It supports one or multiple dialogs on the same page. More information here: http://www.coheractio.com/blog/closing-jquery-ui-dialog-widget-when-clicking-outsideLaurentI use this solution based in one posted here:I had same problem while making preview modal on one page. After a lot of googling I found this very useful solution. With event and target it is checking where click happened and depending on it triggers the action or does nothing. Code Snippet Library siteİt's simple actually you don't need any plugins, just jquery or you can do it with simple javascript.I don't think finding dialog stuff using $('.any-selector') from the whole DOM is so bright.TryYou're really getting the overlay from the dialog instance it belongs to, things will never go wrong this way.With the following code, you can simulate a click on the 'close' button of the dialog (change the string 'MY_DIALOG' for the name of your own dialog)Smart Code: 

I am using following code so that every thing remains clear and readable.

out side body will close the dialog box.

Angular 2 Sibling Component Communication

dennis.sheppard

[Angular 2 Sibling Component Communication](https://stackoverflow.com/questions/35884451/angular-2-sibling-component-communication)

I have a ListComponent.  When an item is clicked in ListComponent, the details of that item should be shown in DetailComponent.  Both are on the screen at the same time, so there's no routing involved.How do I tell DetailComponent what item in ListComponent was clicked?I've considered emitting an event up to the parent (AppComponent), and have the parent set the selectedItem.id on DetailComponent with an @Input.  Or I could use a shared service with observable subscriptions.EDIT: Setting the selected item via event + @Input doesn't trigger the DetailComponent, though, in case I were to need to execute additional code.  So I'm not sure this is an acceptable solution.But both of these methods seem far more complex than the Angular 1 way of doing things which was either through $rootScope.$broadcast or $scope.$parent.$broadcast.With everything in Angular 2 being a component, I'm surprised there's not more information out there about component communication.Is there another/more straightforward way to accomplish this?  

2016-03-09 06:24:21Z

I have a ListComponent.  When an item is clicked in ListComponent, the details of that item should be shown in DetailComponent.  Both are on the screen at the same time, so there's no routing involved.How do I tell DetailComponent what item in ListComponent was clicked?I've considered emitting an event up to the parent (AppComponent), and have the parent set the selectedItem.id on DetailComponent with an @Input.  Or I could use a shared service with observable subscriptions.EDIT: Setting the selected item via event + @Input doesn't trigger the DetailComponent, though, in case I were to need to execute additional code.  So I'm not sure this is an acceptable solution.But both of these methods seem far more complex than the Angular 1 way of doing things which was either through $rootScope.$broadcast or $scope.$parent.$broadcast.With everything in Angular 2 being a component, I'm surprised there's not more information out there about component communication.Is there another/more straightforward way to accomplish this?  Updated to rc.4:

When trying to get data passed between sibling components in angular 2, The simplest way right now (angular.rc.4) is to take advantage of angular2's hierarchal dependency injection and create a shared service.Here would be the service:Now, here would be the PARENT componentand its two childrenchild 1child 2 (It's sibling)NOW: Things to take note of when using this method.In case of 2 different components (not nested components, parent\child\grandchild ) I suggest you this:One way to do this is using a shared service. However I find the following

solution much simpler, it allows to share data between 2 siblings.(I tested this only on Angular 5) In you parent component template:app-sibling2.component.tsThere is a discussion about it here.https://github.com/angular/angular.io/issues/2663Alex J's answer is good but it no longer works with current Angular 4 as of July, 2017.And this plunker link would demonstrate how to communicate between siblings using shared service and observable.https://embed.plnkr.co/P8xCEwSKgcOg07pwDrlO/A directive can make sense in certain situations to 'connect' components. In fact the things being connected don't even need to be full components, and sometimes it's more lightweight and actually simpler if they aren't.For example I've got a Youtube Player component (wrapping Youtube API) and I wanted some controller buttons for it. The only reason the buttons aren't part of my main component is that they're located elsewhere in the DOM.In this case it's really just an 'extension' component that will only ever be of use with the 'parent' component. I say 'parent', but in the DOM it is a sibling - so call it what you will.Like I said it doesn't even need to be a full component, in my case it's just a <button> (but it could be a component).In the HTML for ProductPage.component, where youtube-player is obviously my component that wraps the Youtube API.The directive hooks everything up for me, and I don't have to declare the (click) event in the HTML.So the directive can nicely connect to the video player without having to involve ProductPage as a mediator.This is the first time I've actually done this, so not yet sure how scalable it might be for much more complex situations. For this though I'm happy and it leaves my HTML simple and responsibilities of everything distinct.You need to set up the parent-child relationship between your components. The problem is that you might simply inject the child components in the constructor of the parent component and store it in a local variable.

Instead, you should declare the child components in your parent component by using the @ViewChild property declarator.

This is how your parent component should look like:https://angular.io/docs/ts/latest/api/core/index/ViewChild-var.htmlhttps://angular.io/docs/ts/latest/cookbook/component-communication.html#parent-to-view-childBeware, the child component will not be available in the constructor of the parent component, just after the ngAfterViewInit lifecycle hook is called. To catch this hook simple implement the AfterViewInit interface in you parent class the same way you would do with OnInit.But, there are other property declarators as explained in this blog note:

http://blog.mgechev.com/2016/01/23/angular2-viewchildren-contentchildren-difference-viewproviders/Here is simple practical explanation:Simply explained hereIn call.service.tsComponent from where you want to call observable to inform another component that button is clickedComponent where you want to perform action on button clicked on another componentMy understanding clear on components communication by reading this: http://musttoknow.com/angular-4-angular-5-communicate-two-components-using-observable-subject/Behaviour subjects. I wrote a blog about that. In this example i am declaring a noid behavior subject of type number. Also it is an observable. And if "something happend" this will change with the new(){} function. So, in the sibling's components, one will call the function, to make the change, and the other one will be affected by that change, or vice-versa. For example, I get the id from the URL and update the noid from the behavior subject. And from the other side, I can ask if that ID is "what ever i want" and make a choice after that, in my case if i want to delte a task, and that task is the current url, it have to redirect me to the home: Shared service is a good solution for this issue. If you want to store some activity information too, you can add Shared Service to your main modules (app.module) provider list.Then you can directly provide it to your components,With Shared Service you can either use functions or you can create a Subject to update multiple places at once.In your list component you can publish clicked item information,and then you can fetch this information at your detail component:Obviously, the data that list component shares can be anything. Hope this helps.This is not what you exactly want but for sure will help you outI'm surprised there's not more information out there about component communication <=>

consider this tutorial by angualr2For sibling components communication, I'd suggest to go with sharedService. There are also other options available though.Please refer to link at top for more code.Edit: This is a very small demo. You have already mention that you have already tried with sharedService. So please consider this tutorial by angualr2 for more information. I have been passing down setter methods from the parent to one of its children through a binding, calling that method with the data from the child component, meaning that the parent component is updated and can then update its second child component with the new data. It does require binding 'this' or using an arrow function though. This has the benefit that the children aren't so coupled to each other as they don't need a specific shared service.I am not entirely sure that this is best practice, would be interesting to hear others views on this. 

Disable hover effects on mobile browsers

Joe White

[Disable hover effects on mobile browsers](https://stackoverflow.com/questions/8291517/disable-hover-effects-on-mobile-browsers)

I'm writing a Web site that's meant to be used from both desktops and tablets. When it's being visited from a desktop, I want the clickable areas of the screen to light up with :hover effects (different background color, etc.) With a tablet, there's no mouse, so I don't want any hover effects.The problem is, when I tap something on the tablet, the browser evidently has some kind of "invisible mouse cursor" that it moves to the location I tapped, and then leaves it there -- so the thing I just tapped lights up with a hover effect until I tap something else.How can I get the hover effects when I'm using the mouse, but suppress them when I'm using the touchscreen?In case someone was thinking of suggesting it, I don't want to use user-agent sniffing. The same device could have both a touchscreen and a mouse (maybe not so common today, but much more so in the future). I'm not interested in the device, I'm interested in how it's currently being used: mouse or touchscreen.I already tried hooking the touchstart, touchmove, and touchend events and calling preventDefault() on all of them, which does suppress the "invisible mouse cursor" some of the time; but if I tap rapidly back and forth between two different elements, after a few taps it will start moving the "mouse cursor" and lighting up the hover effects anyway -- it's like my preventDefault isn't always honored. I won't bore you with the details unless necessary -- I'm not even sure that's the right approach to take; if anyone has a simpler fix, I'm all ears.Edit: This can be reproduced with bog-standard CSS :hover, but here's a quick repro for reference.If you mouse over either of the boxes, it will get a blue background, which I want. But if you tap on either of the boxes, it will also get a blue background, which is the thing I'm trying to prevent.I've also posted a sample here that does the above and also hooks jQuery's mouse events. You can use it to see that tap events will also fire mouseenter, mousemove and mouseleave.

2011-11-28 04:24:33Z

I'm writing a Web site that's meant to be used from both desktops and tablets. When it's being visited from a desktop, I want the clickable areas of the screen to light up with :hover effects (different background color, etc.) With a tablet, there's no mouse, so I don't want any hover effects.The problem is, when I tap something on the tablet, the browser evidently has some kind of "invisible mouse cursor" that it moves to the location I tapped, and then leaves it there -- so the thing I just tapped lights up with a hover effect until I tap something else.How can I get the hover effects when I'm using the mouse, but suppress them when I'm using the touchscreen?In case someone was thinking of suggesting it, I don't want to use user-agent sniffing. The same device could have both a touchscreen and a mouse (maybe not so common today, but much more so in the future). I'm not interested in the device, I'm interested in how it's currently being used: mouse or touchscreen.I already tried hooking the touchstart, touchmove, and touchend events and calling preventDefault() on all of them, which does suppress the "invisible mouse cursor" some of the time; but if I tap rapidly back and forth between two different elements, after a few taps it will start moving the "mouse cursor" and lighting up the hover effects anyway -- it's like my preventDefault isn't always honored. I won't bore you with the details unless necessary -- I'm not even sure that's the right approach to take; if anyone has a simpler fix, I'm all ears.Edit: This can be reproduced with bog-standard CSS :hover, but here's a quick repro for reference.If you mouse over either of the boxes, it will get a blue background, which I want. But if you tap on either of the boxes, it will also get a blue background, which is the thing I'm trying to prevent.I've also posted a sample here that does the above and also hooks jQuery's mouse events. You can use it to see that tap events will also fire mouseenter, mousemove and mouseleave.I take it from your question that your hover effect changes the content of your page. In that case, my advice is to:Alternatively, you can edit your page that there is no content change.In order to simulate a mouse, browsers such as Webkit mobile fire the following events if a user touches and releases a finger on touch screen (like iPad) (source: Touch And Mouse on html5rocks.com):It does not seem possible to simply tell the webbrowser to skip the mouse events.What's worse, if a mouseover event changes the page content, the click event is never fired, as explained on Safari Web Content Guide - Handling Events, in particular figure 6.4 in One-Finger Events. What exactly a "content change" is, will depend on browser and version. I've found that for iOS 7.0, a change in background color is not (or no longer?) a content change.To recap:Note that there is no action on touchend!This clearly works for mouse events: mouseenter and mouseleave (slightly improved versions of mouseover and mouseout) are fired, and add and remove the hover.If the user actually clicks a link, the hover effect is also removed. This ensure that it is removed if the user presses the back button in the web browser.This also works for touch events: on touchstart the hover effect is added. It is '''not''' removed on touchend. It is added again on mouseenter, and since this causes no content changes (it was already added), the click event is also fired, and the link is followed without the need for the user to click again!The 300ms delay that a browser has between a touchstart event and click is actually put in good use because the hover effect will be shown during this short time.If the user decides to cancel the click, a move of the finger will do so just as normal. Normally, this is a problem since no mouseleave event is fired, and the hover effect remains in place. Thankfully, this can easily be fixed by removing the hover effect on touchmove.That's it!Note that it is possible to remove the 300ms delay, for example using the FastClick library, but this is out of scope for this question.I've found the following problems with the following alternatives:Maybe don't think of it so much as suppressing hover effects for touchscreens, but as adding hover effects for mouse events?If you want to keep the :hover effects in your CSS you could specify different styles for different media:Except that unfortunately there are plenty of mobile devices that ignore this and just use the screen rules. Fortunately a lot of newer mobile/tablet browsers do support some fancier media queries:So even if the "screen" or "handheld" part is ignored the "max-width" will do the trick for you. You could just assume that anything with a screen smaller than 800 pixels must be a tablet or phone, and not use hover effects. For the rare users who are using a mouse on a low resolution device they wouldn't see the hover effects but your site would be fine otherwise.Further reading on media queries? There are plenty of articles about this online - here is one: http://www.alistapart.com/articles/return-of-the-mobile-stylesheetIf you shift the hover effects out of your CSS and apply them with JavaScript then you could bind specifically to mouse events, and/or again you could just make some assumptions just based on screen size with the worst-case "problem" being that some user who is using a mouse misses out on the hover effects.I wrote the following JS for a recent project, which was a desktop/mobile/tablet site that has hover effects that shouldn't appear on-touch.The mobileNoHoverState module below has a variable preventMouseover (initially declared as false), that is set to true when a user fires the touchstart event on an element, $target. preventMouseover is then being set back to false whenever the mouseover event is fired, which allows the site to work as intended if a user is using both their touchscreen and mouse.We know that mouseover is being triggered after touchstart because of the order that they are being declared within init.The module is then instantiated further down the line:My solution is to add hover-active css class to the HTML tag,

and use it on the beginning of all the CSS selectors with :hover 

and remove that class on the first touchstart event.http://codepen.io/Bnaya/pen/EoJlbJS:HTML:CSS:I really wanted a pure css solution to this myself, since sprinkling a weighty javascript solution around all of my views seemed like an unpleasant option.  Finally found the @media.hover query, which can detect "whether the primary input mechanism allows the user to hover over elements."  This avoids touch devices where "hovering" is more of an emulated action than a direct capability of the input device.So for example, if I have a link:Then I can safely style it to only :hover when the device easily supports it with this css:While most modern browsers support interaction media feature queries, some popular browsers such as IE and Firefox do not.  In my case this works fine, since I only intended to support Chrome on desktop and Chrome and Safari on mobile.  What I've done to solve the same problem is to have a feature detection (I use something like this code), seeing if onTouchMove is defined, and if so I add the css class "touchMode" to the body, else i add "desktopMode".Then every time some style effect only applies to a touch device, or only to a desktop the css rule is prepended with the appropriate class:Edit: This strategy of course adds a few extra characters to your css, so If you're concerned about css size, you could search for the touchMode and desktopMode definitons and put them into different files, so you can serve optimized css for each device type; or you could change the class names to something much shorter before going to prod.Right, I jst had a similar problem but managed to fix it with media queries and simple CSS. I'm sure I'm breaking some rules here, but it's working for me.I basically had to take a massive application someone made, and make it responsive. They used jQueryUI and asked me not to tamper with any of their jQuery, so I was restricted to using CSS alone.When I pressed one of their buttons in touchscreen mode, the hover effect woudld fire for a second before the button's action took effect. Here's how I fixed it.In my project we solved this issue using https://www.npmjs.com/package/postcss-hover-prefix and https://modernizr.com/

First we post-process output css files with postcss-hover-prefix. It adds .no-touch for all css hover rules.cssbecomesAt runtime Modernizr automatically adds css classes to html tag like thisSuch post-processing of css plus Modernizr disables hover for touch devices and enables for others. In fact this approach was inspired by Bootstrap 4, how they solve the same issue: https://v4-alpha.getbootstrap.com/getting-started/browsers-devices/#sticky-hoverfocus-on-mobileYou can trigger the mouseLeave event whenever you touch an element on touchscreen. Here is a solution for all <a> tags:Iv'd found 2 solutions to the problem, which its implied that you detect touch with modernizr or something else and set a touch class on the html element.This is good but not supported very well:But this has a very good support:Works flawless for me, it makes all the hover effects be like when you have a touch on a button it will light up but not end up buggy as the initial hover effect for mouse events.Detecting touch from no-touch devices i think modernizr has done the best job:https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.jsEDITI found a better and simpler solution to this issueHow to determine if the client is a touch deviceIt might help to see your CSS, as it sounds like a rather weird issue. But anyway, if it is happening and all else is good, you could try shifting the hover effect to javascript (you could use jquery as well).

Simply, bind to the mouseover or better still mouseenter event and light up your element when the event fires.Checkout the last example here: http://api.jquery.com/mouseover/, you could use something similar to log when the event fires and take it from there!If you are happy to use JavaScript then you can use Modernizr in your page. When the page loads, a non-touch screen browser will have the class '.no-touch' added to the html tag, but for a touch screen browser, the html tag will have the class '.touch' added to the html tag. Then it is simply a case of checking to see if the html tag has the no-touch class before deciding to add your mouseenter and mouseleave listeners.For a touchscreen device the events will have no listeners so you will get no hover effect when you tap.In a project I did recently, I solved this problem with jQuery's delegated events feature. It looks for certain elements using a jQuery selector, and adds/removes a CSS class to those elements when the mouse is over the element. It seems to work well as far as I've been able to test it, which includes IE10 on a touch-capable notebook running Windows 8.edit: this solution does, of course, require that you alter your CSS to remove the ":hover" selectors, and contemplate in advance on which elements you want to be "hoverable".If you have very many elements on your page (like several thousand) it may get a bit slow, though, because this solution catches events of three types on all elements in the page, and then does its thing if the selector matches. I named the CSS class "mouseover" instead of "hover", because I didn't want any CSS readers to read ":hover" where I wrote ".hover".Here is my solution: http://jsfiddle.net/agamemnus/g56aw709/-- code below.All one needs to do is to convert their ":hover" to ".hover"... that's it! The big difference between this and the rest is that this will also work on non-singular element selectors such as .my_class > *:hover {.Include Modernizr on your page and set your hover states like this instead:Hello person from the future, you probably want to use the pointer and/or hover media query. The handheld media query was deprecated.Try this easy 2019 jquery solution, although its been around a while;Notes References:https://code.jquery.com/ui/https://api.jquery.com/category/selectors/jquery-selector-extensions/  

Copy / Put text on the clipboard with FireFox, Safari and Chrome

GvS

[Copy / Put text on the clipboard with FireFox, Safari and Chrome](https://stackoverflow.com/questions/127040/copy-put-text-on-the-clipboard-with-firefox-safari-and-chrome)

In Internet Explorer I can use the clipboardData object to access the clipboard. How can I do that in FireFox, Safari and/or Chrome?

2008-09-24 13:12:57Z

In Internet Explorer I can use the clipboardData object to access the clipboard. How can I do that in FireFox, Safari and/or Chrome?There is now a way to easily do this in most modern browsers using  This will copy currently selected text. You can select a textArea or input field usingTo invisibly copy text you can quickly generate a textArea, modify the text in the box, select it, copy it, and then delete the textArea. In most cases this textArea wont even flash onto the screen. For security reasons, browsers will only allow you copy if a user takes some kind of action (ie. clicking a button). One way to do this would be to add an onClick event to a html button that calls a method which copies the text. A full example:For security reasons, Firefox doesn't allow you to place text on the clipboard. However, there is a work-around available using Flash.The only disadvantage is that this requires Flash to be enabled.source is currently dead: http://bravo9.com/journal/copying-text-into-the-clipboard-with-javascript-in-firefox-safari-ie-opera-292559a2-cc6c-4ebf-9724-d23e8bc5ad8a/ (and so is it's Google cache) Online Spreadsheets hook Ctrl+C, Ctrl+V events and transfer focus to a hidden TextArea control and either set its contents to desired new clipboard contents for copy or read its contents after the event had finished for paste.see also Is it possible to read the clipboard in Firefox, Safari and Chrome using Javascript?It is Summer 2015, and with so much turmoil surrounding Flash I thought I'd add a new answer to this question that avoids its use altogether.clipboard.js is a nice utility that allows copying of text or html data to the clipboard.  It's very easy to use, just include the .js and use something like this: clipboard.js is also on GitHubIn 2017 you can do this (saying this because this thread is almost 9 years old!)And now to copy copyStringToClipboard('Hello World')If you noticed the setData line, and wondered if you can set different data types the answer is yes.Firefox does allow you to store data in the clipboard, but due to security implications it is disabled by default. See how to enable it in "Granting JavaScript access to the clipboard" in the Mozilla Firefox knowledge base.The solution offered by amdfan is the best if you are having a lot of users and configuring their browser isn't an option. Though you could test if the clipboard is available and provide a link for changing the settings, if the users are tech savvy. The JavaScript editor TinyMCE follows this approach.The copyIntoClipboard() function works for Flash 9, but it appears to be broken by the release of Flash player 10.  Here's a solution that does work with the new flash player:http://bowser.macminicolo.net/~jhuckaby/zeroclipboard/It's a complex solution, but it does work.I have to say that none of these solutions really work. I have tried the clipboard solution from the accepted answer, and it does not work with Flash Player 10.  I have also tried ZeroClipboard, and I was very happy with it for awhile. I'm currently using it on my own site (http://www.blogtrog.com), but I've been noticing weird bugs with it. The way ZeroClipboard works is that it puts an invisible flash object over the top of an element on your page. I've found that if my element moves (like when the user resizes the window and i have things right aligned), the ZeroClipboard flash object gets out of whack and is no longer covering the object. I suspect it's probably still sitting where it was originally. They have code that's supposed to stop that, or restick it to the element, but it doesn't seem to work well.So... in the next version of BlogTrog, I guess I'll follow suit with all the other code highlighters I've seen out in the wild and remove my Copy to Clipboard button. :-((I noticed that dp.syntaxhiglighter's Copy to Clipboard is broken now also.)way too old question but I didn't see this answer anywhere...Check this link:http://kb.mozillazine.org/Granting_JavaScript_access_to_the_clipboardlike everybody said, for security reasons is by default disabled. the link above shows the instructions of how to enable it (by editing about:config in firefox or the user.js). Fortunately there is a plugin called "AllowClipboardHelper" which makes things easier with only a few clicks. however you still need to instruct your website's visitors on how to enable the access in firefox.Use modern document.execCommand("copy")

and jQuery. See this stackoverflow answerHow to Call:I've used Github's Clippy for my needs, simple Flash-based button. Works just fine, if one doesn't need styling and is pleased with inserting what to paste on the server-side beforehand.A slight improvement on the Flash solution is to detect for flash 10 using swfobject:http://code.google.com/p/swfobject/and then if it shows as flash 10, try loading a Shockwave object using javascript. Shockwave can read/write to the clipboard(in all versions) as well using the copyToClipboard() command in lingo.http://www.rodsdot.com/ee/cross_browser_clipboard_copy_with_pop_over_message.asp works with Flash 10 and all Flash enabled browsers.Also ZeroClipboard has been updated to avoid the bug mentioned about page scrolling causing the Flash movie to no longer be in the correct place.Since that method "Requires" the user to click a button to copy this is a convenience to the user and nothing nefarious is occurring.try creating a memory global variable storing the selection, then the other function can access the variable and do a paste for example..If you support flash you can use https://everyplay.com/assets/clipboard.swf and use the flashvars text to set the texthttps://everyplay.com/assets/clipboard.swf?text=It%20WorksThats the one i use to copy and you can set as extra if doesn't support these options you can use :For Internet Explorer: window.clipboardData.setData(DataFormat, Text) and window.clipboardData.getData(DataFormat)You can use the DataFormat's Text and Url to getData and setData.And to delete data:You can use the DataFormat's File, HTML, Image, Text and URL. PS: You Need To Use window.clipboardData.clearData(DataFormat);And for other thats not support window.clipboardData and swf flash files you can also use control + c button on your keyboard for windows and for mac its command + cFrom addon code:In case anyone else was looking for how to do it from chrome code, you can use the nsIClipboardHelper interface as described here: https://developer.mozilla.org/en-US/docs/Using_the_ClipboardUse document.execCommand('copy'). Supported in the latest versions of Chrome, Firefox, Edge, and Safari.Clipboard API is designed to supersede document.execCommand. Safari is still working on support so you should provide a fallback until spec settles and Safari finishes implementation.For security reasons clipboard Permissions may be necessary to read and write from the clipboard. If the snippet doesn't work on SO give it a shot on localhost or an otherwise trusted domain.Building off the excellent answer from @David from Studio.201, this works in Safari, FF, and Chrome. It also ensures no flashing could occur from the textarea by placing it off-screen.

What does the regex \S mean in JavaScript? [duplicate]

steve

[What does the regex \S mean in JavaScript? [duplicate]](https://stackoverflow.com/questions/4377480/what-does-the-regex-s-mean-in-javascript)

What does /\S/  mean in a regex?

2010-12-07 14:08:59Z

What does /\S/  mean in a regex?\s matches whitespace (spaces, tabs and new lines). \S is negated \s.\S matches anything but a whitespace, according to this reference.I believe it means 'anything but a whitespace character'./\S/.test(string) returns true if and only if there's a non-space character in string. Tab and newline count as spaces. The \s metacharacter matches whitespace characters.

Apply CSS style attribute dynamically in Angular JS

jonhobbs

[Apply CSS style attribute dynamically in Angular JS](https://stackoverflow.com/questions/21364445/apply-css-style-attribute-dynamically-in-angular-js)

This should be a simple problem, but I can't seem to find a solution.I have the following markup:I need the background color to be bound to the scope, so I tried this:That didn't work, so I did some research and found ng-style, but that didn't work, so I tried taking the dynamic part out and just hard-coding the style in ng-style, like this...and that doesn't even work. Am I misunderstanding how ng-style works? Is there a way of putting {{data.backgroundCol}} into a plain style attribute and getting it to insert the value?

2014-01-26 14:15:55Z

This should be a simple problem, but I can't seem to find a solution.I have the following markup:I need the background color to be bound to the scope, so I tried this:That didn't work, so I did some research and found ng-style, but that didn't work, so I tried taking the dynamic part out and just hard-coding the style in ng-style, like this...and that doesn't even work. Am I misunderstanding how ng-style works? Is there a way of putting {{data.backgroundCol}} into a plain style attribute and getting it to insert the value?ngStyle  directive allows you to set CSS style on an HTML element dynamically.ng-style="{color: myColor}"Your code will be:If you want to use scope variables:Here an example on fiddle that use ngStyle, and below the code with the running snippet:The easiest way is to call a function for the style, and have the function return the correct style.And in your controller:Directly from ngStyle docs:So you could do this:Hope this helps!On a generic note, you can use a combination of ng-if and ng-style incorporate conditional changes with change in background image.I would say that you should put styles that won't change into a regular style attribute, and conditional/scope styles into an ng-style attribute. Also, string keys are not necessary. For hyphen-delimited CSS keys, use camelcase. Simply do this:

Pure JavaScript Send POST Data Without a Form

John

[Pure JavaScript Send POST Data Without a Form](https://stackoverflow.com/questions/6396101/pure-javascript-send-post-data-without-a-form)

Is there a way to send data using the POST method without a form and without refreshing the page using only pure JavaScript (not jQuery $.post())? Maybe httprequest or something else (just can't find it now)?

2011-06-18 12:46:38Z

Is there a way to send data using the POST method without a form and without refreshing the page using only pure JavaScript (not jQuery $.post())? Maybe httprequest or something else (just can't find it now)?You can send it and insert the data to the body:By the way, for get request:You can use the XMLHttpRequest object as follows:That code would post someStuff to url. Just make sure that when you create your XMLHttpRequest object, it will be cross-browser compatible. There are endless examples out there of how to do that.The [new-ish at the time of writing in 2017] Fetch API is intended to make GET requests easy, but it is able to POST as well.If you are as lazy as me (or just prefer a shortcut/helper):Also, RESTful lets you get data back from a POST request.JS (put in static/hello.html to serve via Python):Python server (for testing):Console log (chrome):Console log (firefox):Console log (Edge):Python log:If you simply need to POST data and do not require a response from the server, the shortest solution would be to use navigator.sendBeacon():There is an easy method to wrap your data and send it to server as if you were sending an HTML form using POST.

you can do that using FormData object as following:now you can handle the data on the server-side just like the way you deal with reugular HTML Forms.Additional InfoIt is advised that you must not set Content-Type header when sending FormData since the browser will take care of that.

How to parse JSON to receive a Date object in JavaScript?

Piotr Owsiak

[How to parse JSON to receive a Date object in JavaScript?](https://stackoverflow.com/questions/4511705/how-to-parse-json-to-receive-a-date-object-in-javascript)

I have a following piece of JSON:  which is a result of this .NET code:Now the problem I am facing is how to create a Date object from this in JavaScript.

All I could find was incredible regex solution (many containing bugs).It is hard to believe there is no elegant solution as this is all in JavaScrip, I mean JavaScript code trying to read JSON (JavaScript Object Notation) which is supposed to be a JavaScript code and at this moment it turns out it's not cause JavaScript cannot do a good job here.I've also seen some eval solutions which I could not make to work (besides being pointed out as security threat).Is there really no way to do it in an elegant way?Similar question with no real answer:

How to parse ASP.NET JSON Date format with GWT

2010-12-22 17:13:00Z

I have a following piece of JSON:  which is a result of this .NET code:Now the problem I am facing is how to create a Date object from this in JavaScript.

All I could find was incredible regex solution (many containing bugs).It is hard to believe there is no elegant solution as this is all in JavaScrip, I mean JavaScript code trying to read JSON (JavaScript Object Notation) which is supposed to be a JavaScript code and at this moment it turns out it's not cause JavaScript cannot do a good job here.I've also seen some eval solutions which I could not make to work (besides being pointed out as security threat).Is there really no way to do it in an elegant way?Similar question with no real answer:

How to parse ASP.NET JSON Date format with GWTThere is no standard JSON representation of dates.  You should do what @jAndy suggested and not serialize a DateTime at all; just send an RFC 1123 date string ToString("r") or a seconds-from-Unix-epoch number, or something else that you can use in the JavaScript to construct a Date.The JSON.parse function accepts an optional DateTime reviver function.  You can use a function like this:Then call And your dates will come out right.This answer from Roy Tinker here:As he says: The substr function takes out the "/Date(" part, and the parseInt function gets the integer and ignores the ")/" at the end. The resulting number is passed into the Date constructor.Another option is to simply format your information properly on the ASP side such that JavaScript can easily read it. Consider doing this for your dates:Which should return a format like this:If you pass this into a JavaScript Date constructor like this:The variable date now holds this value:Naturally, you can format this DateTime object into whatever sort of string/int the JS Date constructor accepts.if you use the JavaScript style ISO8601 date in JSON, you could use this, from MDNYou can convert JSON Date to normal date format in JavaScript.What's wrong with:This returns for me "Wed Dec 22 2010 16:16:07 GMT+0000 (GMT Standard Time)".Or do you need to get the number out the json?I know this is a very old thread but I wish to post this to help those who bump into this like I did.if you don't care about using a 3rd party script, you can use moment,js

Then you can use .format() to format it to anything you want it to.Dates are always a nightmare. Answering your old question, perhaps this is the most elegant way:With eval we convert our string to javascript code. Then we remove the "/", into the replace function is a regular expression. As we start with new then our sentences will excecute this:Now, one thing I started using long time ago, is long values that are represented in ticks... why? well, localization and stop thinking in how is date configured in every server or every client. In fact, I use it too in databases.Perhaps is quite late for this answer, but can help anybody arround here.AngularJS couldn't parse .NET JSON date /Date(xxxxxxxxxxxxx)/ string either..I side stepped this issue by formatting the date to its ISO 8601 string representation instead of dumping the Date object directly... Here is a sample of ASP.NET MVC code..I tried RFC 1123 but  it doesn't work.. Angular treats this as string instead of Date.I've not used .Net for things like this. If you were able to get it to print something like the following out it should work.Note, unless you're parsing that JSON string by some other means or only expect users to have modern browers with a built in JSON parser you need to use a JS framework or JSON2 to parse the JSON string outputted by the server into a real JSON object.Wiki LinkLink to JSON2 fileLive ExampleThe answer to this question is, use nuget to obtain JSON.NET then use this inside your JsonResult method:inside your view simple do this in javascript:If it is an ajax call:Once JSON.parse has been called, you can put the JSON date into a new Date instance because JsonConvert creates a proper ISO time instanceAs Callum mentioned, for me, the best way is to change the Controller method to     string instead of JsonResult".From the ajax method you can do something like this using eval function works just have to remove the forward slash at front and back. yields Thu Jan 01 1970 00:00:00 GMT-0700 (US Mountain Standard Time)I ran into an issue with external API providing dates in this format, some times even with UTC difference info like /Date(123232313131+1000)/. I was able to turn it js Date object with following code//Use this function

Why is string concatenation faster than array join?

Sanghyun Lee

[Why is string concatenation faster than array join?](https://stackoverflow.com/questions/7299010/why-is-string-concatenation-faster-than-array-join)

Today, I read this thread about the speed of string concatenation. Surprisingly, string concatenation was the winner:The result was opposite of what I thought. Besides, there are many articles about this which explain oppositely like this. I can guess that browsers are optimized to string concat on the latest version, but how do they do that? Can we say that it is better to use + when concatenating strings?UpdateSo, in modern browsers string concatenation is optimized so using + signs is faster than using join when you want to concatenate strings.But @Arthur pointed out that join is faster if you actually want to join strings with a separator. 

2011-09-04 11:50:13Z

Today, I read this thread about the speed of string concatenation. Surprisingly, string concatenation was the winner:The result was opposite of what I thought. Besides, there are many articles about this which explain oppositely like this. I can guess that browsers are optimized to string concat on the latest version, but how do they do that? Can we say that it is better to use + when concatenating strings?UpdateSo, in modern browsers string concatenation is optimized so using + signs is faster than using join when you want to concatenate strings.But @Arthur pointed out that join is faster if you actually want to join strings with a separator. The V8 javascript engine (used in Google Chrome) uses this code to do string concatenation:So, internally they optimize it by creating an InternalArray (the parts variable), which is then filled. The StringBuilderConcat function is called with these parts. It's fast because the StringBuilderConcat function is some heavily optimized C++ code. It's too long to quote here, but search in the runtime.cc file for RUNTIME_FUNCTION(MaybeObject*, Runtime_StringBuilderConcat) to see the code.Firefox is fast because it uses something called Ropes (Ropes: an Alternative to Strings). A rope is basically just a DAG, where every Node is a string.So for example, if you would do a = 'abc'.concat('def'), the newly created object would look like this. Of course this is not exactly how this looks like in memory, because you still need to have a field for the string type, length and maybe other.And b = a.concat('123')So in the simplest case the VM has to do nearly no work. The only problem is that this slows down other operations on the resulting string a little bit. Also this of course reduces memory overhead. On the other hand ['abc', 'def'].join('') would usually just allocate memory to lay out the new string flat in memory. (Maybe this should be optimized)I know this is an old thread, but your test is incorrect. You are doing output += myarray[i]; while it should be more like output += "" + myarray[i]; because you've forgot, that you have to glue items together with something. The concat code should be something like:That way, you are doing two operations instead of one due to glueing elements together.Array.join() is faster.The benchmarks there are trivial.  Concatenating the same three items repeatedly will be inlined, the results will proven deterministic and memoized, the garbage handler will be just throwing away array objects (which will be next to nothing in size) and probably just pushed and popped off the stack due to no external references and because the strings never change. I would be more impressed if the test was a large number of randomly generated strings.

As in a gig or two's worth of strings.Array.join FTW!For large amount of data join is faster, so the question is stated incorrectly.Tested on Chrome 72.0.3626.119, Firefox 65.0.1, Edge 42.17134.1.0.

Note that it is faster even with the array creation included!I would say that with strings it's easier to preallocate a bigger buffer. Each element is only 2 bytes (if UNICODE), so even if you are conservative, you can preallocate a pretty big buffer for the string. With arrays each element is more "complex", because each element is an Object, so a conservative implementation will preallocate space for less elements.If you try to add a for(j=0;j<1000;j++) before each for you'll see that (under chrome) the difference in speed becomes smaller. In the end it was still 1.5x for the string concatenation, but smaller than the 2.6 that was before.AND having to copy the elements, an Unicode character is probably smaller than a reference to a JS Object.Be aware that there is the possibility that many implementations of JS engines have an optimization for single-type arrays that would make all I have written useless :-)This test shows the penalty of actually using a string made with assignment concatenation vs made with array.join method. While the overall speed of assignment is still twice as fast in Chrome v31 but it is no longer as huge as when not using the resultant string.This clearly depends on the javascript engine implementation. Even for different versions of one engine you can get significally different results. You should do your own benchmark to verify this.I would say that String.concat has better performance in the recent versions of V8. But for Firefox and Opera, Array.join is a winner.My guess is that, while every version is wearing the cost of many concatenations, the join versions are building arrays in addition to that.

How to encode URL parameters?

Apoorv Saxena

[How to encode URL parameters?](https://stackoverflow.com/questions/8135132/how-to-encode-url-parameters)

I am trying to pass parameters to a URL which looks like this:and I want to pass the parameters suchas and image URL which is generated itself by another API, and the link for the image turns out as:However, when I try to use the URL:it doesn't work..I have also tried using encodeURI and encodeURIComponents on the imageURL, and that too doesn't work.

2011-11-15 10:48:10Z

I am trying to pass parameters to a URL which looks like this:and I want to pass the parameters suchas and image URL which is generated itself by another API, and the link for the image turns out as:However, when I try to use the URL:it doesn't work..I have also tried using encodeURI and encodeURIComponents on the imageURL, and that too doesn't work.With PHPResultWith Javascript:DEMO: http://jsfiddle.net/Lpv53/Using new ES6 Object.entries(), it makes for a fun little nested map/join:

Difference Between indexOf and findIndex function of array

Rahul Singh

[Difference Between indexOf and findIndex function of array](https://stackoverflow.com/questions/41443029/difference-between-indexof-and-findindex-function-of-array)

I am confused between the difference between the two function indexOf and find Index in an  array.The documentation saysand

2017-01-03 11:57:49Z

I am confused between the difference between the two function indexOf and find Index in an  array.The documentation saysandThe main difference are the parameters of these functions:See the links for examples of both cases.FindIndex is useful if you want to find the first element that matches to your predicate: In W3C's example, there are numbers and matches if the customer's age above or equals to 18. console:You can find an exact element index with the indexOf function of Array, but you can't pass a predicate. It is faster if you want to find a specific element:returns:Index counting starts at 0, so the first element index is 0.The main difference are the parameters of these functions:->

Array.prototype.indexOf() : ->Array.prototype.findIndex() : You can also use includes:but I prefer the indexOf method:Another difference is that 

with findIndex() the user can apply some function and find the element in the array which passes the test.But the same is not true with indexOf() operator.

A user can just check whether the particular element exists in the array or not.

How to position a DIV in a specific coordinates?

Adham

[How to position a DIV in a specific coordinates?](https://stackoverflow.com/questions/6802956/how-to-position-a-div-in-a-specific-coordinates)

I want to position a DIV in a specific coordinates ? How can I do that using Javascript ?

2011-07-23 19:59:16Z

I want to position a DIV in a specific coordinates ? How can I do that using Javascript ?Script its left and top properties as the number of pixels from the left edge and top edge respectively.  It must have position: absolute;Or do it as a function so you can attach it to an event like onmousedownYou don't have to use Javascript to do this.

Using plain-old css:If you feel you must use javascript, or are trying to do this dynamically

Using JQuery, this affects all divs of class "blah": Alternatively, if you must use regular old-javascript you can grab by idwell it depends if all you want is to position a div and then nothing else, you don't need to use java script for that. You can achieve this by CSS only. What matters is relative to what container you want to position your div, if you want to position it relative to document body then your div must be positioned absolute and its container must not be positioned relatively or absolutely, in that case your div will be positioned relative to the container.Otherwise with Jquery if you want to position an element relative to document you can use offset() method.if relative to offset parent position the parent relative or absolute. then use following...You can also use position fixed css property.Here is a properly described article and also a sample with code.

JS coordinatesAs per requirement. below is code which is posted at last in that article.

Need to call  getOffset  function and pass html element which returns its top and left values.I cribbed this and added the 'px';

Works very well.

Get contentEditable caret index position

Bertvan

[Get contentEditable caret index position](https://stackoverflow.com/questions/3972014/get-contenteditable-caret-index-position)

I'm finding tons of good, crossbrowser anwers on how to SET the cursor or caret index position in a contentEditable element, but none on how to GET or find its index...What I want to do is know the index of the caret within this div, on keyup. So, when the user is typing text, I can at any point know its cursor's index within the contentEditable element.EDIT: I'm looking for the INDEX within the div contents (text), not the cursor coordinates.

2010-10-19 19:35:28Z

I'm finding tons of good, crossbrowser anwers on how to SET the cursor or caret index position in a contentEditable element, but none on how to GET or find its index...What I want to do is know the index of the caret within this div, on keyup. So, when the user is typing text, I can at any point know its cursor's index within the contentEditable element.EDIT: I'm looking for the INDEX within the div contents (text), not the cursor coordinates.The following code assumes:If you need a more general approach that will work content with nested elements, try this answer:https://stackoverflow.com/a/4812022/96100Code:A few wrinkles that I don't see being addressed in other answers:Here's a way to get start and end positions as offsets to the element's textContent value:Try this:Caret.js

Get caret postion and offset from text fieldhttps://github.com/ichord/Caret.jsdemo:

http://ichord.github.com/Caret.jsKinda late to the party, but in case anyone else is struggling. None of the Google searches I've found for the past two days have come up with anything that works, but I came up with a concise and elegant solution that will always work no matter how many nested tags you have:It selects all the way back to the beginning of the paragraph and then counts the length of the string to get the current position and then undoes the selection to return the cursor to the current position. If you want to do this for an entire document (more than one paragraph), then change paragraphboundary to documentboundary or whatever granularity for your case. Check out the API for more details. Cheers! :)This one works for me:The calling line depends on event type,  for key event use this:for mouse event use this:on these two cases I take care for break lines by adding the target indexNote: the range object its self can be stored in a variable, and can be re-selected at any time unless the contents of the contenteditable div change.Reference for IE 8 and lower:

http://msdn.microsoft.com/en-us/library/ms535872(VS.85).aspxReference for standards (all other) browsers:

https://developer.mozilla.org/en/DOM/range (its the mozilla docs, but code works in chrome, safari, opera and ie9 too)As this took me forever to figure out using the new window.getSelection API I am going to share for posterity. Note that MDN suggests there is wider support for window.getSelection, however, your mileage may vary. Here is a jsfiddle that fires on keyup. Note however, that rapid directional key presses, as well as rapid deletion seems to be skip events. A straight forward way, that iterates through all the chidren of the contenteditable div until it hits the endContainer.  Then I add the end container offset and we have the character index. Should work with any number of nestings.  uses recursion.Note: requires a poly fill for ie to support Element.closest('div[contenteditable]')https://codepen.io/alockwood05/pen/vMpdmZ

How to set the style -webkit-transform dynamically using JavaScript?

rymn

[How to set the style -webkit-transform dynamically using JavaScript?](https://stackoverflow.com/questions/708895/how-to-set-the-style-webkit-transform-dynamically-using-javascript)

I want to change the -webkit-transform: rotate() property using JavaScript dynamically, but the commonly used setAttribute is not working:The .style is not working either...How can I set this dynamically in JavaScript?

2009-04-02 09:01:33Z

I want to change the -webkit-transform: rotate() property using JavaScript dynamically, but the commonly used setAttribute is not working:The .style is not working either...How can I set this dynamically in JavaScript?The JavaScript style names are WebkitTransformOrigin and WebkitTransformCheck the DOM extension reference for WebKit here.Here are the JavaScript notations for most common vendors:I reset inline transform styles like:And like this using jQuery:See blog post Coding Vendor Prefixes with JavaScript (2012-03-21).Try usingIf you want to do it via setAttribute you would change the style attribute like so:This would be helpful if you want to reset all other inline style and only set your needed style properties' values again, BUT in most cases you may not want that. That's why everybody advised to use this:The above is equivalent toTo animate your 3D object, use the code:  

Get average color of image via Javascript

bgreater

[Get average color of image via Javascript](https://stackoverflow.com/questions/2541481/get-average-color-of-image-via-javascript)

Not sure this is possible, but looking to write a script that would return the average hex or rgb value for an image.  I know it can be done in AS but looking to do it in JavaScript.  

2010-03-29 21:42:51Z

Not sure this is possible, but looking to write a script that would return the average hex or rgb value for an image.  I know it can be done in AS but looking to do it in JavaScript.  AFAIK, the only way to do this is with <canvas/>...DEMO V2: http://jsfiddle.net/xLF38/818/Note, this will only work with images on the same domain and in browsers that support HTML5 canvas:For IE, check out excanvas.Figured I'd post a project I recently came across to get dominant color:Color ThiefThe other solutions mentioning and suggesting dominant color never really answer the question in proper context ("in javascript"). Hopefully this project will help those who want to do just that."Dominant Color" is tricky. What you want to do is compare the distance between each pixel and every other pixel in color space (Euclidean Distance), and then find the pixel whose color is closest to every other color. That pixel is the dominant color. The average color will usually be mud.I wish I had MathML in here to show you Euclidean Distance. Google it.I have accomplished the above execution in RGB color space using PHP/GD here: https://gist.github.com/cf23f8bddb307ad4abd8This however is very computationally expensive. It will crash your system on large images, and will definitely crash your browser if you try it in the client. I have been working on refactoring my execution to:

  - store results in a lookup table for future use in the iteration over each pixel.

  - to divide large images into grids of 20px 20px for localized dominance.

  - to use the euclidean distance between x1y1 and x1y2 to figure out the distance between x1y1 and x1y3.Please let me know if you make progress on this front. I would be happy to see it. I will do the same.Canvas is definitely the best way to do this in the client. SVG is not, SVG is vector based. After I get the execution down, the next thing I want to do is get this running in the canvas (maybe with a webworker for each pixel's overall distance calculation).Another thing to think about is that RGB is not a good color space for doing this in, because the euclidean distance between colors in RGB space is not very close to the visual distance. A better color space for doing this might be LUV,  but I have not found a good library for this, or any algorythims for converting RGB to LUV.An entirely different approach would be to sort your colors in a rainbow, and build a histogram with tolerance to account for varying shades of a color. I have not tried this, because sorting colors in a rainbow is hard, and so are color histograms. I might try this next. Again, let me know if you make any progress here.First: it can be done without HTML5 Canvas or SVG.

Actually, someone just managed to generate client-side PNG files using JavaScript, without canvas or SVG, using the data URI scheme.Second: you might actually not need Canvas, SVG or any of the above at all.

If you only need to process images on the client side, without modifying them, all this is not needed. You can get the source address from the img tag on the page, make an XHR request for it - it will most probably come from the browser cache - and process it as a byte stream from Javascript.

You will need a good understanding of the image format. (The above generator is partially based on libpng sources and might provide a good starting point.)I would say via the HTML canvas tag.You can find here a post by @Georg talking about a small code by the Opera dev : This invert the image by using the R, G and B value of each pixel. You could easily store the RGB values, then round up the Red, Green and Blue arrays, and finally converting them back into an HEX code.I recently came across a jQuery plugin which does what I originally wanted https://github.com/briangonzalez/jquery.adaptive-backgrounds.js in regards to getting a dominiate color from an image.  Javascript does not have access to an image's individual pixel color data. At least, not maybe until html5 ... at which point it stands to reason that you'll be able to draw an image to a canvas, and then inspect the canvas (maybe, I've never done it myself).I would personally combine Color Thief along with this modified version of Name that Color to obtain a more-than-sufficient array of dominant color results for images.Example:Consider the following image:You can use the following code to extract image data relating to the dominant color:This is about "Color Quantization" that has several approachs like MMCQ (Modified Median Cut Quantization) or OQ (Octree Quantization). Different approach use K-Means to obtain clusters of colors.I have putted all together here, since I was finding a solution for tvOS where there is a subset of XHTML, that has no <canvas/> element:Generate the Dominant Colors for an RGB image with XMLHttpRequestAs pointed out in other answers, often what you really want the dominant color as opposed to the average color which tends to be brown. I wrote a script that gets the most common color and posted it on this gistThere is a online tool pickimagecolor.com that helps you to find the average or the dominant color of image.You just have to upload a image from your computer and then click on the image. It gives the average color in HEX , RGB and HSV. It also find the color shades matching that color to choose from. I have used it multiple times.Less accurate but fastest way to get average color of the image with datauri support:

$(document).click() not working correctly on iPhone. jquery [duplicate]

Garrows

[$(document).click() not working correctly on iPhone. jquery [duplicate]](https://stackoverflow.com/questions/3705937/document-click-not-working-correctly-on-iphone-jquery)

This function works perfectly on IE, Firefox and Chrome but when on the iPhone, it will only work when clicking on a <img>. Clicking on the page (anywhere but on a img) wont fire the event. The HTML part is extremely basic and shouldnt be a problem. Any ideas?

2010-09-14 03:33:11Z

This function works perfectly on IE, Firefox and Chrome but when on the iPhone, it will only work when clicking on a <img>. Clicking on the page (anywhere but on a img) wont fire the event. The HTML part is extremely basic and shouldnt be a problem. Any ideas?Short answer:Longer answer:It's important to realize that if you're just using <a> tags everything will work as expected. You can click or drag by mistake on a regular <a> link on an iPhone and everything behaves as the user would expect.I imagine that you have arbitrary HTML that is not clickable - such as a panel containing text and images that cannot be wrapped with <a>. I found out about this problem when I had such a panel that I wanted to be entirely clickable.To detect a click anywhere within this div I am using jQuery with a data-href html attribute which is shown above (this attribute is invented by myself and is not a standard jQuery or HTML data attribute.)This will work on your desktop browser but not iPad no matter how much you click.You may be tempted to change your event handler from click to click touchstart - and this indeed does trigger the event handler. However if the user wants to drag the page up (to scroll) they'll trigger it too - which is a terrible user experience. [you may have noticed this behavior by sneaky banner ads]The answer is incredibly simple: Just set the css cursor: pointer. This had the added benefit for desktop users to indicate the area is clickable with a hand icon.Thanks to https://stackoverflow.com/a/4910962/16940Change this:To thisMaybe this solution don't fit on your work and like described on the replies this is not the best solution to apply. Please, check another fixes from another users.Adding in the following code works.The problem is iPhones dont raise click events. They raise "touch" events. Thanks very much apple. Why couldn't they just keep it standard like everyone else? Anyway thanks Nico for the tip.Credit to: http://ross.posterous.com/2008/08/19/iphone-touch-events-in-javascript try this, applies only to iPhone and iPod so you're not making everything turn blue on chrome or firefox mobile;basically, on iOS, things aren't "clickable" by default -- they're "touchable" (pfffff) so you make them "clickable" by giving them a pointer cursor. makes total sense, right??CSS Cursor:Pointer; is a great solution. FastClick https://github.com/ftlabs/fastclick is another solution which doesn't require you to change css if you didn't want Cursor:Pointer; on an element for some reason. I use fastclick now anyway to eliminate the 300ms delay on iOS devices.On mobile iOS the click event does not bubble to the document body and thus cannot be used with .live() events.  If you have to use a non native click-able element like a div or section is to use cursor: pointer; in your css for the non-hover on the element in question. If that is ugly you could look into delegate().Use jQTouch instead - its jQuery's mobile versionInclude this to your project. Check the "Readme" on github. 

https://github.com/tomasz-swirski/iOS9-Safari-Click-Fix

How to check all checkboxes using jQuery?

Ivan

[How to check all checkboxes using jQuery?](https://stackoverflow.com/questions/18537609/how-to-check-all-checkboxes-using-jquery)

I am not expert with jQuery but I have tried to create a little script for my application. I want to check all checkboxes but it isn't working correctly.First I tried to use attr and after that I tried with prop but I'm doing something wrong.I tried this first:But this didn't work.Next: This worked better than above codeBoth examples don't work.JSFiddle: http://jsfiddle.net/hhZfu/4/

2013-08-30 16:31:29Z

I am not expert with jQuery but I have tried to create a little script for my application. I want to check all checkboxes but it isn't working correctly.First I tried to use attr and after that I tried with prop but I'm doing something wrong.I tried this first:But this didn't work.Next: This worked better than above codeBoth examples don't work.JSFiddle: http://jsfiddle.net/hhZfu/4/You need to use .prop() to set the checked propertyDemo: FiddleSimply use the checked property of the checkAll and use use prop() instead of attr for checked propertyLive DemoUse prop() instead of attr() for properties like checkedYou have same id for checkboxes and its should be unique. You better use some class with the dependent checkboxes so that it does not include the checkboxes you do not want. As  $('input:checkbox') will select all checkboxes on the page. If your page is extended with new checkboxes then they will also get selected/un-selected. Which might not be the intended behaviour.Live DemoA complete solution is here.Html should be :Single check box on checked three checkbox will be select and deselect.Hope this helps to someone as it did for me.JS Fiddle https://jsfiddle.net/52uny55w/Why don't you try this (in the 2nd line where 'form#' you need to put the proper selector of your html form):Your html should be like this:I hope that helps.I think when user select all checkbox manually then checkall should be checked automatically or user unchecked one of them from all selected checkbox then checkall should be unchecked automically.

here is my code..

HTML:jQuery:Demo:

FIDDLESimplest way I know:$('input[type="checkbox"]').prop("checked", true);For people still looking for plugin to control checkboxes through one that's lightweight, has out-of-the-box support for UniformJS and iCheck and gets unchecked when at least one of controlled checkboxes is unchecked (and gets checked when all controlled checkboxes are checked of course) I've created a jQuery checkAll plugin.Feel free to check the examples on documentation page.For this question example all you need to do is:Isn't that clear and simple?You can run .prop() on the results of a jQuery Selector directly even if it returns more than one result. So:$("input[type='checkbox']").prop('checked', true)Usually you also want the master checkbox to be unchecked if at least 1 slave checkbox is unchecked and to be ckecked if all slave checkboxes are checked:And if you want to enable any control (e.g. Remove All button or a Add Something button), when at least one checkbox is checked and disable when no checkbox is checked:HTMLjQuery CodeView DemoClick here to View Demouse .prop() to get the value of a propertyi know there are lot of answer posted here but i would like to post this for optimization of code and we can use it globally.i tried my bestI hope this will help!And jquerycheckall is the id of allcheck box and cb-child is the name of each checkboxes that will be checked and unchecked depend on checkall click event*JAVA SCRIPT TO SELECT ALL CHECK BOX *Best Solution.. Try itYou Can use below Simple Code:Example for Using:please change the above line to in SSR's answer and its working perfect Thank youhtml :javascript:Trigger ClickOROR

Chrome, Javascript, window.open in new tab

Andrew

[Chrome, Javascript, window.open in new tab](https://stackoverflow.com/questions/15818892/chrome-javascript-window-open-in-new-tab)

In chrome this opens in a new tab:this opens in a new window (but I'd like this to open in a new tab as well:Is this feasible?

2013-04-04 18:28:15Z

In chrome this opens in a new tab:this opens in a new window (but I'd like this to open in a new tab as well:Is this feasible?You can't directly control this, because it's an option controlled by Internet Explorer users.Opening pages using Window.open with a different window name will open in a new browser window like a popup, OR open in a new tab, if the user configured the browser to do so.EDIT:A more detailed explanation:1. In modern browsers, window.open will open in a new tab rather than a popup.2. You can force a browser to use a new window (‘popup’) by specifying options in the 3rd parameter3. If the window.open call was not part of a user-initiated event, it’ll open in a new window.4. A「user initiated event」does not have to the same function call – but it must originate in the function invoked by a user click5. If a user initiated event delegates or defers a function call (in an event listener or delegate not bound to the click event, or by using setTimeout for example), it loses it’s status as「user initiated」6. Some popup blockers will allow windows opened from user initiated events, but not those opened otherwise.7. If any popup is blocked, those normally allowed by a blocker (via user initiated events) will sometimes also be blocked.

Some examples…Forcing a window to open in a new browser instance, instead of a new tab:The following would qualify as a user-initiated event, even though it calls another function:The following would not qualify as a user-initiated event, since the setTimeout defers it:It is sometimes useful to force the use of a tab, if the user likes that. As Prakash stated above, this is sometimes dictated by the use of a non-user-initiated event, but there are ways around that. For example:will always open "newurl" in a new browser window since the "always" function is not considered user-initiated. However, if we do this:we open the new browser window or create the new tab, as determined by the user preference in the button click which IS user-initiated. Then we just set the location to the desired URL after returning from the AJAX post. Voila, we force the use of a tab if the user likes that.if you use window.open(url, '_blank') , it will be blocked(popup blocker) on Chrome,Firefox etctry this,working js fiddle for this http://jsfiddle.net/safeeronline/70kdacL4/2/working js fiddle for ajax window open http://jsfiddle.net/safeeronline/70kdacL4/1/At the moment (Chrome 39) I use this code to open a new tab:Of course this may change in future versions of Chrome.It is a bad idea to use this if you can't control the browser your users are using. It may not work in future versions or with different settings.This will open the link in a new tab in Chrome and Firefox, and possibly more browsers I haven't tested:It basically opens a new empty tab, and then sets the location of that empty tab. Beware that it is a sort of a hack, since browser tab/window behavior is really the domain, responsibility and choice of the Browser and the User.The second line can be called in a callback (after you've done some AJAX request for example), but then the browser would not recognize it as a user-initiated click-event, and may block the popup.Clear mini-solution $('<form action="http://samedomainurl.com/" target="_blank"></form>').submit()You can use this code to open in new tab..I got it from stackoverflow..Best way i use:1- add link to your html:2- add JS function:3- just call OpenNewTab function with the link you want

What is the difference between string primitives and String objects in JavaScript?

The Alpha

[What is the difference between string primitives and String objects in JavaScript?](https://stackoverflow.com/questions/17256182/what-is-the-difference-between-string-primitives-and-string-objects-in-javascrip)

Taken from MDNSo, I thought (logically) operations (method calls) on string primitives should be slower than operations on string Objects because any string primitive is converted to string Object (extra work) before the method being applied on the string.But in this test case, the result is opposite. The code block-1 runs faster than the code block-2, both code blocks are given below:code block-1 :code block-2 :The results varies in browsers but the code block-1 is always faster. Can anyone please explain this, why the code block-1 is faster than code block-2.

2013-06-22 23:08:33Z

Taken from MDNSo, I thought (logically) operations (method calls) on string primitives should be slower than operations on string Objects because any string primitive is converted to string Object (extra work) before the method being applied on the string.But in this test case, the result is opposite. The code block-1 runs faster than the code block-2, both code blocks are given below:code block-1 :code block-2 :The results varies in browsers but the code block-1 is always faster. Can anyone please explain this, why the code block-1 is faster than code block-2.JavaScript has two main type categories, primivites and objects.The single quote/double quote patterns are identical in terms of functionality. That aside, the behaviour you are trying to name is called auto-boxing. So what actually happens is that a primitive is converted to its wrapper type when a method of the wrapper type is invoked. Put simple:Is a primitive data type. It has no methods, it is nothing more than a pointer to a raw data memory reference, which explains the much faster random access speed.So what happens when you do s.charAt(i) for instance?Since s is not an instance of String, JavaScript will auto-box s, which has typeof string to its wrapper type, String, with typeof object or more precisely s.valueOf(s).prototype.toString.call = [object String]. The auto-boxing behaviour casts s back and forth to its wrapper type as needed, but the standard operations are incredibly fast since you are dealing with a simpler data type. However auto-boxing and Object.prototype.valueOf have different effects.If you want to force the auto-boxing or to cast a primitive to its wrapper type, you can use Object.prototype.valueOf, but the behaviour is different. Based on a wide variety of test scenarios auto-boxing only applies the 'required' methods, without altering the primitive nature of the variable. Which is why you get better speed.This is rather implementation-dependent, but I'll take a shot. I'll exemplify with V8 but I assume other engines use similar approaches.A string primitive is parsed to a v8::String object. Hence, methods can be invoked directly on it as mentioned by jfriend00.A String object, in the other hand, is parsed to a v8::StringObject which extends Object and, apart from being a full fledged object, serves as a wrapper for v8::String.Now it is only logical, a call to new String('').method() has to unbox this v8::StringObject's v8::String before executing the method, hence it is slower.In many other languages, primitive values do not have methods.The way MDN puts it seems to be the simplest way to explain how primitives' auto-boxing works (as also mentioned in flav's answer), that is, how JavaScript's primitive-y values can invoke methods.However, a smart engine will not convert a string primitive-y to String object every time you need to call a method. This is also informatively mentioned in the Annotated ES5 spec. with regard to resolving properties (and "methods"¹) of primitive values:At very low level, Strings are most often implemented as immutable scalar values. Example wrapper structure:The more far you're from the primitive, the longer it will take to get to it. In practice, String primitives are much more frequent than StringObjects, hence it is not a surprise for engines to add methods to the String primitives' corresponding (interpreted) objects' Class instead of converting back and forth between String and StringObject as MDN's explanation suggests.¹ In JavaScript, "method" is just a naming convention for a property which resolves to a value of type function.In case of string literal we cannot assign properties Whereas in case of String Object we can assign propertiesString Literal:String literals are immutable, which means, once they are created, their state can't be changed, which also makes them thread safe.a==b result will be 'true' both string refer's same object.String Object:Here, two different objects are created, and they have different references:a==b result will be false, because they have different references. If you use new, you're explicitly stating that you want to create an instance of an Object. Therefore, new String is producing an Object wrapping the String primitive, which means any action on it involves an extra layer of work.As they are of different types, your JavaScript interpreter may also optimise them differently, as mentioned in comments.When you declare:you create a string primitive.  That string primitive has methods that let you call methods on it without converting the primitive to a first class object.  So your supposition that this would be slower because the string has to be converted to an object is not correct.  It does not have to be converted to an object.  The primitive itself can invoke the methods.Converting it to an full-blown object (which allows you to add new properties to it) is an extra step and does not make the string oeprations faster (in fact your test shows that it makes them slower).The existence of an object has little to do with the actual behaviour of a String in ECMAScript/JavaScript engines as the root scope will simply contain function objects for this. So the charAt(int) function in case of a string literal will be searched and executed.With a real object you add one more layer where the charAt(int) method also are searched on the object itself before the standard behaviour kicks in (same as above). Apparently there is a surprisingly large amount of work done in this case.BTW I don't think that primitives are actually converted into Objects but the script engine will simply mark this variable as string type and therefore it can find all provided functions for it so it looks like you invoke an object. Don't forget this is a script runtime which works on different principles than an OO runtime.I can see that this question has been resolved long ago, there is another subtle distinction between string literals and string objects, as nobody seems to have touched on it, I thought I'd just write it for completeness.Basically another distinction between the two is when using eval. eval('1 + 1') gives 2, whereas eval(new String('1 + 1')) gives '1 + 1', so if certain block of code can be executed both 'normally' or with eval, it could lead to weird resultsThe biggest difference between a string primitive and a string object is that objects must follow this rule for the == operator:So, whereas string primitives have a convenient == that compares the value, you're out of luck when it comes to making any other immutable object type (including a string object) behave like a value type.(Others have noted that a string object is technically mutable because you can add properties to it. But it's not clear what that's useful for; the string value itself is not mutable.)

How to use Redirect in the new react-router-dom of Reactjs

maoooricio

[How to use Redirect in the new react-router-dom of Reactjs](https://stackoverflow.com/questions/43230194/how-to-use-redirect-in-the-new-react-router-dom-of-reactjs)

I am using the last version react-router module, named react-router-dom, that has become the default when developing web applications with React. I want to know how to make a redirection after a POST request. I have been making this code, but after the request, nothing happens. I review on the web, but all the data is about previous versions of the react router, and no with the last update.Code:

2017-04-05 11:42:11Z

I am using the last version react-router module, named react-router-dom, that has become the default when developing web applications with React. I want to know how to make a redirection after a POST request. I have been making this code, but after the request, nothing happens. I review on the web, but all the data is about previous versions of the react router, and no with the last update.Code:You have to use setState to set a property that will render the <Redirect> inside your render() method.E.g.You can also see an example in the official documentation: https://reacttraining.com/react-router/web/example/auth-workflowThat said, I would suggest you to put the API call inside a service or something. Then you could just use the history object to route programatically. This is how the integration with redux works.But I guess you have your reasons to do it this way.Here a small example as response to the title as all mentioned examples are complicated in my opinion as well as the official one.You should know how to transpile es2015 as well as make your server able to handle the redirect. Here is a snippet for express. More info related to this can be found here.Make sure to put this below all other routes.This is the .jsx file. Notice how the longest path comes first and get's more general. For the most general routes use the exact attribute.Simply call it inside any function you like. Try something like this. React Router v5 now allows you to simply redirect using history.push() thanks to the useHistory() hook:Alternatively, you can use withRouter. You can get access to the history object's properties and the closest <Route>'s match via the withRouter higher-order component. withRouter will pass updated match, location, and history props to the wrapped component whenever it renders.Or just:To navigate to another component you can use this.props.history.push('/main');you can write a hoc for this purpose and write a method call redirect, here is the code: For navigate to another page (About page in my case), I installed prop-types. Then I import it in the corresponding component.And I used this.context.router.history.push('/about').And it gets navigated.My code is,The simplest solution to navigate to another component is( Example

 navigates to mails component by click on icon):Alternatively, you can use React conditional rendering.

How does setTimeout work in Node.JS?

MyCodeGone

[How does setTimeout work in Node.JS?](https://stackoverflow.com/questions/5849106/how-does-settimeout-work-in-node-js)

I guess that once it's executed it's on the queue, but in the queue is there any assurance it will invoke exactly after X milliseconds? Or will other heavy tasks higher on the queue delay it?

2011-05-01 14:54:11Z

I guess that once it's executed it's on the queue, but in the queue is there any assurance it will invoke exactly after X milliseconds? Or will other heavy tasks higher on the queue delay it?The semantics of setTimeout are roughly the same as in a web browser: the timeout arg is a minimum number of ms to wait before executing, not a guarantee.  Furthermore, passing 0, a non-number, or a negative number, will cause it to wait a minimum number of ms.  In Node, this is 1ms, but in browsers it can be as much as 50ms.The reason for this is that there is no preemption of JavaScript by JavaScript.  Consider this example:The flow here is:If this was not the case, then you could have one bit of JavaScript "interrupt" another.  We'd have to set up mutexes and semaphors and such, to prevent code like this from being extremely hard to reason about:The single-threadedness of Node's JavaScript execution makes it much simpler to work with than most other styles of concurrency.  Of course, the trade-off is that it's possible for a badly-behaved part of the program to block the whole thing with an infinite loop.Is this a better demon to battle than the complexity of preemption?  That depends.The idea of non-blocking is that the loop iterations are quick. So to iterate for each tick should take short enough a time that the setTimeout will be accurate to within reasonable precision (off by maybe <100 ms or so).In theory though you're right. If I write an application and block the tick, then setTimeouts will be delayed. So to answer you're question, who can assure setTimeouts execute on time? You, by writing non-blocking code, can control the degree of accuracy up to almost any reasonable degree of accuracy.As long as javascript is "single-threaded" in terms of code execution (excluding web-workers and the like), that will always happen. The single-threaded nature is a huge simplification in most cases, but requires the non-blocking idiom to be successful.Try this code out either in your browser or in node, and you'll see that there is no guarantee of accuracy, on the contrary, the setTimeout will be very late:Unless the interpreter optimises the loop away (which it doesn't on chrome), you'll get something in the thousands. Remove the loop and you'll see it's 500 on the nose...The only way to ensure code is executed is to place your setTimeout logic in a different process.Use the child process module to spawn a new node.js program that does your logic and pass data to that process through some kind of a stream (maybe tcp).This way even if some long blocking code is running in your main process your child process has already started itself and placed a setTimeout in a new process and a new thread and will thus run when you expect it to.Further complication are at a hardware level where you have more threads running then processes and thus context switching will cause (very minor) delays from your expected timing. This should be neglible and if it matters you need to seriously consider what your trying to do, why you need such accuracy and what kind of real time alternative hardware is available to do the job instead.In general using child processes and running multiple node applications as separate processes together with a load balancer or shared data storage (like redis) is important for scaling your code. setTimeout is a kind of Thread, it holds a operation for a given time and execute.in here the first argument should be a function type; as an example if you want to print your name after 3 seconds, your code should be something like below.Key point to remember is, what ever you want to do by using the setTimeout method, do it inside a function. If you want to call some other method by parsing some parameters, your code should look like below:setTimeout(callback,t) is used to run callback after at least t millisecond. The actual delay depends on many external factors like OS timer granularity and system load.So, there is a possibility that it will be called slightly after the set time, but will never be called before.

Simplest way to check if key exists in object using CoffeeScript

ajsie

[Simplest way to check if key exists in object using CoffeeScript](https://stackoverflow.com/questions/8242984/simplest-way-to-check-if-key-exists-in-object-using-coffeescript)

In CoffeeScript, what is the simplest way to check if a key exists in an object?

2011-11-23 13:29:10Z

In CoffeeScript, what is the simplest way to check if a key exists in an object?This compiles to JavaScript's key in obj. (CoffeeScript uses of when referring to keys, and in when referring to array values: val in arr will test whether val is in arr.)thejh's answer is correct if you want to ignore the object's prototype. Jimmy's answer is correct if you want to ignore keys with a null or undefined value.The '?' operator checks for existence:(to ignore inherited properties)

Call two functions from same onclick [duplicate]

user182

[Call two functions from same onclick [duplicate]](https://stackoverflow.com/questions/16025138/call-two-functions-from-same-onclick)

HTML & JSHow do I call 2 functions from one onclick event? 

Here's my codethe two functions being pay() and cls(). 

Thanks!     

2013-04-15 21:38:48Z

HTML & JSHow do I call 2 functions from one onclick event? 

Here's my codethe two functions being pay() and cls(). 

Thanks!     Add semi-colons ; to the end of the function calls in order for them both to work.I don't believe the last one is required but hey, might as well add it in for good measure.Here is a good reference from SitePoint http://reference.sitepoint.com/html/event-attributes/onclickYou can create a single function that calls both of those, and then use it in the event.And then, for the button:You can call the functions from inside another functionWith jQuery : Binding events from html is NOT recommended. This is recommended way:Just to offer some variety, the comma operator can be used too but some might say "noooooo!", but it works:http://jsbin.com/oqizir/1/edithowever, if you're using a return statement in "pay" function the execution will stop and "cls" won't execute,a workaround to this:put a semicolon between the two functions as statement terminator.Try this

react-router go back a page how do you configure history?

Bomber

[react-router go back a page how do you configure history?](https://stackoverflow.com/questions/30915173/react-router-go-back-a-page-how-do-you-configure-history)

Can anyone please tell me how I can go back to the previous page rather than a specific route?When using this code:Get this error, goBack() was ignored because there is no router historyHere are my routes:

2015-06-18 12:19:30Z

Can anyone please tell me how I can go back to the previous page rather than a specific route?When using this code:Get this error, goBack() was ignored because there is no router historyHere are my routes:I think you just need to enable BrowserHistory on your router by intializing it like that : <Router history={new BrowserHistory}>.Before that, you should require BrowserHistory from 'react-router/lib/BrowserHistory'I hope that helps !UPDATE : example in ES6Created a fiddle with a little bit more complex example with an embedded iframe: https://jsfiddle.net/kwg1da3a/You can do this:You need to be careful that you have the necessary history to go back. If you hit the page directly and then hit back it will take you back in the browser history before your app.This solution will take care of both scenarios. It will, however, not handle an iframe that can navigate within the page (and add to the browser history), with the back button. Frankly, I think that is a bug in the react-router. Issue created here: https://github.com/rackt/react-router/issues/1874Tested on react-router-dom v4.3No navigation mixin required!ES6 method without mixins using react-router, stateless function.Use withRouter and history.goBack()This is the idea I am implementing...History.jsPageOne.jsp.s. sorry the code is to big to post it all hereThis is a working BackButton component (React 0.14):You can off course do something like this if there is no history:For react-router v2.x this has changed. Here's what I'm doing for ES6:This works with Browser and Hash history.Using React Hooks Import:In stateless component: On EventIn react-router v4.x you can use history.goBack which is equivalent to history.go(-1).App.jsBack.jsDemo:

https://codesandbox.io/s/ywmvp95wpjPlease remember that by using history your users can leave because history.goBack() can load a page that visitor has visited before opening your application.To prevent such situation as described above, I've created a simple library react-router-last-location that watch your users last location.Usage is very straight forward.

First you need to install react-router-dom and react-router-last-location from npm.Then use LastLocationProvider as below:App.jsBack.jsDemo: https://codesandbox.io/s/727nqm99jjWhat worked for me was to import withRouter at the top of my file;Then use it to wrap the exported function at the bottom of my file;Which then allowed me to access the Router's history prop. Full sample code below!I am using these versions Call the following component like so:And here is the component:I'm using:You can also use react-router-redux which has goBack() and push().Here is a sampler pack for that:In your app's entry point, you need ConnectedRouter, and a sometimes tricky connection to hook up is the history object. The Redux middleware listens to history changes:I will show you a way to hook up the history. Notice how the history is imported into the store and also exported as a singleton so it can be used in the app's entry point:The above example block shows how to load the react-router-redux middleware helpers which complete the setup process.I think this next part is completely extra, but I will include it just in case someone in the future finds benefit:I use routerReducer all the time because it allows me to force reload Components that normally do not due to shouldComponentUpdate. The obvious example is when you have a Nav Bar that is supposed to update when a user presses a NavLink button. If you go down that road, you will learn that Redux's connect method uses shouldComponentUpdate. With routerReducer, you can use mapStateToProps to map routing changes into the Nav Bar, and this will trigger it to update when the history object changes.Like this:Forgive me while I add some extra keywords for people: if your component isn't updating properly, investigate shouldComponentUpdate by removing the connect function and see if it fixes the problem. If so, pull in the routerReducer and the component will update properly when the URL changes.In closing, after doing all that, you can call goBack() or push() anytime you want!Try it now in some random component:If you need more sampling, check out: https://www.npmjs.com/package/react-router-reduxSimply use like thisThis piece of code will do the trick for you.    The only solution that worked for me was the most simple. No additional imports needed.Tks, IamMHussain

Is this the correct way to delete an item using redux?

CWright

[Is this the correct way to delete an item using redux?](https://stackoverflow.com/questions/34582678/is-this-the-correct-way-to-delete-an-item-using-redux)

